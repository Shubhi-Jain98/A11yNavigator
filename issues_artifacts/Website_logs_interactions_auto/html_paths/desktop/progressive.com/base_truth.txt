function highlightElementsByXPaths(xpaths, borderStyle = "3px solid green", scrollToFirst = true) {
  let foundCount = 0;
  let firstFoundElement = null;
  
  // Process each XPath in the list
  xpaths.forEach((xpath, index) => {
    try {
      const element = document.evaluate(
        xpath,
        document,
        null,
        XPathResult.FIRST_ORDERED_NODE_TYPE,
        null
      ).singleNodeValue;
      
      if (element) {
        // Highlight the element
        element.style.border = borderStyle;
        
        // Save the first found element for scrolling later
        if (foundCount === 0) {
          firstFoundElement = element;
        }
        
        console.log(`Element #${index + 1} found and highlighted:`, element);
        foundCount++;
      } else {
        console.log(`No element found for XPath #${index + 1}: ${xpath}`);
      }
    } catch (error) {
      console.error(`Error processing XPath #${index + 1}: ${xpath}`, error);
    }
  });
  
  // Scroll to the first found element if requested and any were found
  if (scrollToFirst && firstFoundElement) {
    firstFoundElement.scrollIntoView({ behavior: "smooth", block: "center" });
  }
  
  console.log(`Total elements highlighted: ${foundCount} out of ${xpaths.length}`);
  return foundCount;
}

// Example usage:
const xpathList = [
    "/html/body/div/div/header/nav/a[2]",
    "/html/body/div/div/header/nav/ul/li/a",
    "/html/body/div/div/header/nav/ul/li[2]/a",
    "/html/body/div/div/header/nav/ul/li[3]/a",
    "/html/body/div/div/header/nav/ul/li[4]/a",
    "/html/body/div/div/header/nav/ul[2]/li/a",
    "/html/body/div/div/header/nav/ul[2]/li[2]/a",
    "/html/body/div/div/header/nav/ul[2]/li[3]/a",
    "/html/body/div/main/div/div/div[2]/div/div/p/sup/a",
    "/html/body/div/main/div/div/div[2]/div/div/div/form/div/input",
    "/html/body/div/main/div/div/div[2]/div/div/div/form/div[2]/input",
    "/html/body/div/main/div/div/div[2]/div/div/p[2]/a",
    "/html/body/div/main/div/div/div[2]/div/div[2]/ul/li/a",
    "/html/body/div/main/div/div/div[2]/div/div[2]/ul/li[2]/a",
    "/html/body/div/main/div/div/div[2]/div/div[2]/ul/li[3]/a",
    "/html/body/div/main/div/div/div[2]/div/div[2]/ul/li[4]/a",
    "/html/body/div/main/div/div/div[2]/div[2]/div/ul/li/a",
    "/html/body/div/main/div/div/div[2]/div[2]/div/ul/li[2]/a",
    "/html/body/div/main/div[2]/p/a",
    "/html/body/div/main/div[3]/ul/li/div/p/sup/a",
    "/html/body/div/main/div[5]/div/div[2]/ul/li/h3/a",
    "/html/body/div/main/div[5]/div/div[2]/ul/li[2]/h3/a",
    "/html/body/div/main/div[5]/div/div[2]/ul/li[3]/h3/a",
    "/html/body/div/main/div[5]/div/div[2]/ul/li[4]/h3/a",
    "/html/body/div/main/div[5]/div/div[2]/ul/li[5]/h3/a",
    "/html/body/div/main/div[5]/div/div[2]/div/a",
    "/html/body/div/main/div[7]/ul/li/a",
    "/html/body/div/main/div[7]/ul/li[2]/a",
    "/html/body/div/main/div[7]/ul/li[3]/a",
    "/html/body/div/main/div[7]/ul/li[4]/a",
    "/html/body/div/footer/div/div/div/ul/li/div/div/ul/li/a",
    "/html/body/div/footer/div/div/div/ul/li/div/div/ul/li[2]/a",
    "/html/body/div/footer/div/div/div/ul/li/div/div/ul/li[3]/a",
    "/html/body/div/footer/div/div/div/ul/li/div/div/ul/li[4]/a",
    "/html/body/div/footer/div/div/div/ul/li[2]/div/div/ul/li/a",
    "/html/body/div/footer/div/div/div/ul/li[2]/div/div/ul/li[2]/a",
    "/html/body/div/footer/div/div/div/ul/li[2]/div/div/ul/li[3]/a",
    "/html/body/div/footer/div/div/div/ul/li[2]/div/div/ul/li[4]/a",
    "/html/body/div/footer/div/div/div/ul/li[3]/div/div/ul/li/a",
    "/html/body/div/footer/div/div/div/ul/li[3]/div/div/ul/li[2]/a",
    "/html/body/div/footer/div/div/div/ul/li[3]/div/div/ul/li[3]/a",
    "/html/body/div/footer/div/div/div/ul/li[3]/div/div/ul/li[4]/a",
    "/html/body/div/footer/div/div/div/ul/li[4]/div/div/ul/li/a",
    "/html/body/div/footer/div/div/div/ul/li[4]/div/div/ul/li[2]/a",
    "/html/body/div/footer/div/div/div/ul/li[4]/div/div/ul/li[3]/a",
    "/html/body/div/footer/div/div/div/ul/li[4]/div/div/ul/li[4]/a",
    "/html/body/div/footer/div/div/div/div/div/form/div/input",
    "/html/body/div/footer/div/div/div/div/div/form/div[2]/input",
    "/html/body/div/footer/div/div/div/div/ul/li/a",
    "/html/body/div/footer/div/div/div/div/ul/li[2]/a",
    "/html/body/div/footer/div/div/div/div/ul/li[3]/a",
    "/html/body/div/footer/div/div/div/div/ul/li[4]/a",
    "/html/body/div/footer/div/div/div/div/ul/li[5]/a",
    "/html/body/div/footer/div/div/div/div/ul/li[6]/a",
    "/html/body/div/footer/div/div/div/ul[2]/li/a",
    "/html/body/div/footer/div/div/div/ul[2]/li[2]/a",
    "/html/body/div/footer/div/div/div/ul[2]/li[3]/a",
    "/html/body/div/footer/div/div/div/ul[2]/li[4]/a",
    "/html/body/div/footer/div/div/div/ul[2]/li[5]/a",
    "/html/body/div/footer/div/div/div/ul[2]/li[6]/a",
    "/html/body/div/footer/div/div/div/ul[2]/li[7]/a",
    "/html/body/div/footer/div/div/div/ul[2]/li[8]/a",
    "/html/body/div/footer/div/div/div/ul[2]/li[9]/a",
    "/html/body/div/footer/div/div/div/div[3]/p/a",
    "/html/body/div/footer/div/div/div/div[3]/p[11]/a",
    "/html/body/div/footer/div/div/div/div[3]/p[13]/a",
    "/html/body/div/footer/div/div/div/div[3]/p[13]/a[2]",
    "/html/body/div/footer/div/div/div/div[3]/p[14]/a",
    "/html/body/div/footer/div/div/div/div[3]/p[14]/a[2]",
    "/html/body/div/div/header/div/a",
    "/html/body/div/div/header/nav/a",
    "/html/body/div/div[2]/div/div/div/div/div[2]/a",
    "/html/body/div/div[2]/div/div/div/div/a",
    "/html/body/div/div[2]/div/div/div/div/a[2]",
    "/html/body/div/div[2]/div/div/div[2]/div/div/div/div/p/sup/a",
    "/html/body/div/div[2]/div/div/div[2]/div/div/div/div/ul/li/button",
    "/html/body/div/div[2]/div/div/div[2]/div/div/div/div/ul/li[2]/button",
    "/html/body/div/div[2]/div/div/div[2]/div/div/div/div/ul/li[3]/button",
    "/html/body/div/div[2]/div/div/div[2]/div/div/div/div/ul/li[4]/button",
    "/html/body/div/div[2]/div/div/div[2]/div/div/div/div[2]/ul/li/button",
    "/html/body/div/div[2]/div/div/div[2]/div/div/div/div[2]/ul/li[2]/button",
    "/html/body/div/div[2]/div/div/div[2]/div/div/div/div[2]/ul/li[3]/button",
    "/html/body/div/div[2]/div/div/div[2]/div/div/div/div[2]/ul/li[4]/button",
    "/html/body/div/div[2]/div/div/div[2]/div/div/div/div[2]/ul/li[5]/button",
    "/html/body/div/div[2]/div/div/div[2]/div/div/div/div[2]/ul/li[6]/button",
    "/html/body/div/div[2]/div/div/div[2]/div/div/div/div[2]/ul/li[7]/button",
    "/html/body/div/div[2]/div/div/div[2]/div/div/div/div[2]/ul/li[8]/button",
    "/html/body/div/div[2]/div/div/div[2]/div/div/div/div[2]/ul/li[9]/button",
    "/html/body/div/div[2]/div/div/div[2]/div/div/div/div[2]/ul/li[10]/button",
    "/html/body/div/div[2]/div/div/div[2]/div/div/div/div[2]/ul/li[11]/button",
    "/html/body/div/div[2]/div/div/div[2]/div/div/div/div[2]/ul/li[12]/button",
    "/html/body/div/div[2]/div/div/div[2]/div/div/div/div[2]/ul/li[13]/button",
    "/html/body/div/div[2]/div/div/div[2]/div/div/div/div[2]/ul/li[14]/button",
    "/html/body/div/div[2]/div/div/div[2]/div/div/div/div[2]/ul/li[15]/button",
    "/html/body/div/div[2]/div/div/div[2]/div/div/div/div[2]/ul/li[16]/button",
    "/html/body/div/div[2]/div/div/div[2]/div/div/div/div[2]/ul/li[17]/button",
    "/html/body/div/div[2]/div/div/div[2]/div/div/div/div[2]/ul/li[18]/button",
    "/html/body/div/div[2]/div/div/div[2]/div/div/div/div[2]/ul/li[19]/button",
    "/html/body/div/div[2]/div/div/div[2]/div/div/div/div[2]/ul/li[20]/button",
    "/html/body/div/div[2]/div/div/div[2]/div/div/div/div[2]/ul/li[21]/button",
    "/html/body/div/div[2]/div/div/div[2]/div/div/div/div[2]/ul/li[22]/button",
    "/html/body/div/div[2]/div/div/div[2]/div/div/div/div[2]/ul/li[23]/button",
    "/html/body/div/div[2]/div/div/div[2]/div/div/div/div[2]/ul/li[24]/button",
    "/html/body/div/div[2]/div/div/div[2]/div/div/div/div[2]/ul/li[25]/button",
    "/html/body/div/div[2]/div/div/div[2]/div/div/div/div[2]/ul/li[26]/button",
    "/html/body/div/div[2]/div/div/div[2]/div/div/div/div[2]/ul/li[27]/button",
    "/html/body/div/div[2]/div/div/div[2]/div/div/div/div[2]/ul/li[28]/button",
    "/html/body/div/div[2]/div/div/div[2]/div/div/div/div[2]/ul/li[29]/button",
    "/html/body/div/div[2]/div/div/div[2]/div/div/div/div[2]/ul/li[30]/button",
    "/html/body/div/div[2]/div/div/div[2]/div/div/div/div[2]/ul/li[31]/button",
    "/html/body/div/div[2]/div/div/div[2]/div/div/div/div[2]/ul/li[32]/button",
    "/html/body/div/div[2]/div/div/div[2]/div/div/div/div[2]/ul/li[33]/button",
    "/html/body/div/div[2]/div/div/div[2]/div/div/div/div[2]/ul/li[34]/button",
    "/html/body/div/div[2]/div/div/div[2]/div/div/div/div[2]/ul/li[35]/button",
    "/html/body/div/div[2]/div/div/div[2]/div/div/div/div[2]/ul/li[36]/button",
    "/html/body/div/div[2]/div/div/div[2]/div/div/div/div[2]/ul/li[37]/button",
    "/html/body/div/div[2]/div/div/div[2]/div/div/div/div[2]/ul/li[38]/button",
    "/html/body/div/div[2]/div/div/div[2]/div/div/div/div[2]/ul/li[39]/button",
    "/html/body/div/div[2]/div/div/div[2]/div/div/div/div[2]/ul/li[40]/button",
    "/html/body/div/div[2]/div/div/a",
    "/html/body/div/div[2]/div/div/div[3]/div/div/h4/sup/a",
    "/html/body/div/div[2]/div/div/div[3]/div/div/a",
    "/html/body/div/div[2]/div/div/div[3]/div/div[2]/h4/sup/a",
    "/html/body/div/div[2]/div/div/div[3]/div/div[2]/p/sup/a",
    "/html/body/div/div[2]/div/div/div[3]/div/div[2]/a",
    "/html/body/div/div[2]/div/div/div[3]/div/div[3]/h4/sup/a",
    "/html/body/div/div[2]/div/div/div[3]/div/div[3]/a",
    "/html/body/div/div[2]/div/div/div[3]/div/div[4]/a",
    "/html/body/div/div[2]/div/div/div[3]/div/div[5]/a",
    "/html/body/div/div[2]/div/div/div[3]/div/div[6]/a",
    "/html/body/div/div[2]/div/div/div[3]/div/div[7]/a",
    "/html/body/div/div[2]/div/div/div[3]/div/div[8]/a",
    "/html/body/div/div[2]/div/div/div[3]/div/div[9]/a",
    "/html/body/div/div[2]/div/div/div[3]/div/div[10]/a",
    "/html/body/div/div[2]/div/div/div[3]/div/div[11]/h4/sup/a",
    "/html/body/div/div[2]/div/div/div[3]/div/div[11]/a",
    "/html/body/div/div[2]/div/div/div[3]/div/div[12]/a",
    "/html/body/div/div[2]/div/div/div[3]/div/div[13]/p[2]/sup/a",
    "/html/body/div/div[2]/div/div/div[3]/div/div[13]/a",
    "/html/body/div/div[2]/div/div/div[3]/div/div[14]/h4/sup/a",
    "/html/body/div/div[2]/div/div/div[3]/div/div[14]/a",
    "/html/body/div/div[2]/div/div/div[3]/div/div[15]/a",
    "/html/body/div/div[2]/div/div/div[3]/div/div[16]/h4/sup/a",
    "/html/body/div/div[2]/div/div/div[3]/div/div[16]/p/sup/a",
    "/html/body/div/div[2]/div/div/div[3]/div/div[16]/a",
    "/html/body/div/div[2]/div/div/div[3]/div/div[17]/h4/sup/a",
    "/html/body/div/div[2]/div/div/div[3]/div/div[17]/p/sup/a",
    "/html/body/div/div[2]/div/div/div[3]/div/div[17]/a",
    "/html/body/div/div[2]/div/div/div[3]/div/div[18]/h4/sup/a",
    "/html/body/div/div[2]/div/div/div[3]/div/div[18]/p/sup/a",
    "/html/body/div/div[2]/div/div/div[3]/div/div[18]/a",
    "/html/body/div/div[2]/div/div/div[3]/div/div[19]/h4/sup/a",
    "/html/body/div/div[2]/div/div/div[3]/div/div[19]/p/sup/a",
    "/html/body/div/div[2]/div/div/div[4]/a",
    "/html/body/div/div[2]/div/div/div[4]/a[2]",
    "/html/body/div/div[2]/div/div/div[5]/button",
    "/html/body/div/div[2]/div/a",
    "/html/body/div/div[3]/nav/div/div/div/ul/li/button",
    "/html/body/div/div[3]/nav/div/div/div/ul/li[2]/button",
    "/html/body/div/div[3]/nav/div/div/div/ul/li[3]/button",
    "/html/body/div/div[3]/nav/div/div/div/ul/li[4]/button",
    "/html/body/div/div[3]/nav/div/div/div/div/a",
    "/html/body/div/div[3]/nav/div/div/div[2]/div/div/div/ul/li/a",
    "/html/body/div/div[3]/nav/div/div/div[2]/div/div/div/ul/li[2]/a",
    "/html/body/div/div[3]/nav/div/div/div[2]/div/div/div/ul/li[3]/a",
    "/html/body/div/div[3]/nav/div/div/div[2]/div/div/div/ul/li[4]/a",
    "/html/body/div/div[3]/nav/div/div/div[2]/div/div/div/ul/li[5]/a",
    "/html/body/div/div[3]/nav/div/div/div[2]/div/div/div/ul/li[6]/a",
    "/html/body/div/div[3]/nav/div/div/div[2]/div/div/div/ul/li[7]/a",
    "/html/body/div/div[3]/nav/div/div/div[2]/div/div/div/ul/li[8]/a",
    "/html/body/div/div[3]/nav/div/div/div[2]/div/div/div/ul/li[9]/a",
    "/html/body/div/div[3]/nav/div/div/div[2]/div/div/div/ul/li[10]/a",
    "/html/body/div/div[3]/nav/div/div/div[2]/div/div/div/ul/li[11]/a",
    "/html/body/div/div[3]/nav/div/div/div[2]/div/div/div/ul/li[12]/a",
    "/html/body/div/div[3]/nav/div/div/div[2]/div/div/div[2]/ul/li/a",
    "/html/body/div/div[3]/nav/div/div/div[2]/div/div/div[2]/ul/li[2]/a",
    "/html/body/div/div[3]/nav/div/div/div[2]/div/div/div[2]/ul/li[3]/a",
    "/html/body/div/div[3]/nav/div/div/div[2]/div/div/div[2]/ul/li[4]/a",
    "/html/body/div/div[3]/nav/div/div/div[2]/div/div/div[2]/ul/li[5]/a",
    "/html/body/div/div[3]/nav/div/div/div[2]/div/div/div[2]/ul/li[6]/a",
    "/html/body/div/div[3]/nav/div/div/div[2]/div/div/div[2]/ul/li[7]/a",
    "/html/body/div/div[3]/nav/div/div/div[2]/div/div/div[2]/ul[2]/li/a",
    "/html/body/div/div[3]/nav/div/div/div[2]/div/div/div[3]/ul/li/a",
    "/html/body/div/div[3]/nav/div/div/div[2]/div/div/div[3]/ul/li[2]/a",
    "/html/body/div/div[3]/nav/div/div/div[2]/div/div/div[3]/ul/li[3]/a",
    "/html/body/div/div[3]/nav/div/div/div[2]/div/div/div[3]/ul/li[4]/a",
    "/html/body/div/div[3]/nav/div/div/div[2]/div/div/div[3]/ul/li[5]/a",
    "/html/body/div/div[3]/nav/div/div/div[2]/div/div/div[3]/ul[2]/li/a",
    "/html/body/div/div[3]/nav/div/div/div[2]/div/div/div[3]/ul[2]/li[2]/a",
    "/html/body/div/div[3]/nav/div/div/div[2]/div/div/div[3]/ul[2]/li[3]/a",
    "/html/body/div/div[3]/nav/div/div/div[2]/div/div/div[3]/ul[2]/li[4]/a",
    "/html/body/div/div[3]/nav/div/div/div[2]/div/div/div[3]/ul[2]/li[5]/a",
    "/html/body/div/div[3]/nav/div/div/div[2]/div/div/div[3]/ul[2]/li[6]/a",
    "/html/body/div/div[3]/nav/div/div/div[2]/div/div/div[4]/ul/li/a",
    "/html/body/div/div[3]/nav/div/div/div[2]/div/div/div[4]/ul/li[2]/a",
    "/html/body/div/div[3]/nav/div/div/div[2]/div/div/div[4]/ul/li[3]/a",
    "/html/body/div/div[3]/nav/div/div/div[2]/div/div/div[4]/ul/li[4]/a",
    "/html/body/div/div[3]/nav/div/div/div[2]/div/div/div[4]/ul/li[5]/a",
    "/html/body/div/div[3]/nav/div/div/div[2]/div/div/div[4]/ul/li[6]/a",
    "/html/body/div/div[3]/nav/div/div/div[2]/div/div/div[4]/ul/li[7]/a",
    "/html/body/div/div[3]/nav/div/div/div[2]/div/div/div[4]/ul/li[8]/a",
    "/html/body/div/div[3]/nav/div/div/div[2]/div/div/div[4]/ul/li[9]/a",
    "/html/body/div/div[3]/nav/div/div/div[2]/div/div/div[4]/ul/li[10]/a",
    "/html/body/div/div[3]/nav/div/div/div[2]/div/div/div[4]/ul/li[11]/a",
    "/html/body/div/div[3]/nav/div/div/div[2]/div/div/div[4]/a",
    "/html/body/div/div[3]/nav/div/div/div[2]/div/div[2]/ul/li/a",
    "/html/body/div/div[3]/nav/div/div/div[2]/div/div[2]/ul/li[2]/a",
    "/html/body/div/div[3]/nav/div/div/div[2]/div/div[2]/ul/li[3]/a",
    "/html/body/div/div[3]/nav/div/div/div[2]/div[2]/div/div/ul/li/a",
    "/html/body/div/div[3]/nav/div/div/div[2]/div[2]/div/div/ul/li[2]/a",
    "/html/body/div/div[3]/nav/div/div/div[2]/div[2]/div/div/ul/li[3]/a",
    "/html/body/div/div[3]/nav/div/div/div[2]/div[2]/div/div/ul/li[4]/a",
    "/html/body/div/div[3]/nav/div/div/div[2]/div[2]/div/div[2]/ul/li/a",
    "/html/body/div/div[3]/nav/div/div/div[2]/div[2]/div/div[2]/ul/li[2]/a",
    "/html/body/div/div[3]/nav/div/div/div[2]/div[2]/div[2]/ul/li/a",
    "/html/body/div/div[3]/nav/div/div/div[2]/div[2]/div[2]/ul/li[2]/a",
    "/html/body/div/div[3]/nav/div/div/div[2]/div[2]/div[2]/div/p/a",
    "/html/body/div/div[3]/nav/div/div/div[2]/div[3]/div/div/p/a",
    "/html/body/div/div[3]/nav/div/div/div[2]/div[3]/div/div[2]/div/a",
    "/html/body/div/div[3]/nav/div/div/div[2]/div[3]/div/div[2]/div[2]/a",
    "/html/body/div/div[3]/nav/div/div/div[2]/div[3]/div/div[2]/div[3]/a",
    "/html/body/div/div[3]/nav/div/div/div[2]/div[3]/div/div[2]/div[4]/a",
    "/html/body/div/div[3]/nav/div/div/div[2]/div[3]/div/div[2]/div[5]/a",
    "/html/body/div/div[3]/nav/div/div/div[2]/div[3]/div/div[2]/div[6]/a",
    "/html/body/div/div[3]/nav/div/div/div[2]/div[3]/div/div[3]/div/a",
    "/html/body/div/div[3]/nav/div/div/div[2]/div[3]/div/div[3]/ul/li/a",
    "/html/body/div/div[3]/nav/div/div/div[2]/div[3]/div/div[3]/ul/li[2]/a",
    "/html/body/div/div[3]/nav/div/div/div[2]/div[4]/div/div/p/a",
    "/html/body/div/div[3]/nav/div/div/div[2]/div[4]/div/div[2]/div/a",
    "/html/body/div/div[3]/nav/div/div/div[2]/div[4]/div/div[2]/div[2]/a",
    "/html/body/div/div[3]/nav/div/div/div[2]/div[4]/div/div[2]/div[3]/a",
    "/html/body/div/div[3]/nav/div/div/div[2]/div[4]/div/div[2]/div[4]/a",
    "/html/body/div/div[3]/nav/div/div/div[2]/div[4]/div/div[3]/div/div/p/a",
    "/html/body/div/div[3]/nav/div/div/div[2]/div[4]/div/div[3]/ul/li/a",
    "/html/body/div/div[3]/nav/div/div/div[2]/div[4]/div/div[3]/ul/li[2]/a",
    "/html/body/div/div[3]/nav/div/div/div[2]/div[5]/a",
    "/html/body/div/div[3]/nav/a",
    "/html/body/div/footer/div/div/div/ul/li/div/button",
    "/html/body/div/footer/div/div/div/ul/li[2]/div/button",
    "/html/body/div/footer/div/div/div/ul/li[3]/div/button",
    "/html/body/div/footer/div/div/div/ul/li[4]/div/button"
];

highlightElementsByXPaths(xpathList);