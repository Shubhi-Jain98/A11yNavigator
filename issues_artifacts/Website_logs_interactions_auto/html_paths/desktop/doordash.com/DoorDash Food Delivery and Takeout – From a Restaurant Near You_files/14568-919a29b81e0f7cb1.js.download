!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="f5a91bbe-119f-4f1d-bb2f-fde98aabf2b6",e._sentryDebugIdIdentifier="sentry-dbid-f5a91bbe-119f-4f1d-bb2f-fde98aabf2b6")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[14568],{14568:function(e,t,n){n.d(t,{wA:function(){return eY},EP:function(){return d},WP:function(){return ey},nq:function(){return eE},Aq:function(){return ew},tq:function(){return eW},MK:function(){return eD},nu:function(){return y},Ee:function(){return eX},M4:function(){return eF},BY:function(){return eZ},bQ:function(){return eO}});var o,r,i,s,a,u,c,l,f,d,p,g,m,v,E,y=function(e){return null!=e},_=n(641760),h=n(67250);(o=c||(c={})).Generic="generic",o.UIEffect="mosaic.ui_effect",o.ResultBased="result_based",(r=l||(l={})).TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",r.TYPE_ENABLED="TYPE_ENABLED",r.TYPE_VISIBILITY="TYPE_VISIBILITY",r.TYPE_BACKGROUND_COLOR="TYPE_BACKGROUND_COLOR",r.TYPE_BORDER="TYPE_BORDER",r.TYPE_PADDING="TYPE_PADDING",r.TYPE_SHADOW="TYPE_SHADOW",r.TYPE_FRAME="TYPE_FRAME";var b=h.z.object({type:h.z.literal(l.TYPE_VISIBILITY),value:h.z.object({primitive_value:h.z.object({bool_value:h.z.boolean()})})}),w=h.z.object({type:h.z.literal(l.TYPE_ENABLED),value:h.z.object({primitive_value:h.z.object({bool_value:h.z.boolean()})})}),C=h.z.object({padding:h.z.object({top:h.z.object({value:h.z.string().min(1)}).nullish().transform(function(e){return null!=e?e:void 0}),leading:h.z.object({value:h.z.string().min(1)}).nullish().transform(function(e){return null!=e?e:void 0}),trailing:h.z.object({value:h.z.string().min(1)}).nullish().transform(function(e){return null!=e?e:void 0}),bottom:h.z.object({value:h.z.string().min(1)}).nullish().transform(function(e){return null!=e?e:void 0})})}),R=h.z.object({type:h.z.literal(l.TYPE_PADDING),value:C}),I=h.z.object({border:h.z.object({width:h.z.object({value:h.z.string().min(1)}).nullish().transform(function(e){return null!=e?e:void 0}),radius:h.z.object({value:h.z.string().min(1)}).nullish().transform(function(e){return null!=e?e:void 0}),color:h.z.object({value:h.z.string().min(1)}).nullish().transform(function(e){return null!=e?e:void 0})})}),x=h.z.object({type:h.z.literal(l.TYPE_BORDER),value:I}),S=h.z.object({shadow:h.z.object({value:h.z.string().min(1)})}),D=h.z.object({type:h.z.literal(l.TYPE_SHADOW),value:S}),T=h.z.object({color:h.z.object({value:h.z.string().min(1)})}),z=h.z.object({type:h.z.literal(l.TYPE_BACKGROUND_COLOR),value:T}),P=h.z.object({frame:h.z.object({width:h.z.object({value:h.z.string().nullish().transform(function(e){return null!=e?e:void 0}),absolute:h.z.number().nullish().transform(function(e){return null!=e?e:void 0})}).nullish().transform(function(e){return null!=e?e:void 0}),height:h.z.object({value:h.z.string().nullish().transform(function(e){return null!=e?e:void 0}),absolute:h.z.number().nullish().transform(function(e){return null!=e?e:void 0})}).nullish().transform(function(e){return null!=e?e:void 0})})}),O=h.z.object({type:h.z.literal(l.TYPE_FRAME),value:P}),k=h.z.discriminatedUnion("type",[R,x,D,z,b,w,O]),A=h.z.object({key:h.z.string().min(1),property:k}),M=h.z.object({_action_type:h.z.literal(c.UIEffect),action_type:h.z.literal(c.UIEffect),content:A}),j=h.z.object({action_type:h.z.string().min(1),content:h.z.record(h.z.any())}),N=h.z.object({primary_action:j,on_success:h.z.array(j).nullish().transform(function(e){return null!=e?e:[]}),on_failure:h.z.array(j).nullish().transform(function(e){return null!=e?e:[]})}),V=h.z.object({_action_type:h.z.literal(c.ResultBased),action_type:h.z.literal(c.ResultBased),content:N}),U=h.z.record(h.z.any()),B=h.z.object({_action_type:h.z.literal(c.Generic),action_type:h.z.string().min(1),content:U.nullish().transform(function(e){return null!=e?e:{}})}),K=h.z.preprocess(function(e){return(e.actionType&&(e.action_type=e.actionType),e.actionContent&&(e.content=e.actionContent),"mosaic.ui_effect"===e.action_type)?(0,_.__assign)((0,_.__assign)({},e),{_action_type:c.UIEffect}):"result_based"===e.action_type?(0,_.__assign)((0,_.__assign)({},e),{_action_type:c.ResultBased}):(0,_.__assign)((0,_.__assign)({},e),{_action_type:c.Generic})},h.z.discriminatedUnion("_action_type",[M,V,B]));(i=f||(f={})).generic="GENERIC",i.state="KEY_STATE_UNSPECIFIED",i.stateComplex="KEY_STATE_COMPLEX",i.uiEffect="MOSAIC_UI_EFFECT",i.selectionSingle="SELECTION_SINGLE";var L=h.z.object({key:h.z.string().min(1)}),F=h.z.object({_type:h.z.literal(f.state),type:h.z.literal(f.state),value:L}),Y=h.z.record(h.z.string()),G=h.z.object({_type:h.z.literal(f.stateComplex),type:h.z.literal(f.state),value:Y}),q=h.z.object({key:h.z.string().min(1)}),Q=h.z.object({_type:h.z.literal(f.uiEffect),type:h.z.literal(f.uiEffect),value:q}),W=h.z.object({key:h.z.string().min(1),options:h.z.array(h.z.string().min(1))}),J=h.z.object({_type:h.z.literal(f.selectionSingle),type:h.z.literal(f.selectionSingle),value:W}),H=h.z.record(h.z.unknown()),X=h.z.object({_type:h.z.literal(f.generic),type:h.z.string().min(1),value:H}),Z=h.z.preprocess(function(e){return(e.type||(e.type=f.state),e.type===f.state)?e.value.key?(0,_.__assign)((0,_.__assign)({},e),{_type:f.state}):(0,_.__assign)((0,_.__assign)({},e),{_type:f.stateComplex}):e.type===f.uiEffect?(0,_.__assign)((0,_.__assign)({},e),{_type:f.uiEffect}):e.type===f.selectionSingle?(0,_.__assign)((0,_.__assign)({},e),{_type:f.selectionSingle}):(0,_.__assign)((0,_.__assign)({},e),{_type:f.generic})},h.z.discriminatedUnion("_type",[F,G,Q,J,X])),$=h.z.object({key:h.z.string().min(1),value:h.z.string(),should_pass_down:h.z.boolean().nullish().transform(function(e){return null!=e&&e})}),ee=h.z.object({attributes:h.z.array($).nullish().transform(function(e){return null!=e?e:[]})});(s=d||(d={})).REQUIRED="REQUIRED",s.OPTIONAL="OPTIONAL",s.DEGRADABLE_REQUIRED="DEGRADABLE_REQUIRED",s.DEGRADABLE_OPTIONAL="DEGRADABLE_OPTIONAL";var et=h.z.preprocess(function(e){return"string"==typeof e.content&&(e.content=JSON.parse(e.content)),e},h.z.object({lego_id:h.z.string().min(1),lego_type:h.z.string().min(1),content:h.z.object({actions:h.z.array(K).nullish().transform(function(e){return null!=e?e:[]})}).passthrough().catchall(h.z.any()).nullish().transform(function(e){return null!=e?e:{actions:[]}}),actions:h.z.array(K).nullish().transform(function(e){return null!=e?e:[]}),children:h.z.array(h.z.string().min(1)).nullish().transform(function(e){return null!=e?e:[]}),logging:ee.nullish().transform(function(e){return null!=e?e:void 0}),failure_mode:h.z.nativeEnum(d).nullish().transform(function(e){return null!=e?e:d.REQUIRED}),extensions:h.z.array(Z).nullish().transform(function(e){return null!=e?e:[]})})),en=h.z.object({section_id:h.z.string(),content:h.z.array(h.z.string().min(1)).nullish().transform(function(e){return null!=e?e:[]}),logging:ee.nullish().transform(function(e){return null!=e?e:void 0})}).passthrough().catchall(h.z.any()),eo=h.z.object({group_name:h.z.string(),sections:h.z.array(en).nullish().transform(function(e){return null!=e?e:[]}),logging:ee.nullish().transform(function(e){return null!=e?e:void 0})}).passthrough().catchall(h.z.any()),er=h.z.object({metadata:h.z.string().nullish().transform(function(e){return null!=e?e:void 0}),groups:h.z.array(eo),data:h.z.array(et).nullish().transform(function(e){return null!=e?e:[]}),logging:ee.nullish().transform(function(e){return null!=e?e:void 0})}).passthrough().catchall(h.z.any()),ei=n(313773);(a=p||(p={})).SDKRuntimeError="SDKRuntimeError",a.ResponseDownloadError="ResponseDownloadError",a.ResponseParseError="ResponseParseError",a.ResponseRenderError="ResponseRenderError",a.ComponentNotRegistered="ComponentNotRegistered",a.RequiredViewException="RequiredViewException",a.OptionalViewException="OptionalViewException",a.DegradableRequiredViewException="DegradableRequiredViewException",a.DegradableOptionalViewException="DegradableOptionalViewException",a.ActionNotRegistered="ActionNotRegistered",a.ActionExecutionException="ActionExecutionException",a.UIEffectException="UIEffectException";var es=function(e){function t(n,o){var r=e.call(this,"[mosaic] ".concat(n,", reason=").concat(o.category,", cause=").concat(o.cause instanceof Error?o.cause.message:"none",", data=").concat(o.data?o.data:"none"),{cause:o.cause})||this;return r.logged=!1,Object.setPrototypeOf(r,t.prototype),r.category=o.category,r.data=o.data,r}return(0,_.__extends)(t,e),t}(Error),ea=function(e){function t(n){var o=e.call(this,"component error: legoId=".concat(n.legoId,", legoType=").concat(n.legoType,", failureMode=").concat(n.failureMode),{category:n.category,cause:n.cause,data:n.data})||this;return Object.setPrototypeOf(o,t.prototype),o.legoId=n.legoId,o.legoType=n.legoType,o.failureMode=n.failureMode,o}return(0,_.__extends)(t,e),t}(es),eu=function(e){function t(n){var o=e.call(this,(0,_.__assign)((0,_.__assign)({},n),{category:p.ComponentNotRegistered}))||this;return Object.setPrototypeOf(o,t.prototype),o}return(0,_.__extends)(t,e),t}(ea),ec=function(e){function t(n){var o=e.call(this,(0,_.__assign)((0,_.__assign)({},n),{failureMode:d.REQUIRED,category:p.RequiredViewException}))||this;return Object.setPrototypeOf(o,t.prototype),o}return(0,_.__extends)(t,e),t}(ea),el=function(e){function t(n){var o=e.call(this,(0,_.__assign)((0,_.__assign)({},n),{failureMode:d.OPTIONAL,category:p.OptionalViewException}))||this;return Object.setPrototypeOf(o,t.prototype),o}return(0,_.__extends)(t,e),t}(ea),ef=function(e){function t(n){var o=e.call(this,(0,_.__assign)((0,_.__assign)({},n),{failureMode:d.DEGRADABLE_REQUIRED,category:p.DegradableRequiredViewException}))||this;return Object.setPrototypeOf(o,t.prototype),o}return(0,_.__extends)(t,e),t}(ea),ed=function(e){function t(n){var o=e.call(this,(0,_.__assign)((0,_.__assign)({},n),{failureMode:d.DEGRADABLE_OPTIONAL,category:p.DegradableOptionalViewException}))||this;return Object.setPrototypeOf(o,t.prototype),o}return(0,_.__extends)(t,e),t}(ea),ep=function(e){function t(n){var o=e.call(this,"action error: action_type=".concat(n.action_type,", legoId=").concat(n.legoId,", legoType=").concat(n.legoType),{category:n.category,cause:n.cause,data:n.data})||this;return Object.setPrototypeOf(o,t.prototype),o.action_type=n.action_type,o.legoId=n.legoId,o.legoType=n.legoType,o}return(0,_.__extends)(t,e),t}(es),eg=function(e){function t(n){var o=e.call(this,(0,_.__assign)((0,_.__assign)({},n),{category:p.ActionNotRegistered}))||this;return Object.setPrototypeOf(o,t.prototype),o}return(0,_.__extends)(t,e),t}(ep),em=function(e){function t(n){var o=e.call(this,(0,_.__assign)((0,_.__assign)({},n),{category:p.ActionExecutionException}))||this;return Object.setPrototypeOf(o,t.prototype),o}return(0,_.__extends)(t,e),t}(ep),ev=function(e){function t(n,o){var r=e.call(this,(0,_.__assign)((0,_.__assign)({},o),{message:n,category:p.UIEffectException}))||this;return Object.setPrototypeOf(r,t.prototype),r}return(0,_.__extends)(t,e),t}(function(e){function t(n){var o=e.call(this,"UI effect error: key=".concat(n.key,", type=").concat(n.type,", ").concat(n.message),{category:n.category,cause:n.cause,data:n.data})||this;return Object.setPrototypeOf(o,t.prototype),o.key=n.key,o.type=n.type,o}return(0,_.__extends)(t,e),t}(es)),eE={SDKRuntimeError:function(e){function t(n,o){var r=e.call(this,n,{category:p.SDKRuntimeError,cause:null==o?void 0:o.cause,data:null==o?void 0:o.data})||this;return Object.setPrototypeOf(r,t.prototype),r}return(0,_.__extends)(t,e),t}(es),Response:{DownloadError:function(e){function t(n,o){var r=e.call(this,n,{category:p.ResponseDownloadError,cause:null==o?void 0:o.cause,data:null==o?void 0:o.data})||this;return Object.setPrototypeOf(r,t.prototype),r}return(0,_.__extends)(t,e),t}(es),ParseError:function(e){function t(n,o){var r=e.call(this,n,{category:p.ResponseParseError,cause:null==o?void 0:o.cause,data:null==o?void 0:o.data})||this;return Object.setPrototypeOf(r,t.prototype),r}return(0,_.__extends)(t,e),t}(es),RenderError:function(e){function t(n,o){var r=e.call(this,n,{category:p.ResponseRenderError,cause:null==o?void 0:o.cause,data:null==o?void 0:o.data})||this;return Object.setPrototypeOf(r,t.prototype),r}return(0,_.__extends)(t,e),t}(es)},Component:{NotRegistered:eu,RequiredException:ec,OptionalException:el,DegradableRequiredException:ef,DegradableOptionalException:ed},Action:{NotRegistered:eg,ExecutionException:em},UIEffect:{Exception:ev},ThrowErrorComponent:function(e){var t=e.error;return ei.useEffect(function(){throw t},[t]),null}},ey=function(){function e(e){this.year=e.year,this.month=e.month,this.day=e.day;var t,n,o,r=new Date().getFullYear(),i=new Date().getMonth(),s=new Date().getDate()-1;this.date=new Date(null!==(t=e.year)&&void 0!==t?t:r,null!==(n=e.month)&&void 0!==n?n:i,null!==(o=e.day)&&void 0!==o?o:s)}return e.fromJSON=function(t){if(t){var n=t.year,o=t.month,r=t.day;if("number"!=typeof n||"number"!=typeof o||"number"!=typeof r)throw new eE.Response.ParseError("Invalid date json",{data:t});return new e({year:0===n?void 0:n,month:0===o?void 0:o-1,day:0===r?void 0:r-1})}},e}(),e_=(0,ei.createContext)({hasMosaicContext:!1,store:void 0,components:void 0,actions:void 0,actionComponents:void 0,telemetryClient:void 0,eventEmitter:void 0,uiEffectsPaddingValueToCss:void 0,uiEffectsBorderValueToCss:void 0,uiEffectsShadowValueToCss:void 0,uiEffectsBackgroundColorValueToCss:void 0});e_.displayName="MosaicContext";var eh=n(136346),eb=(0,n(364780).M)(function(e){return{session:{}}}),ew=function(e){var t=e.store,n=e.components,o=e.actions,r=e.actionComponents,i=e.telemetryClient,s=e.eventEmitter,a=e.uiEffectsPaddingValueToCss,u=e.uiEffectsBorderValueToCss,c=e.uiEffectsShadowValueToCss,l=e.uiEffectsBackgroundColorValueToCss,f=e.children,d=ei.useMemo(function(){return t?"function"==typeof t?t():t:eb},[t]),p=ei.useMemo(function(){return null!=s?s:new eh.Z},[s]),g=ei.useMemo(function(){return n?"function"==typeof n?n():n:void 0},[n]),m=ei.useMemo(function(){return o?"function"==typeof o?o():o:void 0},[o]),v=ei.useMemo(function(){return r?"function"==typeof r?r():r:void 0},[r]),E=ei.useMemo(function(){return{hasMosaicContext:!0,store:d,components:g,actions:m,actionComponents:v,telemetryClient:i,eventEmitter:p,uiEffectsPaddingValueToCss:a,uiEffectsBorderValueToCss:u,uiEffectsShadowValueToCss:c,uiEffectsBackgroundColorValueToCss:l}},[d,g,m,v,i,p,a,u,c,l]);return ei.createElement(e_.Provider,{value:E},f)};function eC(){var e,t,n=ei.useContext(e_);if(!(null==n?void 0:n.hasMosaicContext))throw new eE.SDKRuntimeError("MosaicContext not found in context. Did you forget to wrap your app with <MosaicProvider></MosaicProvider>?");if(!n.store)throw new eE.SDKRuntimeError("MosaicContext store not found in context");return{store:n.store,components:null!==(e=n.components)&&void 0!==e?e:{},actions:null!==(t=n.actions)&&void 0!==t?t:{},actionComponents:n.actionComponents,telemetryClient:n.telemetryClient,eventEmitter:n.eventEmitter,uiEffectsPaddingValueToCss:n.uiEffectsPaddingValueToCss,uiEffectsBorderValueToCss:n.uiEffectsBorderValueToCss,uiEffectsShadowValueToCss:n.uiEffectsShadowValueToCss,uiEffectsBackgroundColorValueToCss:n.uiEffectsBackgroundColorValueToCss}}var eR=(0,ei.createContext)({hasViewFactory:!1,session:void 0,components:void 0,actions:void 0,actionsFromComponentsRef:void 0});eR.displayName="ViewFactoryContext";var eI=n(581814),ex=function(e){var t=this;return this.getSessionEventName=function(e){return"session:".concat(t.sessionID,"-eventName:").concat(e)},this.subscribe=function(e){t.emitter.on(t.getSessionEventName(e.eventName),e.handler)},this.isSubscribedToEventName=function(e){return!!t.emitter.listeners(t.getSessionEventName(e.eventName)).find(function(t){return t===e.handler})},this.unsubscribe=function(e){if(!t.isSubscribedToEventName(e))throw new eE.SDKRuntimeError("You are attempting to unsubscribe a handler function that does not exist. A common cause of this is that your handler function is not the same as the function that was registered.");t.emitter.off(t.getSessionEventName(e.eventName),e.handler)},this.emit=function(e,n){t.emitter.emit(t.getSessionEventName(e),n)},this.subscribeToUIEffects=function(e){t.subscribe((0,_.__assign)((0,_.__assign)({},e),{eventName:"uiEffects"}))},this.isSubscribedToUIEffects=function(e){return t.isSubscribedToEventName((0,_.__assign)((0,_.__assign)({},e),{eventName:"uiEffects"}))},this.unsubscribeFromUIEffects=function(e){t.unsubscribe((0,_.__assign)((0,_.__assign)({},e),{eventName:"uiEffects"}))},this.emitUIEffects=function(e){t.emit("uiEffects",e)},this.sessionID=e.sessionID,this.emitter=e.eventEmitter,this},eS=function(){function e(e){var t,n=this;return this.selectionSingleExtensions={},this.registerSelectionSingleExtensions=function(e){e.forEach(function(e){e._type===f.selectionSingle&&(n.selectionSingleExtensions[e.value.key]=e.value)})},this.getComponentExtensions=function(e,t){var n,o=t.data.find(function(t){return t.lego_id===e});if(!o)throw new eE.Response.ParseError("".concat(e," does not exist in response"));return null!==(n=o.extensions)&&void 0!==n?n:[]},this.getComponentStateExtension=function(e,t){if(!t.data.find(function(t){return t.lego_id===e}))throw new eE.Response.ParseError("".concat(e," does not exist in response"));var o=n.getComponentExtensions(e,t).find(function(e){return e._type===f.state||e._type===f.stateComplex});if(o)return o},this.selectComponentState=function(e,t,o){void 0===o&&(o=n.store.getState());var r=n.getComponentStateExtension(e,t);if(r){if(r._type===f.state)return n.selectKeyState(r.value.key,o);var i=Object.keys(r.value);if(i.length){var s={};return i.forEach(function(e){var t=r.value[e];s[e]=n.selectKeyState(t,o)}),s}}},this.updateComponentState=function(e,t,o){var r=n.getComponentStateExtension(e,o);if(!r)throw new eE.SDKRuntimeError("You are attempting to update state for a component that does not have state extensions");if(r._type===f.state)n.updateKeyState(r.value.key,t);else{if("object"!=typeof t||Array.isArray(t))throw new eE.SDKRuntimeError("newState must be an object with keys ".concat(Object.values(r.value).join(", "),". Each key is optional."));var i={},s=Object.keys(r.value);Object.keys(null!=t?t:{}).forEach(function(e){s.includes(e)&&(i[r.value[e]]=t[e])}),n.store.setState(function(e){var t,o;return{session:(0,_.__assign)((0,_.__assign)({},e.session),((t={})[n.id]=(0,_.__assign)((0,_.__assign)({},e.session[n.id]),{componentState:(0,_.__assign)((0,_.__assign)({},null===(o=e.session[n.id])||void 0===o?void 0:o.componentState),i)}),t))}})}},this.selectKeyState=function(e,t){var o;return void 0===t&&(t=n.store.getState()),null===(o=t.session[n.id])||void 0===o?void 0:o.componentState[e]},this.updateKeyState=function(e,t){var o,r=((o={})[e]=t,o);n.selectionSingleExtensions[e]?n.selectionSingleExtensions[e].options.forEach(function(e){r[e]=e===t}):Object.keys(n.selectionSingleExtensions).forEach(function(o){n.selectionSingleExtensions[o].options.includes(e)&&(n.selectionSingleExtensions[o].options.forEach(function(t){t!==e&&(r[t]=!1)}),r[o]=t?e:"")}),n.store.setState(function(e){var t,o;return{session:(0,_.__assign)((0,_.__assign)({},e.session),((t={})[n.id]=(0,_.__assign)((0,_.__assign)({},e.session[n.id]),{componentState:(0,_.__assign)((0,_.__assign)({},null===(o=e.session[n.id])||void 0===o?void 0:o.componentState),r)}),t))}})},this.getComponentsState=function(e){var t;return void 0===e&&(e=n.store.getState()),null===(t=e.session[n.id])||void 0===t?void 0:t.componentState},this.getComponentUIEffectExtensions=function(e,t){if(!t.data.find(function(t){return t.lego_id===e}))throw new eE.Response.ParseError("".concat(e," does not exist in response"));return n.getComponentExtensions(e,t).filter(function(e){return e._type===f.uiEffect})},this.store=e.store,this.id=null!==(t=e.id)&&void 0!==t?t:(0,eI.Z)(),this.events=new ex({sessionID:this.id,eventEmitter:e.eventEmitter}),this}return e.prototype.clearComponentsState=function(){var e=this;this.store.setState(function(t){var n;return{session:(0,_.__assign)((0,_.__assign)({},t.session),((n={})[e.id]=(0,_.__assign)((0,_.__assign)({},t.session[e.id]),{componentState:{}}),n))}})},e.prototype.clear=function(){var e=this;this.store.setState(function(t){var n;return{session:(0,_.__assign)((0,_.__assign)({},t.session),((n={})[e.id]={componentState:{}},n))}})},e}(),eD=function(e){var t=e.sessionID,n=e.components,o=e.actions,r=e.actionComponents,i=e.children,s=eC(),a=ei.useRef({}),u=ei.useMemo(function(){return s.store},[s.store]),c=ei.useMemo(function(){var e=s.eventEmitter;if(!e)throw new eE.SDKRuntimeError("eventEmitter not found in mosaic context. Make sure you wrap your App with a MosaicProvider");return new eS({store:u,id:t,eventEmitter:e})},[t,u]),l=ei.useMemo(function(){var e;return(0,_.__assign)((0,_.__assign)({},null!==(e=s.components)&&void 0!==e?e:{}),n?"function"==typeof n?n():n:{})},[s.components,n]),f=ei.useMemo(function(){var e;return(0,_.__assign)((0,_.__assign)({},null!==(e=s.actions)&&void 0!==e?e:{}),o?"function"==typeof o?o():o:{})},[s.actions,o]),d=ei.useMemo(function(){var e;return(0,_.__assign)((0,_.__assign)({},null!==(e=s.actionComponents)&&void 0!==e?e:{}),r?"function"==typeof r?r():r:{})},[s.actionComponents,r]),p=ei.useMemo(function(){return Object.keys(d).map(function(e){var t=d[e];return{actionType:e,registeredAction:t}})},[d]),g=ei.useMemo(function(){return{hasViewFactory:!0,session:c,store:u,components:l,actions:f,actionsFromComponentsRef:a}},[c,u,l,f]);return ei.createElement(eR.Provider,{value:g},p.map(function(e){var t=e.actionType,n=e.registeredAction.ActionComponent;return ei.createElement(n,{key:t,registerAction:function(e){var n;if(a.current[t])throw new eE.SDKRuntimeError("An Action Component of actionType=".concat(t,' has already been registered. Action Components should only be registered once. Check your Action Component to verify that "registerAction" is only called once throughout the component\'s lifecycle.'));a.current=(0,_.__assign)((0,_.__assign)({},a.current),((n={})[t]=e,n))}})}),i)};function eT(){var e=ei.useContext(eR);if(!(null==e?void 0:e.hasViewFactory))throw new eE.SDKRuntimeError("ViewFactory not found in context. Did you forget to wrap your <MosaicView/> with <ViewFactoryProvider></ViewFactoryProvider>?");if(!e.session)throw new eE.SDKRuntimeError("ViewFactory session not found in context.");if(!e.components)throw new eE.SDKRuntimeError("ViewFactory components not found in context");if(!e.actions)throw new eE.SDKRuntimeError("ViewFactory actions not found in context");if(!e.actionsFromComponentsRef)throw new eE.SDKRuntimeError("ViewFactory actionsFromComponentsRef not found in context");return{session:e.session,components:e.components,actions:e.actions,actionsFromComponentsRef:e.actionsFromComponentsRef}}var ez=function(){function e(e){this.rawJSON=e.json;var t=er.safeParse(e.json);if(!t.success)throw new eE.Response.ParseError("Failed to parse mosaic response",{cause:t.error,data:{json:e.json}});this.metadata=t.data.metadata,this.groups=t.data.groups,this.data=t.data.data,this.logging=t.data.logging}return e.prototype.getJSON=function(){return{metadata:this.metadata,groups:this.groups,data:this.data}},e}(),eP=(0,ei.createContext)({hasMosaicResponse:!1,response:void 0});function eO(){var e=ei.useContext(eP);if(!(null==e?void 0:e.hasMosaicResponse))throw new eE.SDKRuntimeError("MosaicResponse not found in context. Did you forget to wrap your app with <MosaicResponseContextProvider></MosaicResponseContextProvider>?");if(!e.response)throw new eE.SDKRuntimeError("response not found in MosaicResponse context. Did you forget to wrap your app with <MosaicResponseContextProvider></MosaicResponseContextProvider>?");return{response:e.response}}eP.displayName="MosaicResponseContext";var ek=function(){var e=ei.useRef(!0),t=e.current;return e.current=!1,t},eA=function(e){var t=e.source,n=e.children,o=ei.useState(!0),r=o[0],i=o[1],s=ei.useState(null),a=s[0],u=s[1],c=ei.useState("response"in t?new ez({json:t.response}):void 0),l=c[0],f=c[1],d=ek();ei.useEffect(function(){"response"in t?d||f(new ez({json:t.response})):(i(!0),fetch(t.url,(0,_.__assign)({headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"},t.requestInit)).then(function(e){if(!e.ok)throw new eE.Response.DownloadError("Failed to load mosaic response from url ".concat(t.url,", ").concat(e.status,", ").concat(e.statusText),{data:{response:e}});return e.json()}).then(function(e){f(new ez({json:e})),u(null)}).catch(function(e){e instanceof eE.Response.DownloadError?u(e):u(new eE.Response.DownloadError("Failed to load mosaic response from url ".concat(t.url,", ").concat(e.message),{cause:e}))}).finally(function(){i(!1)}))},[t]);var p=ei.useMemo(function(){return{hasMosaicResponse:!0,response:l}},[l]);return"url"in t&&r?t.LoadingComponent?ei.createElement(t.LoadingComponent,null):null:a?ei.createElement(eE.ThrowErrorComponent,{error:a}):l?ei.createElement(eP.Provider,{value:p},n):ei.createElement(eE.ThrowErrorComponent,{error:new eE.Response.DownloadError("Failed to set mosaic response")})},eM=(0,ei.createContext)({hasMosaicLogging:!1,attributes:[]});eM.displayName="MosaicLoggingContext";var ej=function(e){var t=e.source,n=e.children,o=eO().response,r=ei.useContext(eM),i=ei.useMemo(function(){var e,n,r,i;try{if("loggingJSON"in t)return t.loggingJSON;if("groupName"in t){if("sectionId"in t)return null===(n=null===(e=o.groups.find(function(e){return e.group_name===t.groupName}))||void 0===e?void 0:e.sections.find(function(e){return e.section_id===t.sectionId}))||void 0===n?void 0:n.logging;return null===(r=o.groups.find(function(e){return e.group_name===t.groupName}))||void 0===r?void 0:r.logging}if("legoId"in t)return null===(i=o.data.find(function(e){return e.lego_id===t.legoId}))||void 0===i?void 0:i.logging;return}catch(e){throw new eE.Response.ParseError("Error getting logging JSON",e)}},[t]),s=ei.useMemo(function(){var e;try{var t=null!==(e=null==r?void 0:r.attributes)&&void 0!==e?e:[],n=null==i?void 0:i.attributes;return(0,_.__spreadArray)((0,_.__spreadArray)([],t.filter(function(e){return e.should_pass_down}),!0),null!=n?n:[],!0)}catch(e){throw new eE.Response.ParseError("Error parsing logging attributes",e)}},[r,i]),a=ei.useMemo(function(){return{hasMosaicLogging:!0,attributes:s}},[s]);return ei.createElement(eM.Provider,{value:a},n)},eN=n(918564),eV=n(787614),eU=function(e){e instanceof es&&(e.logged=!0)},eB=function(e){var t=e.source,n=e.propertyTypes,o=e.onChange,r=e.session,i=ei.useContext(e_),s=ei.useContext(eR),a=ei.useContext(eP),u=ei.useMemo(function(){return null!=n?n:void 0},null!=n?n:[]),c=ei.useMemo(function(){if(r){if(r instanceof eS)return r;var e=null==i?void 0:i.store;if(!e)throw new eE.SDKRuntimeError('store not found in mosaic context. Make sure that you are executing this hook within a "MosaicProvider"');var t=null==i?void 0:i.eventEmitter;if(!t)throw new eE.SDKRuntimeError("eventEmitter not found in mosaic context. Make sure that you are executing this hook within a MosaicProvider");return new eS({id:r,store:e,eventEmitter:t})}var n=null==s?void 0:s.session;if(!n)throw new eE.SDKRuntimeError('session not found in "ViewFactoryContext". It looks like you have not provided a session ID or instance so the expectation is for you to execute "useUIEffects" within a "ViewFactoryProvider".');return n},[r,null==s?void 0:s.session,null==i?void 0:i.store]),l=ei.useRef(c),f=ei.useMemo(function(){if(!("legoId"in t))return t;var e=null==a?void 0:a.response;if(!e)throw new eE.SDKRuntimeError('Mosaic response not found in context. When the "source" is from a legoId, you must execute "useUIEffects" from within a "MosaicView"');return(0,_.__assign)((0,_.__assign)({},t),{response:e})},["legoId"in t?t.legoId:t.keys.join(","),null==a?void 0:a.response]),d=ei.useRef(o);ei.useEffect(function(){d.current=o},[o]);var p=ei.useRef(function(e){for(var t=e.data,n=[],o=0;o<t.length;o++){var r=t[o],i=[];if("legoId"in f){var s=f.response;i=l.current.getComponentUIEffectExtensions(f.legoId,s).map(function(e){return e.value.key})}else i=f.keys;if(-1===i.indexOf(r.key)||u&&u.length>0&&!u.includes(r.property.type))return;n.push(r)}if(n.length>0)return d.current({uiEffects:n})});ei.useEffect(function(){return l.current.events.isSubscribedToUIEffects({handler:p.current})&&l.current.events.unsubscribeFromUIEffects({handler:p.current}),l.current=c,l.current.events.subscribeToUIEffects({handler:p.current}),function(){c.events.unsubscribeFromUIEffects({handler:p.current})}},[c.events])};(u=g||(g={})).Page="page",u.Group="group",u.Section="section",u.Component="component";var eK=eN.default.div.withConfig({componentId:"sc-4b9435fe-0"})(v||(v=(0,_.__makeTemplateObject)(["\n  /*\n   * Base styles that are applied to all view boxes.\n   * TODO: We'll update more styles as we settle on the design with mobile.\n   */\n  ","\n\n  // for any content that overflows, we do not want it to cause the parent dimensions to change\n  overflow: auto;\n\n  ","// allow parent to pass in and override styles\n"],["\n  /*\n   * Base styles that are applied to all view boxes.\n   * TODO: We'll update more styles as we settle on the design with mobile.\n   */\n  ","\n\n  // for any content that overflows, we do not want it to cause the parent dimensions to change\n  overflow: auto;\n\n  ","// allow parent to pass in and override styles\n"])),function(e){if(e.type!==g.Component)return(0,eN.css)(m||(m=(0,_.__makeTemplateObject)(["\n        display: grid;\n        grid-template-columns: 1fr;\n        grid-auto-flow: row;\n        grid-auto-rows: max-content;\n        min-height: 0;\n      "],["\n        display: grid;\n        grid-template-columns: 1fr;\n        grid-auto-flow: row;\n        grid-auto-rows: max-content;\n        min-height: 0;\n      "])))},function(e){return e.css}),eL=function(e){var t=e.children,n=e.source,o=e.css,r=ei.useMemo(function(){if("sessionId"in n)return g.Page;if("groupName"in n)return g.Group;if("sectionId"in n)return g.Section;if("legoId"in n)return g.Component;throw new eE.SDKRuntimeError("Invalid source supplied to ViewBox")},[n]);return ei.createElement(eK,{css:o,type:r,"data-mosaic-view-type":r,"data-mosaic-view-group-name":"groupName"in n?n.groupName:void 0,"data-mosaic-view-section-id":"sectionId"in n?n.sectionId:void 0,"data-mosaic-view-lego-id":"legoId"in n?n.legoId:void 0,"data-mosaic-view-lego-type":"legoType"in n?n.legoType:void 0},t)};function eF(e){var t,n,o,r,i=this,s=void 0===e?{}:e,a=s.session,u=s.legoId,l=void 0===u?"unknown":u,f=s.legoType,d=void 0===f?"unknown":f,p=s.registeredActions,g=s.logging,m=s.response,v=ei.useContext(e_),E=ei.useRef(v);ei.useEffect(function(){E.current=v},[v]);var y=ei.useContext(eR),h=ei.useRef(y);ei.useEffect(function(){h.current=y},[y]);var b=ei.useContext(eM),w=ei.useRef(b);ei.useEffect(function(){w.current=b},[b]);var C=ei.useRef((0,_.__assign)((0,_.__assign)((0,_.__assign)({},null!==(n=null===(t=E.current)||void 0===t?void 0:t.actions)&&void 0!==n?n:{}),null!==(r=null===(o=h.current)||void 0===o?void 0:o.actions)&&void 0!==r?r:{}),null!=p?p:{}));ei.useEffect(function(){var e,t,n,o;C.current=(0,_.__assign)((0,_.__assign)((0,_.__assign)({},null!==(t=null===(e=E.current)||void 0===e?void 0:e.actions)&&void 0!==t?t:{}),null!==(o=null===(n=h.current)||void 0===n?void 0:n.actions)&&void 0!==o?o:{}),null!=p?p:{})},[p,null==v?void 0:v.actions,null==y?void 0:y.actions]);var R=ei.useMemo(function(){if(a){if(a instanceof eS)return a;var e=null==v?void 0:v.store;if(!e)throw new eE.SDKRuntimeError("store not found in mosaic context. Make sure that you are executing this hook within a MosaicProvider");var t=null==v?void 0:v.eventEmitter;if(!t)throw new eE.SDKRuntimeError("eventEmitter not found in mosaic context. Make sure that you are executing this hook within a MosaicProvider");return new eS({id:a,store:e,eventEmitter:t})}if(null==y?void 0:y.session)return y.session;throw new eE.SDKRuntimeError("Session not found in viewFactory. This most likely means that you are using this hook outside the Mosaic ViewFactory context. In cases like this, please provide the session instance or session ID as an argument to the hook.")},[a,null==v?void 0:v.store,null==v?void 0:v.eventEmitter]),I=ei.useRef(R);ei.useEffect(function(){I.current=R},[R]);var x=ei.useMemo(function(){return g||b||{attributes:[]}},[g,b]),S=ei.useRef(x);ei.useEffect(function(){S.current=x},[x]);var D=ei.useCallback(function(e){if(!m)throw new eE.SDKRuntimeError("selectComponentState requires response to be provided");return R.selectComponentState(e,m)},[m,R]),T=ei.useRef(D);ei.useEffect(function(){T.current=D},[D]);var z=ei.useCallback(function(e,t){if(!m)throw new eE.SDKRuntimeError("selectComponentState requires response to be provided");return R.updateComponentState(e,t,m)},[m,R]),P=ei.useRef(z);ei.useEffect(function(){P.current=z},[z]);var O=ei.useCallback(function(e){return R.selectKeyState(e)},[R]),k=ei.useRef(O);ei.useEffect(function(){k.current=O},[O]);var A=ei.useCallback(function(e,t){return R.updateKeyState(e,t)},[R]),M=ei.useRef(A);ei.useEffect(function(){M.current=A},[A]);var j=ei.useCallback(function(){return R.getComponentsState()},[R]),N=ei.useRef(j);ei.useEffect(function(){N.current=j},[j]);var V=ei.useRef(function(e){return(0,_.__awaiter)(i,void 0,void 0,function(){var t,n;return(0,_.__generator)(this,function(o){return 0===e.length||(t=[],e.forEach(function(e){var n,o=null===(n=e.content)||void 0===n?void 0:n.key;o&&!t.includes(o)&&t.push(o)}),n=e.reduce(function(e,t){var n,o=null===(n=t.content)||void 0===n?void 0:n.key;return o&&(e[o]||(e[o]=[]),e[o].push(t)),e},{}),t.forEach(function(e){I.current.events.emitUIEffects({data:n[e].map(function(e){return e.content})})})),[2]})})}),U=ei.useRef(function(){return Promise.resolve()}),B=ei.useRef(function(e){var t,n,o,r=null!==(t=C.current[e.action_type])&&void 0!==t?t:null===(o=null===(n=h.current)||void 0===n?void 0:n.actionsFromComponentsRef)||void 0===o?void 0:o.current[e.action_type];if(!r)throw new eE.Action.NotRegistered({action_type:e.action_type,legoId:l,legoType:d});try{return r.fn({legoId:l,legoType:d,action_type:e.action_type,content:e.content,selectComponentState:T.current,updateComponentState:P.current,selectKeyState:k.current,updateKeyState:M.current,getComponentsState:N.current,logging:S.current,executeActions:U.current})}catch(t){throw new eE.Action.ExecutionException({action_type:e.action_type,legoId:l,legoType:d,cause:t})}}),L=ei.useRef(function(e){var t,n,o=e.content,r=o.primary_action.action_type,i=null!==(t=C.current[r])&&void 0!==t?t:null===(n=null==y?void 0:y.actionsFromComponentsRef)||void 0===n?void 0:n.current[r];if(!i)throw new eE.Action.NotRegistered({action_type:r,legoId:l,legoType:d});var s=o.primary_action.content,a=o.on_success.map(function(e){return K.parse(e)}),u=o.on_failure.map(function(e){return K.parse(e)});try{var c=i.fn({legoId:l,legoType:d,action_type:r,content:s,selectComponentState:D,updateComponentState:z,selectKeyState:O,updateKeyState:A,getComponentsState:j,logging:x,executeActions:U.current});if(c instanceof Promise)return c.then(function(){return U.current(a)}).catch(function(){return U.current(u)});return U.current(a)}catch(e){return U.current(u)}});return U.current=function(e){return(0,_.__awaiter)(i,void 0,void 0,function(){var t,n,o,r,i,s,a;return(0,_.__generator)(this,function(u){switch(u.label){case 0:t=e.map(function(e){return K.parse(e)}),n=0,o=t,u.label=1;case 1:if(!(n<o.length))return[3,6];if((r=o[n])._action_type!==c.Generic||!((i=B.current(r))instanceof Promise))return[3,3];return[4,i];case 2:u.sent(),u.label=3;case 3:if(r._action_type!==c.ResultBased||!((s=L.current(r))instanceof Promise))return[3,5];return[4,s];case 4:u.sent(),u.label=5;case 5:return n++,[3,1];case 6:if(!((a=V.current(t.filter(function(e){return e._action_type===c.UIEffect})))instanceof Promise))return[3,8];return[4,a];case 7:u.sent(),u.label=8;case 8:return[2]}})})},{executeDynamicActions:U.current}}var eY=function(e){var t,n,o,r=e.legoId,i=e.css,s=eC(),a=s.uiEffectsPaddingValueToCss,u=s.uiEffectsBorderValueToCss,c=s.uiEffectsShadowValueToCss,f=s.uiEffectsBackgroundColorValueToCss,p=eO().response,g=eT(),m=g.components,v=g.session,h=ei.useState(null),b=h[0],w=h[1],C=ei.useState(null),R=C[0],I=C[1],x=ei.useState({isVisible:void 0,isDisabled:void 0}),S=x[0],D=x[1],T=ei.useCallback(function(e){D({backgroundColorCss:e.backgroundColorCss,borderCss:e.borderCss,isDisabled:e.isDisabled,paddingCss:e.paddingCss,shadowCss:e.shadowCss,isVisible:e.isVisible})},[D]),z=ei.useMemo(function(){var e=p.data.find(function(e){return e.lego_id===r});if(!e)throw new eE.Response.ParseError("".concat(r," does not exist in response"));return e},[p,r]);ei.useEffect(function(){z.extensions&&v.registerSelectionSingleExtensions(z.extensions)},[z.extensions]);var P=z.lego_type,O=null!==(t=z.failure_mode)&&void 0!==t?t:d.REQUIRED,k=ei.useMemo(function(){var e=m[P];if(!e)return{MainComponent:function(){return ei.createElement(eE.ThrowErrorComponent,{error:new eE.Component.NotRegistered({legoId:r,legoType:P,failureMode:O})})}};var t="Component"in e?e.Component:e.AsyncComponent;return t?{MainComponent:t,ErrorComponent:"Component"in e?e.Error:e.AsyncError}:{MainComponent:function(){return ei.createElement(eE.ThrowErrorComponent,{error:new eE.Component.NotRegistered({legoId:r,legoType:P,failureMode:O,cause:Error("component with lego type ".concat(P," does not have a registered Component or AsyncComponent"))})})}}},[P,m]),A=k.MainComponent,M=k.ErrorComponent,j=ei.useMemo(function(){var e,t,n;return(null!==(t=null===(e=z.content)||void 0===e?void 0:e.actions)&&void 0!==t?t:[]).concat(null!==(n=z.actions)&&void 0!==n?n:[])},[null===(n=z.content)||void 0===n?void 0:n.actions,z.actions]),N=eF({legoId:r,legoType:P}).executeDynamicActions,V=ei.useCallback(function(){return N(j)},[N,j]),U=ei.useMemo(function(){var e,t;return null!==(t=null===(e=z.content)||void 0===e?void 0:e.children)&&void 0!==t?t:[]},[null===(o=z.content)||void 0===o?void 0:o.children]),B=ei.useMemo(function(){return"string"==typeof z.content?JSON.parse(z.content):z.content},[z.content]),K=ei.useMemo(function(){return Object.keys(null!=B?B:{}).filter(function(e){return"actions"!==e&&"children"!==e}).reduce(function(e,t){return e[t]=(null!=B?B:{})[t],e},{})},[B]);eB({source:{legoId:r},onChange:ei.useCallback(function(e){var t=e.uiEffects,n={backgroundColorCss:void 0,borderCss:void 0,isDisabled:void 0,paddingCss:void 0,shadowCss:void 0,isVisible:void 0};t.forEach(function(e){if(e.property.type===l.TYPE_VISIBILITY&&(n.isVisible=e.property.value.primitive_value.bool_value),e.property.type===l.TYPE_ENABLED&&(n.isDisabled=!e.property.value.primitive_value.bool_value),e.property.type===l.TYPE_PADDING){if(!a)throw new eE.UIEffect.Exception("Got a border UI effect value but uiEffectsPaddingValueToCss is not defined",{key:e.key,type:e.property.type});n.paddingCss=a(e.property.value.padding)}if(e.property.type===l.TYPE_BORDER){if(!u)throw new eE.UIEffect.Exception("Got a border UI effect value but uiEffectsBorderValueToCss is not defined",{key:e.key,type:e.property.type});n.borderCss=u(e.property.value.border)}if(e.property.type===l.TYPE_SHADOW){if(!c)throw new eE.UIEffect.Exception("Got a border UI effect value but uiEffectsShadowValueToCss is not defined",{key:e.key,type:e.property.type});n.shadowCss=c(e.property.value.shadow)}if(e.property.type===l.TYPE_BACKGROUND_COLOR){if(!f)throw new eE.UIEffect.Exception("Got a background color UI effect value but uiEffectsBackgroundColorValueToCss is not defined",{key:e.key,type:e.property.type});n.backgroundColorCss=f(e.property.value.color)}T(n)})},[T,a,u,c,f])});var L=ei.useMemo(function(){return S.paddingCss},[S.paddingCss]),F=ei.useMemo(function(){var e=[i,S.borderCss,S.shadowCss,S.backgroundColorCss].filter(function(e){return y(e)});return e.length>0?e.reduce(function(e,t){return e?(0,eN.css)(E||(E=(0,_.__makeTemplateObject)(["\n                  "," ","\n                "],["\n                  "," ","\n                "])),e,t):t},void 0):void 0},[i,S]);if(!1===S.isVisible)return null;if(R)return O===d.OPTIONAL||O===d.DEGRADABLE_OPTIONAL?null:ei.createElement(eE.ThrowErrorComponent,{error:R});if(b)return O===d.REQUIRED?ei.createElement(eE.ThrowErrorComponent,{error:b}):O===d.OPTIONAL?null:O===d.DEGRADABLE_REQUIRED?M?ei.createElement(ei.Suspense,null,ei.createElement(eV.SV,{key:"".concat(r,"-degradable-required-error-boundary"),onError:function(e){var t=new eE.Component.DegradableRequiredException({legoId:r,legoType:P,cause:e});eU(t),I(t)},fallbackRender:function(){return null}},ei.createElement(ej,{source:{legoId:r}},ei.createElement(M,{legoId:r,legoType:P,css:F,content:K,executeActions:V,childComponents:U,isVisible:S.isVisible,isDisabled:S.isDisabled})))):ei.createElement(eE.ThrowErrorComponent,{error:b}):O!==d.DEGRADABLE_OPTIONAL?ei.createElement(eE.ThrowErrorComponent,{error:b}):M?ei.createElement(ei.Suspense,null,ei.createElement(eV.SV,{key:"".concat(r,"-degradable-optional-error-boundary"),onError:function(e,t){var n=new eE.Component.DegradableOptionalException({legoId:r,legoType:P,cause:e,data:t});eU(n),I(n)},fallbackRender:function(){return null}},ei.createElement(ej,{source:{legoId:r}},ei.createElement(M,{legoId:r,legoType:P,css:F,content:K,executeActions:V,childComponents:U,isVisible:S.isVisible,isDisabled:S.isDisabled})))):null;return ei.createElement(eL,{source:{legoId:r,legoType:P},css:L},ei.createElement(ei.Suspense,null,ei.createElement(eV.SV,{key:"".concat(r,"-error-boundary"),onError:function(e,t){if(O===d.DEGRADABLE_OPTIONAL){var n=new eE.Component.DegradableOptionalException({legoId:r,legoType:P,cause:e,data:t});eU(n),w(n)}else if(O===d.DEGRADABLE_REQUIRED){var n=new eE.Component.DegradableRequiredException({legoId:r,legoType:P,cause:e,data:t});eU(n),w(n)}else if(O===d.OPTIONAL){var n=new eE.Component.OptionalException({legoId:r,legoType:P,cause:e,data:t});eU(n),w(n)}else{var n=new eE.Component.RequiredException({legoId:r,legoType:P,cause:e,data:t});eU(n),w(n)}},fallbackRender:function(){return null}},ei.createElement(ej,{source:{legoId:r}},ei.createElement(A,{legoId:r,legoType:P,css:F,content:K,executeActions:V,childComponents:U,isVisible:S.isVisible,isDisabled:S.isDisabled})))))},eG=function(e){var t=e.groupName,n=e.sectionId,o=eO().response,r=ei.useMemo(function(){var e;return null===(e=o.groups.find(function(e){return e.group_name===t}))||void 0===e?void 0:e.sections.find(function(e){return e.section_id===n})},[o,t,n]);if(!r)throw new eE.Response.ParseError("section with ID ".concat(n," belonging to group with name ").concat(t," does not exist in response"));return ei.createElement(eL,{source:{sectionId:n}},ei.createElement(ej,{source:{groupName:t,sectionId:n}},r.content.map(function(e){return ei.createElement(eY,{key:e,legoId:e})})))},eq=function(e){var t=e.groupName,n=eO().response,o=ei.useMemo(function(){return n.groups.find(function(e){return e.group_name===t})},[n,t]);if(!o)throw new eE.Response.ParseError("group with name ".concat(t," does not exist in response"));return ei.createElement(eL,{source:{groupName:t}},ei.createElement(ej,{source:{groupName:t}},o.sections.map(function(e,n){return ei.createElement(eG,{key:e.section_id,groupName:t,sectionId:e.section_id})})))},eQ=function(e){var t=e.TrackingComponent,n=e.groupNames,o=eO().response,r=eT().session;return ei.createElement(eL,{source:{sessionId:r.id}},ei.createElement(ej,{source:{loggingJSON:o.logging}},t&&ei.createElement(t,null),o.groups.filter(function(e){return n?n.includes(e.group_name):!e.group_name.startsWith("modal_sheet")&&!e.group_name.startsWith("full_screen_modal")}).map(function(e){return ei.createElement(eq,{key:e.group_name,groupName:e.group_name})})))},eW=function(e){var t=e.source,n=e.groupNames,o=e.TrackingComponent,r=e.ErrorComponent;return ei.createElement(eV.SV,{resetKeys:[t],fallbackRender:function(e){var t=e.error;return r?ei.createElement(r,{error:t}):null},onError:function(e){e instanceof es?e.logged||eU(e):eU(new eE.Response.RenderError("Failed to render mosaic response",{cause:e}))}},ei.createElement(eA,{source:t},ei.createElement(eQ,{groupNames:n,TrackingComponent:o})))},eJ=n(477590),eH=n(662990),eX=function(e){var t=e.legoId,n=eO().response,o=eT().session,r=eC().store;return{state:(0,eJ.s)(r,function(e){return o.selectComponentState(t,n,e)},eH.X),updateState:ei.useCallback(function(e){return o.updateComponentState(t,e,n)},[o,n])}};function eZ(){var e=ei.useContext(eM);if(!(null==e?void 0:e.hasMosaicLogging))throw new eE.SDKRuntimeError("MosaicLogging not found in context. Did you forget to wrap your app with <MosaicLoggingContextProvider></MosaicLoggingContextProvider>?");return{attributes:e.attributes}}}}]);
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="1ef9bdbf-733b-5d2b-bfa2-a0db4b32f805")}catch(e){}}()
//# debugId=1ef9bdbf-733b-5d2b-bfa2-a0db4b32f805
//# sourceMappingURL=14568-919a29b81e0f7cb1.js.map
