(function(){(window.samsung===void 0||window.samsung===null)&&(window.samsung={});function s(e){return e==null?(console.error("no params object"),!1):typeof e!="object"?(console.error("params is not object type"),!1):e.clientId===void 0||e.clientId===null?(console.error("no client_id"),!1):e.redirectUri===void 0||e.redirectUri===null?(console.error("no redirect_uri"),!1):e.responseType===void 0||e.responseType===null?(console.error("no response_type"),!1):!0}function l(){let e=navigator.userAgentData;if(e!==void 0&&JSON.stringify(e.brands).includes("Google Chrome"))return"Chrome";let n=navigator.userAgent.toLowerCase();return n.indexOf("firefox")>-1?"Firefox":n.indexOf("samsungbrowser")>-1?"SamsungInternet":"NotSupported"}function d(){var e=navigator.userAgent.toLowerCase();return e.search("iphone")>-1||e.search("ipad")>-1||e.search("android")>-1||e.search("blackberry")>-1||e.search("webos")>-1||e.search("macintosh")>-1}window.samsung.account={signIn:(e,n)=>{if(!s(e))return;let t="";n!=null&&typeof n=="object"&&(n.locale&&(t+="&locale="+n.locale),n.temporaryId&&(t+="&temporaryId="+n.temporaryId)),window.location.href="https://account.samsung.com/iam/oauth2/authorize?client_id="+e.clientId+"&redirect_uri="+e.redirectUri+"&response_type="+e.responseType+"&scope="+(e.scope||"")+"&state="+e.state+t},signUp:(e,n)=>{if(!s(e))return;let t="";n!=null&&typeof n=="object"&&(n.locale&&(t+="&locale="+n.locale),n.temporaryId&&(t+="&temporaryId="+n.temporaryId)),window.location.href="https://account.samsung.com/iam/oauth2/authorize?type=signup&client_id="+e.clientId+"&redirect_uri="+e.redirectUri+"&response_type="+e.responseType+"&scope="+(e.scope||"")+"&state="+e.state+t},signOut:()=>new Promise((e,n)=>{fetch("https://account.samsung.com/api/v1/sessions/present",{method:"DELETE",credentials:"include"}).then(()=>{e()}).catch(()=>{n("failed to sign out")})})},document.location.host.endsWith("samsung.com")&&(window.samsung.account.sec={signInWithGalaxy:(e,n)=>{if(!s(e))return;if(e.countryCode===void 0||e.countryCode===null){console.error("no country_code");return}if(e.aliasId===void 0||e.aliasId===null){console.error("no alias_id");return}if(e.staySignedIn===void 0||e.staySignedIn===null){console.error("no stay_signed_in");return}let t="",o="";n!=null&&typeof n=="object"&&(t=n.locale||"",o=n.publicKey||"");const c="https://account.samsung.com/iam/oauth2/authorize?client_id="+e.clientId+"&redirect_uri="+e.redirectUri+"&response_type="+e.responseType+"&scope="+(e.scope||"")+"&state="+e.state+"&locale="+t;let i=l();if(i.includes("NotSupported")||!d())window.location.href=c;else{const r="account.samsung.com/iam/galaxy/auth?client_id="+e.clientId+"&redirect_uri="+e.redirectUri+"&response_type="+e.responseType+"&scope="+(e.scope||"")+"&state="+e.state+"&locale="+t+"&secret_key="+o+"&browser="+i+"&country_code="+e.countryCode+"&alias_id="+e.aliasId+"&stay_signed_in="+e.staySignedIn,u="com.osp.app.signin";window.location.href="intent://"+r+"#Intent;scheme=https;package="+u+";S.browser_fallback_url="+c+";end"}},getSession:(e,n,t)=>{const o="https://account.samsung.com/api/v1/sessions/galaxy",i={method:"POST",headers:{"Content-Type":"application/json",Authorization:n},body:JSON.stringify({key:e,isExtendable:t}),credentials:"include"};return new Promise(function(r,u){fetch(o,i).then(a=>{a.ok?r("success"):r("failure")}).catch(()=>{u()})})}})})();
