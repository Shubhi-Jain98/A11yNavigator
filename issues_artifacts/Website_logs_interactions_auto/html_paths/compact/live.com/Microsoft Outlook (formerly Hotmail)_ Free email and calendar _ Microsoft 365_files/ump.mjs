// Universal Media Player
// Build Date: 2025-04-14T16:18:05.452Z
// Commit: 73c0b703f8f7298a7dc1e10bb5b16cf30c6b31e4
// Build Number: 20250414.01

/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let D8=class extends Event{constructor(o,s,c){super("context-request",{bubbles:!0,composed:!0}),this.context=o,this.callback=s,this.subscribe=c??!1}};/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 *//**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let P8=class{constructor(o,s,c,h){if(this.subscribe=!1,this.provided=!1,this.value=void 0,this.t=(d,m)=>{this.unsubscribe&&(this.unsubscribe!==m&&(this.provided=!1,this.unsubscribe()),this.subscribe||this.unsubscribe()),this.value=d,this.host.requestUpdate(),this.provided&&!this.subscribe||(this.provided=!0,this.callback&&this.callback(d,m)),this.unsubscribe=m},this.host=o,s.context!==void 0){const d=s;this.context=d.context,this.callback=d.callback,this.subscribe=d.subscribe??!1}else this.context=s,this.callback=c,this.subscribe=h??!1;this.host.addController(this)}hostConnected(){this.dispatchRequest()}hostDisconnected(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=void 0)}dispatchRequest(){this.host.dispatchEvent(new D8(this.context,this.t,this.subscribe))}};/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let tV=class{get value(){return this.o}set value(o){this.setValue(o)}setValue(o,s=!1){const c=s||!Object.is(o,this.o);this.o=o,c&&this.updateObservers()}constructor(o){this.subscriptions=new Map,this.updateObservers=()=>{for(const[s,{disposer:c}]of this.subscriptions)s(this.o,c)},o!==void 0&&(this.value=o)}addCallback(o,s,c){if(!c)return void o(this.value);this.subscriptions.has(o)||this.subscriptions.set(o,{disposer:()=>{this.subscriptions.delete(o)},consumerHost:s});const{disposer:h}=this.subscriptions.get(o);o(this.value,h)}clearCallbacks(){this.subscriptions.clear()}};/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let nV=class extends Event{constructor(o){super("context-provider",{bubbles:!0,composed:!0}),this.context=o}},Sx=class extends tV{constructor(o,s,c){var h,d;super(s.context!==void 0?s.initialValue:c),this.onContextRequest=m=>{const b=m.composedPath()[0];m.context===this.context&&b!==this.host&&(m.stopPropagation(),this.addCallback(m.callback,b,m.subscribe))},this.onProviderRequest=m=>{const b=m.composedPath()[0];if(m.context!==this.context||b===this.host)return;const f=new Set;for(const[A,{consumerHost:M}]of this.subscriptions)f.has(A)||(f.add(A),M.dispatchEvent(new D8(this.context,A,!0)));m.stopPropagation()},this.host=o,s.context!==void 0?this.context=s.context:this.context=s,this.attachListeners(),(d=(h=this.host).addController)==null||d.call(h,this)}attachListeners(){this.host.addEventListener("context-request",this.onContextRequest),this.host.addEventListener("context-provider",this.onProviderRequest)}hostConnected(){this.host.dispatchEvent(new nV(this.context))}};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function rV({context:o}){return(s,c)=>{const h=new WeakMap;if(typeof c=="object")return c.addInitializer(function(){h.set(this,new Sx(this,{context:o}))}),{get(){return s.get.call(this)},set(d){var m;return(m=h.get(this))==null||m.setValue(d),s.set.call(this,d)},init(d){var m;return(m=h.get(this))==null||m.setValue(d),d}};{s.constructor.addInitializer(b=>{h.set(b,new Sx(b,{context:o}))});const d=Object.getOwnPropertyDescriptor(s,c);let m;if(d===void 0){const b=new WeakMap;m={get(){return b.get(this)},set(f){h.get(this).setValue(f),b.set(this,f)},configurable:!0,enumerable:!0}}else{const b=d.set;m={...d,set(f){h.get(this).setValue(f),b?.call(this,f)}}}return void Object.defineProperty(s,c,m)}}}/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function Tr({context:o,subscribe:s}){return(c,h)=>{typeof h=="object"?h.addInitializer(function(){new P8(this,{context:o,callback:d=>{c.set.call(this,d)},subscribe:s})}):c.constructor.addInitializer(d=>{new P8(d,{context:o,callback:m=>{d[h]=m},subscribe:s})})}}var iV=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function L8(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var R8={};/*! codem-isoboxer v0.3.10 https://github.com/madebyhiro/codem-isoboxer/blob/master/LICENSE.txt */(function(o){var s={};s.parseBuffer=function(d){return new c(d).parse()},s.addBoxProcessor=function(d,m){typeof d!="string"||typeof m!="function"||(h.prototype._boxProcessors[d]=m)},s.createFile=function(){return new c},s.createBox=function(d,m,b){var f=h.create(d);return m&&m.append(f,b),f},s.createFullBox=function(d,m,b){var f=s.createBox(d,m,b);return f.version=0,f.flags=0,f},s.Utils={},s.Utils.dataViewToString=function(d,m){var b=m||"utf-8";if(typeof TextDecoder<"u")return new TextDecoder(b).decode(d);var f=[],A=0;if(b==="utf-8")for(;A<d.byteLength;){var M=d.getUint8(A++);M<128||(M<224?(M=(M&31)<<6,M|=d.getUint8(A++)&63):M<240?(M=(M&15)<<12,M|=(d.getUint8(A++)&63)<<6,M|=d.getUint8(A++)&63):(M=(M&7)<<18,M|=(d.getUint8(A++)&63)<<12,M|=(d.getUint8(A++)&63)<<6,M|=d.getUint8(A++)&63)),f.push(String.fromCharCode(M))}else for(;A<d.byteLength;)f.push(String.fromCharCode(d.getUint8(A++)));return f.join("")},s.Utils.utf8ToByteArray=function(d){var m,b;if(typeof TextEncoder<"u")m=new TextEncoder().encode(d);else for(m=[],b=0;b<d.length;++b){var f=d.charCodeAt(b);f<128?m.push(f):f<2048?(m.push(192|f>>6),m.push(128|63&f)):f<65536?(m.push(224|f>>12),m.push(128|63&f>>6),m.push(128|63&f)):(m.push(240|f>>18),m.push(128|63&f>>12),m.push(128|63&f>>6),m.push(128|63&f))}return m},s.Utils.appendBox=function(d,m,b){if(m._offset=d._cursor.offset,m._root=d._root?d._root:d,m._raw=d._raw,m._parent=d,b!==-1){if(b==null){d.boxes.push(m);return}var f=-1,A;if(typeof b=="number")f=b;else{if(typeof b=="string")A=b;else if(typeof b=="object"&&b.type)A=b.type;else{d.boxes.push(m);return}for(var M=0;M<d.boxes.length;M++)if(A===d.boxes[M].type){f=M+1;break}}d.boxes.splice(f,0,m)}},o.parseBuffer=s.parseBuffer,o.addBoxProcessor=s.addBoxProcessor,o.createFile=s.createFile,o.createBox=s.createBox,o.createFullBox=s.createFullBox,o.Utils=s.Utils,s.Cursor=function(d){this.offset=typeof d>"u"?0:d};var c=function(d){this._cursor=new s.Cursor,this.boxes=[],d&&(this._raw=new DataView(d))};c.prototype.fetch=function(d){var m=this.fetchAll(d,!0);return m.length?m[0]:null},c.prototype.fetchAll=function(d,m){var b=[];return c._sweep.call(this,d,b,m),b},c.prototype.parse=function(){for(this._cursor.offset=0,this.boxes=[];this._cursor.offset<this._raw.byteLength;){var d=h.parse(this);if(typeof d.type>"u")break;this.boxes.push(d)}return this},c._sweep=function(d,m,b){this.type&&this.type==d&&m.push(this);for(var f in this.boxes){if(m.length&&b)return;c._sweep.call(this.boxes[f],d,m,b)}},c.prototype.write=function(){var d=0,m;for(m=0;m<this.boxes.length;m++)d+=this.boxes[m].getLength(!1);var b=new Uint8Array(d);for(this._rawo=new DataView(b.buffer),this.bytes=b,this._cursor.offset=0,m=0;m<this.boxes.length;m++)this.boxes[m].write();return b.buffer},c.prototype.append=function(d,m){s.Utils.appendBox(this,d,m)};var h=function(){this._cursor=new s.Cursor};h.parse=function(d){var m=new h;return m._offset=d._cursor.offset,m._root=d._root?d._root:d,m._raw=d._raw,m._parent=d,m._parseBox(),d._cursor.offset=m._raw.byteOffset+m._raw.byteLength,m},h.create=function(d){var m=new h;return m.type=d,m.boxes=[],m},h.prototype._boxContainers=["dinf","edts","mdia","meco","mfra","minf","moof","moov","mvex","stbl","strk","traf","trak","tref","udta","vttc","sinf","schi","encv","enca","meta","grpl","prsl"],h.prototype._boxProcessors={},h.prototype._procField=function(d,m,b){this._parsing?this[d]=this._readField(m,b):this._writeField(m,b,this[d])},h.prototype._procFieldArray=function(d,m,b,f){var A;if(this._parsing)for(this[d]=[],A=0;A<m;A++)this[d][A]=this._readField(b,f);else for(A=0;A<this[d].length;A++)this._writeField(b,f,this[d][A])},h.prototype._procFullBox=function(){this._procField("version","uint",8),this._procField("flags","uint",24)},h.prototype._procEntries=function(d,m,b){var f;if(this._parsing)for(this[d]=[],f=0;f<m;f++)this[d].push({}),b.call(this,this[d][f]);else for(f=0;f<m;f++)b.call(this,this[d][f])},h.prototype._procSubEntries=function(d,m,b,f){var A;if(this._parsing)for(d[m]=[],A=0;A<b;A++)d[m].push({}),f.call(this,d[m][A]);else for(A=0;A<b;A++)f.call(this,d[m][A])},h.prototype._procEntryField=function(d,m,b,f){this._parsing?d[m]=this._readField(b,f):this._writeField(b,f,d[m])},h.prototype._procSubBoxes=function(d,m){var b;if(this._parsing)for(this[d]=[],b=0;b<m;b++)this[d].push(h.parse(this));else for(b=0;b<m;b++)this._rawo?this[d][b].write():this.size+=this[d][b].getLength()},h.prototype._readField=function(d,m){switch(d){case"uint":return this._readUint(m);case"int":return this._readInt(m);case"template":return this._readTemplate(m);case"string":return m===-1?this._readTerminatedString():this._readString(m);case"data":return this._readData(m);case"utf8":return this._readUTF8String();case"utf8string":return this._readUTF8TerminatedString();default:return-1}},h.prototype._readInt=function(d){var m=null,b=this._cursor.offset-this._raw.byteOffset;switch(d){case 8:m=this._raw.getInt8(b);break;case 16:m=this._raw.getInt16(b);break;case 32:m=this._raw.getInt32(b);break;case 64:var f=this._raw.getInt32(b),A=this._raw.getInt32(b+4);m=f*Math.pow(2,32)+A;break}return this._cursor.offset+=d>>3,m},h.prototype._readUint=function(d){var m=null,b=this._cursor.offset-this._raw.byteOffset,f,A;switch(d){case 8:m=this._raw.getUint8(b);break;case 16:m=this._raw.getUint16(b);break;case 24:f=this._raw.getUint16(b),A=this._raw.getUint8(b+2),m=(f<<8)+A;break;case 32:m=this._raw.getUint32(b);break;case 64:f=this._raw.getUint32(b),A=this._raw.getUint32(b+4),m=f*Math.pow(2,32)+A;break}return this._cursor.offset+=d>>3,m},h.prototype._readString=function(d){for(var m="",b=0;b<d;b++){var f=this._readUint(8);m+=String.fromCharCode(f)}return m},h.prototype._readTemplate=function(d){var m=this._readUint(d/2),b=this._readUint(d/2);return m+b/Math.pow(2,d/2)},h.prototype._readTerminatedString=function(){for(var d="";this._cursor.offset-this._offset<this._raw.byteLength;){var m=this._readUint(8);if(m===0)break;d+=String.fromCharCode(m)}return d},h.prototype._readData=function(d){var m=d>0?d:this._raw.byteLength-(this._cursor.offset-this._offset);if(m>0){var b=new Uint8Array(this._raw.buffer,this._cursor.offset,m);return this._cursor.offset+=m,b}else return null},h.prototype._readUTF8String=function(){var d=this._raw.byteLength-(this._cursor.offset-this._offset),m=null;return d>0&&(m=new DataView(this._raw.buffer,this._cursor.offset,d),this._cursor.offset+=d),m&&s.Utils.dataViewToString(m)},h.prototype._readUTF8TerminatedString=function(){var d=this._raw.byteLength-(this._cursor.offset-this._offset),m=null;if(d>0){m=new DataView(this._raw.buffer,this._cursor.offset,d);var b;for(b=0;b<d&&m.getUint8(b)!==0;b++);m=new DataView(this._raw.buffer,this._cursor.offset,b),this._cursor.offset+=Math.min(b+1,d)}return m&&s.Utils.dataViewToString(m)},h.prototype._parseBox=function(){if(this._parsing=!0,this._cursor.offset=this._offset,this._offset+8>this._raw.buffer.byteLength){this._root._incomplete=!0;return}switch(this._procField("size","uint",32),this._procField("type","string",4),this.size===1&&this._procField("largesize","uint",64),this.type==="uuid"&&this._procFieldArray("usertype",16,"uint",8),this.size){case 0:this._raw=new DataView(this._raw.buffer,this._offset);break;case 1:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.largesize);break;default:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.size)}this._incomplete||(this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),this._boxContainers.indexOf(this.type)!==-1?this._parseContainerBox():this._data=this._readData())},h.prototype._parseFullBox=function(){this.version=this._readUint(8),this.flags=this._readUint(24)},h.prototype._parseContainerBox=function(){for(this.boxes=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.boxes.push(h.parse(this))},h.prototype.append=function(d,m){s.Utils.appendBox(this,d,m)},h.prototype.getLength=function(){if(this._parsing=!1,this._rawo=null,this.size=0,this._procField("size","uint",32),this._procField("type","string",4),this.size===1&&this._procField("largesize","uint",64),this.type==="uuid"&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),this._boxContainers.indexOf(this.type)!==-1)for(var d=0;d<this.boxes.length;d++)this.size+=this.boxes[d].getLength();return this._data&&this._writeData(this._data),this.size},h.prototype.write=function(){switch(this._parsing=!1,this._cursor.offset=this._parent._cursor.offset,this.size){case 0:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.parent._rawo.byteLength-this._cursor.offset);break;case 1:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.largesize);break;default:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.size)}if(this._procField("size","uint",32),this._procField("type","string",4),this.size===1&&this._procField("largesize","uint",64),this.type==="uuid"&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),this._boxContainers.indexOf(this.type)!==-1)for(var d=0;d<this.boxes.length;d++)this.boxes[d].write();return this._data&&this._writeData(this._data),this._parent._cursor.offset+=this.size,this.size},h.prototype._writeInt=function(d,m){if(this._rawo){var b=this._cursor.offset-this._rawo.byteOffset;switch(d){case 8:this._rawo.setInt8(b,m);break;case 16:this._rawo.setInt16(b,m);break;case 32:this._rawo.setInt32(b,m);break;case 64:var f=Math.floor(m/Math.pow(2,32)),A=m-f*Math.pow(2,32);this._rawo.setUint32(b,f),this._rawo.setUint32(b+4,A);break}this._cursor.offset+=d>>3}else this.size+=d>>3},h.prototype._writeUint=function(d,m){if(this._rawo){var b=this._cursor.offset-this._rawo.byteOffset,f,A;switch(d){case 8:this._rawo.setUint8(b,m);break;case 16:this._rawo.setUint16(b,m);break;case 24:f=(m&16776960)>>8,A=m&255,this._rawo.setUint16(b,f),this._rawo.setUint8(b+2,A);break;case 32:this._rawo.setUint32(b,m);break;case 64:f=Math.floor(m/Math.pow(2,32)),A=m-f*Math.pow(2,32),this._rawo.setUint32(b,f),this._rawo.setUint32(b+4,A);break}this._cursor.offset+=d>>3}else this.size+=d>>3},h.prototype._writeString=function(d,m){for(var b=0;b<d;b++)this._writeUint(8,m.charCodeAt(b))},h.prototype._writeTerminatedString=function(d){if(d.length!==0){for(var m=0;m<d.length;m++)this._writeUint(8,d.charCodeAt(m));this._writeUint(8,0)}},h.prototype._writeTemplate=function(d,m){var b=Math.floor(m),f=(m-b)*Math.pow(2,d/2);this._writeUint(d/2,b),this._writeUint(d/2,f)},h.prototype._writeData=function(d){var m;if(d)if(this._rawo){if(d instanceof Array){for(var b=this._cursor.offset-this._rawo.byteOffset,m=0;m<d.length;m++)this._rawo.setInt8(b+m,d[m]);this._cursor.offset+=d.length}d instanceof Uint8Array&&(this._root.bytes.set(d,this._cursor.offset),this._cursor.offset+=d.length)}else this.size+=d.length},h.prototype._writeUTF8String=function(d){var m=s.Utils.utf8ToByteArray(d);if(this._rawo)for(var b=new DataView(this._rawo.buffer,this._cursor.offset,m.length),f=0;f<m.length;f++)b.setUint8(f,m[f]);else this.size+=m.length},h.prototype._writeField=function(d,m,b){switch(d){case"uint":this._writeUint(m,b);break;case"int":this._writeInt(m,b);break;case"template":this._writeTemplate(m,b);break;case"string":m==-1?this._writeTerminatedString(b):this._writeString(m,b);break;case"data":this._writeData(b);break;case"utf8":this._writeUTF8String(b);break}},h.prototype._boxProcessors.ardi=function(){this._procFullBox(),this._procField("audio_rendering_indication","uint",8)},h.prototype._boxProcessors.avc1=h.prototype._boxProcessors.avc2=h.prototype._boxProcessors.avc3=h.prototype._boxProcessors.avc4=h.prototype._boxProcessors.hvc1=h.prototype._boxProcessors.hev1=h.prototype._boxProcessors.encv=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procField("pre_defined1","uint",16),this._procField("reserved2","uint",16),this._procFieldArray("pre_defined2",3,"uint",32),this._procField("width","uint",16),this._procField("height","uint",16),this._procField("horizresolution","template",32),this._procField("vertresolution","template",32),this._procField("reserved3","uint",32),this._procField("frame_count","uint",16),this._procFieldArray("compressorname",32,"uint",8),this._procField("depth","uint",16),this._procField("pre_defined3","int",16),this._procField("config","data",-1)},h.prototype._boxProcessors.ctts=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(d){this._procEntryField(d,"sample_count","uint",32),this._procEntryField(d,"sample_offset",this.version===1?"int":"uint",32)})},h.prototype._boxProcessors.dref=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},h.prototype._boxProcessors.elng=function(){this._procFullBox(),this._procField("extended_language","utf8string")},h.prototype._boxProcessors.elst=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(d){this._procEntryField(d,"segment_duration","uint",this.version===1?64:32),this._procEntryField(d,"media_time","int",this.version===1?64:32),this._procEntryField(d,"media_rate_integer","int",16),this._procEntryField(d,"media_rate_fraction","int",16)})},h.prototype._boxProcessors.emsg=function(){this._procFullBox(),this.version==1?(this._procField("timescale","uint",32),this._procField("presentation_time","uint",64),this._procField("event_duration","uint",32),this._procField("id","uint",32),this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1)):(this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1),this._procField("timescale","uint",32),this._procField("presentation_time_delta","uint",32),this._procField("event_duration","uint",32),this._procField("id","uint",32)),this._procField("message_data","data",-1)},h.prototype._boxProcessors.free=h.prototype._boxProcessors.skip=function(){this._procField("data","data",-1)},h.prototype._boxProcessors.frma=function(){this._procField("data_format","uint",32)},h.prototype._boxProcessors.ftyp=h.prototype._boxProcessors.styp=function(){this._procField("major_brand","string",4),this._procField("minor_version","uint",32);var d=-1;this._parsing&&(d=(this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset))/4),this._procFieldArray("compatible_brands",d,"string",4)},h.prototype._boxProcessors.hdlr=function(){this._procFullBox(),this._procField("pre_defined","uint",32),this._procField("handler_type","string",4),this._procFieldArray("reserved",3,"uint",32),this._procField("name","string",-1)},h.prototype._boxProcessors.imda=function(){this._procField("imda_identifier","uint",32),this._procField("data","data",-1)},h.prototype._boxProcessors.kind=function(){this._procFullBox(),this._procField("schemeURI","utf8string"),this._procField("value","utf8string")},h.prototype._boxProcessors.labl=function(){this._procFullBox(),this.is_group_label=(this.flags&1)!=0,this._procField("label_id","uint",16),this._procField("language","utf8string"),this._procField("label","utf8string")},h.prototype._boxProcessors.mdat=function(){this._procField("data","data",-1)},h.prototype._boxProcessors.mdhd=function(){this._procFullBox(),this._procField("creation_time","uint",this.version==1?64:32),this._procField("modification_time","uint",this.version==1?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",this.version==1?64:32),!this._parsing&&typeof this.language=="string"&&(this.language=this.language.charCodeAt(0)-96<<10|this.language.charCodeAt(1)-96<<5|this.language.charCodeAt(2)-96),this._procField("language","uint",16),this._parsing&&(this.language=String.fromCharCode((this.language>>10&31)+96,(this.language>>5&31)+96,(this.language&31)+96)),this._procField("pre_defined","uint",16)},h.prototype._boxProcessors.mehd=function(){this._procFullBox(),this._procField("fragment_duration","uint",this.version==1?64:32)},h.prototype._boxProcessors.meta=function(){this._procFullBox()},h.prototype._boxProcessors.mfhd=function(){this._procFullBox(),this._procField("sequence_number","uint",32)},h.prototype._boxProcessors.mfro=function(){this._procFullBox(),this._procField("mfra_size","uint",32)},h.prototype._boxProcessors.mp4a=h.prototype._boxProcessors.enca=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procField("channelcount","uint",16),this._procField("samplesize","uint",16),this._procField("pre_defined","uint",16),this._procField("reserved3","uint",16),this._procField("samplerate","template",32),this._procField("esds","data",-1)},h.prototype._boxProcessors.mvhd=function(){this._procFullBox(),this._procField("creation_time","uint",this.version==1?64:32),this._procField("modification_time","uint",this.version==1?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",this.version==1?64:32),this._procField("rate","template",32),this._procField("volume","template",16),this._procField("reserved1","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procFieldArray("matrix",9,"template",32),this._procFieldArray("pre_defined",6,"uint",32),this._procField("next_track_ID","uint",32)},h.prototype._boxProcessors.payl=function(){this._procField("cue_text","utf8")},h.prototype._boxProcessors.prft=function(){this._procFullBox(),this._procField("reference_track_ID","uint",32),this._procField("ntp_timestamp_sec","uint",32),this._procField("ntp_timestamp_frac","uint",32),this._procField("media_time","uint",this.version==1?64:32)},h.prototype._boxProcessors.prsl=function(){this._procFullBox(),this._procField("group_id","uint",32),this._procField("num_entities_in_group","uint",32),this._procEntries("entities",this.num_entities_in_group,function(d){this._procEntryField(d,"entity_id","uint",32)}),this.flags&4096&&this._procField("preselection_tag","utf8string"),this.flags&8192&&this._procField("selection_priority","uint",8),this.flags&16384&&this._procField("interleaving_tag","utf8string")},h.prototype._boxProcessors.pssh=function(){this._procFullBox(),this._procFieldArray("SystemID",16,"uint",8),this._procField("DataSize","uint",32),this._procFieldArray("Data",this.DataSize,"uint",8)},h.prototype._boxProcessors.schm=function(){this._procFullBox(),this._procField("scheme_type","uint",32),this._procField("scheme_version","uint",32),this.flags&1&&this._procField("scheme_uri","string",-1)},h.prototype._boxProcessors.sdtp=function(){this._procFullBox();var d=-1;this._parsing&&(d=this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset)),this._procFieldArray("sample_dependency_table",d,"uint",8)},h.prototype._boxProcessors.sidx=function(){this._procFullBox(),this._procField("reference_ID","uint",32),this._procField("timescale","uint",32),this._procField("earliest_presentation_time","uint",this.version==1?64:32),this._procField("first_offset","uint",this.version==1?64:32),this._procField("reserved","uint",16),this._procField("reference_count","uint",16),this._procEntries("references",this.reference_count,function(d){this._parsing||(d.reference=(d.reference_type&1)<<31,d.reference|=d.referenced_size&2147483647,d.sap=(d.starts_with_SAP&1)<<31,d.sap|=(d.SAP_type&3)<<28,d.sap|=d.SAP_delta_time&268435455),this._procEntryField(d,"reference","uint",32),this._procEntryField(d,"subsegment_duration","uint",32),this._procEntryField(d,"sap","uint",32),this._parsing&&(d.reference_type=d.reference>>31&1,d.referenced_size=d.reference&2147483647,d.starts_with_SAP=d.sap>>31&1,d.SAP_type=d.sap>>28&7,d.SAP_delta_time=d.sap&268435455)})},h.prototype._boxProcessors.smhd=function(){this._procFullBox(),this._procField("balance","uint",16),this._procField("reserved","uint",16)},h.prototype._boxProcessors.ssix=function(){this._procFullBox(),this._procField("subsegment_count","uint",32),this._procEntries("subsegments",this.subsegment_count,function(d){this._procEntryField(d,"ranges_count","uint",32),this._procSubEntries(d,"ranges",d.ranges_count,function(m){this._procEntryField(m,"level","uint",8),this._procEntryField(m,"range_size","uint",24)})})},h.prototype._boxProcessors.stsd=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},h.prototype._boxProcessors.sttg=function(){this._procField("settings","utf8")},h.prototype._boxProcessors.stts=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(d){this._procEntryField(d,"sample_count","uint",32),this._procEntryField(d,"sample_delta","uint",32)})},h.prototype._boxProcessors.subs=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(d){this._procEntryField(d,"sample_delta","uint",32),this._procEntryField(d,"subsample_count","uint",16),this._procSubEntries(d,"subsamples",d.subsample_count,function(m){this._procEntryField(m,"subsample_size","uint",this.version===1?32:16),this._procEntryField(m,"subsample_priority","uint",8),this._procEntryField(m,"discardable","uint",8),this._procEntryField(m,"codec_specific_parameters","uint",32)})})},h.prototype._boxProcessors.tenc=function(){this._procFullBox(),this._procField("default_IsEncrypted","uint",24),this._procField("default_IV_size","uint",8),this._procFieldArray("default_KID",16,"uint",8)},h.prototype._boxProcessors.tfdt=function(){this._procFullBox(),this._procField("baseMediaDecodeTime","uint",this.version==1?64:32)},h.prototype._boxProcessors.tfhd=function(){this._procFullBox(),this._procField("track_ID","uint",32),this.flags&1&&this._procField("base_data_offset","uint",64),this.flags&2&&this._procField("sample_description_offset","uint",32),this.flags&8&&this._procField("default_sample_duration","uint",32),this.flags&16&&this._procField("default_sample_size","uint",32),this.flags&32&&this._procField("default_sample_flags","uint",32)},h.prototype._boxProcessors.tfra=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._parsing||(this.reserved=0,this.reserved|=(this.length_size_of_traf_num&48)<<4,this.reserved|=(this.length_size_of_trun_num&12)<<2,this.reserved|=this.length_size_of_sample_num&3),this._procField("reserved","uint",32),this._parsing&&(this.length_size_of_traf_num=(this.reserved&48)>>4,this.length_size_of_trun_num=(this.reserved&12)>>2,this.length_size_of_sample_num=this.reserved&3),this._procField("number_of_entry","uint",32),this._procEntries("entries",this.number_of_entry,function(d){this._procEntryField(d,"time","uint",this.version===1?64:32),this._procEntryField(d,"moof_offset","uint",this.version===1?64:32),this._procEntryField(d,"traf_number","uint",(this.length_size_of_traf_num+1)*8),this._procEntryField(d,"trun_number","uint",(this.length_size_of_trun_num+1)*8),this._procEntryField(d,"sample_number","uint",(this.length_size_of_sample_num+1)*8)})},h.prototype._boxProcessors.tkhd=function(){this._procFullBox(),this._procField("creation_time","uint",this.version==1?64:32),this._procField("modification_time","uint",this.version==1?64:32),this._procField("track_ID","uint",32),this._procField("reserved1","uint",32),this._procField("duration","uint",this.version==1?64:32),this._procFieldArray("reserved2",2,"uint",32),this._procField("layer","uint",16),this._procField("alternate_group","uint",16),this._procField("volume","template",16),this._procField("reserved3","uint",16),this._procFieldArray("matrix",9,"template",32),this._procField("width","template",32),this._procField("height","template",32)},h.prototype._boxProcessors.trex=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._procField("default_sample_description_index","uint",32),this._procField("default_sample_duration","uint",32),this._procField("default_sample_size","uint",32),this._procField("default_sample_flags","uint",32)},h.prototype._boxProcessors.trun=function(){this._procFullBox(),this._procField("sample_count","uint",32),this.flags&1&&this._procField("data_offset","int",32),this.flags&4&&this._procField("first_sample_flags","uint",32),this._procEntries("samples",this.sample_count,function(d){this.flags&256&&this._procEntryField(d,"sample_duration","uint",32),this.flags&512&&this._procEntryField(d,"sample_size","uint",32),this.flags&1024&&this._procEntryField(d,"sample_flags","uint",32),this.flags&2048&&this._procEntryField(d,"sample_composition_time_offset",this.version===1?"int":"uint",32)})},h.prototype._boxProcessors["url "]=h.prototype._boxProcessors["urn "]=function(){this._procFullBox(),this.type==="urn "&&this._procField("name","string",-1),this._procField("location","string",-1)},h.prototype._boxProcessors.vlab=function(){this._procField("source_label","utf8")},h.prototype._boxProcessors.vmhd=function(){this._procFullBox(),this._procField("graphicsmode","uint",16),this._procFieldArray("opcolor",3,"uint",16)},h.prototype._boxProcessors.vttC=function(){this._procField("config","utf8")},h.prototype._boxProcessors.vtte=function(){}})(R8);const aV=L8(R8);/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const d0=globalThis,kx=d0.ShadowRoot&&(d0.ShadyCSS===void 0||d0.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,Tx=Symbol(),N8=new WeakMap;let U8=class{constructor(o,s,c){if(this._$cssResult$=!0,c!==Tx)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=o,this.t=s}get styleSheet(){let o=this.o;const s=this.t;if(kx&&o===void 0){const c=s!==void 0&&s.length===1;c&&(o=N8.get(s)),o===void 0&&((this.o=o=new CSSStyleSheet).replaceSync(this.cssText),c&&N8.set(s,o))}return o}toString(){return this.cssText}};const Ax=o=>new U8(typeof o=="string"?o:o+"",void 0,Tx),Cn=(o,...s)=>{const c=o.length===1?o[0]:s.reduce((h,d,m)=>h+(b=>{if(b._$cssResult$===!0)return b.cssText;if(typeof b=="number")return b;throw Error("Value passed to 'css' function must be a 'css' function result: "+b+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(d)+o[m+1],o[0]);return new U8(c,o,Tx)},oV=(o,s)=>{if(kx)o.adoptedStyleSheets=s.map(c=>c instanceof CSSStyleSheet?c:c.styleSheet);else for(const c of s){const h=document.createElement("style"),d=d0.litNonce;d!==void 0&&h.setAttribute("nonce",d),h.textContent=c.cssText,o.appendChild(h)}},O8=kx?o=>o:o=>o instanceof CSSStyleSheet?(s=>{let c="";for(const h of s.cssRules)c+=h.cssText;return Ax(c)})(o):o;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:sV,defineProperty:uV,getOwnPropertyDescriptor:lV,getOwnPropertyNames:cV,getOwnPropertySymbols:dV,getPrototypeOf:pV}=Object,wd=globalThis,j8=wd.trustedTypes,hV=j8?j8.emptyScript:"",F8=wd.reactiveElementPolyfillSupport,sf=(o,s)=>o,p0={toAttribute(o,s){switch(s){case Boolean:o=o?hV:null;break;case Object:case Array:o=o==null?o:JSON.stringify(o)}return o},fromAttribute(o,s){let c=o;switch(s){case Boolean:c=o!==null;break;case Number:c=o===null?null:Number(o);break;case Object:case Array:try{c=JSON.parse(o)}catch{c=null}}return c}},Ex=(o,s)=>!sV(o,s),B8={attribute:!0,type:String,converter:p0,reflect:!1,hasChanged:Ex};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),wd.litPropertyMetadata??(wd.litPropertyMetadata=new WeakMap);class xd extends HTMLElement{static addInitializer(s){this._$Ei(),(this.l??(this.l=[])).push(s)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(s,c=B8){if(c.state&&(c.attribute=!1),this._$Ei(),this.elementProperties.set(s,c),!c.noAccessor){const h=Symbol(),d=this.getPropertyDescriptor(s,h,c);d!==void 0&&uV(this.prototype,s,d)}}static getPropertyDescriptor(s,c,h){const{get:d,set:m}=lV(this.prototype,s)??{get(){return this[c]},set(b){this[c]=b}};return{get(){return d?.call(this)},set(b){const f=d?.call(this);m.call(this,b),this.requestUpdate(s,f,h)},configurable:!0,enumerable:!0}}static getPropertyOptions(s){return this.elementProperties.get(s)??B8}static _$Ei(){if(this.hasOwnProperty(sf("elementProperties")))return;const s=pV(this);s.finalize(),s.l!==void 0&&(this.l=[...s.l]),this.elementProperties=new Map(s.elementProperties)}static finalize(){if(this.hasOwnProperty(sf("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(sf("properties"))){const c=this.properties,h=[...cV(c),...dV(c)];for(const d of h)this.createProperty(d,c[d])}const s=this[Symbol.metadata];if(s!==null){const c=litPropertyMetadata.get(s);if(c!==void 0)for(const[h,d]of c)this.elementProperties.set(h,d)}this._$Eh=new Map;for(const[c,h]of this.elementProperties){const d=this._$Eu(c,h);d!==void 0&&this._$Eh.set(d,c)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(s){const c=[];if(Array.isArray(s)){const h=new Set(s.flat(1/0).reverse());for(const d of h)c.unshift(O8(d))}else s!==void 0&&c.push(O8(s));return c}static _$Eu(s,c){const h=c.attribute;return h===!1?void 0:typeof h=="string"?h:typeof s=="string"?s.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var s;this._$ES=new Promise(c=>this.enableUpdating=c),this._$AL=new Map,this._$E_(),this.requestUpdate(),(s=this.constructor.l)==null||s.forEach(c=>c(this))}addController(s){var c;(this._$EO??(this._$EO=new Set)).add(s),this.renderRoot!==void 0&&this.isConnected&&((c=s.hostConnected)==null||c.call(s))}removeController(s){var c;(c=this._$EO)==null||c.delete(s)}_$E_(){const s=new Map,c=this.constructor.elementProperties;for(const h of c.keys())this.hasOwnProperty(h)&&(s.set(h,this[h]),delete this[h]);s.size>0&&(this._$Ep=s)}createRenderRoot(){const s=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return oV(s,this.constructor.elementStyles),s}connectedCallback(){var s;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(s=this._$EO)==null||s.forEach(c=>{var h;return(h=c.hostConnected)==null?void 0:h.call(c)})}enableUpdating(s){}disconnectedCallback(){var s;(s=this._$EO)==null||s.forEach(c=>{var h;return(h=c.hostDisconnected)==null?void 0:h.call(c)})}attributeChangedCallback(s,c,h){this._$AK(s,h)}_$EC(s,c){var h;const d=this.constructor.elementProperties.get(s),m=this.constructor._$Eu(s,d);if(m!==void 0&&d.reflect===!0){const b=(((h=d.converter)==null?void 0:h.toAttribute)!==void 0?d.converter:p0).toAttribute(c,d.type);this._$Em=s,b==null?this.removeAttribute(m):this.setAttribute(m,b),this._$Em=null}}_$AK(s,c){var h;const d=this.constructor,m=d._$Eh.get(s);if(m!==void 0&&this._$Em!==m){const b=d.getPropertyOptions(m),f=typeof b.converter=="function"?{fromAttribute:b.converter}:((h=b.converter)==null?void 0:h.fromAttribute)!==void 0?b.converter:p0;this._$Em=m,this[m]=f.fromAttribute(c,b.type),this._$Em=null}}requestUpdate(s,c,h){if(s!==void 0){if(h??(h=this.constructor.getPropertyOptions(s)),!(h.hasChanged??Ex)(this[s],c))return;this.P(s,c,h)}this.isUpdatePending===!1&&(this._$ES=this._$ET())}P(s,c,h){this._$AL.has(s)||this._$AL.set(s,c),h.reflect===!0&&this._$Em!==s&&(this._$Ej??(this._$Ej=new Set)).add(s)}async _$ET(){this.isUpdatePending=!0;try{await this._$ES}catch(c){Promise.reject(c)}const s=this.scheduleUpdate();return s!=null&&await s,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var s;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[m,b]of this._$Ep)this[m]=b;this._$Ep=void 0}const d=this.constructor.elementProperties;if(d.size>0)for(const[m,b]of d)b.wrapped!==!0||this._$AL.has(m)||this[m]===void 0||this.P(m,this[m],b)}let c=!1;const h=this._$AL;try{c=this.shouldUpdate(h),c?(this.willUpdate(h),(s=this._$EO)==null||s.forEach(d=>{var m;return(m=d.hostUpdate)==null?void 0:m.call(d)}),this.update(h)):this._$EU()}catch(d){throw c=!1,this._$EU(),d}c&&this._$AE(h)}willUpdate(s){}_$AE(s){var c;(c=this._$EO)==null||c.forEach(h=>{var d;return(d=h.hostUpdated)==null?void 0:d.call(h)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(s)),this.updated(s)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(s){return!0}update(s){this._$Ej&&(this._$Ej=this._$Ej.forEach(c=>this._$EC(c,this[c]))),this._$EU()}updated(s){}firstUpdated(s){}}xd.elementStyles=[],xd.shadowRootOptions={mode:"open"},xd[sf("elementProperties")]=new Map,xd[sf("finalized")]=new Map,F8?.({ReactiveElement:xd}),(wd.reactiveElementVersions??(wd.reactiveElementVersions=[])).push("2.0.4");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const h0=globalThis,f0=h0.trustedTypes,V8=f0?f0.createPolicy("lit-html",{createHTML:o=>o}):void 0,$8="$lit$",Js=`lit$${Math.random().toFixed(9).slice(2)}$`,z8="?"+Js,fV=`<${z8}>`,ml=document,uf=()=>ml.createComment(""),lf=o=>o===null||typeof o!="object"&&typeof o!="function",Cx=Array.isArray,gV=o=>Cx(o)||typeof o?.[Symbol.iterator]=="function",Ix=`[ 	
\f\r]`,cf=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,H8=/-->/g,q8=/>/g,vl=RegExp(`>|${Ix}(?:([^\\s"'>=/]+)(${Ix}*=${Ix}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),G8=/'/g,K8=/"/g,W8=/^(?:script|style|textarea|title)$/i,mV=o=>(s,...c)=>({_$litType$:o,strings:s,values:c}),At=mV(1),Qs=Symbol.for("lit-noChange"),pr=Symbol.for("lit-nothing"),X8=new WeakMap,yl=ml.createTreeWalker(ml,129);function Y8(o,s){if(!Cx(o)||!o.hasOwnProperty("raw"))throw Error("invalid template strings array");return V8!==void 0?V8.createHTML(s):s}const vV=(o,s)=>{const c=o.length-1,h=[];let d,m=s===2?"<svg>":s===3?"<math>":"",b=cf;for(let f=0;f<c;f++){const A=o[f];let M,D,U=-1,L=0;for(;L<A.length&&(b.lastIndex=L,D=b.exec(A),D!==null);)L=b.lastIndex,b===cf?D[1]==="!--"?b=H8:D[1]!==void 0?b=q8:D[2]!==void 0?(W8.test(D[2])&&(d=RegExp("</"+D[2],"g")),b=vl):D[3]!==void 0&&(b=vl):b===vl?D[0]===">"?(b=d??cf,U=-1):D[1]===void 0?U=-2:(U=b.lastIndex-D[2].length,M=D[1],b=D[3]===void 0?vl:D[3]==='"'?K8:G8):b===K8||b===G8?b=vl:b===H8||b===q8?b=cf:(b=vl,d=void 0);const R=b===vl&&o[f+1].startsWith("/>")?" ":"";m+=b===cf?A+fV:U>=0?(h.push(M),A.slice(0,U)+$8+A.slice(U)+Js+R):A+Js+(U===-2?f:R)}return[Y8(o,m+(o[c]||"<?>")+(s===2?"</svg>":s===3?"</math>":"")),h]};class jg{constructor({strings:s,_$litType$:c},h){let d;this.parts=[];let m=0,b=0;const f=s.length-1,A=this.parts,[M,D]=vV(s,c);if(this.el=jg.createElement(M,h),yl.currentNode=this.el.content,c===2||c===3){const U=this.el.content.firstChild;U.replaceWith(...U.childNodes)}for(;(d=yl.nextNode())!==null&&A.length<f;){if(d.nodeType===1){if(d.hasAttributes())for(const U of d.getAttributeNames())if(U.endsWith($8)){const L=D[b++],R=d.getAttribute(U).split(Js),w=/([.?@])?(.*)/.exec(L);A.push({type:1,index:m,name:w[2],strings:R,ctor:w[1]==="."?bV:w[1]==="?"?wV:w[1]==="@"?xV:g0}),d.removeAttribute(U)}else U.startsWith(Js)&&(A.push({type:6,index:m}),d.removeAttribute(U));if(W8.test(d.tagName)){const U=d.textContent.split(Js),L=U.length-1;if(L>0){d.textContent=f0?f0.emptyScript:"";for(let R=0;R<L;R++)d.append(U[R],uf()),yl.nextNode(),A.push({type:2,index:++m});d.append(U[L],uf())}}}else if(d.nodeType===8)if(d.data===z8)A.push({type:2,index:m});else{let U=-1;for(;(U=d.data.indexOf(Js,U+1))!==-1;)A.push({type:7,index:m}),U+=Js.length-1}m++}}static createElement(s,c){const h=ml.createElement("template");return h.innerHTML=s,h}}function Sd(o,s,c=o,h){var d,m;if(s===Qs)return s;let b=h!==void 0?(d=c.o)==null?void 0:d[h]:c.l;const f=lf(s)?void 0:s._$litDirective$;return b?.constructor!==f&&((m=b?._$AO)==null||m.call(b,!1),f===void 0?b=void 0:(b=new f(o),b._$AT(o,c,h)),h!==void 0?(c.o??(c.o=[]))[h]=b:c.l=b),b!==void 0&&(s=Sd(o,b._$AS(o,s.values),b,h)),s}let yV=class{constructor(o,s){this._$AV=[],this._$AN=void 0,this._$AD=o,this._$AM=s}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(o){const{el:{content:s},parts:c}=this._$AD,h=(o?.creationScope??ml).importNode(s,!0);yl.currentNode=h;let d=yl.nextNode(),m=0,b=0,f=c[0];for(;f!==void 0;){if(m===f.index){let A;f.type===2?A=new Fg(d,d.nextSibling,this,o):f.type===1?A=new f.ctor(d,f.name,f.strings,this,o):f.type===6&&(A=new SV(d,this,o)),this._$AV.push(A),f=c[++b]}m!==f?.index&&(d=yl.nextNode(),m++)}return yl.currentNode=ml,h}p(o){let s=0;for(const c of this._$AV)c!==void 0&&(c.strings!==void 0?(c._$AI(o,c,s),s+=c.strings.length-2):c._$AI(o[s])),s++}};class Fg{get _$AU(){var s;return((s=this._$AM)==null?void 0:s._$AU)??this.v}constructor(s,c,h,d){this.type=2,this._$AH=pr,this._$AN=void 0,this._$AA=s,this._$AB=c,this._$AM=h,this.options=d,this.v=d?.isConnected??!0}get parentNode(){let s=this._$AA.parentNode;const c=this._$AM;return c!==void 0&&s?.nodeType===11&&(s=c.parentNode),s}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(s,c=this){s=Sd(this,s,c),lf(s)?s===pr||s==null||s===""?(this._$AH!==pr&&this._$AR(),this._$AH=pr):s!==this._$AH&&s!==Qs&&this._(s):s._$litType$!==void 0?this.$(s):s.nodeType!==void 0?this.T(s):gV(s)?this.k(s):this._(s)}O(s){return this._$AA.parentNode.insertBefore(s,this._$AB)}T(s){this._$AH!==s&&(this._$AR(),this._$AH=this.O(s))}_(s){this._$AH!==pr&&lf(this._$AH)?this._$AA.nextSibling.data=s:this.T(ml.createTextNode(s)),this._$AH=s}$(s){var c;const{values:h,_$litType$:d}=s,m=typeof d=="number"?this._$AC(s):(d.el===void 0&&(d.el=jg.createElement(Y8(d.h,d.h[0]),this.options)),d);if(((c=this._$AH)==null?void 0:c._$AD)===m)this._$AH.p(h);else{const b=new yV(m,this),f=b.u(this.options);b.p(h),this.T(f),this._$AH=b}}_$AC(s){let c=X8.get(s.strings);return c===void 0&&X8.set(s.strings,c=new jg(s)),c}k(s){Cx(this._$AH)||(this._$AH=[],this._$AR());const c=this._$AH;let h,d=0;for(const m of s)d===c.length?c.push(h=new Fg(this.O(uf()),this.O(uf()),this,this.options)):h=c[d],h._$AI(m),d++;d<c.length&&(this._$AR(h&&h._$AB.nextSibling,d),c.length=d)}_$AR(s=this._$AA.nextSibling,c){var h;for((h=this._$AP)==null?void 0:h.call(this,!1,!0,c);s&&s!==this._$AB;){const d=s.nextSibling;s.remove(),s=d}}setConnected(s){var c;this._$AM===void 0&&(this.v=s,(c=this._$AP)==null||c.call(this,s))}}class g0{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(s,c,h,d,m){this.type=1,this._$AH=pr,this._$AN=void 0,this.element=s,this.name=c,this._$AM=d,this.options=m,h.length>2||h[0]!==""||h[1]!==""?(this._$AH=Array(h.length-1).fill(new String),this.strings=h):this._$AH=pr}_$AI(s,c=this,h,d){const m=this.strings;let b=!1;if(m===void 0)s=Sd(this,s,c,0),b=!lf(s)||s!==this._$AH&&s!==Qs,b&&(this._$AH=s);else{const f=s;let A,M;for(s=m[0],A=0;A<m.length-1;A++)M=Sd(this,f[h+A],c,A),M===Qs&&(M=this._$AH[A]),b||(b=!lf(M)||M!==this._$AH[A]),M===pr?s=pr:s!==pr&&(s+=(M??"")+m[A+1]),this._$AH[A]=M}b&&!d&&this.j(s)}j(s){s===pr?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,s??"")}}class bV extends g0{constructor(){super(...arguments),this.type=3}j(s){this.element[this.name]=s===pr?void 0:s}}class wV extends g0{constructor(){super(...arguments),this.type=4}j(s){this.element.toggleAttribute(this.name,!!s&&s!==pr)}}class xV extends g0{constructor(s,c,h,d,m){super(s,c,h,d,m),this.type=5}_$AI(s,c=this){if((s=Sd(this,s,c,0)??pr)===Qs)return;const h=this._$AH,d=s===pr&&h!==pr||s.capture!==h.capture||s.once!==h.once||s.passive!==h.passive,m=s!==pr&&(h===pr||d);d&&this.element.removeEventListener(this.name,this,h),m&&this.element.addEventListener(this.name,this,s),this._$AH=s}handleEvent(s){var c;typeof this._$AH=="function"?this._$AH.call(((c=this.options)==null?void 0:c.host)??this.element,s):this._$AH.handleEvent(s)}}class SV{constructor(s,c,h){this.element=s,this.type=6,this._$AN=void 0,this._$AM=c,this.options=h}get _$AU(){return this._$AM._$AU}_$AI(s){Sd(this,s)}}const J8=h0.litHtmlPolyfillSupport;J8?.(jg,Fg),(h0.litHtmlVersions??(h0.litHtmlVersions=[])).push("3.2.0");const kV=(o,s,c)=>{const h=c?.renderBefore??s;let d=h._$litPart$;if(d===void 0){const m=c?.renderBefore??null;h._$litPart$=d=new Fg(s.insertBefore(uf(),m),m,void 0,c??{})}return d._$AI(o),d};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class An extends xd{constructor(){super(...arguments),this.renderOptions={host:this},this.o=void 0}createRenderRoot(){var s;const c=super.createRenderRoot();return(s=this.renderOptions).renderBefore??(s.renderBefore=c.firstChild),c}update(s){const c=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(s),this.o=kV(c,this.renderRoot,this.renderOptions)}connectedCallback(){var s;super.connectedCallback(),(s=this.o)==null||s.setConnected(!0)}disconnectedCallback(){var s;super.disconnectedCallback(),(s=this.o)==null||s.setConnected(!1)}render(){return Qs}}var Q8;An._$litElement$=!0,An.finalized=!0,(Q8=globalThis.litElementHydrateSupport)==null||Q8.call(globalThis,{LitElement:An});const Z8=globalThis.litElementPolyfillSupport;Z8?.({LitElement:An}),(globalThis.litElementVersions??(globalThis.litElementVersions=[])).push("4.1.0");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Xn=o=>(s,c)=>{c!==void 0?c.addInitializer(()=>{customElements.define(o,s)}):customElements.define(o,s)};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const TV={attribute:!0,type:String,converter:p0,reflect:!1,hasChanged:Ex},AV=(o=TV,s,c)=>{const{kind:h,metadata:d}=c;let m=globalThis.litPropertyMetadata.get(d);if(m===void 0&&globalThis.litPropertyMetadata.set(d,m=new Map),m.set(c.name,o),h==="accessor"){const{name:b}=c;return{set(f){const A=s.get.call(this);s.set.call(this,f),this.requestUpdate(b,A,o)},init(f){return f!==void 0&&this.P(b,void 0,o),f}}}if(h==="setter"){const{name:b}=c;return function(f){const A=this[b];s.call(this,f),this.requestUpdate(b,A,o)}}throw Error("Unsupported decorator location: "+h)};function tr(o){return(s,c)=>typeof c=="object"?AV(o,s,c):((h,d,m)=>{const b=d.hasOwnProperty(m);return d.constructor.createProperty(m,b?{...h,wrapped:!0}:h),b?Object.getOwnPropertyDescriptor(d,m):void 0})(o,s,c)}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function m0(o){return tr({...o,state:!0,attribute:!1})}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const EV=(o,s,c)=>(c.configurable=!0,c.enumerable=!0,Reflect.decorate&&typeof s!="object"&&Object.defineProperty(o,s,c),c);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function zn(o,s){return(c,h,d)=>{const m=b=>{var f;return((f=b.renderRoot)==null?void 0:f.querySelector(o))??null};return EV(c,h,{get(){return m(this)}})}}var e_={};/*
 @license
 Shaka Player
 Copyright 2016 Google LLC
 SPDX-License-Identifier: Apache-2.0
*/(function(o){(function(){var s=typeof window<"u"?window:iV,c={};(function(d,m,b){var f;function A(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var M=typeof Object.defineProperties=="function"?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};function D(e){e=[typeof globalThis=="object"&&globalThis,e,typeof d=="object"&&d,typeof self=="object"&&self,typeof m=="object"&&m];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}var U=D(this);function L(e,t){if(t)e:{var n=U;e=e.split(".");for(var r=0;r<e.length-1;r++){var i=e[r];if(!(i in n))break e;n=n[i]}e=e[e.length-1],r=n[e],t=t(r),t!=r&&t!=null&&M(n,e,{configurable:!0,writable:!0,value:t})}}L("Symbol",function(e){function t(a){if(this instanceof t)throw new TypeError("Symbol is not a constructor");return new n(r+(a||"")+"_"+i++,a)}function n(a,u){this.g=a,M(this,"description",{configurable:!0,writable:!0,value:u})}if(e)return e;n.prototype.toString=function(){return this.g};var r="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",i=0;return t}),L("Symbol.iterator",function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var t="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),n=0;n<t.length;n++){var r=U[t[n]];typeof r=="function"&&typeof r.prototype[e]!="function"&&M(r.prototype,e,{configurable:!0,writable:!0,value:function(){return R(A(this))}})}return e});function R(e){return e={next:e},e[Symbol.iterator]=function(){return this},e}function w(e){var t=typeof Symbol<"u"&&Symbol.iterator&&e[Symbol.iterator];if(t)return t.call(e);if(typeof e.length=="number")return{next:A(e)};throw Error(String(e)+" is not an iterable or ArrayLike")}function j(e){if(!(e instanceof Array)){e=w(e);for(var t,n=[];!(t=e.next()).done;)n.push(t.value);e=n}return e}var G=typeof Object.create=="function"?Object.create:function(e){function t(){}return t.prototype=e,new t},Z;if(typeof Object.setPrototypeOf=="function")Z=Object.setPrototypeOf;else{var se;e:{var ge={a:!0},he={};try{he.__proto__=ge,se=he.a;break e}catch{}se=!1}Z=se?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var Me=Z;function Te(e,t){if(e.prototype=G(t.prototype),e.prototype.constructor=e,Me)Me(e,t);else for(var n in t)if(n!="prototype")if(Object.defineProperties){var r=Object.getOwnPropertyDescriptor(t,n);r&&Object.defineProperty(e,n,r)}else e[n]=t[n];e.Tk=t.prototype}function re(){this.o=!1,this.l=null,this.h=void 0,this.g=1,this.j=this.m=0,this.A=this.i=null}function Pe(e){if(e.o)throw new TypeError("Generator is already running");e.o=!0}re.prototype.u=function(e){this.h=e};function ke(e,t){e.i={Ng:t,Zg:!0},e.g=e.m||e.j}re.prototype.return=function(e){this.i={return:e},this.g=this.j};function T(e,t,n){return e.g=n,{value:t}}re.prototype.s=function(e){this.g=e};function ae(e){e.g=0}function me(e,t,n){e.m=t,n!=null&&(e.j=n)}function be(e,t){e.m=0,e.j=t||0}function V(e,t,n){e.g=t,e.m=n||0}function W(e,t){return e.m=t||0,t=e.i.Ng,e.i=null,t}function Se(e){e.A=[e.i],e.m=0,e.j=0}function te(e,t){var n=e.A.splice(0)[0];(n=e.i=e.i||n)?n.Zg?e.g=e.m||e.j:n.s!=null&&e.j<n.s?(e.g=n.s,e.i=null):e.g=e.j:e.g=t}function Oe(e){this.g=new re,this.h=e}function He(e,t){Pe(e.g);var n=e.g.l;return n?mt(e,"return"in n?n.return:function(r){return{value:r,done:!0}},t,e.g.return):(e.g.return(t),X(e))}function mt(e,t,n,r){try{var i=t.call(e.g.l,n);if(!(i instanceof Object))throw new TypeError("Iterator result "+i+" is not an object");if(!i.done)return e.g.o=!1,i;var a=i.value}catch(u){return e.g.l=null,ke(e.g,u),X(e)}return e.g.l=null,r.call(e.g,a),X(e)}function X(e){for(;e.g.g;)try{var t=e.h(e.g);if(t)return e.g.o=!1,{value:t.value,done:!1}}catch(n){e.g.h=void 0,ke(e.g,n)}if(e.g.o=!1,e.g.i){if(t=e.g.i,e.g.i=null,t.Zg)throw t.Ng;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function de(e){this.next=function(t){return Pe(e.g),e.g.l?t=mt(e,e.g.l.next,t,e.g.u):(e.g.u(t),t=X(e)),t},this.throw=function(t){return Pe(e.g),e.g.l?t=mt(e,e.g.l.throw,t,e.g.u):(ke(e.g,t),t=X(e)),t},this.return=function(t){return He(e,t)},this[Symbol.iterator]=function(){return this}}function Q(e){function t(r){return e.next(r)}function n(r){return e.throw(r)}return new Promise(function(r,i){function a(u){u.done?r(u.value):Promise.resolve(u.value).then(t,n).then(a,i)}a(e.next())})}function P(e){return Q(new de(new Oe(e)))}function Re(){for(var e=Number(this),t=[],n=e;n<arguments.length;n++)t[n-e]=arguments[n];return t}L("Promise",function(e){function t(u){this.h=0,this.i=void 0,this.g=[],this.o=!1;var l=this.j();try{u(l.resolve,l.reject)}catch(p){l.reject(p)}}function n(){this.g=null}function r(u){return u instanceof t?u:new t(function(l){l(u)})}if(e)return e;n.prototype.h=function(u){if(this.g==null){this.g=[];var l=this;this.i(function(){l.l()})}this.g.push(u)};var i=U.setTimeout;n.prototype.i=function(u){i(u,0)},n.prototype.l=function(){for(;this.g&&this.g.length;){var u=this.g;this.g=[];for(var l=0;l<u.length;++l){var p=u[l];u[l]=null;try{p()}catch(g){this.j(g)}}}this.g=null},n.prototype.j=function(u){this.i(function(){throw u})},t.prototype.j=function(){function u(g){return function(v){p||(p=!0,g.call(l,v))}}var l=this,p=!1;return{resolve:u(this.F),reject:u(this.l)}},t.prototype.F=function(u){if(u===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(u instanceof t)this.H(u);else{e:switch(typeof u){case"object":var l=u!=null;break e;case"function":l=!0;break e;default:l=!1}l?this.C(u):this.m(u)}},t.prototype.C=function(u){var l=void 0;try{l=u.then}catch(p){this.l(p);return}typeof l=="function"?this.I(l,u):this.m(u)},t.prototype.l=function(u){this.u(2,u)},t.prototype.m=function(u){this.u(1,u)},t.prototype.u=function(u,l){if(this.h!=0)throw Error("Cannot settle("+u+", "+l+"): Promise already settled in state"+this.h);this.h=u,this.i=l,this.h===2&&this.G(),this.A()},t.prototype.G=function(){var u=this;i(function(){if(u.B()){var l=U.console;typeof l<"u"&&l.error(u.i)}},1)},t.prototype.B=function(){if(this.o)return!1;var u=U.CustomEvent,l=U.Event,p=U.dispatchEvent;return typeof p>"u"?!0:(typeof u=="function"?u=new u("unhandledrejection",{cancelable:!0}):typeof l=="function"?u=new l("unhandledrejection",{cancelable:!0}):(u=U.document.createEvent("CustomEvent"),u.initCustomEvent("unhandledrejection",!1,!0,u)),u.promise=this,u.reason=this.i,p(u))},t.prototype.A=function(){if(this.g!=null){for(var u=0;u<this.g.length;++u)a.h(this.g[u]);this.g=null}};var a=new n;return t.prototype.H=function(u){var l=this.j();u.Sd(l.resolve,l.reject)},t.prototype.I=function(u,l){var p=this.j();try{u.call(l,p.resolve,p.reject)}catch(g){p.reject(g)}},t.prototype.then=function(u,l){function p(x,S){return typeof x=="function"?function(k){try{g(x(k))}catch(C){v(C)}}:S}var g,v,y=new t(function(x,S){g=x,v=S});return this.Sd(p(u,g),p(l,v)),y},t.prototype.catch=function(u){return this.then(void 0,u)},t.prototype.Sd=function(u,l){function p(){switch(g.h){case 1:u(g.i);break;case 2:l(g.i);break;default:throw Error("Unexpected state: "+g.h)}}var g=this;this.g==null?a.h(p):this.g.push(p),this.o=!0},t.resolve=r,t.reject=function(u){return new t(function(l,p){p(u)})},t.race=function(u){return new t(function(l,p){for(var g=w(u),v=g.next();!v.done;v=g.next())r(v.value).Sd(l,p)})},t.all=function(u){var l=w(u),p=l.next();return p.done?r([]):new t(function(g,v){function y(k){return function(C){x[k]=C,S--,S==0&&g(x)}}var x=[],S=0;do x.push(void 0),S++,r(p.value).Sd(y(x.length-1),v),p=l.next();while(!p.done)})},t});function ht(e,t){return Object.prototype.hasOwnProperty.call(e,t)}L("WeakMap",function(e){function t(p){if(this.g=(l+=Math.random()+1).toString(),p){p=w(p);for(var g;!(g=p.next()).done;)g=g.value,this.set(g[0],g[1])}}function n(){}function r(p){var g=typeof p;return g==="object"&&p!==null||g==="function"}function i(p){if(!ht(p,u)){var g=new n;M(p,u,{value:g})}}function a(p){var g=Object[p];g&&(Object[p]=function(v){return v instanceof n?v:(Object.isExtensible(v)&&i(v),g(v))})}if(function(){if(!e||!Object.seal)return!1;try{var p=Object.seal({}),g=Object.seal({}),v=new e([[p,2],[g,3]]);return v.get(p)!=2||v.get(g)!=3?!1:(v.delete(p),v.set(g,4),!v.has(p)&&v.get(g)==4)}catch{return!1}}())return e;var u="$jscomp_hidden_"+Math.random();a("freeze"),a("preventExtensions"),a("seal");var l=0;return t.prototype.set=function(p,g){if(!r(p))throw Error("Invalid WeakMap key");if(i(p),!ht(p,u))throw Error("WeakMap key fail: "+p);return p[u][this.g]=g,this},t.prototype.get=function(p){return r(p)&&ht(p,u)?p[u][this.g]:void 0},t.prototype.has=function(p){return r(p)&&ht(p,u)&&ht(p[u],this.g)},t.prototype.delete=function(p){return r(p)&&ht(p,u)&&ht(p[u],this.g)?delete p[u][this.g]:!1},t}),L("Map",function(e){function t(){var l={};return l.Yb=l.next=l.head=l}function n(l,p){var g=l[1];return R(function(){if(g){for(;g.head!=l[1];)g=g.Yb;for(;g.next!=g.head;)return g=g.next,{done:!1,value:p(g)};g=null}return{done:!0,value:void 0}})}function r(l,p){var g=p&&typeof p;g=="object"||g=="function"?a.has(p)?g=a.get(p):(g=""+ ++u,a.set(p,g)):g="p_"+p;var v=l[0][g];if(v&&ht(l[0],g))for(l=0;l<v.length;l++){var y=v[l];if(p!==p&&y.key!==y.key||p===y.key)return{id:g,list:v,index:l,entry:y}}return{id:g,list:v,index:-1,entry:void 0}}function i(l){if(this[0]={},this[1]=t(),this.size=0,l){l=w(l);for(var p;!(p=l.next()).done;)p=p.value,this.set(p[0],p[1])}}if(function(){if(!e||typeof e!="function"||!e.prototype.entries||typeof Object.seal!="function")return!1;try{var l=Object.seal({x:4}),p=new e(w([[l,"s"]]));if(p.get(l)!="s"||p.size!=1||p.get({x:4})||p.set({x:4},"t")!=p||p.size!=2)return!1;var g=p.entries(),v=g.next();return v.done||v.value[0]!=l||v.value[1]!="s"?!1:(v=g.next(),!(v.done||v.value[0].x!=4||v.value[1]!="t"||!g.next().done))}catch{return!1}}())return e;var a=new WeakMap;i.prototype.set=function(l,p){l=l===0?0:l;var g=r(this,l);return g.list||(g.list=this[0][g.id]=[]),g.entry?g.entry.value=p:(g.entry={next:this[1],Yb:this[1].Yb,head:this[1],key:l,value:p},g.list.push(g.entry),this[1].Yb.next=g.entry,this[1].Yb=g.entry,this.size++),this},i.prototype.delete=function(l){return l=r(this,l),l.entry&&l.list?(l.list.splice(l.index,1),l.list.length||delete this[0][l.id],l.entry.Yb.next=l.entry.next,l.entry.next.Yb=l.entry.Yb,l.entry.head=null,this.size--,!0):!1},i.prototype.clear=function(){this[0]={},this[1]=this[1].Yb=t(),this.size=0},i.prototype.has=function(l){return!!r(this,l).entry},i.prototype.get=function(l){return(l=r(this,l).entry)&&l.value},i.prototype.entries=function(){return n(this,function(l){return[l.key,l.value]})},i.prototype.keys=function(){return n(this,function(l){return l.key})},i.prototype.values=function(){return n(this,function(l){return l.value})},i.prototype.forEach=function(l,p){for(var g=this.entries(),v;!(v=g.next()).done;)v=v.value,l.call(p,v[1],v[0],this)},i.prototype[Symbol.iterator]=i.prototype.entries;var u=0;return i}),L("Set",function(e){function t(n){if(this.g=new Map,n){n=w(n);for(var r;!(r=n.next()).done;)this.add(r.value)}this.size=this.g.size}return function(){if(!e||typeof e!="function"||!e.prototype.entries||typeof Object.seal!="function")return!1;try{var n=Object.seal({x:4}),r=new e(w([n]));if(!r.has(n)||r.size!=1||r.add(n)!=r||r.size!=1||r.add({x:4})!=r||r.size!=2)return!1;var i=r.entries(),a=i.next();return a.done||a.value[0]!=n||a.value[1]!=n?!1:(a=i.next(),a.done||a.value[0]==n||a.value[0].x!=4||a.value[1]!=a.value[0]?!1:i.next().done)}catch{return!1}}()?e:(t.prototype.add=function(n){return n=n===0?0:n,this.g.set(n,n),this.size=this.g.size,this},t.prototype.delete=function(n){return n=this.g.delete(n),this.size=this.g.size,n},t.prototype.clear=function(){this.g.clear(),this.size=0},t.prototype.has=function(n){return this.g.has(n)},t.prototype.entries=function(){return this.g.entries()},t.prototype.values=function(){return this.g.values()},t.prototype.keys=t.prototype.values,t.prototype[Symbol.iterator]=t.prototype.values,t.prototype.forEach=function(n,r){var i=this;this.g.forEach(function(a){return n.call(r,a,a,i)})},t)});function Mt(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var a=n++;return{value:t(a,e[a]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}L("Array.prototype.values",function(e){return e||function(){return Mt(this,function(t,n){return n})}}),L("Array.from",function(e){return e||function(t,n,r){n=n??function(l){return l};var i=[],a=typeof Symbol<"u"&&Symbol.iterator&&t[Symbol.iterator];if(typeof a=="function"){t=a.call(t);for(var u=0;!(a=t.next()).done;)i.push(n.call(r,a.value,u++))}else for(a=t.length,u=0;u<a;u++)i.push(n.call(r,t[u],u));return i}}),L("Array.prototype.keys",function(e){return e||function(){return Mt(this,function(t){return t})}}),L("Object.is",function(e){return e||function(t,n){return t===n?t!==0||1/t===1/n:t!==t&&n!==n}}),L("Array.prototype.includes",function(e){return e||function(t,n){var r=this;r instanceof String&&(r=String(r));var i=r.length;for(n=n||0,0>n&&(n=Math.max(n+i,0));n<i;n++){var a=r[n];if(a===t||Object.is(a,t))return!0}return!1}});function Ut(e,t,n){if(e==null)throw new TypeError("The 'this' value for String.prototype."+n+" must not be null or undefined");if(t instanceof RegExp)throw new TypeError("First argument to String.prototype."+n+" must not be a regular expression");return e+""}L("String.prototype.includes",function(e){return e||function(t,n){return Ut(this,t,"includes").indexOf(t,n||0)!==-1}}),L("String.fromCodePoint",function(e){return e||function(t){for(var n="",r=0;r<arguments.length;r++){var i=Number(arguments[r]);if(0>i||1114111<i||i!==Math.floor(i))throw new RangeError("invalid_code_point "+i);65535>=i?n+=String.fromCharCode(i):(i-=65536,n+=String.fromCharCode(i>>>10&1023|55296),n+=String.fromCharCode(i&1023|56320))}return n}});function sn(e,t,n){e instanceof String&&(e=String(e));for(var r=e.length,i=0;i<r;i++){var a=e[i];if(t.call(n,a,i,e))return{Xg:i,v:a}}return{Xg:-1,v:void 0}}L("Array.prototype.findIndex",function(e){return e||function(t,n){return sn(this,t,n).Xg}}),L("WeakSet",function(e){function t(n){if(this.g=new WeakMap,n){n=w(n);for(var r;!(r=n.next()).done;)this.add(r.value)}}return function(){if(!e||!Object.seal)return!1;try{var n=Object.seal({}),r=Object.seal({}),i=new e([n]);return!i.has(n)||i.has(r)?!1:(i.delete(n),i.add(r),!i.has(n)&&i.has(r))}catch{return!1}}()?e:(t.prototype.add=function(n){return this.g.set(n,!0),this},t.prototype.has=function(n){return this.g.has(n)},t.prototype.delete=function(n){return this.g.delete(n)},t)}),L("Array.prototype.find",function(e){return e||function(t,n){return sn(this,t,n).v}}),L("String.prototype.startsWith",function(e){return e||function(t,n){var r=Ut(this,t,"startsWith"),i=r.length,a=t.length;n=Math.max(0,Math.min(n|0,r.length));for(var u=0;u<a&&n<i;)if(r[n++]!=t[u++])return!1;return u>=a}}),L("Object.entries",function(e){return e||function(t){var n=[],r;for(r in t)ht(t,r)&&n.push([r,t[r]]);return n}});var ki=typeof Object.assign=="function"?Object.assign:function(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(r)for(var i in r)ht(r,i)&&(e[i]=r[i])}return e};L("Object.assign",function(e){return e||ki}),L("Promise.prototype.finally",function(e){return e||function(t){return this.then(function(n){return Promise.resolve(t()).then(function(){return n})},function(n){return Promise.resolve(t()).then(function(){throw n})})}}),L("Array.prototype.entries",function(e){return e||function(){return Mt(this,function(t,n){return[t,n]})}}),L("Number.isNaN",function(e){return e||function(t){return typeof t=="number"&&isNaN(t)}}),L("String.prototype.repeat",function(e){return e||function(t){var n=Ut(this,null,"repeat");if(0>t||1342177279<t)throw new RangeError("Invalid count value");t|=0;for(var r="";t;)t&1&&(r+=n),(t>>>=1)&&(n+=n);return r}}),L("Number.EPSILON",function(){return Math.pow(2,-52)}),L("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991}),L("Number.isFinite",function(e){return e||function(t){return typeof t!="number"?!1:!isNaN(t)&&t!==1/0&&t!==-1/0}}),L("Object.values",function(e){return e||function(t){var n=[],r;for(r in t)ht(t,r)&&n.push(t[r]);return n}}),L("Math.log2",function(e){return e||function(t){return Math.log(t)/Math.LN2}}),L("String.prototype.endsWith",function(e){return e||function(t,n){var r=Ut(this,t,"endsWith");n===void 0&&(n=r.length),n=Math.max(0,Math.min(n|0,r.length));for(var i=t.length;0<i&&0<n;)if(r[--n]!=t[--i])return!1;return 0>=i}}),L("Math.trunc",function(e){return e||function(t){if(t=Number(t),isNaN(t)||t===1/0||t===-1/0||t===0)return t;var n=Math.floor(Math.abs(t));return 0>t?-n:n}});var ai=this||self;function Ee(e,t){e=e.split(".");var n=ai;e[0]in n||typeof n.execScript>"u"||n.execScript("var "+e[0]);for(var r;e.length&&(r=e.shift());)e.length||t===void 0?n[r]&&n[r]!==Object.prototype[r]?n=n[r]:n=n[r]={}:n[r]=t}function In(){}function rr(){}function fe(e){this.g=Math.exp(Math.log(.5)/e),this.i=this.h=0}fe.prototype.sample=function(e,t){var n=Math.pow(this.g,e);t=t*(1-n)+n*this.h,isNaN(t)||(this.h=t,this.i+=e)};function $e(e){return e.h/(1-Math.pow(e.g,e.i))}function lt(){this.h=new fe(2),this.j=new fe(5),this.g=0,this.i=128e3,this.l=16e3}lt.prototype.configure=function(e){this.i=e.minTotalBytes,this.l=e.minBytes,this.h.g=Math.exp(Math.log(.5)/e.fastHalfLife),this.j.g=Math.exp(Math.log(.5)/e.slowHalfLife)},lt.prototype.sample=function(e,t){if(!(t<this.l)){var n=8e3*t/e;e/=1e3,this.g+=t,this.h.sample(e,n),this.j.sample(e,n)}},lt.prototype.getBandwidthEstimate=function(e){return this.g<this.i?e:Math.min($e(this.h),$e(this.j))};function ct(){}function it(){}function Be(){}function $t(e){var t=Re.apply(1,arguments);Ie.has(e)||(Ie.add(e),Be.apply(ct,j(t)))}function ce(){}function we(){}function De(){}var Ie=new Set;d.console&&(new Map().set(1,function(){return console.error.apply(console,j(Re.apply(0,arguments)))}).set(2,function(){return console.warn.apply(console,j(Re.apply(0,arguments)))}).set(3,function(){return console.info.apply(console,j(Re.apply(0,arguments)))}).set(4,function(){return console.log.apply(console,j(Re.apply(0,arguments)))}).set(5,function(){return console.debug.apply(console,j(Re.apply(0,arguments)))}).set(6,function(){return console.debug.apply(console,j(Re.apply(0,arguments)))}),Be=function(){return console.warn.apply(console,j(Re.apply(0,arguments)))},it=function(){console.error.apply(console,j(Re.apply(0,arguments)))});function Ne(){this.g=new Map}f=Ne.prototype,f.push=function(e,t){this.g.has(e)?this.g.get(e).push(t):this.g.set(e,[t])},f.get=function(e){return this.g.has(e)?this.g.get(e).slice():null},f.remove=function(e,t){if(this.g.has(e)){var n=this.g.get(e).filter(function(r){return r!=t});this.g.set(e,n),n.length||this.g.delete(e)}},f.forEach=function(e){this.g.forEach(function(t,n){e(n,t)})},f.size=function(){return this.g.size},f.keys=function(){return Array.from(this.g.keys())};function Ce(){this.g=new Ne}f=Ce.prototype,f.release=function(){this.Qa(),this.g=null},f.D=function(e,t,n,r){this.g&&(e=new yt(e,t,n,r),this.g.push(t,e))},f.ma=function(e,t,n,r){function i(u){a.Ja(e,t,i),n(u)}var a=this;this.D(e,t,i,r)},f.Ja=function(e,t,n){if(this.g){var r=this.g.get(t)||[];r=w(r);for(var i=r.next();!i.done;i=r.next())i=i.value,i.target!=e||n!=i.listener&&n||(i.Ja(),this.g.remove(t,i))}},f.Qa=function(){if(this.g){for(var e=[],t=w(this.g.g.values()),n=t.next();!n.done;n=t.next())e.push.apply(e,j(n.value));for(e=w(e),t=e.next();!t.done;t=e.next())t.value.Ja();this.g.g.clear()}},Ee("shaka.util.EventManager",Ce),Ce.prototype.removeAll=Ce.prototype.Qa,Ce.prototype.unlisten=Ce.prototype.Ja,Ce.prototype.listenOnce=Ce.prototype.ma,Ce.prototype.listen=Ce.prototype.D,Ce.prototype.release=Ce.prototype.release;function yt(e,t,n,r){this.target=e,this.type=t,this.listener=n,this.g=Ot(e,r),this.target.addEventListener(t,n,this.g)}yt.prototype.Ja=function(){this.target.removeEventListener(this.type,this.listener,this.g),this.listener=this.target=null,this.g=!1};function Ot(e,t){if(t==null)return!1;if(typeof t=="boolean")return t;var n=new Set(["passive","capture"]);return Object.keys(t).filter(function(r){return!n.has(r)}),Ct(e)?t:t.capture||!1}function Ct(e){var t=zt;if(t==null){t=!1;try{var n={},r={get:function(){return t=!0,!1}};Object.defineProperty(n,"passive",r),Object.defineProperty(n,"capture",r),r=function(){},e.addEventListener("test",r,n),e.removeEventListener("test",r,n)}catch{t=!1}zt=t}return t||!1}var zt=void 0;Ee("shaka.config.AutoShowText",{NEVER:0,ALWAYS:1,IF_PREFERRED_TEXT_LANGUAGE:2,IF_SUBTITLES_MAY_BE_NEEDED:3});function rn(e,t){this.g=e,this.h=t}rn.prototype.toString=function(){return"v"+this.g+"."+this.h};function ut(e,t){var n=new rn(5,0),r=Ur,i=r.g,a=n.h-i.h;(0<(n.g-i.g||a)?r.i:r.h)(r.g,n,e,t)}function Ti(e,t,n,r){Be([n,"has been deprecated and will be removed in",t,". We are currently at version",e,". Additional information:",r].join(" "))}function sa(e,t,n,r){it([n,"has been deprecated and has been removed in",t,". We are now at version",e,". Additional information:",r].join(" "))}var Ur=null;/*
 @license
 Copyright 2008 The Closure Library Authors
 SPDX-License-Identifier: Apache-2.0
*/var Eo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");/*
 @license
 Copyright 2006 The Closure Library Authors
 SPDX-License-Identifier: Apache-2.0
*/function ee(e){var t;e instanceof ee?(ve(this,e.Kb),this.Hc=e.Hc,qe(this,e.nb),Xe(this,e.$c),this.ab=e.ab,St(this,e.g.clone()),this.qc=e.qc):e&&(t=String(e).match(Eo))?(ve(this,t[1]||"",!0),this.Hc=bt(t[2]||""),qe(this,t[3]||"",!0),Xe(this,t[4]),this.ab=bt(t[5]||"",!0),St(this,t[6]||"",!0),this.qc=bt(t[7]||"")):this.g=new Es(null)}f=ee.prototype,f.Kb="",f.Hc="",f.nb="",f.$c=null,f.ab="",f.qc="",f.toString=function(){var e=[],t=this.Kb;if(t&&e.push(Lt(t,oi,!0),":"),t=this.nb){e.push("//");var n=this.Hc;n&&e.push(Lt(n,oi,!0),"@"),e.push(encodeURIComponent(t).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t=this.$c,t!=null&&e.push(":",String(t))}return(t=this.ab)&&(this.nb&&t.charAt(0)!="/"&&e.push("/"),e.push(Lt(t,t.charAt(0)=="/"?Rp:jt,!0))),(t=this.g.toString())&&e.push("?",t),(t=this.qc)&&e.push("#",Lt(t,Bg)),e.join("")},f.resolve=function(e){var t=this.clone();t.Kb==="data"&&(t=new ee);var n=!!e.Kb;n?ve(t,e.Kb):n=!!e.Hc,n?t.Hc=e.Hc:n=!!e.nb,n?qe(t,e.nb):n=e.$c!=null;var r=e.ab;if(n)Xe(t,e.$c);else if(n=!!e.ab){if(r.charAt(0)!="/")if(this.nb&&!this.ab)r="/"+r;else{var i=t.ab.lastIndexOf("/");i!=-1&&(r=t.ab.substr(0,i+1)+r)}if(r==".."||r==".")r="";else if(r.indexOf("./")!=-1||r.indexOf("/.")!=-1){i=r.lastIndexOf("/",0)==0,r=r.split("/");for(var a=[],u=0;u<r.length;){var l=r[u++];l=="."?i&&u==r.length&&a.push(""):l==".."?((1<a.length||a.length==1&&a[0]!="")&&a.pop(),i&&u==r.length&&a.push("")):(a.push(l),i=!0)}r=a.join("/")}}return n?t.ab=r:n=e.g.toString()!=="",n?St(t,e.g.clone()):n=!!e.qc,n&&(t.qc=e.qc),t},f.clone=function(){return new ee(this)};function ve(e,t,n){e.Kb=n?bt(t,!0):t,e.Kb&&(e.Kb=e.Kb.replace(/:$/,""))}function qe(e,t,n){e.nb=n?bt(t,!0):t}function Xe(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.$c=t}else e.$c=null}function St(e,t,n){t instanceof Es?e.g=t:(n||(t=Lt(t,As)),e.g=new Es(t))}function bt(e,t){return e?t?decodeURI(e):decodeURIComponent(e):""}function Lt(e,t,n){return e!=null?(e=encodeURI(e).replace(t,_n),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function _n(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var oi=/[#\/\?@]/g,jt=/[#\?:]/g,Rp=/[#\?]/g,As=/[#\?@]/g,Bg=/#/g;function Es(e){this.g=e||null}function Uu(e){if(!e.Va&&(e.Va=new Map,e.kd=0,e.g))for(var t=e.g.split("&"),n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var a=t[n].substring(0,r);i=t[n].substring(r+1)}else a=t[n];a=decodeURIComponent(a.replace(/\+/g," ")),i=i||"",e.add(a,decodeURIComponent(i.replace(/\+/g," ")))}}f=Es.prototype,f.Va=null,f.kd=null;function Ou(e){return Uu(e),e.kd}f.add=function(e,t){Uu(this),this.g=null;var n=this.Va.has(e)?this.Va.get(e):null;return n||this.Va.set(e,n=[]),n.push(t),this.kd++,this},f.set=function(e,t){return Uu(this),this.g=null,this.Va.has(e)?this.Va.set(e,[t]):this.add(e,t),this},f.get=function(e){return Uu(this),this.Va.get(e)||[]},f.toString=function(){if(this.g)return this.g;if(!this.Va||!this.Va.size)return"";for(var e=[],t=w(this.Va.keys()),n=t.next();!n.done;n=t.next()){var r=n.value;n=encodeURIComponent(r),r=this.Va.get(r);for(var i=0;i<r.length;i++){var a=n;r[i]!==""&&(a+="="+encodeURIComponent(r[i])),e.push(a)}}return this.g=e.join("&")},f.clone=function(){var e=new Es;if(e.g=this.g,this.Va){for(var t=new Map,n=w(this.Va),r=n.next();!r.done;r=n.next()){var i=w(r.value);r=i.next().value,i=i.next().value,t.set(r,i.concat())}e.Va=t,e.kd=this.kd}return e};function _a(){}function si(e,t){if(!e&&!t)return!0;if(!e||!t||e.byteLength!=t.byteLength)return!1;if((ArrayBuffer.isView(e)?e.buffer:e)==(ArrayBuffer.isView(t)?t.buffer:t)&&(e.byteOffset||0)==(t.byteOffset||0))return!0;var n=Ye(e);t=Ye(t);for(var r=0;r<e.byteLength;r++)if(n[r]!=t[r])return!1;return!0}function ui(e){return ArrayBuffer.isView(e)?e.byteOffset==0&&e.byteLength==e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer:e}function Ye(e,t,n){return n=n===void 0?1/0:n,Da(e,t===void 0?0:t,n,Uint8Array)}function vc(e,t,n){return n=n===void 0?1/0:n,Da(e,t===void 0?0:t,n,Uint16Array)}function pn(e,t,n){return n=n===void 0?1/0:n,Da(e,t===void 0?0:t,n,DataView)}function Da(e,t,n,r){var i=ArrayBuffer.isView(e)?e.buffer:e,a=1;"BYTES_PER_ELEMENT"in r&&(a=r.BYTES_PER_ELEMENT);var u=((e.byteOffset||0)+e.byteLength)/a;return e=Math.floor(Math.max(0,Math.min(((e.byteOffset||0)+t)/a,u))),new r(i,e,Math.floor(Math.min(e+Math.max(n,0),u))-e)}Ee("shaka.util.BufferUtils",_a),_a.toDataView=pn,_a.toUint16=vc,_a.toUint8=Ye,_a.toArrayBuffer=ui,_a.equal=si;function $(e,t,n){var r=Re.apply(3,arguments);this.severity=e,this.category=t,this.code=n,this.data=r,this.handled=!1,this.message="Shaka Error "+this.code;try{throw Error(this.message||"Shaka Error")}catch(i){this.stack=i.stack}}$.prototype.toString=function(){return"shaka.util.Error "+JSON.stringify(this,null,"  ")},Ee("shaka.util.Error",$),$.Severity={RECOVERABLE:1,CRITICAL:2},$.Category={NETWORK:1,TEXT:2,MEDIA:3,MANIFEST:4,STREAMING:5,DRM:6,PLAYER:7,CAST:8,STORAGE:9,ADS:10},$.Code={UNSUPPORTED_SCHEME:1e3,BAD_HTTP_STATUS:1001,HTTP_ERROR:1002,TIMEOUT:1003,MALFORMED_DATA_URI:1004,REQUEST_FILTER_ERROR:1006,RESPONSE_FILTER_ERROR:1007,MALFORMED_TEST_URI:1008,UNEXPECTED_TEST_REQUEST:1009,ATTEMPTS_EXHAUSTED:1010,SEGMENT_MISSING:1011,INVALID_TEXT_HEADER:2e3,INVALID_TEXT_CUE:2001,UNABLE_TO_DETECT_ENCODING:2003,BAD_ENCODING:2004,INVALID_XML:2005,INVALID_MP4_TTML:2007,INVALID_MP4_VTT:2008,UNABLE_TO_EXTRACT_CUE_START_TIME:2009,INVALID_MP4_CEA:2010,TEXT_COULD_NOT_GUESS_MIME_TYPE:2011,CANNOT_ADD_EXTERNAL_TEXT_TO_SRC_EQUALS:2012,TEXT_ONLY_WEBVTT_SRC_EQUALS:2013,MISSING_TEXT_PLUGIN:2014,CHAPTERS_TRACK_FAILED:2015,UNSUPPORTED_EXTERNAL_THUMBNAILS_URI:2017,BUFFER_READ_OUT_OF_BOUNDS:3e3,JS_INTEGER_OVERFLOW:3001,EBML_OVERFLOW:3002,EBML_BAD_FLOATING_POINT_SIZE:3003,MP4_SIDX_WRONG_BOX_TYPE:3004,MP4_SIDX_INVALID_TIMESCALE:3005,MP4_SIDX_TYPE_NOT_SUPPORTED:3006,WEBM_CUES_ELEMENT_MISSING:3007,WEBM_EBML_HEADER_ELEMENT_MISSING:3008,WEBM_SEGMENT_ELEMENT_MISSING:3009,WEBM_INFO_ELEMENT_MISSING:3010,WEBM_DURATION_ELEMENT_MISSING:3011,WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING:3012,WEBM_CUE_TIME_ELEMENT_MISSING:3013,MEDIA_SOURCE_OPERATION_FAILED:3014,MEDIA_SOURCE_OPERATION_THREW:3015,VIDEO_ERROR:3016,QUOTA_EXCEEDED_ERROR:3017,TRANSMUXING_FAILED:3018,CONTENT_TRANSFORMATION_FAILED:3019,MSS_MISSING_DATA_FOR_TRANSMUXING:3020,MSS_TRANSMUXING_FAILED:3022,TRANSMUXING_NO_VIDEO_DATA:3023,STREAMING_NOT_ALLOWED:3024,UNABLE_TO_GUESS_MANIFEST_TYPE:4e3,DASH_INVALID_XML:4001,DASH_NO_SEGMENT_INFO:4002,DASH_EMPTY_ADAPTATION_SET:4003,DASH_EMPTY_PERIOD:4004,DASH_WEBM_MISSING_INIT:4005,DASH_UNSUPPORTED_CONTAINER:4006,DASH_PSSH_BAD_ENCODING:4007,DASH_NO_COMMON_KEY_SYSTEM:4008,DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED:4009,DASH_CONFLICTING_KEY_IDS:4010,RESTRICTIONS_CANNOT_BE_MET:4012,HLS_PLAYLIST_HEADER_MISSING:4015,INVALID_HLS_TAG:4016,HLS_INVALID_PLAYLIST_HIERARCHY:4017,DASH_DUPLICATE_REPRESENTATION_ID:4018,HLS_MULTIPLE_MEDIA_INIT_SECTIONS_FOUND:4020,HLS_REQUIRED_ATTRIBUTE_MISSING:4023,HLS_REQUIRED_TAG_MISSING:4024,HLS_COULD_NOT_GUESS_CODECS:4025,HLS_KEYFORMATS_NOT_SUPPORTED:4026,DASH_UNSUPPORTED_XLINK_ACTUATE:4027,DASH_XLINK_DEPTH_LIMIT:4028,CONTENT_UNSUPPORTED_BY_BROWSER:4032,CANNOT_ADD_EXTERNAL_TEXT_TO_LIVE_STREAM:4033,NO_VARIANTS:4036,PERIOD_FLATTENING_FAILED:4037,INCONSISTENT_DRM_ACROSS_PERIODS:4038,HLS_VARIABLE_NOT_FOUND:4039,HLS_MSE_ENCRYPTED_MP2T_NOT_SUPPORTED:4040,HLS_MSE_ENCRYPTED_LEGACY_APPLE_MEDIA_KEYS_NOT_SUPPORTED:4041,NO_WEB_CRYPTO_API:4042,CANNOT_ADD_EXTERNAL_THUMBNAILS_TO_LIVE_STREAM:4045,MSS_INVALID_XML:4046,MSS_LIVE_CONTENT_NOT_SUPPORTED:4047,AES_128_INVALID_IV_LENGTH:4048,AES_128_INVALID_KEY_LENGTH:4049,DASH_CONFLICTING_AES_128:4050,DASH_UNSUPPORTED_AES_128:4051,DASH_INVALID_PATCH:4052,HLS_EMPTY_MEDIA_PLAYLIST:4053,DASH_MSE_ENCRYPTED_LEGACY_APPLE_MEDIA_KEYS_NOT_SUPPORTED:4054,STREAMING_ENGINE_STARTUP_INVALID_STATE:5006,NO_RECOGNIZED_KEY_SYSTEMS:6e3,REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE:6001,FAILED_TO_CREATE_CDM:6002,FAILED_TO_ATTACH_TO_VIDEO:6003,INVALID_SERVER_CERTIFICATE:6004,FAILED_TO_CREATE_SESSION:6005,FAILED_TO_GENERATE_LICENSE_REQUEST:6006,LICENSE_REQUEST_FAILED:6007,LICENSE_RESPONSE_REJECTED:6008,ENCRYPTED_CONTENT_WITHOUT_DRM_INFO:6010,NO_LICENSE_SERVER_GIVEN:6012,OFFLINE_SESSION_REMOVED:6013,EXPIRED:6014,SERVER_CERTIFICATE_REQUIRED:6015,INIT_DATA_TRANSFORM_ERROR:6016,SERVER_CERTIFICATE_REQUEST_FAILED:6017,MIN_HDCP_VERSION_NOT_MATCH:6018,ERROR_CHECKING_HDCP_VERSION:6019,MISSING_EME_SUPPORT:6020,LOAD_INTERRUPTED:7e3,OPERATION_ABORTED:7001,NO_VIDEO_ELEMENT:7002,OBJECT_DESTROYED:7003,CONTENT_NOT_LOADED:7004,SRC_EQUALS_PRELOAD_NOT_SUPPORTED:7005,PRELOAD_DESTROYED:7006,CAST_API_UNAVAILABLE:8e3,NO_CAST_RECEIVERS:8001,ALREADY_CASTING:8002,UNEXPECTED_CAST_ERROR:8003,CAST_CANCELED_BY_USER:8004,CAST_CONNECTION_TIMED_OUT:8005,CAST_RECEIVER_APP_UNAVAILABLE:8006,STORAGE_NOT_SUPPORTED:9e3,INDEXED_DB_ERROR:9001,DEPRECATED_OPERATION_ABORTED:9002,REQUESTED_ITEM_NOT_FOUND:9003,MALFORMED_OFFLINE_URI:9004,CANNOT_STORE_LIVE_OFFLINE:9005,NO_INIT_DATA_FOR_OFFLINE:9007,LOCAL_PLAYER_INSTANCE_REQUIRED:9008,NEW_KEY_OPERATION_NOT_SUPPORTED:9011,KEY_NOT_FOUND:9012,MISSING_STORAGE_CELL:9013,STORAGE_LIMIT_REACHED:9014,DOWNLOAD_SIZE_CALLBACK_ERROR:9015,MODIFY_OPERATION_NOT_SUPPORTED:9016,INDEXED_DB_INIT_TIMED_OUT:9017,CS_IMA_SDK_MISSING:1e4,CS_AD_MANAGER_NOT_INITIALIZED:10001,SS_IMA_SDK_MISSING:10002,SS_AD_MANAGER_NOT_INITIALIZED:10003,CURRENT_DAI_REQUEST_NOT_FINISHED:10004,MT_AD_MANAGER_NOT_INITIALIZED:10005,INTERSTITIAL_AD_MANAGER_NOT_INITIALIZED:10006,VAST_INVALID_XML:10007};function Np(e){this.h=e,this.g=void 0}Np.prototype.value=function(){return this.g===void 0&&(this.g=this.h()),this.g};function W3(e,t){return e.length&&t.length&&e!==t?0<U1(e,t).length:!0}function U1(e,t){if(!e.length)return t;if(!t.length)return e;var n=[];e=w(e);for(var r=e.next();!r.done;r=e.next()){r=r.value;for(var i=w(t),a=i.next();!a.done;a=i.next())if(a=a.value,r.keySystem==a.keySystem){i=new Map;for(var u=w((r.initData||[]).concat(a.initData||[])),l=u.next();!l.done;l=u.next())l=l.value,i.set(l.keyId,l);i=Array.from(i.values()),u=r.keyIds&&a.keyIds?new Set([].concat(j(r.keyIds),j(a.keyIds))):r.keyIds||a.keyIds,n.push({keySystem:r.keySystem,licenseServerUri:r.licenseServerUri||a.licenseServerUri,distinctiveIdentifierRequired:r.distinctiveIdentifierRequired||a.distinctiveIdentifierRequired,persistentStateRequired:r.persistentStateRequired||a.persistentStateRequired,videoRobustness:r.videoRobustness||a.videoRobustness,audioRobustness:r.audioRobustness||a.audioRobustness,serverCertificate:r.serverCertificate||a.serverCertificate,serverCertificateUri:r.serverCertificateUri||a.serverCertificateUri,initData:i,keyIds:u});break}}return n}function O1(e){return e?!!e.match(/^com\.(microsoft|chromecast)\.playready/):!1}function Vg(e){return e?!!e.match(/^com\.apple\.fps/):!1}var $g=new Np(function(){return ui(new Uint8Array([0]))}),yc=new Map;function Up(e){this.h=e,this.g=null}Up.prototype.da=function(e){var t=this;this.stop();var n=!0,r=null;return this.g=function(){d.clearTimeout(r),n=!1},r=d.setTimeout(function(){n&&t.h()},1e3*e),this},Up.prototype.stop=function(){this.g&&(this.g(),this.g=null)};function kt(e){this.h=e,this.g=null}kt.prototype.sb=function(){return this.stop(),this.h(),this},kt.prototype.da=function(e){var t=this;return this.stop(),this.g=new Up(function(){t.h()}).da(e),this},kt.prototype.ua=function(e){var t=this;return this.stop(),this.g=new Up(function(){t.g.da(e),t.h()}).da(e),this},kt.prototype.stop=function(){this.g&&(this.g.stop(),this.g=null)},Ee("shaka.util.Timer",kt),kt.prototype.stop=kt.prototype.stop,kt.prototype.tickEvery=kt.prototype.ua,kt.prototype.tickAfter=kt.prototype.da,kt.prototype.tickNow=kt.prototype.sb;function Ja(){var e=d.ManagedMediaSource||d.MediaSource;return!!(e&&e.isTypeSupported)}function Op(e){return J3().canPlayType(e)!=""}function jp(){return!!navigator.userAgent.match(/Edge?\//)}function Pa(){return Rn("Xbox One")}function La(){return Rn("Tizen")}function Co(){return Rn("Tizen 3")}function Io(){return Rn("Web0S")}function zg(){return Io()&&X3()===38}function ua(){return Rn("CrKey")&&!Rn("VIZIO SmartCast")}function X3(){if(!Rn("Chrome")||navigator.userAgent.match(/Edge\//))return null;var e=navigator.userAgent.match(/Chrome\/(\d+)/);return e?parseInt(e[1],10):null}function cr(){return wc()&&((navigator.userAgentData&&navigator.userAgentData.platform?navigator.userAgentData.platform.toLowerCase()=="macos":navigator.platform?navigator.platform.toLowerCase().includes("mac"):!1)||(/(?:iPhone|iPad|iPod)/.test(navigator.userAgent)?!0:wc()&&1<navigator.maxTouchPoints))}function bc(){return Rn("PlayStation 5")}function Ra(){return Rn("PlayStation 4")}function Hg(){return Rn("Hisense")||Rn("VIDAA")}function Y3(){if(!cr()&&(!wc()||cr()))return null;var e=navigator.userAgent.match(/Version\/(\d+)/);return e||(e=navigator.userAgent.match(/OS (\d+)(?:_\d+)?/))?parseInt(e[1],10):null}function j1(){return navigator.userAgentData&&navigator.userAgentData.platform?navigator.userAgentData.platform.toLowerCase()=="windows":navigator.platform?navigator.platform.toLowerCase().includes("win32"):!1}function Cs(){return navigator.userAgentData&&navigator.userAgentData.platform?navigator.userAgentData.platform.toLowerCase()=="android":Rn("Android")}function F1(){return navigator.userAgentData&&navigator.userAgentData.platform?navigator.userAgentData.platform.toLowerCase()=="fuchsia":Rn("Fuchsia")}function B1(){return!!(La()||Io()||Pa()||Ra()||bc()||ua()||Hg()||Rn("VIZIO SmartCast")||wc()&&!cr())}function Rn(e){return(navigator.userAgent||"").includes(e)}function wc(){return(navigator.vendor||"").includes("Apple")}function J3(){return Fp||(V1||(V1=new kt(function(){Fp=null})),(Fp=document.getElementsByTagName("video")[0]||document.getElementsByTagName("audio")[0])||(Fp=document.createElement("video")),V1.da(1),Fp)}function _7(){if(Co()||Rn("Tizen 2")||zg()||Ra()||bc())return!1;var e=Y3();return!(wc()&&!cr()&&e!=null&&15>e)}function Q3(){var e,t,n,r,i,a,u,l,p,g,v,y,x,S,k,C,E;return P(function(I){switch(I.g){case 1:if(e={width:1/0,height:1/0},ua()){if(S=d.cast&&cast.__platform__&&cast.__platform__.canDisplayType,e.width=1280,e.height=720,me(I,14),!(k=S)){I.s(16);break}return T(I,cast.__platform__.canDisplayType('video/mp4; codecs="avc1.640028"; width=3840; height=2160'),17)}if(La()){t=d.devicePixelRatio,e.width=1920<d.screen.width*t?3840:1920,e.height=1080<d.screen.height*t?2160:1080;try{webapis.systeminfo&&webapis.systeminfo.getMaxVideoResolution?(n=webapis.systeminfo.getMaxVideoResolution(),e.width=n.width,e.height=n.height):webapis.productinfo.is8KPanelSupported&&webapis.productinfo.is8KPanelSupported()?(e.width=7680,e.height=4320):webapis.productinfo.isUdPanelSupported&&webapis.productinfo.isUdPanelSupported()&&(e.width=3840,e.height=2160)}catch{Be("Tizen: Error detecting screen size, default screen size 1920x1080.")}I.s(3);break}if(Io()){try{r=JSON.parse(d.PalmSystem.deviceInfo),e.width=Math.max(1920,r.screenWidth),e.height=Math.max(1080,r.screenHeight)}catch{Be("WebOS: Error detecting screen size, default screen size 1920x1080."),e.width=1920,e.height=1080}I.s(3);break}if(Hg()){if(i=null,d.Hisense_Get4KSupportState)try{i=d.Hisense_Get4KSupportState()}catch{}i==null&&(i=Rn("UHD")),i?(e.width=3840,e.height=2160):(e.width=1920,e.height=1080),I.s(3);break}if(!Ra()&&!bc()){a=void 0;try{a=typeof Windows<"u"?Windows:chrome.webview.hostObjects.sync.Windows}catch{}if(a){e.width=1920,e.height=1080;try{u=new a.Media.Protection.ProtectionCapabilities,l=a.Media.Protection.ProtectionCapabilityResult,p=null;do p=u.isTypeSupported('video/mp4;codecs="hvc1,mp4a";features="decode-res-x=3840,decode-res-y=2160,decode-bitrate=20000,decode-fps=30,decode-bpc=10,display-res-x=3840,display-res-y=2160,display-bpc=8"',"com.microsoft.playready.recommendation");while(p===l.maybe);p===l.probably&&(e.width=3840,e.height=2160)}catch{Be("Xbox: Error detecting screen size, default screen size 1920x1080.")}}else Pa()&&(e.width=1920,e.height=1080,Be("Xbox: Error detecting screen size, default screen size 1920x1080."));I.s(3);break}return g=!1,me(I,8),T(I,d.msdk.device.getDisplayInfo(),10);case 10:v=I.h,g=v.resolution==="4K",V(I,9);break;case 8:return W(I),me(I,11),T(I,d.msdk.device.getDisplayInfoImmediate(),13);case 13:y=I.h,g=y.resolution==="4K",V(I,9);break;case 11:x=W(I),Be("PlayStation: Failed to get the display info:",x);case 9:g?(e.width=3840,e.height=2160):(e.width=1920,e.height=1080),I.s(3);break;case 17:k=I.h;case 16:if(k){e.width=3840,e.height=2160,I.s(18);break}if(!(C=S)){I.s(19);break}return T(I,cast.__platform__.canDisplayType('video/mp4; codecs="avc1.640028"; width=1920; height=1080'),20);case 20:C=I.h;case 19:C&&(e.width=1920,e.height=1080);case 18:V(I,3);break;case 14:E=W(I),it("Failed to check canDisplayType:",E);case 3:return I.return(e)}})}var V1=null,Fp=null;function ju(){}function yn(e){if(!e)return"";if(e=Ye(e),e[0]==239&&e[1]==187&&e[2]==191&&(e=e.subarray(3)),d.TextDecoder&&!Ra())return e=new TextDecoder().decode(e),e.includes("\uFFFD")&&it('Decoded string contains an "unknown character" codepoint.  That probably means the UTF8 encoding was incorrect!'),e;for(var t="",n=0;n<e.length;++n){var r=65533;if(e[n]&128?e.length>=n+2&&(e[n]&224)==192&&(e[n+1]&192)==128?(r=(e[n]&31)<<6|e[n+1]&63,n+=1):e.length>=n+3&&(e[n]&240)==224&&(e[n+1]&192)==128&&(e[n+2]&192)==128?(r=(e[n]&15)<<12|(e[n+1]&63)<<6|e[n+2]&63,n+=2):e.length>=n+4&&(e[n]&241)==240&&(e[n+1]&192)==128&&(e[n+2]&192)==128&&(e[n+3]&192)==128&&(r=(e[n]&7)<<18|(e[n+1]&63)<<12|(e[n+2]&63)<<6|e[n+3]&63,n+=3):r=e[n],65535>=r)t+=String.fromCharCode(r);else{r-=65536;var i=r&1023;t+=String.fromCharCode(55296+(r>>10)),t+=String.fromCharCode(56320+i)}}return t}function Is(e,t,n){if(!e)return"";if(!n&&e.byteLength%2!=0)throw new $(2,2,2004);n=Math.floor(e.byteLength/2);var r=new Uint16Array(n);e=pn(e);for(var i=0;i<n;i++)r[i]=e.getUint16(2*i,t);return z1(r)}function Qa(e){function t(r){return n.byteLength<=r||9<=n[r]&&126>=n[r]}if(!e)return"";var n=Ye(e);if(n[0]==239&&n[1]==187&&n[2]==191)return yn(n);if(n[0]==254&&n[1]==255)return Is(n.subarray(2),!1);if(n[0]==255&&n[1]==254)return Is(n.subarray(2),!0);if(n[0]==0&&n[2]==0)return Is(e,!1);if(n[1]==0&&n[3]==0)return Is(e,!0);if(t(0)&&t(1)&&t(2)&&t(3))return yn(e);throw new $(2,2,2003)}function la(e){if(d.TextEncoder&&!Ra()){var t=new TextEncoder;return ui(t.encode(e))}e=encodeURIComponent(e),e=unescape(e),t=new Uint8Array(e.length);for(var n=0;n<e.length;n++)t[n]=e[n].charCodeAt(0);return ui(t)}function $1(e,t){for(var n=new ArrayBuffer(2*e.length),r=new DataView(n),i=0;i<e.length;++i)r.setUint16(2*i,e.charCodeAt(i),t);return n}function z1(e){return Z3.value()(e)}function Kr(e){var t={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&apos;":"'","&nbsp;":"\xA0","&lrm;":"\u200E","&rlm;":"\u200F"},n=/&(?:amp|lt|gt|quot|apos|nbsp|lrm|rlm|#[xX]?[0-9a-fA-F]+);/g,r=RegExp(n.source);return e&&r.test(e)?e.replace(n,function(i){return i[1]=="#"?(i=i[2]=="x"||i[2]=="X"?parseInt(i.substring(3),16):parseInt(i.substring(2),10),0<=i&&1114111>=i?String.fromCodePoint(i):""):t[i]||"'"}):e||""}Ee("shaka.util.StringUtils",ju),ju.resetFromCharCode=function(){Z3.g=void 0},ju.toUTF16=$1,ju.toUTF8=la,ju.fromBytesAutoDetect=Qa,ju.fromUTF16=Is,ju.fromUTF8=yn;var Z3=new Np(function(){function e(n){try{var r=new Uint8Array(n);return 0<String.fromCharCode.apply(null,r).length}catch{return!1}}for(var t={jc:65536};0<t.jc;t={jc:t.jc},t.jc/=2)if(e(t.jc))return function(n){return function(r){for(var i="",a=0;a<r.length;a+=n.jc)i+=String.fromCharCode.apply(null,r.subarray(a,a+n.jc));return i}}(t);return null});function vr(){}function qg(e){return e=z1(Ye(e)),btoa(e)}function Mo(e,t){return t=t??!0,e=qg(e).replace(/\+/g,"-").replace(/\//g,"_"),t?e:e.replace(/[=]*$/,"")}function zi(e){e=d.atob(e.replace(/-/g,"+").replace(/_/g,"/"));for(var t=new Uint8Array(e.length),n=0;n<e.length;++n)t[n]=e.charCodeAt(n);return t}function Fu(e){for(var t=e.length/2,n=new Uint8Array(t),r=0;r<t;r++)n[r]=d.parseInt(e.substr(2*r,2),16);return n}function _o(e){var t=Ye(e);e="",t=w(t);for(var n=t.next();!n.done;n=t.next())n=n.value,n=n.toString(16),n.length==1&&(n="0"+n),e+=n;return e}function En(){for(var e=Re.apply(0,arguments),t=0,n=0;n<e.length;++n)t+=e[n].byteLength;t=new Uint8Array(t);for(var r=n=0;r<e.length;++r){var i=e[r];ArrayBuffer.isView(i)&&i.BYTES_PER_ELEMENT===1?t.set(i,n):t.set(Ye(i),n),n+=i.byteLength}return t}Ee("shaka.util.Uint8ArrayUtils",vr),vr.concat=En,vr.toHex=_o,vr.fromHex=Fu,vr.fromBase64=zi,vr.toBase64=Mo,vr.toStandardBase64=qg;function Qn(e,t,n){if(n=n===void 0?"":n,t.length==0)return e;if(e.length==1&&t.length==1){var r=new ee(e[0]);return t=new ee(t[0]),t=r.resolve(t),n&&St(t,n),[t.toString()]}t=t.map(function(l){return new ee(l)}),r=[],e=w(e);for(var i=e.next();!i.done;i=e.next()){i=new ee(i.value);for(var a=w(t),u=a.next();!u.done;u=a.next())u=i.resolve(u.value),n&&St(u,n),r.push(u.toString())}return r}function Ms(e,t,n,r){return e={keySystem:e,encryptionScheme:t,licenseServerUri:"",distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,serverCertificateUri:"",sessionType:"",initData:n||[],keyIds:new Set},r&&(e.keySystemUris=new Set([r])),e}function e5(e,t){t=t===void 0?"cenc":t;var n=[],r=[],i=[];e.forEach(function(u,l){var p=l;p.length!=22&&(p=Mo(Fu(l),!1));var g=u;g.length!=22&&(g=Mo(Fu(u),!1)),u={kty:"oct",kid:p,k:g},n.push(u),r.push(u.kid),i.push(l)}),e=JSON.stringify({keys:n});var a=JSON.stringify({kids:r});return a=[{initData:Ye(la(a)),initDataType:"keyids"}],{keySystem:"org.w3.clearkey",encryptionScheme:t,licenseServerUri:"data:application/json;base64,"+d.btoa(e),distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,serverCertificateUri:"",sessionType:"",initData:a,keyIds:new Set(i)}}function xc(e,t){if(t.length==1)return t[0];if(e=Wr(e,t),e!=null)return e;throw new $(2,4,4025,t)}function Wr(e,t){var n=t5.get(e);n=w(n);for(var r=n.next();!r.done;r=n.next()){r=r.value;for(var i=w(t),a=i.next();!a.done;a=i.next())if(a=a.value,r.test(a.trim()))return a.trim()}return e==wt?"":null}function H1(e,t){var n=[];e=t5.get(e),e=w(e);for(var r=e.next();!r.done;r=e.next()){r=r.value;for(var i=w(t),a=i.next();!a.done;a=i.next())a=a.value,r.test(a.trim())&&n.push(a.trim())}return n}var wt="text",$n={la:"video",V:"audio",za:wt,$e:"image",Mj:"application"},D7=1/15,t5=new Map().set("audio",[/^vorbis$/,/^Opus$/,/^opus$/,/^fLaC$/,/^flac$/,/^mp4a/,/^[ae]c-3$/,/^ac-4/,/^dts[cex]$/,/^iamf/,/^mhm[12]/,/^ac3$/,/^eac3$/]).set("video",[/^avc/,/^hev/,/^hvc/,/^vvc/,/^vvi/,/^vp0?[89]/,/^av01/,/^dvh/,/^dva/,/^dav/]).set("text",[/^vtt$/,/^wvtt/,/^stpp/]);function Bp(e,t,n,r){this.g=null,this.l=e,this.i=t,this.m=n,this.o=r,this.j=!1;e:{if(typeof libDPIModule>"u"&&Be("Could not find LCEVC Library dependencies on this page"),typeof LCEVCdec<"u")this.h=LCEVCdec;else if(typeof LcevcDil<"u")this.h=LcevcDil,this.j=!0,ut("LcevcDil","lcevc_dil.js is deprecated, please use lcevc_dec.js instead");else{Be("Could not find LCEVC Library on this page"),e=!1;break e}typeof this.h.SupportObject>"u"?(Be("Could not find LCEVC Library on this page"),e=!1):(this.h.SupportObject.SupportStatus||Be(this.h.SupportObject.SupportError),e=typeof this.h<"u"&&typeof libDPIModule<"u"&&this.i instanceof HTMLCanvasElement&&this.h.SupportObject.SupportStatus)}e&&!this.g&&this.h.SupportObject.webGLSupport(this.i)&&(this.i.classList.remove("shaka-hidden"),this.g=this.j?new this.h.LcevcDil(this.l,this.i,this.m):new this.h.LCEVCdec(this.l,this.i,this.m))}function q1(e,t,n,r){r.type!=="video"||e.o&&!r.baseOriginalId||e.g&&e.g.appendBuffer(t,"video",r.id,-n,!e.o)}function n5(e){e.g&&e.i.classList.add("shaka-hidden")}Bp.prototype.release=function(){this.g&&(this.g.close(),this.g=null)};function r5(e){return e&&typeof LCEVCdec<"u"?e.codecs=="lvc1":!1}Ee("shaka.lcevc.Dec",Bp),Bp.prototype.release=Bp.prototype.release;function ir(e){if(G1.has(e))return G1.get(e);var t=d.ManagedMediaSource||d.MediaSource;return t?(t=t.isTypeSupported(e),G1.set(e,t),t):!1}function Bu(){var e=d.ManagedSourceBuffer||d.SourceBuffer;return!!e&&!!e.prototype&&!!e.prototype.changeType}function i5(){var e=d.ManagedMediaSource||d.MediaSource;return e&&e.prototype?!!e.prototype.setLiveSeekableRange&&!!e.prototype.clearLiveSeekableRange:!1}var G1=new Map;function Vp(){}Vp.prototype.extract=function(){},Vp.prototype.decode=function(){return[]},Vp.prototype.clear=function(){},Vp.prototype.getStreams=function(){return[]};function K1(){}K1.prototype.init=function(){},K1.prototype.parse=function(){return[]};function $p(){}$p.prototype.init=function(){},$p.prototype.i=function(){},$p.prototype.g=function(){},$p.prototype.j=function(){},Ee("shaka.media.IClosedCaptionParser",$p);function Ai(e){this.l=new K1,(e=a5(e.toLowerCase()))&&(this.l=e()),this.h=new Vp,(e=Sc)&&(this.h=e())}Ai.prototype.init=function(e,t){t!==void 0&&t||this.g(),this.l.init(e)},Ai.prototype.i=function(e){e=this.l.parse(e),e=w(e);for(var t=e.next();!t.done;t=e.next()){t=t.value;var n=Ye(t.packet);0<n.length&&this.h.extract(n,t.pts)}return this.h.decode()},Ai.prototype.g=function(){this.h.clear()},Ai.prototype.j=function(){return this.h.getStreams()};function W1(e,t){X1.set(e,t)}function a5(e){return X1.get(e)}Ee("shaka.media.ClosedCaptionParser",Ai),Ai.findDecoder=function(){return Sc},Ai.unregisterDecoder=function(){Sc=null},Ai.registerDecoder=function(e){Sc=e},Ai.findParser=a5,Ai.unregisterParser=function(e){X1.delete(e)},Ai.registerParser=W1;var X1=new Map,Sc=null;function Vu(){this.id="",this.regionAnchorY=this.regionAnchorX=this.viewportAnchorY=this.viewportAnchorX=0,this.height=this.width=100,this.viewportAnchorUnits=this.widthUnits=this.heightUnits=li,this.scroll=o5}Ee("shaka.text.CueRegion",Vu);var li=1;Vu.units={PX:0,PERCENTAGE:li,LINES:2};var o5="";Vu.scrollMode={NONE:o5,UP:"up"};function s5(e,t){return typeof e=="number"&&typeof t=="number"&&isNaN(e)&&isNaN(t)?!0:e===t}function ca(e,t){t=e.indexOf(t),-1<t&&e.splice(t,1)}function Y1(e,t,n){if(n||(n=s5),e.length!=t.length)return!1;t=t.slice(),e=w(e);for(var r=e.next(),i={};!r.done;i={ah:void 0},r=e.next()){if(i.ah=r.value,r=t.findIndex(function(a){return function(u){return n(a.ah,u)}}(i)),r==-1)return!1;t[r]=t[t.length-1],t.pop()}return t.length==0}function kc(e,t,n){if(e===t)return!0;if(!e||!t)return e==t;if(n||(n=s5),e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1;return!0}function Tc(e){this.h=e||"",this.g=0}function Ac(e){$u(e,/[ \t]+/gm)}function $u(e,t){return t.lastIndex=e.g,t=t.exec(e.h),t=t==null?null:{position:t.index,length:t[0].length,results:t},e.g==e.h.length||t==null||t.position!=e.g?null:(e.g+=t.length,t.results)}function zu(e){return e.g==e.h.length?null:(e=$u(e,/[^ \t\n]*/gm))?e[0]:null}function zp(e){if(e=$u(e,P7),e==null)return null;var t=Number(e[2]),n=Number(e[3]);return 59<t||59<n?null:(Number(e[6])||0)/1e3+n+60*t+3600*(Number(e[1])||0)}function Ec(e){return e?zp(new Tc(e)):null}var P7=/(?:(\d{1,}):)?(\d{2}):(\d{2})((\.(\d{1,3})))?/g;function Na(e){function t(r){switch(typeof r){case"undefined":case"boolean":case"number":case"string":case"symbol":case"function":return r;default:if(!r||ArrayBuffer.isView(r))return r;if(n.has(r))return null;var i=r.constructor==Array;if(r.constructor!=Object&&!i)return null;n.add(r);var a=i?[]:{},u;for(u in r)a[u]=t(r[u]);return i&&(a.length=r.length),a}}var n=new WeakSet;return t(e)}function Hu(e){var t={},n;for(n in e)t[n]=e[n];return t}function J1(e){if(Array.isArray(e)){for(var t=[],n=0;n<e.length;n++){var r=n.toString(),i=e[n];i!==void 0&&(i=J1(i))&&t.push(r+":"+i)}e="["+t.join(",")+"]"}else if(typeof e=="function")e="";else if(e instanceof Object){for(n=Object.keys(e),n.sort(),t=[],n=w(n),r=n.next();!r.done;r=n.next())i=r.value,r=JSON.stringify(i),i=e[i],i!==void 0&&(i=J1(i))&&t.push(r+":"+i);e="{"+t.join(",")+"}"}else e=JSON.stringify(e);return e}function Hp(e,t){var n=n===void 0?!1:n;return e=Qa(e),qu(e,t,n)}function qu(e,t,n){return e=L7(e,n===void 0?!1:n),!t&&e.length?e[0]:(e=e.find(function(r){return t.split(",").includes(r.tagName)}))?e:null}function Q1(e){return eb.has(e)?eb.get(e):""}function L7(e,t){function n(a,u){u=u===void 0?!1:u;for(var l=[];e[i];)if(e.charCodeAt(i)==60){if(e.charCodeAt(i+1)===47){u=i+2,i=e.indexOf(">",i),u=e.substring(u,i);var p=u.indexOf(a);if(p==-1){var g=a.indexOf(".");0<g&&(p=u.indexOf(a.substring(0,g)))}if(p==-1)throw a=e.substring(0,i).split(`
`),Error(`Unexpected close tag
Line: `+(a.length-1)+`
Column: `+(a[a.length-1].length+1)+`
Char: `+e[i]);i+1&&(i+=1);break}else if(e.charCodeAt(i+1)===33){if(e.charCodeAt(i+2)==45){for(;i!==-1&&(e.charCodeAt(i)!==62||e.charCodeAt(i-1)!=45||e.charCodeAt(i-2)!=45||i==-1);)i=e.indexOf(">",i+1);i===-1&&(i=e.length)}else if(e.charCodeAt(i+2)===91&&e.charCodeAt(i+8)===91&&e.substr(i+3,5).toLowerCase()==="cdata"){p=e.indexOf("]]>",i),p==-1?(l.push(e.substr(i+9)),i=e.length):(l.push(e.substring(i+9,p)),i=p+3);continue}i++;continue}e:{g=u,i++;var v=r(),y={};for(p=[];e.charCodeAt(i)!==62&&e[i];){var x=e.charCodeAt(i);if(64<x&&91>x||96<x&&123>x){x=r();for(var S=e.charCodeAt(i);S&&S!==39&&S!==34&&!(64<S&&91>S||96<S&&123>S)&&S!==62;)i++,S=e.charCodeAt(i);var k=i+1;if(i=e.indexOf(e[i],k),k=e.slice(k,i),S===39||S===34){if(i===-1){if(g={tagName:v,attributes:y,children:p,parent:null},t)for(v=0;v<p.length;v++)typeof p[v]!="string"&&(p[v].parent=g);p=g;break e}}else k=null,i--;if(x.startsWith("xmlns:")){S=k;var C=x.split(":")[1];eb.set(S,C),tb.set(C,S)}v==="tt"&&x==="xml:space"&&k==="preserve"&&(g=!0),y[x]=k}i++}for(e.charCodeAt(i-1)!==47?(i++,p=n(v,g)):i++,g={tagName:v,attributes:y,children:p,parent:null},v=p.length,y=0;y<v;y++)x=p[y],typeof x!="string"?t&&(x.parent=g):y==v-1&&x==`
`&&p.pop();p=g}if(l.push(p),typeof p=="string")break;p.tagName[0]==="?"&&p.children&&(l.push.apply(l,j(p.children)),p.children=[])}else p=i,i=e.indexOf("<",i)-1,i===-2&&(i=e.length),p=e.slice(p,i+1),u?0<p.length&&l.push(p):(l.length&&p.length==1&&p[0]==`
`||0<p.trim().length)&&l.push(p),i++;return l}function r(){for(var a=i;`\r
	>/= `.indexOf(e[i])===-1&&e[i];)i++;return e.slice(a,i)}var i=0;return n("")}function Gg(e){return typeof e=="string"}function u5(e){var t=[];if(!e.children)return[];e=w(e.children);for(var n=e.next();!n.done;n=e.next())n=n.value,typeof n!="string"&&t.push(n);return t}function Gt(e,t){var n=[];if(!e.children)return[];e=w(e.children);for(var r=e.next();!r.done;r=e.next())r=r.value,r.tagName===t&&n.push(r);return n}function jn(e){return typeof e=="string"?Kr(e):(e=e.children.reduce(function(t,n){return typeof n=="string"?t+n:t},""),e===""?null:Kr(e))}function Ei(e){return Array.from(e.children).every(function(t){return typeof t=="string"})?((e=jn(e))&&(e=e.trim()),e):null}function Ua(e,t,n){if(n=n===void 0?[]:n,e.tagName===t&&n.push(e),e.children){e=w(e.children);for(var r=e.next();!r.done;r=e.next())Ua(r.value,t,n)}return n}function Nn(e,t){return e=Gt(e,t),e.length!=1?null:e[0]}function da(e,t,n){return e=l5(e,t,n),e.length!=1?null:e[0]}function st(e,t,n,r){r=r===void 0?null:r;var i=null;return e=e.attributes[t],e!=null&&(i=n(e)),i??r}function Do(e,t,n){return t=Q1(t),e.attributes[t+":"+n]||null}function l5(e,t,n){var r=Q1(t);if(t=[],e.children)for(n=r?r+":"+n:n,e=w(e.children),r=e.next();!r.done;r=e.next())(r=r.value)&&r.tagName===n&&t.push(r);return t}function Za(e,t,n){t=w(t);for(var r=t.next();!r.done;r=t.next())if(r=Do(e,r.value,n))return r;return null}function _s(e){return e?(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(e)&&(e+="Z"),e=Date.parse(e),isNaN(e)?null:e/1e3):null}function eo(e){return!e||(e=RegExp("^P(?:([0-9]*)Y)?(?:([0-9]*)M)?(?:([0-9]*)D)?(?:T(?:([0-9]*)H)?(?:([0-9]*)M)?(?:([0-9.]*)S)?)?$","i").exec(e),!e)?null:(e=31536e3*Number(e[1]||null)+2592e3*Number(e[2]||null)+86400*Number(e[3]||null)+3600*Number(e[4]||null)+60*Number(e[5]||null)+Number(e[6]||null),isFinite(e)?e:null)}function Kg(e){var t=/([0-9]+)-([0-9]+)/.exec(e);return!t||(e=Number(t[1]),!isFinite(e))?null:(t=Number(t[2]),isFinite(t)?{start:e,end:t}:null)}function Or(e){return e=Number(e),e%1===0?e:null}function Po(e){return e=Number(e),e%1===0&&0<e?e:null}function _r(e){return e=Number(e),e%1===0&&0<=e?e:null}function qp(e){return e=Number(e),isNaN(e)?null:e}function Wg(e){return e?e.toLowerCase()==="true":!1}function R7(e){var t,n=(t=e.match(/^(\d+)\/(\d+)$/))?Number(t[1])/Number(t[2]):Number(e);return isNaN(n)?null:n}function Xg(e){var t=[];e=Kr(e).split(/\/+(?=(?:[^'"]*['"][^'"]*['"])*[^'"]*$)/),e=w(e);for(var n=e.next();!n.done;n=e.next()){n=n.value;var r=n.match(/^([\w]+)/);if(r){var i=n.match(/(@id='(.*?)')/),a=n.match(/(@t='(\d+)')/),u=n.match(/(@n='(\d+)')/),l=n.match(/\[(\d+)\]/);t.push({name:r[0],id:i?i[0].match(/'(.*?)'/)[0].replace(/'/gm,""):null,t:a?Number(a[0].match(/'(.*?)'/)[0].replace(/'/gm,"")):null,n:u?Number(u[0].match(/'(.*?)'/)[0].replace(/'/gm,"")):null,position:l?Number(l[1])-1:null,ac:n.split("/@")[1]||null})}else n.startsWith("@")&&t.length&&(t[t.length-1].ac=n.slice(1))}return t}function c5(e,t){var n=Xg(t.attributes.sel||"");if(n.length){var r=n[n.length-1],i=t.attributes.pos||null;n=r.position,n==null&&(r.t!==null&&(n=d5(e,"t",r.t)),r.n!==null&&(n=d5(e,"n",r.n))),n===null?n=i==="prepend"?0:e.length:i==="prepend"?--n:i==="after"&&++n,i=t.tagName,(r=r.ac)&&e[n]?p5(e[n],i,r,Ei(t)||""):(i!=="remove"&&i!=="replace"||e.splice(n,1),i!=="add"&&i!=="replace"||e.splice.apply(e,[n,0].concat(j(t.children))))}}function d5(e,t,n){var r=0;e=w(e);for(var i=e.next();!i.done;i=e.next()){if(Number(i.value.attributes[t])===n)return r;r++}return null}function p5(e,t,n,r){t==="remove"?delete e.attributes[n]:(t==="add"||t==="replace")&&(e.attributes[n]=r)}function h5(e){var t="",n=e.tagName.split(":");0<n.length&&(t=n[0],t=tb.has(t)?tb.get(t):""),t=document.createElementNS(t,e.tagName);for(var r in e.attributes)t.setAttribute(r,e.attributes[r]);for(e=w(e.children),r=e.next();!r.done;r=e.next())r=r.value,n=void 0,typeof r=="string"?n=new Text(r):n=h5(r),t.appendChild(n);return t}function Z1(e){if(!e)return null;var t={tagName:e.tagName,attributes:Hu(e.attributes),children:[],parent:null};e=w(e.children);for(var n=e.next();!n.done;n=e.next())n=n.value,typeof n=="string"||(n=Z1(n),n.parent=t),t.children.push(n);return t}var eb=new Map,tb=new Map;function un(e,t,n){this.startTime=e,this.endTime=t,this.payload=n,this.region=new Vu,this.position=null,this.positionAlign=Qg,this.size=0,this.textAlign=to,this.direction=Wp,this.writingMode=Gu,this.lineInterpretation=Xp,this.line=null,this.lineHeight="",this.lineAlign=Ku,this.displayAlign=Kp,this.fontSize=this.border=this.backgroundImage=this.backgroundColor=this.color="",this.fontWeight=w5,this.fontStyle=ib,this.linePadding=this.letterSpacing=this.fontFamily="",this.opacity=1,this.textCombineUpright="",this.textDecoration=[],this.textStrokeWidth=this.textStrokeColor=this.textShadow="",this.wrapLine=!0,this.id="",this.nestedCues=[],this.lineBreak=this.isContainer=!1,this.rubyTag=null,this.cellResolution={oc:32,rows:15}}function f5(e,t){return e=new un(e,t,""),e.lineBreak=!0,e}un.prototype.clone=function(){var e=new un(0,0,""),t;for(t in this)e[t]=this[t],e[t]&&e[t].constructor==Array&&(e[t]=e[t].slice());return e};function Yg(e,t){if(e.payload!=t.payload||!(.001>Math.abs(e.startTime-t.startTime)&&.001>Math.abs(e.endTime-t.endTime)))return!1;for(var n in e)if(n!="startTime"&&n!="endTime"&&n!="payload"){if(n=="nestedCues"){if(!kc(e.nestedCues,t.nestedCues,Yg))return!1}else if(n=="region"||n=="cellResolution"){for(var r in e[n])if(e[n][r]!=t[n][r])return!1}else if(Array.isArray(e[n])){if(!kc(e[n],t[n]))return!1}else if(e[n]!=t[n])return!1}return!0}function Jg(e,t){t=t===void 0?new Map:t;var n=e.payload;if(n.includes("<")){t.size===0&&g5(t);var r=n;n=[];for(var i=-1,a=0;a<r.length;a++)r[a]==="<"?i=a+1:r[a]===">"&&0<i&&(i=r.substr(i,a-i),i.match(U7)&&n.push(i),i=-1);for(n=w(n),a=n.next();!a.done;a=n.next())a=a.value,r=r.replace("<"+a+">",'<div time="'+a+'">'),r+="</div>";e:{a=r,i=[];var u=-1;n="",r=!1;for(var l=0;l<a.length;l++)if(a[l]==="/"){var p=a.indexOf(">",l);if(p===-1){n=a;break e}if((p=a.substring(l+1,p))&&p=="v"){r=!0;var g=null;if(i.length&&(g=i[i.length-1]),g){if(g===p)n+="/"+p+">";else{if(!g.startsWith("v")){n+=a[l];continue}n+="/"+g+">"}l+=p.length+1}else n+=a[l]}else n+=a[l]}else a[l]==="<"?(u=l+1,a[u]!="v"&&(u=-1)):a[l]===">"&&0<u&&(i.push(a.substr(u,l-u)),u=-1),n+=a[l];for(a=w(i),i=a.next();!i.done;i=a.next())i=i.value,u=i.replace(" ",".voice-"),n=n.replace("<"+i+">","<"+u+">"),n=n.replace("</"+i+">","</"+u+">"),r||(n+="</"+u+">")}n=N7(n),e.payload="";try{var v=qu("<span>"+n+"</span>","span")}catch{}if(v)if(v=v.children,v.length!=1||v[0].tagName)for(v=w(v),n=v.next();!n.done;n=v.next())m5(n.value,e,t);else e.payload=Kr(n);else e.payload=Kr(n)}else e.payload=Kr(n)}function g5(e){for(var t=w(Object.entries(y5)),n=t.next();!n.done;n=t.next()){var r=w(n.value);n=r.next().value,r=r.next().value;var i=new un(0,0,"");i.color=r,e.set("."+n,i)}for(t=w(Object.entries(b5)),n=t.next();!n.done;n=t.next())r=w(n.value),n=r.next().value,r=r.next().value,i=new un(0,0,""),i.backgroundColor=r,e.set("."+n,i)}function N7(e){var t={"< ":""," >":" &gt;"},n=/(< +>|<\s|\s>)/g,r=RegExp(n.source);return e&&r.test(e)?e.replace(n,function(i){return t[i]||""}):e||""}function m5(e,t,n){var r=t.clone();if(r.nestedCues=[],r.payload="",r.rubyTag="",r.line=null,r.region=new Vu,r.position=null,r.size=0,r.textAlign=to,e.tagName)for(var i=w(e.tagName.split(/(?=[ .])+/g)),a=i.next();!a.done;a=i.next()){var u=a=a.value;if(u.startsWith(".voice-")){var l=u.split("-").pop();u='v[voice="'+l+'"]',n.has(u)||(u="v[voice="+l+"]")}switch(n.has(u)&&(l=r,u=n.get(u))&&(l.backgroundColor=Gp(u.backgroundColor,l.backgroundColor),l.color=Gp(u.color,l.color),l.fontFamily=Gp(u.fontFamily,l.fontFamily),l.fontSize=Gp(u.fontSize,l.fontSize),l.textShadow=Gp(u.textShadow,l.textShadow),l.fontWeight=u.fontWeight,l.fontStyle=u.fontStyle,l.opacity=u.opacity,l.rubyTag=u.rubyTag,l.textCombineUpright=u.textCombineUpright,l.wrapLine=u.wrapLine),a){case"br":r=f5(r.startTime,r.endTime),t.nestedCues.push(r);return;case"b":r.fontWeight=Cc;break;case"i":r.fontStyle=Ic;break;case"u":r.textDecoration.push(Lo);break;case"font":(a=e.attributes.color)&&(r.color=a);break;case"div":if(a=e.attributes.time,!a)break;(a=Ec(a))&&(r.startTime=a);break;case"ruby":case"rp":case"rt":r.rubyTag=a}}if(i=e.children,Gg(e)||i.length==1&&Gg(i[0]))for(n=jn(e).split(`
`),e=!0,n=w(n),i=n.next();!i.done;i=n.next())i=i.value,e||(e=f5(r.startTime,r.endTime),t.nestedCues.push(e)),0<i.length&&(e=r.clone(),e.payload=Kr(i),t.nestedCues.push(e)),e=!1;else for(t.nestedCues.push(r),t=w(i),e=t.next();!e.done;e=t.next())m5(e.value,r,n)}function Gp(e,t){return e&&0<e.length?e:t}Ee("shaka.text.Cue",un),un.parseCuePayload=Jg,un.equal=Yg,un.prototype.clone=un.prototype.clone;var Qg="auto";un.positionAlign={LEFT:"line-left",RIGHT:"line-right",CENTER:"center",AUTO:Qg};var to="center",nb={LEFT:"left",RIGHT:"right",CENTER:to,START:"start",END:"end"};un.textAlign=nb;var Kp="after",v5={BEFORE:"before",CENTER:"center",AFTER:Kp};un.displayAlign=v5;var Wp="ltr";un.direction={HORIZONTAL_LEFT_TO_RIGHT:Wp,HORIZONTAL_RIGHT_TO_LEFT:"rtl"};var Gu="horizontal-tb";un.writingMode={HORIZONTAL_TOP_TO_BOTTOM:Gu,VERTICAL_LEFT_TO_RIGHT:"vertical-lr",VERTICAL_RIGHT_TO_LEFT:"vertical-rl"};var Xp=0;un.lineInterpretation={LINE_NUMBER:Xp,PERCENTAGE:1};var Ku="start",rb={CENTER:"center",START:Ku,END:"end"};un.lineAlign=rb;var y5={white:"white",lime:"lime",cyan:"cyan",red:"red",yellow:"yellow",magenta:"magenta",blue:"blue",black:"black"};un.defaultTextColor=y5;var b5={bg_white:"white",bg_lime:"lime",bg_cyan:"cyan",bg_red:"red",bg_yellow:"yellow",bg_magenta:"magenta",bg_blue:"blue",bg_black:"black"};un.defaultTextBackgroundColor=b5;var w5=400,Cc=700;un.fontWeight={NORMAL:w5,BOLD:Cc};var ib="normal",Ic="italic",x5={NORMAL:ib,ITALIC:Ic,OBLIQUE:"oblique"};un.fontStyle=x5;var Lo="underline";un.textDecoration={UNDERLINE:Lo,LINE_THROUGH:"lineThrough",OVERLINE:"overline"};var U7=/(?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{2,3})/g;function Ds(){}Ds.prototype.destroy=function(){};function Ro(e,t,n){ab.set(e.toLowerCase().split(";")[0]+"-"+n,{priority:n,se:t})}function Ps(e,t){for(var n=e.toLowerCase().split(";")[0],r=w([S5,sb,ob,Ls]),i=r.next();!i.done;i=r.next())if(i=ab.get(n+"-"+i.value)){var a=i.se(),u=a.isSupported(e,t);if(a.destroy(),u)return i.se}return null}Ee("shaka.transmuxer.TransmuxerEngine",Ds),Ds.findTransmuxer=Ps,Ds.unregisterTransmuxer=function(e,t){ab.delete(e.toLowerCase().split(";")[0]+"-"+t)},Ds.registerTransmuxer=Ro,Ds.prototype.destroy=Ds.prototype.destroy;var ab=new Map,Ls=1,ob=2,sb=3,S5=4;Ds.PluginPriority={FALLBACK:Ls,PREFERRED_SECONDARY:ob,PREFERRED:sb,APPLICATION:S5};function ub(){}function Dn(e,t){var n=e;return t&&!No.includes(e)&&(n+='; codecs="'+t+'"'),n}function Mc(e,t){return t&&(e+='; codecs="'+t+'"'),e}function lb(e,t,n){var r=Dn(e,t);return t=Mc(e,t),Ps(t)?(e=Ps(t))?(e=e(),n=e.convertCodecs(n,t),e.destroy()):n=t:n=e!="video/mp2t"&&n=="audio"?r.replace("video","audio"):r,n}function O7(e,t,n){var r=[t];return j7.forEach(function(i,a){var u=e[a];a=="codecs"?No.includes(e.mimeType)||r.push('codecs="'+n+'"'):u&&r.push(i+'="'+u+'"')}),e.hdr=="PQ"&&r.push('eotf="smpte2084"'),r.join(";")}function Zg(e){return e.split(";")[0].split("/")[1]}function yr(e){var t=k5(e);switch(e=t[0].toLowerCase(),t=t[1].toLowerCase(),!0){case(e==="mp4a"&&t==="69"):case(e==="mp4a"&&t==="6b"):case(e==="mp4a"&&t==="40.34"):return"mp3";case(e==="mp4a"&&t==="66"):case(e==="mp4a"&&t==="67"):case(e==="mp4a"&&t==="68"):case(e==="mp4a"&&t==="40.2"):case(e==="mp4a"&&t==="40.02"):case(e==="mp4a"&&t==="40.5"):case(e==="mp4a"&&t==="40.05"):case(e==="mp4a"&&t==="40.29"):case(e==="mp4a"&&t==="40.42"):return"aac";case(e==="mp4a"&&t==="a5"):case e==="ac3":case e==="ac-3":return"ac-3";case(e==="mp4a"&&t==="a6"):case e==="eac3":case e==="ec-3":return"ec-3";case e==="ac-4":return"ac-4";case(e==="mp4a"&&t==="b2"):return"dtsx";case(e==="mp4a"&&t==="a9"):return"dtsc";case e==="vp09":return"vp9";case e==="avc1":case e==="avc3":return"avc";case e==="hvc1":case e==="hev1":return"hevc";case e==="vvc1":case e==="vvi1":return"vvc";case e==="dvh1":case e==="dvhe":return t&&t.startsWith("05")?"dovi-p5":"dovi-hevc";case e==="dvav":case e==="dva1":return"dovi-avc";case e==="dav1":return"dovi-av1";case e==="dvc1":case e==="dvi1":return"dovi-vvc"}return e}function Rs(e){var t=[];e=w(e.split(","));for(var n=e.next();!n.done;n=e.next())n=k5(n.value),t.push(n[0]);return t.sort().join(",")}function ci(e){return e.split(";")[0]}function di(e){return e=e.split(/ *; */),e.shift(),(e=e.find(function(t){return t.startsWith("codecs=")}))?e.split("=")[1].replace(/^"|"$/g,""):""}function cb(e){return e==="application/x-mpegurl"||e==="application/vnd.apple.mpegurl"}function k5(e){e=e.split(".");var t=e[0];return e.shift(),[t,e.join(".")]}Ee("shaka.util.MimeUtils",ub),ub.getFullTypeWithAllCodecs=Mc,ub.getFullType=Dn;var j7=new Map().set("codecs","codecs").set("frameRate","framerate").set("bandwidth","bitrate").set("width","width").set("height","height").set("channelsCount","channels"),No=["audio/aac","audio/ac3","audio/ec3","audio/mpeg"];function Uo(e){this.i=null,this.j=e,this.B=!1,this.l=this.u=0,this.m=1/0,this.h=this.g=null,this.C="",this.A=function(){},this.o=new Map}function dr(e,t){Yp.set(e,t)}function em(e){return Yp.get(e)}function _c(e){return Yp.has(e)?!0:e=="application/cea-608"||e=="application/cea-708"?!!Sc:!1}Uo.prototype.destroy=function(){return this.j=this.i=null,this.o.clear(),Promise.resolve()};function F7(e,t,n,r,i){var a,u,l,p,g,v,y;return P(function(x){if(x.g==1)return T(x,Promise.resolve(),2);if(!e.i||!e.j)return x.return();if(n==null||r==null)return e.i.parseInit(Ye(t)),x.return();for(a=e.B?n:e.u,u={periodStart:e.u,segmentStart:n,segmentEnd:r,vttOffset:a},l=e.i.parseMedia(Ye(t),u,i,[]),p=w(l),g=p.next();!g.done;g=p.next())v=g.value,e.A(v,i||null,u);y=l.filter(function(S){return S.startTime>=e.l&&S.startTime<e.m}),e.j.append(y),e.g==null&&(e.g=Math.max(n,e.l)),e.h=Math.min(r,e.m),ae(x)})}Uo.prototype.remove=function(e,t){var n=this;return P(function(r){if(r.g==1)return T(r,Promise.resolve(),2);!n.j||!n.j.remove(e,t)||n.g==null||t<=n.g||e>=n.h||(e<=n.g&&t>=n.h?n.g=n.h=null:e<=n.g&&t<n.h?n.g=t:e>n.g&&t>=n.h&&(n.h=e)),ae(r)})};function B7(e,t,n){e.l=t,e.m=n}function T5(e,t,n){if(e.C=t,t=e.o.get(t))for(var r=w(t.keys()),i=r.next();!i.done;i=r.next())(i=t.get(i.value).filter(function(a){return a.endTime<=n}))&&e.j.append(i)}function A5(e,t,n){t.startTime+=n,t.endTime+=n,t=w(t.nestedCues);for(var r=t.next();!r.done;r=t.next())A5(e,r.value,n)}function V7(e,t,n,r,i){var a=n+" "+r,u=new Map;t=w(t);for(var l=t.next();!l.done;l=t.next()){var p=l.value;l=p.stream,p=p.cue,u.has(l)||u.set(l,new Map),u.get(l).has(a)||u.get(l).set(a,[]),A5(e,p,i),p.startTime>=e.l&&p.startTime<e.m&&(u.get(l).get(a).push(p),l==e.C&&e.j.append([p]))}for(i=w(u.keys()),a=i.next();!a.done;a=i.next())for(a=a.value,e.o.has(a)||e.o.set(a,new Map),t=w(u.get(a).keys()),l=t.next();!l.done;l=t.next())l=l.value,p=u.get(a).get(l),e.o.get(a).set(l,p);e.g=e.g==null?Math.max(n,e.l):Math.min(e.g,Math.max(n,e.l)),e.h=Math.max(e.h,Math.min(r,e.m))}Ee("shaka.text.TextEngine",Uo),Uo.prototype.destroy=Uo.prototype.destroy,Uo.findParser=em,Uo.unregisterParser=function(e){Yp.delete(e)},Uo.registerParser=dr;var Yp=new Map;function $7(e,t){return e.concat(t)}function z7(){}function Ns(e){return e!=null}function Jp(e,t){return Promise.race([t,new Promise(function(n,r){new kt(r).da(e)})])}function pa(){}function Dc(e,t){return e=Jt(e),t=Jt(t),e.split("-")[0]==t.split("-")[0]}function Qp(e,t){return e=Jt(e),t=Jt(t),e=e.split("-"),t=t.split("-"),e[0]==t[0]&&e.length==1&&t.length==2}function db(e,t){return e=Jt(e),t=Jt(t),e=e.split("-"),t=t.split("-"),e.length==2&&t.length==2&&e[0]==t[0]}function Jt(e){e=w(e.split("-x-"));var t=e.next().value;t=t===void 0?"":t,e=e.next().value,e=e===void 0?"":e;var n=w(t.split("-"));return t=n.next().value,t=t===void 0?"":t,n=n.next().value,n=n===void 0?"":n,e=e?"x-"+e:"",t=t.toLowerCase(),t=E5.get(t)||t,n=n.toUpperCase(),(n?t+"-"+n:t)+(e?"-"+e:"")}function Wu(e,t){return e=Jt(e),t=Jt(t),t==e?4:Qp(t,e)?3:db(t,e)?2:Qp(e,t)?1:0}function pb(e){var t=e.indexOf("-");return e=0<=t?e.substring(0,t):e,e=e.toLowerCase(),e=E5.get(e)||e}function hb(e){return e.language?Jt(e.language):e.audio&&e.audio.language?Jt(e.audio.language):e.video&&e.video.language?Jt(e.video.language):"und"}function tm(e,t){e=Jt(e);var n=new Set;t=w(t);for(var r=t.next();!r.done;r=t.next())n.add(Jt(r.value));for(t=w(n),r=t.next();!r.done;r=t.next())if(r=r.value,r==e)return r;for(t=w(n),r=t.next();!r.done;r=t.next())if(r=r.value,Qp(r,e))return r;for(t=w(n),r=t.next();!r.done;r=t.next())if(r=r.value,db(r,e))return r;for(n=w(n),t=n.next();!t.done;t=n.next())if(t=t.value,Qp(e,t))return t;return null}Ee("shaka.util.LanguageUtils",pa),pa.findClosestLocale=tm,pa.getLocaleForVariant=hb,pa.getLocaleForText=function(e){return Jt(e.language||"und")},pa.getBase=pb,pa.relatedness=Wu,pa.areSiblings=function(e,t){var n=pb(e),r=pb(t);return e!=n&&t!=r&&n==r},pa.normalize=Jt,pa.isSiblingOf=db,pa.isParentOf=Qp,pa.areLanguageCompatible=Dc,pa.areLocaleCompatible=function(e,t){return e=Jt(e),t=Jt(t),e==t};var E5=new Map([["aar","aa"],["abk","ab"],["afr","af"],["aka","ak"],["alb","sq"],["amh","am"],["ara","ar"],["arg","an"],["arm","hy"],["asm","as"],["ava","av"],["ave","ae"],["aym","ay"],["aze","az"],["bak","ba"],["bam","bm"],["baq","eu"],["bel","be"],["ben","bn"],["bih","bh"],["bis","bi"],["bod","bo"],["bos","bs"],["bre","br"],["bul","bg"],["bur","my"],["cat","ca"],["ces","cs"],["cha","ch"],["che","ce"],["chi","zh"],["chu","cu"],["chv","cv"],["cor","kw"],["cos","co"],["cre","cr"],["cym","cy"],["cze","cs"],["dan","da"],["deu","de"],["div","dv"],["dut","nl"],["dzo","dz"],["ell","el"],["eng","en"],["epo","eo"],["est","et"],["eus","eu"],["ewe","ee"],["fao","fo"],["fas","fa"],["fij","fj"],["fin","fi"],["fra","fr"],["fre","fr"],["fry","fy"],["ful","ff"],["geo","ka"],["ger","de"],["gla","gd"],["gle","ga"],["glg","gl"],["glv","gv"],["gre","el"],["grn","gn"],["guj","gu"],["hat","ht"],["hau","ha"],["heb","he"],["her","hz"],["hin","hi"],["hmo","ho"],["hrv","hr"],["hun","hu"],["hye","hy"],["ibo","ig"],["ice","is"],["ido","io"],["iii","ii"],["iku","iu"],["ile","ie"],["ina","ia"],["ind","id"],["ipk","ik"],["isl","is"],["ita","it"],["jav","jv"],["jpn","ja"],["kal","kl"],["kan","kn"],["kas","ks"],["kat","ka"],["kau","kr"],["kaz","kk"],["khm","km"],["kik","ki"],["kin","rw"],["kir","ky"],["kom","kv"],["kon","kg"],["kor","ko"],["kua","kj"],["kur","ku"],["lao","lo"],["lat","la"],["lav","lv"],["lim","li"],["lin","ln"],["lit","lt"],["ltz","lb"],["lub","lu"],["lug","lg"],["mac","mk"],["mah","mh"],["mal","ml"],["mao","mi"],["mar","mr"],["may","ms"],["mkd","mk"],["mlg","mg"],["mlt","mt"],["mon","mn"],["mri","mi"],["msa","ms"],["mya","my"],["nau","na"],["nav","nv"],["nbl","nr"],["nde","nd"],["ndo","ng"],["nep","ne"],["nld","nl"],["nno","nn"],["nob","nb"],["nor","no"],["nya","ny"],["oci","oc"],["oji","oj"],["ori","or"],["orm","om"],["oss","os"],["pan","pa"],["per","fa"],["pli","pi"],["pol","pl"],["por","pt"],["pus","ps"],["que","qu"],["roh","rm"],["ron","ro"],["rum","ro"],["run","rn"],["rus","ru"],["sag","sg"],["san","sa"],["sin","si"],["slk","sk"],["slo","sk"],["slv","sl"],["sme","se"],["smo","sm"],["sna","sn"],["snd","sd"],["som","so"],["sot","st"],["spa","es"],["sqi","sq"],["srd","sc"],["srp","sr"],["ssw","ss"],["sun","su"],["swa","sw"],["swe","sv"],["tah","ty"],["tam","ta"],["tat","tt"],["tel","te"],["tgk","tg"],["tgl","tl"],["tha","th"],["tib","bo"],["tir","ti"],["ton","to"],["tsn","tn"],["tso","ts"],["tuk","tk"],["tur","tr"],["twi","tw"],["uig","ug"],["ukr","uk"],["urd","ur"],["uzb","uz"],["ven","ve"],["vie","vi"],["vol","vo"],["wel","cy"],["wln","wa"],["wol","wo"],["xho","xh"],["yid","yi"],["yor","yo"],["zha","za"],["zho","zh"],["zul","zu"]]);function C5(){}function I5(e,t,n,r,i){function a(I){var _=String(I.width||"")+String(I.height||"")+String(Math.round(I.frameRate||0))+(I.hdr||"")+I.fastSwitching;return I.dependencyStream&&(_+=I.dependencyStream.baseOriginalId||""),_}function u(I){var _=I.language+(I.channelsCount||0)+(I.audioSamplingRate||0)+I.roles.join(",")+I.label+I.groupId+I.fastSwitching;return I.dependencyStream&&(_+=I.dependencyStream.baseOriginalId||""),_}if(i.length){var l=e.textStreams;i=w(i);for(var p=i.next(),g={};!p.done;g={sg:void 0},p=i.next())if(g.sg=p.value,p=l.filter(function(I){return function(_){return!!(_.codecs.startsWith(I.sg)||_.mimeType.startsWith(I.sg))}}(g)),p.length){l=p;break}e.textStreams=l}if(l=e.variants,(t.length||n.length)&&(l=H7(l,t,n)),r.length){for(t=new Ne,n=w(l),l=n.next();!l.done;l=n.next())l=l.value,t.push(String(l.video.width||0),l);var v=[];t.forEach(function(I,_){I=0;var F=[];_=w(_);for(var B=_.next(),q={};!B.done;q={Pe:void 0},B=_.next())q.Pe=B.value,B=r.filter(function(O){return function(N){return O.Pe.decodingInfos[0][N]}}(q)).length,B>I?(I=B,F=[q.Pe]):B==I&&F.push(q.Pe);v.push.apply(v,j(F))}),l=v}for(n=new Set,t=new Set,l=w(l),i=l.next();!i.done;i=l.next())i=i.value,i.audio&&n.add(i.audio),i.video&&t.add(i.video);l=Array.from(n).sort(function(I,_){return I.bandwidth-_.bandwidth});var y=[];for(n=new Map,l=w(l),i=l.next();!i.done;i=l.next()){if(i=i.value,p=u(i),g=n.get(p)||[],g.length){var x=g[g.length-1],S=yr(x.codecs),k=yr(i.codecs);S!=k||i.bandwidth&&x.bandwidth&&!(i.bandwidth>x.bandwidth)||(g.push(i),y.push(i.id))}else g.push(i),y.push(i.id);n.set(p,g)}var C={vp8:1,avc:1,"dovi-avc":.95,vp9:.9,vp09:.9,hevc:.85,"dovi-hevc":.8,"dovi-p5":.75,av01:.7,"dovi-av1":.65,vvc:.6};l=Array.from(t).sort(function(I,_){if(!I.bandwidth||!_.bandwidth||I.bandwidth==_.bandwidth){if(I.codecs&&_.codecs&&I.codecs!=_.codecs&&I.width==_.width){var F=yr(I.codecs),B=yr(_.codecs);if(F!=B)return(C[F]||1)-(C[B]||1)}return I.width-_.width}return I.bandwidth-_.bandwidth}),t=Bu();var E=[];for(n=new Map,l=w(l),i=l.next();!i.done;i=l.next()){if(i=i.value,p=a(i),g=n.get(p)||[],g.length){if(x=g[g.length-1],!t&&(S=yr(x.codecs),k=yr(i.codecs),S!==k))continue;S=yr(x.codecs),k=yr(i.codecs),S!=k||i.bandwidth&&x.bandwidth&&!(i.bandwidth>x.bandwidth)||(g.push(i),E.push(i.id))}else g.push(i),E.push(i.id);n.set(p,g)}e.variants=e.variants.filter(function(I){var _=I.audio;return I=I.video,!(_&&!y.includes(_.id)||I&&!E.includes(I.id))})}function H7(e,t,n){t=w(t);for(var r=t.next(),i={};!r.done;i={Lh:void 0},r=t.next())if(i.Lh=r.value,r=e.filter(function(a){return function(u){return u.video&&u.video.codecs.startsWith(a.Lh)}}(i)),r.length){e=r;break}for(n=w(n),t=n.next(),r={};!t.done;r={Cg:void 0},t=n.next())if(r.Cg=t.value,t=e.filter(function(a){return function(u){return u.audio&&u.audio.codecs.startsWith(a.Cg)}}(r)),t.length){e=t;break}return e}function q7(e,t,n){e.variants=e.variants.filter(function(r){return nm(r,t,n)})}function nm(e,t,n){function r(l,p,g){return l>=p&&l<=g}var i=e.video;if(i&&i.width&&i.height){var a=i.width,u=i.height;if(u>a&&(u=w([u,a]),a=u.next().value,u=u.next().value),!r(a,t.minWidth,Math.min(t.maxWidth,n.width))||!r(u,t.minHeight,Math.min(t.maxHeight,n.height))||!r(i.width*i.height,t.minPixels,t.maxPixels))return!1}return!(e&&e.video&&e.video.frameRate&&!r(e.video.frameRate,t.minFrameRate,t.maxFrameRate)||e&&e.audio&&e.audio.channelsCount&&!r(e.audio.channelsCount,t.minChannelsCount,t.maxChannelsCount)||!r(e.bandwidth,t.minBandwidth,t.maxBandwidth))}function G7(e,t,n,r){return n=n===void 0?[]:n,r=r===void 0?{}:r,P(function(i){return i.g==1?T(i,M5(e,t,0<t.offlineSessionIds.length,n,r),2):(Y7(t),T(i,J7(t),0))})}function M5(e,t,n,r,i){var a,u;return P(function(l){if(l.g==1)return Pa()&&K7(t.variants),T(l,D5(t.variants,n,!1,r),2);a=null,e&&(u=e.h)&&(a=u.keySystem),t.variants=t.variants.filter(function(p){var g=W7(p,a,i);if(!g){var v=[];p.audio&&v.push(O5(p.audio)),p.video&&v.push(O5(p.video))}return g}),ae(l)})}function K7(e){var t=new Map().set("dvav","avc3").set("dva1","avc1").set("dvhe","hev1").set("dvh1","hvc1").set("dvc1","vvc1").set("dvi1","vvi1"),n=new Set;e=w(e);for(var r=e.next();!r.done;r=e.next())r=r.value,r.video&&n.add(r.video);for(n=w(n),e=n.next();!e.done;e=n.next()){e=e.value,r=w(t);for(var i=r.next();!i.done;i=r.next()){var a=w(i.value);if(i=a.next().value,a=a.next().value,e.codecs.includes(i)){e.codecs=e.codecs.replace(i,a);break}}}}function W7(e,t,n){if(!e.decodingInfos.some(function(p){return!(!p.supported||t&&(p=p.keySystemAccess)&&(n[p.keySystem]||p.keySystem)!=t)}))return!1;var r=Pa(),i=Rn("Firefox")&&Cs(),a=e.video,u=a&&a.width||0,l=a&&a.height||0;return r&&a&&(1920<u||1080<l)&&(a.codecs.includes("avc1.")||a.codecs.includes("avc3."))||(r=a&&a.dependencyStream)&&!r5(r)?!1:(e=e.audio,!(i&&e&&e.encrypted&&e.codecs.toLowerCase().includes("opus")||e&&e.dependencyStream))}function _5(e,t){var n,r,i,a,u,l,p;return P(function(g){if(g.g==1){for(n=function(v,y){if(v){var x=Hu(v);return x.supported=v.supported&&y.supported,x.powerEfficient=v.powerEfficient&&y.powerEfficient,x.smooth=v.smooth&&y.smooth,y.keySystemAccess&&!x.keySystemAccess&&(x.keySystemAccess=y.keySystemAccess),x}return y},r=null,i=[],a=w(t),u=a.next(),l={};!u.done;l={cache:void 0,Rd:void 0},u=a.next())p=u.value,l.Rd=J1(p),l.cache=im,l.cache.has(l.Rd)?r=n(r,l.cache.get(l.Rd)):i.push(X7(p).then(function(v){return function(y){var x=null;y=w(y||[]);for(var S=y.next();!S.done;S=y.next())x=n(x,S.value);x&&(v.cache.set(v.Rd,x),r=n(r,x))}}(l)));return T(g,Promise.all(i),2)}r&&e.decodingInfos.push(r),ae(g)})}function X7(e){var t=[""];e.video&&(t=di(e.video.contentType).split(","));var n=[""];e.audio&&(n=di(e.audio.contentType).split(","));var r=[];t=w(t);for(var i=t.next();!i.done;i=t.next()){i=i.value;for(var a=w(n),u=a.next(),l={};!u.done;l={pc:void 0},u=a.next())u=u.value,l.pc=Na(e),e.video&&(l.pc.video.contentType=Dn(ci(l.pc.video.contentType),i)),e.audio&&(l.pc.audio.contentType=Dn(ci(l.pc.audio.contentType),u)),r.push(new Promise(function(p){return function(g,v){(Cs()?Jp(5,navigator.mediaCapabilities.decodingInfo(p.pc)):navigator.mediaCapabilities.decodingInfo(p.pc)).then(function(y){g(y)}).catch(v)}}(l)))}return Promise.all(r).catch(function(){return JSON.stringify(e),null})}function D5(e,t,n,r){var i,a,u,l,p,g,v,y,x,S,k,C,E,I,_,F,B,q;return P(function(O){switch(O.g){case 1:if(e.some(function(N){return N.decodingInfos.length}))return O.return();i=w(r),a=i.next(),u={};case 2:if(a.done){O.s(4);break}u.mh=a.value,l=!1,p=w(e),g=p.next();case 5:if(g.done){O.s(7);break}v=g.value,y=P5(v,t,n).filter(function(N){return function(H){return H=H[0],(H.keySystemConfiguration&&H.keySystemConfiguration.keySystem)===N.mh}}(u)),x=w(y),S=x.next();case 8:if(S.done){O.s(10);break}return k=S.value,T(O,_5(v,k),9);case 9:S=x.next(),O.s(8);break;case 10:v.decodingInfos.length&&(l=!0),g=p.next(),O.s(5);break;case 7:if(l)return O.return();u={mh:void 0},a=i.next(),O.s(2);break;case 4:C=w(e),E=C.next();case 12:if(E.done){O.s(0);break}I=E.value,_=P5(I,t,n).filter(function(N){return N=N[0],N=N.keySystemConfiguration&&N.keySystemConfiguration.keySystem,!N||!r.includes(N)}),F=w(_),B=F.next();case 15:if(B.done){E=C.next(),O.s(12);break}return q=B.value,T(O,_5(I,q),16);case 16:B=F.next(),O.s(15)}})}function P5(e,t,n){var r=e.audio,i=e.video,a=[],u=[];if(i)for(var l=w(i.fullMimeTypes),p=l.next();!p.done;p=l.next()){p=p.value;var g=di(p);if(g.includes(",")&&!r){var v=g.split(","),y=ci(p);g=xc("video",v),v=xc("audio",v),v=Zp(v,y),y=lb(y,v,"audio"),u.push({contentType:y,channels:2,bitrate:e.bandwidth||1,samplerate:1,spatialRendering:!1})}if(g=fb(g),p={contentType:lb(ci(p),g,"video"),width:i.width||64,height:i.height||64,bitrate:i.bandwidth||e.bandwidth||1,framerate:i.frameRate||1},i.hdr)switch(i.hdr){case"SDR":p.transferFunction="srgb";break;case"PQ":p.transferFunction="pq";break;case"HLG":p.transferFunction="hlg"}i.colorGamut&&(p.colorGamut=i.colorGamut),a.push(p)}if(r)for(l=w(r.fullMimeTypes),p=l.next();!p.done;p=l.next())g=p.value,p=ci(g),g=Zp(di(g),p),p=lb(p,g,"audio"),u.push({contentType:p,channels:r.channelsCount||2,bitrate:r.bandwidth||e.bandwidth||1,samplerate:r.audioSamplingRate||1,spatialRendering:r.spatialAudio});for(l=[],a.length==0&&a.push(null),u.length==0&&u.push(null),a=w(a),p=a.next();!p.done;p=a.next())for(p=p.value,g=w(u),y=g.next();!y.done;y=g.next())y=y.value,v={type:n?"file":"media-source"},p&&(v.video=p),y&&(v.audio=y),l.push(v);if(u=(e.video?e.video.drmInfos:[]).concat(e.audio?e.audio.drmInfos:[]),!u.length)return[l];for(e=[],n=new Map,u=w(u),a=u.next();!a.done;a=u.next())a=a.value,n.get(a.keySystem)||n.set(a.keySystem,[]),n.get(a.keySystem).push(a);for(u=t?"required":"optional",t=t?["persistent-license"]:["temporary"],a=w(n.keys()),p=a.next();!p.done;p=a.next()){for(p=p.value,y=n.get(p),g=new Map,y=w(y),v=y.next();!v.done;v=y.next()){v=v.value;var x=v.videoRobustness+","+v.audioRobustness;g.get(x)||g.set(x,[]),g.get(x).push(v)}for(g=w(g.values()),y=g.next();!y.done;y=g.next()){y=y.value,v=[],x=w(l);for(var S=x.next();!S.done;S=x.next()){S=Object.assign({},S.value);for(var k={keySystem:p,initDataType:"cenc",persistentState:u,distinctiveIdentifier:"optional",sessionTypes:t},C=w(y),E=C.next();!E.done;E=C.next()){if(E=E.value,E.initData&&E.initData.length){for(var I=new Set,_=w(E.initData),F=_.next();!F.done;F=_.next())I.add(F.value.initDataType);k.initDataType=E.initData[0].initDataType}E.distinctiveIdentifierRequired&&(k.distinctiveIdentifier="required"),E.persistentStateRequired&&(k.persistentState="required"),E.sessionType&&(k.sessionTypes=[E.sessionType]),r&&(k.audio?(E.encryptionScheme&&(k.audio.encryptionScheme=k.audio.encryptionScheme||E.encryptionScheme),k.audio.robustness=k.audio.robustness||E.audioRobustness):(k.audio={robustness:E.audioRobustness},E.encryptionScheme&&(k.audio.encryptionScheme=E.encryptionScheme)),k.audio.robustness==""&&delete k.audio.robustness),i&&(k.video?(E.encryptionScheme&&(k.video.encryptionScheme=k.video.encryptionScheme||E.encryptionScheme),k.video.robustness=k.video.robustness||E.videoRobustness):(k.video={robustness:E.videoRobustness},E.encryptionScheme&&(k.video.encryptionScheme=E.encryptionScheme)),k.video.robustness==""&&delete k.video.robustness)}S.keySystemConfiguration=k,v.push(S)}e.push(v)}}return e}function Zp(e,t){return e.toLowerCase()=="flac"?cr()?"fLaC":"flac":e.toLowerCase()==="opus"?cr()&&Zg(t)=="mp4"?"Opus":"opus":e.toLowerCase()=="ac-3"&&Co()?"ec-3":e}function fb(e){if(e.includes("avc1")){var t=e.split(".");if(t.length==3)return e=t.shift()+".",e+=parseInt(t.shift(),10).toString(16),e+=("000"+parseInt(t.shift(),10).toString(16)).slice(-4)}else if(e=="vp9")return"vp09.00.41.08";return e}function Y7(e){e.textStreams=e.textStreams.filter(function(t){return t=Dn(t.mimeType,t.codecs),_c(t)})}function J7(e){var t,n,r,i,a,u,l;return P(function(p){switch(p.g){case 1:t=[],n=w(e.imageStreams),r=n.next();case 2:if(r.done){p.s(4);break}if(i=r.value,a=i.mimeType,a=="application/mp4"&&i.codecs=="mjpg"&&(a="image/jpg"),am.has(a)){p.s(5);break}if(u=eR.get(a),!u){am.set(a,!1),p.s(5);break}return T(p,Q7(u),7);case 7:l=p.h,am.set(a,l);case 5:am.get(a)&&t.push(i),r=n.next(),p.s(2);break;case 4:e.imageStreams=t,ae(p)}})}function Q7(e){return new Promise(function(t){var n=new Image;n.src=e,"decode"in n?n.decode().then(function(){t(!0)}).catch(function(){t(!1)}):n.onload=n.onerror=function(){t(n.height===2)}})}function Xu(e){var t=e.audio,n=e.video,r=t?t.mimeType:null,i=n?n.mimeType:null,a=t?t.codecs:null,u=n?n.codecs:null,l=t?t.groupId:null,p=[];n&&p.push(n.mimeType),t&&p.push(t.mimeType),p=p[0]||null;var g=[];t&&g.push(t.kind),n&&g.push(n.kind),g=g[0]||null;var v=new Set;if(t)for(var y=w(t.roles),x=y.next();!x.done;x=y.next())v.add(x.value);if(n)for(y=w(n.roles),x=y.next();!x.done;x=y.next())v.add(x.value);if(e={id:e.id,active:!1,type:"variant",bandwidth:e.bandwidth,language:e.language,label:null,kind:g,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,colorGamut:null,videoLayout:null,mimeType:p,audioMimeType:r,videoMimeType:i,codecs:"",audioCodec:a,videoCodec:u,primary:e.primary,roles:Array.from(v),audioRoles:null,forced:!1,videoId:null,audioId:null,audioGroupId:l,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:null,accessibilityPurpose:null,originalLanguage:null},n&&(e.videoId=n.id,e.originalVideoId=n.originalId,e.width=n.width||null,e.height=n.height||null,e.frameRate=n.frameRate||null,e.pixelAspectRatio=n.pixelAspectRatio||null,e.videoBandwidth=n.bandwidth||null,e.hdr=n.hdr||null,e.colorGamut=n.colorGamut||null,e.videoLayout=n.videoLayout||null,(r=n.dependencyStream)&&(e.width=r.width||e.width,e.height=r.height||e.height,e.videoCodec=r.codecs||e.videoCodec),u.includes(","))){e.channelsCount=n.channelsCount,e.audioSamplingRate=n.audioSamplingRate,e.spatialAudio=n.spatialAudio,e.originalLanguage=n.originalLanguage,e.audioMimeType=i,n=u.split(",");try{e.videoCodec=xc("video",n),e.audioCodec=xc("audio",n)}catch{}}return t&&(e.audioId=t.id,e.originalAudioId=t.originalId,e.channelsCount=t.channelsCount,e.audioSamplingRate=t.audioSamplingRate,e.audioBandwidth=t.bandwidth||null,e.spatialAudio=t.spatialAudio,e.label=t.label,e.audioRoles=t.roles,e.accessibilityPurpose=t.accessibilityPurpose,e.originalLanguage=t.originalLanguage,t=t.dependencyStream)&&(e.audioCodec=t.codecs||e.audioCodec),t=[],e.videoCodec&&t.push(e.videoCodec),e.audioCodec&&t.push(e.audioCodec),e.codecs=t.join(", "),e}function eh(e){return{id:e.id,active:!1,type:wt,bandwidth:0,language:e.language,label:e.label,kind:e.kind||null,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,colorGamut:null,videoLayout:null,mimeType:e.mimeType,audioMimeType:null,videoMimeType:null,codecs:e.codecs||null,audioCodec:null,videoCodec:null,primary:e.primary,roles:e.roles,audioRoles:null,forced:e.forced,videoId:null,audioId:null,audioGroupId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:e.originalId,originalImageId:null,accessibilityPurpose:e.accessibilityPurpose,originalLanguage:e.originalLanguage}}function gb(e){var t=e.width||null,n=e.height||null,r=null;e.segmentIndex&&(r=ja(e.segmentIndex));var i=e.tilesLayout;return r&&(i=r.tilesLayout||i),i&&t!=null&&(t/=Number(i.split("x")[0])),i&&n!=null&&(n/=Number(i.split("x")[1])),{id:e.id,active:!1,type:"image",bandwidth:e.bandwidth||0,language:"",label:null,kind:null,width:t,height:n,frameRate:null,pixelAspectRatio:null,hdr:null,colorGamut:null,videoLayout:null,mimeType:e.mimeType,audioMimeType:null,videoMimeType:null,codecs:e.codecs||null,audioCodec:null,videoCodec:null,primary:!1,roles:[],audioRoles:null,forced:!1,videoId:null,audioId:null,audioGroupId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:i||null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:e.originalId,accessibilityPurpose:null,originalLanguage:null}}function mb(e){return e.__shaka_id||(e.__shaka_id=Z7++),e.__shaka_id}function L5(e){var t=R5(e);return t.active=e.mode!="disabled",t.type="text",t.originalTextId=e.id,e.kind=="captions"&&(t.mimeType="unknown"),e.kind=="subtitles"&&(t.mimeType="text/vtt"),e.kind&&(t.roles=[e.kind]),e.kind=="forced"&&(t.forced=!0),t}function vb(e){var t=R5(e);return t.active=e.enabled,t.type="variant",t.originalAudioId=e.id,e.kind=="main"&&(t.primary=!0),e.kind&&(t.roles=[e.kind],t.audioRoles=[e.kind],t.label=e.label),t}function R5(e){var t=e.language;return{id:mb(e),active:!1,type:"",bandwidth:0,language:Jt(t||"und"),label:e.label,kind:e.kind,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,colorGamut:null,videoLayout:null,mimeType:null,audioMimeType:null,videoMimeType:null,codecs:null,audioCodec:null,videoCodec:null,primary:!1,roles:[],forced:!1,audioRoles:null,videoId:null,audioId:null,audioGroupId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:null,accessibilityPurpose:null,originalLanguage:t}}function th(e){return e.allowedByApplication&&e.allowedByKeySystem&&e.disabledUntilTime==0}function rm(e){return e.filter(function(t){return th(t)})}function Pc(e,t,n,r){var i=e,a=e.filter(function(p){return p.primary});a.length&&(i=a);var u=i.length?i[0].language:"";if(i=i.filter(function(p){return p.language==u}),t){var l=tm(Jt(t),e.map(function(p){return p.language}));l&&(i=e.filter(function(p){return Jt(p.language)==l}))}if(i=i.filter(function(p){return p.forced==r}),n){if(e=N5(i,n),e.length)return e}else if(e=i.filter(function(p){return p.roles.length==0}),e.length)return e;return e=i.map(function(p){return p.roles}).reduce($7,[]),e.length?N5(i,e[0]):i}function N5(e,t){return e.filter(function(n){return n.roles.includes(t)})}function U5(e,t){t.length&&(t=t.filter(function(n){return yr(e.codecs)==yr(n.codecs)}).sort(function(n,r){return n.bandwidth&&r.bandwidth&&n.bandwidth!=r.bandwidth?n.bandwidth-r.bandwidth:(n.width||0)-(r.width||0)}),e.trickModeVideo=t[0],1<t.length&&(t=t.find(function(n){return e.width==n.width&&e.height==n.height})))&&(e.trickModeVideo=t)}function O5(e){return e.type=="audio"?"type=audio codecs="+e.codecs+" bandwidth="+e.bandwidth+" channelsCount="+e.channelsCount+" audioSamplingRate="+e.audioSamplingRate:e.type=="video"?"type=video codecs="+e.codecs+" bandwidth="+e.bandwidth+" frameRate="+e.frameRate+" width="+e.width+" height="+e.height:"unexpected stream type"}function j5(e,t,n){if(n.autoShowText==0)return!1;if(n.autoShowText==1)return!0;var r=Jt(n.preferredTextLanguage);return t=Jt(t.language),n.autoShowText==2?Dc(t,r):n.autoShowText==3?e?(e=Jt(e.language),Dc(t,r)&&!Dc(e,t)):!1:(Be("Invalid autoShowText setting!"),!1)}Ee("shaka.util.StreamUtils",C5),C5.meetsRestrictions=nm;var im=new Map,Z7=0,am=new Map().set("image/svg+xml",!0).set("image/png",!0).set("image/jpeg",!0).set("image/jpg",!0),eR=new Map().set("image/webp","data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA").set("image/avif","data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=");function xn(){var e=this;this.G=null,this.o=!1,this.m=new lt,this.j=new Ce,navigator.connection&&navigator.connection.addEventListener&&this.j.D(navigator.connection,"change",function(){if(e.o&&e.g.useNetworkInformation){e.m=new lt,e.g&&e.m.configure(e.g.advanced);var t=e.chooseVariant();t&&navigator.onLine&&e.G(t,e.g.clearBufferSwitch,e.g.safeMarginSwitch)}}),this.F=[],this.H=1,this.I=!1,this.h=this.l=this.g=this.u=null,this.A=new kt(function(){if(e.o&&(e.g.restrictToElementSize||e.g.restrictToScreenSize)){var t=e.chooseVariant();t&&e.G(t,e.g.clearBufferSwitch,e.g.safeMarginSwitch)}}),this.B=d,"documentPictureInPicture"in d&&this.j.D(d.documentPictureInPicture,"enter",function(){e.B=d.documentPictureInPicture.window,e.A&&e.A.sb(),e.j.ma(e.B,"pagehide",function(){e.B=d,e.A&&e.A.sb()})}),this.C=this.i=null}f=xn.prototype,f.stop=function(){this.G=null,this.o=!1,this.F=[],this.H=1,this.l=this.u=null,this.h&&(this.h.disconnect(),this.h=null),this.A.stop(),this.C=this.i=null},f.release=function(){this.j.release(),this.A=null},f.init=function(e){this.G=e},f.chooseVariant=function(){var e=1/0,t=1/0;if(this.g.restrictToScreenSize){var n=this.g.ignoreDevicePixelRatio?1:this.B.devicePixelRatio;e=this.B.screen.height*n,t=this.B.screen.width*n}if(this.h&&this.g.restrictToElementSize){n=this.g.ignoreDevicePixelRatio?1:this.B.devicePixelRatio;var r=this.l.clientHeight,i=this.l.clientWidth;this.i&&document.pictureInPictureElement&&document.pictureInPictureElement==this.l&&(r=this.i.height,i=this.i.width),e=Math.min(e,r*n),t=Math.min(t,i*n)}if(n=this.F.filter(function(g){return g&&!(g.audio&&g.audio.fastSwitching||g.video&&g.video.fastSwitching)}),n.length||(n=this.F),r=n,n.length!=this.F.length&&(r=this.F.filter(function(g){return g&&!!(g.audio&&g.audio.fastSwitching||g.video&&g.video.fastSwitching)})),n=yb(this,this.g.restrictions,r,1/0,1/0),e!=1/0||t!=1/0){for(n=tR(n),n=w(n),i=n.next();!i.done;i=n.next())if(i=i.value,i.height>=e&&i.width>=t){e=i.height,t=i.width;break}n=yb(this,this.g.restrictions,r,e,t)}for(e=this.getBandwidthEstimate(),r.length&&!n.length&&(n=yb(this,null,r,1/0,1/0),n=[n[0]]),t=n[0]||null,r=0;r<n.length;r++){i=n[r];for(var a=isNaN(this.H)?1:Math.abs(this.H),u=a*i.bandwidth/this.g.bandwidthDowngradeTarget,l={bandwidth:1/0},p=r+1;p<n.length;p++)if(i.bandwidth!=n[p].bandwidth){l=n[p];break}a=a*l.bandwidth/this.g.bandwidthUpgradeTarget,e>=u&&e<=a&&(t.bandwidth!=i.bandwidth||t.bandwidth==i.bandwidth&&t.video&&i.video&&(t.video.width<i.video.width||t.video.height<i.video.height))&&(t=i)}return this.u=Date.now(),t},f.enable=function(){this.o=!0},f.disable=function(){this.o=!1},f.segmentDownloaded=function(e,t,n){e<this.g.cacheLoadThreshold||(this.m.sample(e,t),n&&this.u!=null&&this.o&&F5(this))},f.trySuggestStreams=function(){this.u!=null&&this.o&&F5(this)},f.getBandwidthEstimate=function(){var e=this.g.defaultBandwidthEstimate;return navigator.connection&&navigator.connection.downlink&&this.g.useNetworkInformation&&(e=1e6*navigator.connection.downlink),navigator.connection&&navigator.connection.downlink&&this.g.useNetworkInformation&&this.g.preferNetworkInformationBandwidth?e:(e=this.m.getBandwidthEstimate(e),this.C?this.C.getBandwidthEstimate(e):e)},f.setVariants=function(e){this.F=e},f.playbackRateChanged=function(e){this.H=e},f.setMediaElement=function(e){function t(){n.A.da(nR)}var n=this;this.l=e,this.h&&(this.h.disconnect(),this.h=null),this.l&&"ResizeObserver"in d&&(this.h=new ResizeObserver(t),this.h.observe(this.l)),this.j.D(e,"enterpictureinpicture",function(r){r.pictureInPictureWindow&&(n.i=r.pictureInPictureWindow,n.j.D(n.i,"resize",t))}),this.j.D(e,"leavepictureinpicture",function(){n.i&&n.j.Ja(n.i,"resize",t),n.i=null})},f.setCmsdManager=function(e){this.C=e},f.configure=function(e){this.g=e,this.m&&this.g&&this.m.configure(this.g.advanced)};function F5(e){if(!e.I){var t=e.m;if(!(t.g>=t.i))return;e.I=!0,e.u-=1e3*(e.g.switchInterval-e.g.minTimeToSwitch)}Date.now()-e.u<1e3*e.g.switchInterval||(t=e.chooseVariant(),e.getBandwidthEstimate(),t&&e.G(t,e.g.clearBufferSwitch,e.g.safeMarginSwitch))}function yb(e,t,n,r,i){if(e.C){var a=e.C.Ug();a&&(n=n.filter(function(u){return u.bandwidth&&a?u.bandwidth<=a:!0}))}return t&&(n=n.filter(function(u){return nm(u,t,{width:i,height:r})})),n.sort(function(u,l){return u.bandwidth-l.bandwidth})}function tR(e){var t=[];e=w(e);for(var n=e.next();!n.done;n=e.next())(n=n.value.video)&&n.height&&n.width&&t.push({height:n.height,width:n.width});return t.sort(function(r,i){return r.width-i.width})}Ee("shaka.abr.SimpleAbrManager",xn),xn.prototype.configure=xn.prototype.configure,xn.prototype.setCmsdManager=xn.prototype.setCmsdManager,xn.prototype.setMediaElement=xn.prototype.setMediaElement,xn.prototype.playbackRateChanged=xn.prototype.playbackRateChanged,xn.prototype.setVariants=xn.prototype.setVariants,xn.prototype.getBandwidthEstimate=xn.prototype.getBandwidthEstimate,xn.prototype.trySuggestStreams=xn.prototype.trySuggestStreams,xn.prototype.segmentDownloaded=xn.prototype.segmentDownloaded,xn.prototype.disable=xn.prototype.disable,xn.prototype.enable=xn.prototype.enable,xn.prototype.chooseVariant=xn.prototype.chooseVariant,xn.prototype.init=xn.prototype.init,xn.prototype.release=xn.prototype.release,xn.prototype.stop=xn.prototype.stop;var nR=1;Ee("shaka.config.CrossBoundaryStrategy",{KEEP:"keep",RESET:"reset",RESET_TO_ENCRYPTED:"reset_to_encrypted",RESET_ON_ENCRYPTION_CHANGE:"RESET_ON_ENCRYPTION_CHANGE"});function B5(e,t){var n=Oa();this.l=e.maxAttempts==null?n.maxAttempts:e.maxAttempts,this.j=e.baseDelay==null?n.baseDelay:e.baseDelay,this.o=e.fuzzFactor==null?n.fuzzFactor:e.fuzzFactor,this.m=e.backoffFactor==null?n.backoffFactor:e.backoffFactor,this.g=0,this.h=this.j,(this.i=t===void 0?!1:t)&&(this.g=1)}function V5(e){var t,n;return P(function(r){if(r.g==1){if(e.g>=e.l)if(e.i)e.g=1,e.h=e.j;else throw new $(2,7,1010);return t=e.g,e.g++,t==0?r.return():(n=e.h*(1+(2*Math.random()-1)*e.o),T(r,new Promise(function(i){new kt(i).da(n/1e3)}),2))}e.h*=e.m,ae(r)})}function Oa(){return{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4}}function Wt(){var e,t,n=new Promise(function(r,i){e=r,t=i});return n.resolve=e,n.reject=t,n}Wt.prototype.resolve=function(){},Wt.prototype.reject=function(){};function Pn(e,t){this.promise=e,this.i=t,this.g=null}function Yu(e){return new Pn(Promise.reject(e),function(){return Promise.resolve()})}function bb(){var e=Promise.reject(new $(2,7,7001));return e.catch(function(){}),new Pn(e,function(){return Promise.resolve()})}function Lc(e){return new Pn(Promise.resolve(e),function(){return Promise.resolve()})}function $5(e){return new Pn(e,function(){return e.catch(function(){})})}Pn.prototype.abort=function(){return this.g||(this.g=this.i()),this.g};function z5(e){return new Pn(Promise.all(e.map(function(t){return t.promise})),function(){return Promise.all(e.map(function(t){return t.abort()}))})}Pn.prototype.finally=function(e){return this.promise.then(function(){return e(!0)},function(){return e(!1)}),this},Pn.prototype.Ha=function(e,t){function n(l){return function(p){if(i.g&&l)a.reject(u);else{var g=l?e:t;g?r=rR(g,p,a):(l?a.resolve:a.reject)(p)}}}function r(){return a.reject(u),i.abort()}var i=this,a=new Wt;a.catch(function(){});var u=new $(2,7,7001);return this.promise.then(n(!0),n(!1)),new Pn(a,function(){return r()})};function rR(e,t,n){try{var r=e(t);return r&&r.promise&&r.abort?(n.resolve(r.promise),function(){return r.abort()}):(n.resolve(r),function(){return Promise.resolve(r).then(function(){},function(){})})}catch(i){return n.reject(i),function(){return Promise.resolve()}}}U.Object.defineProperties(Pn.prototype,{aborted:{configurable:!0,enumerable:!0,get:function(){return this.g!==null}}}),Ee("shaka.util.AbortableOperation",Pn),Pn.prototype.chain=Pn.prototype.Ha,Pn.prototype.finally=Pn.prototype.finally,Pn.all=z5,Pn.prototype.abort=Pn.prototype.abort,Pn.notAbortable=$5,Pn.completed=Lc,Pn.aborted=bb,Pn.failed=Yu;function Ae(e,t){if(t)if(t instanceof Map)for(var n=w(t.keys()),r=n.next();!r.done;r=n.next())r=r.value,Object.defineProperty(this,r,{value:t.get(r),writable:!0,enumerable:!0});else for(n in t)Object.defineProperty(this,n,{value:t[n],writable:!0,enumerable:!0});this.defaultPrevented=this.cancelable=this.bubbles=!1,this.timeStamp=d.performance&&d.performance.now?d.performance.now():Date.now(),this.type=e,this.isTrusted=!1,this.target=this.currentTarget=null,this.g=!1}function H5(e){var t=new Ae(e.type),n;for(n in e)Object.defineProperty(t,n,{value:e[n],writable:!0,enumerable:!0});return t}Ae.prototype.preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)},Ae.prototype.stopImmediatePropagation=function(){this.g=!0},Ae.prototype.stopPropagation=function(){},Ee("shaka.util.FakeEvent",Ae);var om={Oj:"abrstatuschanged",Pj:"adaptation",Qj:"audiotrackchanged",Rj:"audiotrackschanged",Sj:"boundarycrossed",Tj:"buffering",Uj:"complete",Vj:"downloadcompleted",Wj:"downloadfailed",Xj:"downloadheadersreceived",Yj:"drmsessionupdate",$j:"emsg",uk:"prft",Error:"error",ak:"expirationupdated",bk:"firstquartile",ck:"gapjumped",fk:"keystatuschanged",jk:"loaded",kk:"loading",mk:"manifestparsed",nk:"manifestupdated",pk:"mediaqualitychanged",qk:"mediasourcerecovered",Metadata:"metadata",rk:"midpoint",sk:"nospatialvideoinfo",tk:"onstatechange",vk:"ratechange",xk:"segmentappended",yk:"sessiondata",zk:"spatialvideoinfo",Ak:"stalldetected",Bk:"started",Ck:"statechanged",Dk:"streaming",Ek:"textchanged",Fk:"texttrackvisibility",Gk:"thirdquartile",Hk:"timelineregionadded",Ik:"timelineregionenter",Jk:"timelineregionexit",Kk:"trackschanged",Mk:"unloading",Ok:"variantchanged"};function Xt(){this.Ea=new Ne,this.Ge=this}Xt.prototype.addEventListener=function(e,t){this.Ea&&this.Ea.push(e,t)},Xt.prototype.removeEventListener=function(e,t){this.Ea&&this.Ea.remove(e,t)},Xt.prototype.dispatchEvent=function(e){if(!this.Ea)return!0;var t=this.Ea.get(e.type)||[],n=this.Ea.get("All");for(n&&(t=t.concat(n)),t=w(t),n=t.next();!n.done;n=t.next()){n=n.value,e.target=this.Ge,e.currentTarget=this.Ge;try{n.handleEvent?n.handleEvent(e):n.call(this,e)}catch{}if(e.g)break}return e.defaultPrevented},Xt.prototype.release=function(){this.Ea=null};function Rc(){this.g=[]}function Ju(e,t){e.g.push(t.finally(function(){ca(e.g,t)}))}Rc.prototype.destroy=function(){for(var e=[],t=w(this.g),n=t.next();!n.done;n=t.next())n=n.value,n.promise.catch(function(){}),e.push(n.abort());return this.g=[],Promise.all(e)};function an(e,t,n,r,i,a,u){Xt.call(this),this.i=!1,this.u=new Rc,this.g=new Set,this.h=new Set,this.m=e||null,this.l=t||null,this.C=n||null,this.F=r||null,this.G=i||null,this.I=a||null,this.H=u||null,this.A=this.B=!1,this.o=16e3,this.j=new Map}Te(an,Xt),f=an.prototype,f.kg=function(e){this.B=e},f.lg=function(e){this.A=e};function Oo(e,t,n,r){r=r===void 0?!1:r,n=n||X5;var i=um.get(e);(!i||n>=i.priority)&&um.set(e,{priority:n,se:t,ij:r})}function q5(e,t){for(var n=w(e.g),r=n.next();!r.done;r=n.next())t.g.add(r.value);for(e=w(e.h),n=e.next();!n.done;n=e.next())t.h.add(n.value)}f.lj=function(e){this.g.add(e)},f.Hj=function(e){this.g.delete(e)},f.$h=function(){this.g.clear()},f.mj=function(e){this.h.add(e)},f.Ij=function(e){this.h.delete(e)},f.ai=function(){this.h.clear()},f.Hg=function(){this.j.clear()};function qn(e,t,n){return{uris:e,method:"GET",body:null,headers:{},allowCrossSiteCredentials:!1,retryParameters:t,licenseRequestType:null,sessionId:null,drmInfo:null,initData:null,initDataType:null,streamDataCallback:n===void 0?null:n}}f.destroy=function(){return this.i=!0,this.g.clear(),this.h.clear(),this.j.clear(),Xt.prototype.release.call(this),this.u.destroy()},f.request=function(e,t,n){var r=this,i=new W5;if(this.i){var a=Promise.reject(new $(2,7,7001));return a.catch(function(){}),new sm(a,function(){return Promise.resolve()},i)}t.method=t.method||"GET",t.headers=t.headers||{},t.retryParameters=t.retryParameters?Na(t.retryParameters):Oa(),t.uris=Na(t.uris),a=iR(this,e,t,n);var u=a.Ha(function(){return G5(r,e,t,n,new B5(t.retryParameters,!1),0,null,i)}),l=u.Ha(function(x){return aR(r,e,x,n)}),p=Date.now(),g=0;a.promise.then(function(){g=Date.now()-p},function(){});var v=0;u.promise.then(function(){v=Date.now()},function(){});var y=l.Ha(function(x){var S=Date.now()-v,k=x.response;return k.timeMs+=g,k.timeMs+=S,x.Oi||!r.m||k.fromCache||t.method=="HEAD"||e!=ha||r.m(k.timeMs,k.data.byteLength,K5(n)),r.H&&r.H(e,k,n),k},function(x){throw x&&(x.severity=2),x});return a=new sm(y.promise,function(){return y.abort()},i),Ju(this.u,a),a};function iR(e,t,n,r){function i(l){a=a.Ha(function(){return n.body&&(n.body=ui(n.body)),l(t,n,r)})}var a=Lc(void 0);e.G&&i(e.G),e=w(e.g);for(var u=e.next();!u.done;u=e.next())i(u.value);return a.Ha(void 0,function(l){throw l instanceof $&&l.code==7001?l:new $(2,1,1006,l)})}function G5(e,t,n,r,i,a,u,l){e.B&&(n.uris[a]=n.uris[a].replace("https://","http://")),e.A&&(n.uris[a]=n.uris[a].replace("http://","https://")),0<a&&e.I&&e.I(t,r,n.uris[a],n.uris[a-1]);var p=new ee(n.uris[a]),g=p.Kb,v=!1;g||(g=location.protocol,g=g.slice(0,-1),ve(p,g),n.uris[a]=p.toString()),g=g.toLowerCase();var y=(g=um.get(g))?g.se:null;if(!y)return Yu(new $(2,1,1e3,p));var x=g.ij;(p=e.j.get(p.nb))&&(n.headers["common-access-token"]=p);var S=null,k=null,C=!1,E=!1,I;return $5(V5(i)).Ha(function(){if(e.i)return bb();I=Date.now();var _=0;n.requestStartTime=Date.now();var F=y(n.uris[a],n,t,function(O,N,H){S&&S.stop(),k&&k.da(q/1e3),e.m&&t==ha&&(_++,n.packetNumber=_,e.m(O,N,K5(r),n),v=!0,l.g=H)},function(O){E=!0,n.timeToFirstByte=Date.now()-n.requestStartTime,e.l&&e.l(O,n,t)},{minBytesForProgressEvents:e.o});if(!x)return F;var B=n.retryParameters.connectionTimeout;B&&(S=new kt(function(){C=!0,F.abort()}),S.da(B/1e3));var q=n.retryParameters.stallTimeout;return q&&(k=new kt(function(){C=!0,F.abort()})),F}).Ha(function(_){S&&S.stop(),k&&k.stop(),_.timeMs==null&&(_.timeMs=Date.now()-I);var F=_.headers["common-access-token"];if(F){var B=new ee(_.uri);e.j.set(B.nb,F)}return F={response:_,Oi:v},!E&&e.l&&e.l(_.headers,n,t),e.C&&e.C(n,_),F},function(_){if(S&&S.stop(),k&&k.stop(),e.F){var F=null,B=0;_ instanceof $&&(F=_,_.code==1001&&(B=_.data[1])),e.F(n,F,B,C)}if(e.i)return bb();if(C&&(_=new $(1,1,1003,n.uris[a],t)),_ instanceof $){if(_.code==7001)throw _;if(_.code==1010)throw u;if(_.severity==1){if(F=new Map().set("error",_),F=new Ae("retry",F),F.cancelable=!0,e.dispatchEvent(F),F.defaultPrevented)throw _;return a=(a+1)%n.uris.length,G5(e,t,n,r,i,a,_,l)}}throw _})}function aR(e,t,n,r){var i=Lc(void 0);e=w(e.h);for(var a=e.next(),u={};!a.done;u={ph:void 0},a=e.next())u.ph=a.value,i=i.Ha(function(l){return function(){var p=n.response;return p.data&&(p.data=ui(p.data)),(0,l.ph)(t,p,r)}}(u));return i.Ha(function(){return n},function(l){var p=2;if(l instanceof $){if(l.code==7001)throw l;p=l.severity}throw new $(p,1,1007,l)})}function K5(e){if(e){var t=e.segment;if(e=e.stream,t&&e&&e.fastSwitching&&t.o)return!1}return!0}Ee("shaka.net.NetworkingEngine",an),an.prototype.request=an.prototype.request,an.prototype.destroy=an.prototype.destroy,an.makeRequest=qn,an.defaultRetryParameters=function(){return Oa()},an.prototype.clearCommonAccessTokenMap=an.prototype.Hg,an.prototype.clearAllResponseFilters=an.prototype.ai,an.prototype.unregisterResponseFilter=an.prototype.Ij,an.prototype.registerResponseFilter=an.prototype.mj,an.prototype.clearAllRequestFilters=an.prototype.$h,an.prototype.unregisterRequestFilter=an.prototype.Hj,an.prototype.registerRequestFilter=an.prototype.lj,an.unregisterScheme=function(e){um.delete(e)},an.registerScheme=Oo,an.prototype.setForceHTTPS=an.prototype.lg,an.prototype.setForceHTTP=an.prototype.kg;function W5(){this.g=0}an.NumBytesRemainingClass=W5;function sm(e,t,n){Pn.call(this,e,t),this.h=n}Te(sm,Pn),an.PendingRequest=sm;var ha=1;an.RequestType={MANIFEST:0,SEGMENT:ha,LICENSE:2,APP:3,TIMING:4,SERVER_CERTIFICATE:5,KEY:6,ADS:7,CONTENT_STEERING:8},an.AdvancedRequestType={INIT_SEGMENT:0,MEDIA_SEGMENT:1,MEDIA_PLAYLIST:2,MASTER_PLAYLIST:3,MPD:4,MSS:5,MPD_PATCH:6,MEDIATAILOR_SESSION_INFO:7,MEDIATAILOR_TRACKING_INFO:8,MEDIATAILOR_STATIC_RESOURCE:9,MEDIATAILOR_TRACKING_EVENT:10,INTERSTITIAL_ASSET_LIST:11,INTERSTITIAL_AD_URL:12};var X5=3;an.PluginPriority={FALLBACK:1,PREFERRED:2,APPLICATION:X5};var um=new Map;function Nc(e){this.g=!1,this.h=new Wt,this.i=e}Nc.prototype.destroy=function(){var e=this;return this.g?this.h:(this.g=!0,this.i().then(function(){e.h.resolve()},function(){e.h.resolve()}))};function nn(e,t){if(e.g)throw t instanceof $&&t.code==7003?t:new $(2,7,7003,t)}function wb(e,t){var n=[];e=w(e);for(var r=e.next();!r.done;r=e.next())n.push(t(r.value));return n}function oR(e,t){e=w(e);for(var n=e.next();!n.done;n=e.next())if(!t(n.value))return!1;return!0}function Qu(e){for(var t=new Map,n=w(Object.keys(e)),r=n.next();!r.done;r=n.next())r=r.value,t.set(r,e[r]);return t}function xb(e){var t={};return e.forEach(function(n,r){t[r]=n}),t}function ln(e,t){this.h=pn(e),this.i=t==Y5,this.g=0}f=ln.prototype,f.ta=function(){return this.g<this.h.byteLength},f.Ba=function(){return this.g},f.getLength=function(){return this.h.byteLength},f.X=function(){try{var e=this.h.getUint8(this.g);return this.g+=1,e}catch{throw jo()}},f.na=function(){try{var e=this.h.getUint16(this.g,this.i);return this.g+=2,e}catch{throw jo()}},f.S=function(){try{var e=this.h.getUint32(this.g,this.i);return this.g+=4,e}catch{throw jo()}},f.$f=function(){try{var e=this.h.getInt32(this.g,this.i);return this.g+=4,e}catch{throw jo()}},f.bd=function(){try{if(this.i)var e=this.h.getUint32(this.g,!0),t=this.h.getUint32(this.g+4,!0);else t=this.h.getUint32(this.g,!1),e=this.h.getUint32(this.g+4,!1)}catch{throw jo()}if(2097151<t)throw new $(2,3,3001);return this.g+=8,t*Math.pow(2,32)+e},f.Cb=function(e){if(this.g+e>this.h.byteLength)throw jo();var t=Ye(this.h,this.g,e);return this.g+=e,t},f.skip=function(e){if(this.g+e>this.h.byteLength)throw jo();this.g+=e},f.qh=function(e){if(this.g<e)throw jo();this.g-=e},f.seek=function(e){if(0>e||e>this.h.byteLength)throw jo();this.g=e},f.Cc=function(){for(var e=this.g;this.ta()&&this.h.getUint8(this.g)!=0;)this.g+=1;return e=Ye(this.h,e,this.g-e),this.g+=1,yn(e)};function jo(){return new $(2,3,3e3)}Ee("shaka.util.DataViewReader",ln),ln.prototype.readTerminatedString=ln.prototype.Cc,ln.prototype.seek=ln.prototype.seek,ln.prototype.rewind=ln.prototype.qh,ln.prototype.skip=ln.prototype.skip,ln.prototype.readBytes=ln.prototype.Cb,ln.prototype.readUint64=ln.prototype.bd,ln.prototype.readInt32=ln.prototype.$f,ln.prototype.readUint32=ln.prototype.S,ln.prototype.readUint16=ln.prototype.na,ln.prototype.readUint8=ln.prototype.X,ln.prototype.getLength=ln.prototype.getLength,ln.prototype.getPosition=ln.prototype.Ba,ln.prototype.hasMoreData=ln.prototype.ta;var Y5=1;ln.Endianness={BIG_ENDIAN:0,LITTLE_ENDIAN:Y5};function Qt(){this.i=new Map,this.h=new Map,this.g=!1}f=Qt.prototype,f.box=function(e,t){return e=J5(e),this.i.set(e,sR),this.h.set(e,t),this},f.R=function(e,t){return e=J5(e),this.i.set(e,Q5),this.h.set(e,t),this},f.stop=function(){this.g=!0},f.parse=function(e,t,n){for(e=new ln(e,0),this.g=!1;e.ta()&&!this.g;)this.Yc(0,e,t,n)},f.Yc=function(e,t,n,r){var i=t.Ba();if(r&&i+8>t.getLength())this.g=!0;else{var a=t.S(),u=t.S(),l=lm(u),p=!1;switch(a){case 0:a=t.getLength()-i;break;case 1:if(r&&t.Ba()+8>t.getLength()){this.g=!0;return}a=t.bd(),p=!0}var g=this.h.get(u);if(g){var v=null,y=null;if(this.i.get(u)==Q5){if(r&&t.Ba()+4>t.getLength()){this.g=!0;return}y=t.S(),v=y>>>24,y&=16777215}u=i+a,n&&u>t.getLength()&&(u=t.getLength()),r&&u>t.getLength()?this.g=!0:(r=u-t.Ba(),t=0<r?t.Cb(r):new Uint8Array(0),t=new ln(t,0),g({name:l,parser:this,partialOkay:n||!1,version:v,flags:y,reader:t,size:a,start:i+e,has64BitSize:p}))}else t.skip(Math.min(i+a-t.Ba(),t.getLength()-t.Ba()))}};function xt(e){for(var t=Os(e);e.reader.ta()&&!e.parser.g;)e.parser.Yc(e.start+t,e.reader,e.partialOkay)}function Us(e){for(var t=Os(e),n=e.reader.S(),r=0;r<n&&(e.parser.Yc(e.start+t,e.reader,e.partialOkay),!e.parser.g);r++);}function pi(e){var t=Os(e);for(e.reader.skip(78);e.reader.ta()&&!e.parser.g;)e.parser.Yc(e.start+t,e.reader,e.partialOkay)}function Sb(e){var t=Os(e);e.reader.skip(8);var n=e.reader.na();for(e.reader.skip(6),n==2?e.reader.skip(48):e.reader.skip(12),n==1&&e.reader.skip(16);e.reader.ta()&&!e.parser.g;)e.parser.Yc(e.start+t,e.reader,e.partialOkay)}function Uc(e){return function(t){e(t.reader.Cb(t.reader.getLength()-t.reader.Ba()))}}function J5(e){var t=0;e=w(e);for(var n=e.next();!n.done;n=e.next())t=t<<8|n.value.charCodeAt(0);return t}function lm(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,e&255)}function Os(e){return 8+(e.has64BitSize?8:0)+(e.flags!=null?4:0)}Ee("shaka.util.Mp4Parser",Qt),Qt.headerSize=Os,Qt.typeToString=lm,Qt.allData=Uc,Qt.audioSampleEntry=Sb,Qt.visualSampleEntry=pi,Qt.sampleDescription=Us,Qt.children=xt,Qt.prototype.parseNext=Qt.prototype.Yc,Qt.prototype.parse=Qt.prototype.parse,Qt.prototype.stop=Qt.prototype.stop,Qt.prototype.fullBox=Qt.prototype.R,Qt.prototype.box=Qt.prototype.box;var sR=0,Q5=1;function kb(e){var t=this;this.g=[],this.h=[],this.data=[],new Qt().box("moov",xt).box("moof",xt).R("pssh",function(n){if(!(1<n.version)){var r=Ye(n.reader.h,-12,n.size);if(t.data.push(r),t.g.push(_o(n.reader.Cb(16))),0<n.version){r=n.reader.S();for(var i=0;i<r;i++){var a=_o(n.reader.Cb(16));t.h.push(a)}}}}).parse(e)}function cm(e,t,n,r){var i=e.length,a=t.length+16+i;0<r&&(a+=4+16*n.size);var u=new Uint8Array(a),l=pn(u),p=0;if(l.setUint32(p,a),p+=4,l.setUint32(p,1886614376),p+=4,1>r?l.setUint32(p,0):l.setUint32(p,16777216),p+=4,u.set(t,p),p+=t.length,0<r)for(l.setUint32(p,n.size),p+=4,t=w(n),n=t.next();!n.done;n=t.next())n=Fu(n.value),u.set(n,p),p+=n.length;return l.setUint32(p,i),u.set(e,p+4),u}function dm(e){var t=this;this.C=e,this.j=this.A=null,this.ka=this.ea=!1,this.H=0,this.h=null,this.o=new Ce,this.i=new Map,this.T=[],this.B=new Map,this.K=!1,this.m=new Wt,this.g=null,this.u=function(n){n.severity==2&&t.m.reject(n),e.onError(n)},this.Y=new Map,this.fa=new Map,this.L=new kt(function(){return yR(t)}),this.O=!1,this.M=[],this.W=!1,this.I=new kt(function(){wR(t)}),this.m.catch(function(){}),this.l=new Nc(function(){return uR(t)}),this.Z=!1,this.F=this.G=null,this.P=function(){return!1}}f=dm.prototype,f.destroy=function(){return this.l.destroy()};function uR(e){return P(function(t){switch(t.g){case 1:return e.o.release(),e.o=null,e.m.reject(),e.I.stop(),e.I=null,e.L.stop(),e.L=null,T(t,rh(e),2);case 2:if(!e.j){t.s(3);break}return me(t,4),T(t,e.j.setMediaKeys(null),6);case 6:V(t,5);break;case 4:W(t);case 5:e.j=null;case 3:e.h=null,e.A=null,e.B=new Map,e.g=null,e.u=function(){},e.C=null,e.Z=!1,e.G=null,ae(t)}})}f.configure=function(e,t){this.g=e,t&&(this.P=t),this.I&&this.I.ua(this.g.updateExpirationTime)};function lR(e,t,n){return e.ka=!0,e.B=new Map,e.O=n,e4(e,t,!1)}function Z5(e,t,n,r){r=r===void 0?!0:r,e.B=new Map,n=w(n);for(var i=n.next();!i.done;i=n.next())e.B.set(i.value,{initData:null,initDataType:null});for(n=w(e.g.persistentSessionsMetadata),i=n.next();!i.done;i=n.next())i=i.value,e.B.set(i.sessionId,{initData:i.initData,initDataType:i.initDataType});return e.O=0<e.B.size,e4(e,t,r)}function cR(e,t,n,r,i,a){var u=new Map;return i={audioCapabilities:i,videoCapabilities:a,distinctiveIdentifier:"optional",persistentState:"required",sessionTypes:["persistent-license"],label:t},i.drmInfos=[{keySystem:t,licenseServerUri:n,distinctiveIdentifierRequired:!1,persistentStateRequired:!0,audioRobustness:"",videoRobustness:"",serverCertificate:r,serverCertificateUri:"",initData:null,keyIds:null}],u.set(t,i),i4(e,u,[])}function e4(e,t,n){var r,i,a,u,l,p,g,v,y,x,S,k,C,E,I,_,F,B,q;return P(function(O){if(O.g==1){for(d4(e.g.clearKeys,t),r=t.some(function(N){return!!(N.video&&N.video.drmInfos.length||N.audio&&N.audio.drmInfos.length)}),!r&&n&&(i=Qu(e.g.servers),SR(t,i)),a=new Set,u=w(t),l=u.next();!l.done;l=u.next())for(p=l.value,g=l4(p),v=w(g),y=v.next();!y.done;y=v.next())x=y.value,a.add(x);for(S=w(a),k=S.next();!k.done;k=S.next())C=k.value,kR(C,Qu(e.g.servers),Qu(e.g.advanced||{}),e.g.keySystemsMapping);for(E=function(N,H){var z=[];N=w(N);for(var Y=N.next();!Y.done;Y=N.next()){Y=Y.value;var K=Y[H]||e.g.advanced&&e.g.advanced[Y.keySystem]&&e.g.advanced[Y.keySystem][H]||"",J;if((J=K=="")&&(J=(J=Y.keySystem)?!!J.match(/^com\.widevine\.alpha/):!1),J&&(H=="audioRobustness"?K=[e.g.defaultAudioRobustnessForWidevine]:H=="videoRobustness"&&(K=[e.g.defaultVideoRobustnessForWidevine])),typeof K=="string")z.push(Y);else if(Array.isArray(K))for(K.length===0&&(K=[""]),K=w(K),J=K.next();!J.done;J=K.next()){var ie={};z.push(Object.assign({},Y,(ie[H]=J.value,ie)))}}return z},I=w(t),_=I.next();!_.done;_=I.next())F=_.value,F.video&&(F.video.drmInfos=E(F.video.drmInfos,"videoRobustness"),F.video.drmInfos=E(F.video.drmInfos,"audioRobustness")),F.audio&&(F.audio.drmInfos=E(F.audio.drmInfos,"videoRobustness"),F.audio.drmInfos=E(F.audio.drmInfos,"audioRobustness"));return T(O,D5(t,e.O,e.Z,e.g.preferredKeySystems),2)}return nn(e.l),B=r||Object.keys(e.g.servers).length,B?(q=i4(e,void 0,t),O.return(r?q:q.catch(function(){}))):(e.ea=!0,O.return(Promise.resolve()))})}function t4(e){var t;return P(function(n){switch(n.g){case 1:if(e.j.mediaKeys)return n.return();if(!e.G){n.s(2);break}return T(n,e.G,3);case 3:return nn(e.l),n.return();case 2:return me(n,4),e.G=e.j.setMediaKeys(e.A),T(n,e.G,6);case 6:V(n,5);break;case 4:t=W(n),e.u(new $(2,6,6003,t.message));case 5:nn(e.l),ae(n)}})}function dR(e,t){return P(function(n){if(n.g==1)return T(n,t4(e),2);nh(e,t.initDataType,Ye(t.initData)),ae(n)})}f.Lb=function(e){var t=this;return P(function(n){if(n.g==1)return t.j===e?n.return():t.A?(t.j=e,t.o.ma(t.j,"play",function(){for(var r=w(t.M),i=r.next();!i.done;i=r.next())Ab(t,i.value);t.W=!0,t.M=[]}),t.j.remote?(t.o.D(t.j.remote,"connect",function(){return rh(t)}),t.o.D(t.j.remote,"connecting",function(){return rh(t)}),t.o.D(t.j.remote,"disconnect",function(){return rh(t)})):"webkitCurrentPlaybackTargetIsWireless"in t.j&&t.o.D(t.j,"webkitcurrentplaybacktargetiswirelesschanged",function(){return rh(t)}),t.F=t.h&&t.h.initData.find(function(r){return 0<r.initData.length})||null,t.F||t.h.keySystem!=="com.apple.fps"||t.B.size?T(n,t4(t),2):n.s(2)):(t.o.ma(e,"encrypted",function(){t.u(new $(2,6,6010))}),n.return());n4(t).catch(function(){}),t.F||t.B.size||t.g.parseInbandPsshEnabled||t.o.D(t.j,"encrypted",function(r){return dR(t,r)}),ae(n)})};function pR(e){var t,n,r,i,a;return P(function(u){switch(u.g){case 1:if(!e.A||!e.h)return u.return();if(!e.h.serverCertificateUri||e.h.serverCertificate&&e.h.serverCertificate.length){u.s(2);break}return t=qn([e.h.serverCertificateUri],e.g.retryParameters),me(u,3),n=e.C.Xb.request(5,t,{isPreload:e.P()}),T(u,n.promise,5);case 5:r=u.h,e.h.serverCertificate=Ye(r.data),V(u,4);break;case 3:throw i=W(u),new $(2,6,6017,i);case 4:if(e.l.g)return u.return();case 2:return!e.h.serverCertificate||!e.h.serverCertificate.length?u.return():(me(u,6),T(u,e.A.setServerCertificate(e.h.serverCertificate),8));case 8:V(u,0);break;case 6:throw a=W(u),new $(2,6,6004,a.message)}})}function hR(e,t){var n,r,i;return P(function(a){if(a.g==1)return T(a,o4(e,t,{initData:null,initDataType:null}),2);if(a.g!=3)return n=a.h,n?(r=[],(i=e.i.get(n))&&(i.ub=new Wt,r.push(i.ub)),r.push(n.remove()),T(a,Promise.all(r),3)):a.return();e.i.delete(n),ae(a)})}function n4(e){var t,n,r,i,a;return P(function(u){if(u.g==1)return e.B.size?(e.B.forEach(function(l,p){o4(e,p,l)}),T(u,e.m,3)):u.s(2);if(u.g!=2){if(t=e.h&&e.h.keyIds||new Set([]),0<t.size&&xR(e))return u.return(e.m);e.K=!1,e.m=new Wt,e.m.catch(function(){})}for(n=(e.h?e.h.initData:[])||[],r=w(n),i=r.next();!i.done;i=r.next())a=i.value,nh(e,a.initDataType,a.initData);return ih(e)&&e.m.resolve(),u.return(e.m)})}function nh(e,t,n){if(n.length){if(e.g.ignoreDuplicateInitData){var r=e.i.values();r=w(r);for(var i=r.next();!i.done;i=r.next())if(si(n,i.value.initData))return;var a=!1;if(e.B.forEach(function(u){!a&&si(n,u.initData)&&(a=!0)}),a)return}e.K=!0,0<e.i.size&&ih(e)&&(e.m.resolve(),e.K=!1,e.m=new Wt,e.m.catch(function(){})),mR(e,t,n,e.h.sessionType)}}function r4(e){return e=e.i.keys(),e=wb(e,function(t){return t.sessionId}),Array.from(e)}f.Gf=function(){var e=this,t=this.i.keys();return t=wb(t,function(n){var r=e.i.get(n);return{sessionId:n.sessionId,sessionType:r.type,initData:r.initData,initDataType:r.initDataType}}),Array.from(t)},f.pd=function(){var e=1/0,t=this.i.keys();t=w(t);for(var n=t.next();!n.done;n=t.next())n=n.value,isNaN(n.expiration)||(e=Math.min(e,n.expiration));return e},f.Yd=function(){return xb(this.fa)};function i4(e,t,n){var r,i,a,u,l,p,g,v;return P(function(y){switch(y.g){case 1:if(r=new Map,n.length){i=fR(e,n,r),y.s(2);break}return T(y,gR(e,t),3);case 3:i=y.h;case 2:if(a=i,!a)throw navigator.requestMediaKeySystemAccess?new $(2,6,6001):new $(2,6,6020);if(nn(e.l),me(y,4),a.getConfiguration(),u=e.g.keySystemsMapping[a.keySystem]||a.keySystem,n.length){var x=u,S=r.get(u),k=[],C=[],E=[],I=[],_=[],F=new Set,B=new Set;c4(S,k,C,I,E,_,F,B);var q=e.O?"persistent-license":"temporary";for(x={keySystem:x,encryptionScheme:k[0],licenseServerUri:C[0],distinctiveIdentifierRequired:S[0].distinctiveIdentifierRequired,persistentStateRequired:S[0].persistentStateRequired,sessionType:S[0].sessionType||q,audioRobustness:S[0].audioRobustness||"",videoRobustness:S[0].videoRobustness||"",serverCertificate:I[0],serverCertificateUri:E[0],initData:_,keyIds:F},0<B.size&&(x.keySystemUris=B),S=w(S),B=S.next();!B.done;B=S.next())B=B.value,B.distinctiveIdentifierRequired&&(x.distinctiveIdentifierRequired=B.distinctiveIdentifierRequired),B.persistentStateRequired&&(x.persistentStateRequired=B.persistentStateRequired);S=x}else S=u,B=t.get(u),x=[],k=[],C=[],E=[],I=[],_=new Set,c4(B.drmInfos,x,k,E,C,I,_),S={keySystem:S,encryptionScheme:x[0],licenseServerUri:k[0],distinctiveIdentifierRequired:B.distinctiveIdentifier=="required",persistentStateRequired:B.persistentState=="required",sessionType:B.sessionTypes[0]||"temporary",audioRobustness:(B.audioCapabilities?B.audioCapabilities[0].robustness:"")||"",videoRobustness:(B.videoCapabilities?B.videoCapabilities[0].robustness:"")||"",serverCertificate:E[0],serverCertificateUri:C[0],initData:I,keyIds:_};if(e.h=S,!e.h.licenseServerUri)throw new $(2,6,6012,e.h.keySystem);return T(y,a.createMediaKeys(),6);case 6:if(l=y.h,nn(e.l),e.A=l,!(e.g.minHdcpVersion!=""&&"getStatusForPolicy"in e.A)){y.s(7);break}return me(y,8),T(y,e.A.getStatusForPolicy({minHdcpVersion:e.g.minHdcpVersion}),10);case 10:if(p=y.h,p!="usable")throw new $(2,6,6018);nn(e.l),V(y,7,4);break;case 8:throw g=W(y,4),g instanceof $?g:new $(2,6,6019,g.message);case 7:return e.ea=!0,T(y,pR(e),11);case 11:nn(e.l),V(y,0);break;case 4:throw v=W(y),nn(e.l,v),e.h=null,v instanceof $?v:new $(2,6,6002,v.message)}})}function fR(e,t,n){for(var r=w(t),i=r.next();!i.done;i=r.next()){i=w(l4(i.value));for(var a=i.next();!a.done;a=i.next())a=a.value,n.has(a.keySystem)||n.set(a.keySystem,[]),n.get(a.keySystem).push(a)}if(n.size==1&&n.has(""))throw new $(2,6,6e3);r=e.g.preferredKeySystems,r.length||(i=Qu(e.g.servers),i.size==1&&(r=Array.from(i.keys()))),i=w(r);var u=i.next();for(a={};!u.done;a={nh:void 0},u=i.next()){a.nh=u.value,u=w(t);for(var l=u.next();!l.done;l=u.next())if(l=l.value.decodingInfos.find(function(y){return function(x){return x.supported&&x.keySystemAccess!=null&&x.keySystemAccess.keySystem==y.nh}}(a)))return l.keySystemAccess}for(i=w([!0,!1]),a=i.next();!a.done;a=i.next())for(a=a.value,u=w(t),l=u.next();!l.done;l=u.next()){l=w(l.value.decodingInfos);for(var p=l.next();!p.done;p=l.next())if(p=p.value,p.supported&&p.keySystemAccess){var g=p.keySystemAccess.keySystem;if(!r.includes(g)){var v=n.get(g);for(!v&&e.g.keySystemsMapping[g]&&(v=n.get(e.g.keySystemsMapping[g])),g=w(v),v=g.next();!v.done;v=g.next())if(!!v.value.licenseServerUri==a)return p.keySystemAccess}}}return null}function gR(e,t){var n,r,i,a,u,l,p,g,v,y,x,S,k,C,E,I;return P(function(_){switch(_.g){case 1:if(t.size==1&&t.has(""))throw new $(2,6,6e3);for(r=w(t.values()),i=r.next();!i.done;i=r.next())a=i.value,a.audioCapabilities.length==0&&delete a.audioCapabilities,a.videoCapabilities.length==0&&delete a.videoCapabilities;u=w(e.g.preferredKeySystems),l=u.next();case 2:if(l.done){_.s(4);break}if(p=l.value,!t.has(p)){_.s(3);break}return g=t.get(p),me(_,6),T(_,navigator.requestMediaKeySystemAccess(p,[g]),8);case 8:return n=_.h,_.return(n);case 6:W(_);case 7:nn(e.l);case 3:l=u.next(),_.s(2);break;case 4:v=w([!0,!1]),y=v.next();case 9:if(y.done){_.s(11);break}x=y.value,S=w(t.keys()),k=S.next();case 12:if(k.done){y=v.next(),_.s(9);break}if(C=k.value,E=t.get(C),I=E.drmInfos.some(function(F){return!!F.licenseServerUri}),I!=x){_.s(13);break}return me(_,15),T(_,navigator.requestMediaKeySystemAccess(C,[E]),17);case 17:return n=_.h,_.return(n);case 15:W(_);case 16:nn(e.l);case 13:k=S.next(),_.s(12);break;case 11:return _.return(n)}})}function Tb(e){ih(e)&&e.m.resolve()}function a4(e,t){new kt(function(){t.loaded=!0,Tb(e)}).da(AR)}function o4(e,t,n){var r,i,a,u,l,p,g;return P(function(v){switch(v.g){case 1:try{r=e.A.createSession("persistent-license")}catch(y){return i=new $(2,6,6005,y.message),e.u(i),v.return(Promise.reject(i))}return e.o.D(r,"message",function(y){e.j&&e.g.delayLicenseRequestUntilPlayed&&e.j.paused&&!e.W?e.M.push(y):Ab(e,y)}),e.o.D(r,"keystatuseschange",function(y){return s4(e,y)}),a={initData:n.initData,initDataType:n.initDataType,loaded:!1,Vf:1/0,ub:null,type:"persistent-license"},e.i.set(r,a),me(v,2),T(v,r.load(t),4);case 4:return u=v.h,nn(e.l),u||(e.i.delete(r),l=e.g.persistentSessionOnlinePlayback?1:2,e.u(new $(l,6,6013)),a.loaded=!0),a4(e,a),Tb(e),v.return(r);case 2:p=W(v),nn(e.l,p),e.i.delete(r),g=e.g.persistentSessionOnlinePlayback?1:2,e.u(new $(g,6,6005,p.message)),a.loaded=!0,Tb(e);case 3:return v.return(Promise.resolve())}})}function mR(e,t,n,r){try{var i=e.A.createSession(r)}catch(a){e.u(new $(2,6,6005,a.message));return}e.o.D(i,"message",function(a){e.j&&e.g.delayLicenseRequestUntilPlayed&&e.j.paused&&!e.W?e.M.push(a):Ab(e,a)}),e.o.D(i,"keystatuseschange",function(a){return s4(e,a)}),e.i.set(i,{initData:n,initDataType:t,loaded:!1,Vf:1/0,ub:null,type:r});try{n=e.g.initDataTransform(n,t,e.h)}catch(a){t=a,a instanceof $||(t=new $(2,6,6016,a)),e.u(t);return}e.g.logLicenseExchange&&Mo(n),i.generateRequest(t,n).catch(function(a){if(!e.l.g){e.i.delete(i);var u=a.errorCode;if(u&&u.systemCode){var l=u.systemCode;0>l&&(l+=Math.pow(2,32)),l="0x"+l.toString(16)}e.u(new $(2,6,6006,a.message,a,l))}})}function vR(e){return P(function(t){return t.g==1?e.K?T(t,e.m,3):t.s(0):T(t,Promise.all(e.T.map(function(n){return n.promise})),0)})}function Ab(e,t){var n,r,i,a,u,l,p,g,v,y,x,S,k,C;P(function(E){switch(E.g){case 1:if(n=t.target,e.g.logLicenseExchange&&Mo(t.message),r=e.i.get(n),i=e.h.licenseServerUri,a=e.g.advanced[e.h.keySystem],t.messageType=="individualization-request"&&a&&a.individualizationServer&&(i=a.individualizationServer),u=qn([i],e.g.retryParameters),u.body=t.message,u.method="POST",u.licenseRequestType=t.messageType,u.sessionId=n.sessionId,u.drmInfo=e.h,r&&(u.initData=r.initData,u.initDataType=r.initDataType),a&&a.headers)for(l in a.headers)u.headers[l]=a.headers[l];if(e.h.keySystem==="org.w3.clearkey"){var I=u,_=e.h;try{var F=Qa(I.body);if(F){var B=JSON.parse(F);B.type||(B.type=_.sessionType,I.body=la(JSON.stringify(B)))}}catch{}}if(O1(e.h.keySystem))if(I=Is(u.body,!0,!0),I.includes("PlayReadyKeyMessage")){for(I=qu(I,"PlayReadyKeyMessage"),_=Ua(I,"HttpHeader"),_=w(_),F=_.next();!F.done;F=_.next())B=F.value,F=Ua(B,"name")[0],B=Ua(B,"value")[0],u.headers[jn(F)]=jn(B);I=Ua(I,"Challenge")[0],u.body=zi(jn(I))}else u.headers["Content-Type"]="text/xml; charset=utf-8";return p=Date.now(),me(E,2),v=e.C.Xb.request(2,u,{isPreload:e.P()}),e.T.push(v),T(E,v.promise,4);case 4:g=E.h,ca(e.T,v),V(E,3);break;case 2:return y=W(E),e.l.g||(x=new $(2,6,6007,y),e.i.size==1?(e.u(x),r&&r.ub&&r.ub.reject(x)):(r&&r.ub&&r.ub.reject(x),e.i.delete(n),ih(e)&&(e.m.resolve(),e.L.da(.1)))),E.return();case 3:return e.l.g?E.return():(e.H+=(Date.now()-p)/1e3,e.g.logLicenseExchange&&Mo(g.data),me(E,5),T(E,n.update(g.data),7));case 7:V(E,6);break;case 5:return S=W(E),k=new $(2,6,6008,S.message),e.u(k),r&&r.ub&&r.ub.reject(k),E.return();case 6:if(e.l.g)return E.return();C=new Ae("drmsessionupdate"),e.C.onEvent(C),r&&(r.ub&&r.ub.resolve(),a4(e,r)),ae(E)}})}function s4(e,t){t=t.target;var n=e.i.get(t),r=!1;t.keyStatuses.forEach(function(a,u){if(typeof u=="string"){var l=u;u=a,a=l}if(O1(e.h.keySystem)&&u.byteLength==16&&(jp()||Ra())){l=pn(u);var p=l.getUint32(0,!0),g=l.getUint16(4,!0),v=l.getUint16(6,!0);l.setUint32(0,p,!1),l.setUint16(4,g,!1),l.setUint16(6,v,!1)}a!="status-pending"&&(n.loaded=!0),a=="expired"&&(r=!0),u=_o(u).slice(0,32),e.Y.set(u,a)});var i=t.expiration-Date.now();(0>i||r&&1e3>i)&&n&&!n.ub&&(e.i.delete(t),u4(t)),ih(e)&&(e.m.resolve(),e.L.da(ER))}function yR(e){var t=e.Y,n=e.fa;n.clear(),t.forEach(function(r,i){return n.set(i,r)}),t=Array.from(n.values()),t.length&&t.every(function(r){return r=="expired"})&&e.u(new $(2,6,6014)),e.C.pe(xb(n))}function bR(){var e,t,n,r,i,a,u,l,p,g,v,y,x,S,k,C,E,I,_,F,B,q,O,N,H,z,Y,K,J,ie,ne,ue,oe,pe;return P(function(xe){if(xe.g==1){if(e="org.w3.clearkey com.widevine.alpha com.widevine.alpha.experiment com.microsoft.playready com.microsoft.playready.hardware com.microsoft.playready.recommendation com.chromecast.playready com.apple.fps.1_0 com.apple.fps com.huawei.wiseplay".split(" "),!(d.MediaKeys&&d.navigator&&d.navigator.requestMediaKeySystemAccess&&d.MediaKeySystemAccess&&d.MediaKeySystemAccess.prototype.getConfiguration)){for(t={},n=w(e),r=n.next();!r.done;r=n.next())i=r.value,t[i]=null;return xe.return(t)}for(a="1.0 1.1 1.2 1.3 1.4 2.0 2.1 2.2 2.3".split(" "),u=["SW_SECURE_CRYPTO","SW_SECURE_DECODE","HW_SECURE_CRYPTO","HW_SECURE_DECODE","HW_SECURE_ALL"],l=["150","2000","3000"],p={"com.widevine.alpha":u,"com.widevine.alpha.experiment":u,"com.microsoft.playready.recommendation":l},g=[{contentType:'video/mp4; codecs="avc1.42E01E"'},{contentType:'video/webm; codecs="vp8"'}],v=[{contentType:'audio/mp4; codecs="mp4a.40.2"'},{contentType:'audio/webm; codecs="opus"'}],y={videoCapabilities:g,audioCapabilities:v,initDataTypes:["cenc","sinf","skd","keyids"]},x=[null,"cenc","cbcs","cbcs-1-9"],S=new Map,k=function(tt,je){var Vt,Tt,ft,vt,Rt,dt,Et,at,pt,Zt,Wn,Sn,Tn;return P(function(Bn){switch(Bn.g){case 1:return me(Bn,2),T(Bn,je.createMediaKeys(),5);case 5:Vt=Bn.h;case 4:V(Bn,3);break;case 2:return W(Bn),Bn.return();case 3:if(ft=(Tt=je.getConfiguration().sessionTypes)?Tt.includes("persistent-license"):!1,Co()&&(ft=!1),vt=je.getConfiguration().videoCapabilities,Rt=je.getConfiguration().audioCapabilities,dt={persistentState:ft,encryptionSchemes:[],videoRobustnessLevels:[],audioRobustnessLevels:[],minHdcpVersions:[]},S.has(tt)&&S.get(tt)?dt=S.get(tt):S.set(tt,dt),(Et=vt[0].encryptionScheme)&&!dt.encryptionSchemes.includes(Et)&&dt.encryptionSchemes.push(Et),(at=vt[0].robustness)&&!dt.videoRobustnessLevels.includes(at)&&dt.videoRobustnessLevels.push(at),(pt=Rt[0].robustness)&&!dt.audioRobustnessLevels.includes(pt)&&dt.audioRobustnessLevels.push(pt),"getStatusForPolicy"in Vt){for(Zt=[],Wn=w(a),Sn=Wn.next(),Tn={};!Sn.done;Tn={td:void 0},Sn=Wn.next())Tn.td=Sn.value,dt.minHdcpVersions.includes(Tn.td)||Zt.push(Vt.getStatusForPolicy({minHdcpVersion:Tn.td}).then(function(er){return function(fl){fl!="usable"||dt.minHdcpVersions.includes(er.td)||dt.minHdcpVersions.push(er.td)}}(Tn)));return T(Bn,Promise.all(Zt),0)}Bn.s(0)}})},C=function(tt,je,Vt,Tt){var ft,vt,Rt,dt,Et,at,pt,Zt,Wn,Sn;return P(function(Tn){switch(Tn.g){case 1:for(me(Tn,2),ft=Na(y),vt=w(ft.videoCapabilities),Rt=vt.next();!Rt.done;Rt=vt.next())dt=Rt.value,dt.encryptionScheme=je,dt.robustness=Vt;for(Et=w(ft.audioCapabilities),at=Et.next();!at.done;at=Et.next())pt=at.value,pt.encryptionScheme=je,pt.robustness=Tt;return Zt=Na(ft),Zt.persistentState="required",Zt.sessionTypes=["persistent-license"],Wn=[Zt,ft],Cs()?T(Tn,Jp(5,navigator.requestMediaKeySystemAccess(tt,Wn)),7):T(Tn,navigator.requestMediaKeySystemAccess(tt,Wn),6);case 6:Sn=Tn.h,Tn.s(5);break;case 7:Sn=Tn.h;case 5:return T(Tn,k(tt,Sn),8);case 8:V(Tn,0);break;case 2:W(Tn),ae(Tn)}})},E=function(tt,je,Vt,Tt){var ft,vt,Rt;return P(function(dt){switch(dt.g){case 1:return me(dt,2),ft={type:"media-source",video:{contentType:g[0].contentType,width:640,height:480,bitrate:1,framerate:1},audio:{contentType:v[0].contentType,channels:2,bitrate:1,samplerate:1},keySystemConfiguration:{keySystem:tt,video:{encryptionScheme:je,robustness:Vt},audio:{encryptionScheme:je,robustness:Tt}}},Cs()?T(dt,Jp(5,navigator.mediaCapabilities.decodingInfo(ft)),7):T(dt,navigator.mediaCapabilities.decodingInfo(ft),6);case 6:vt=dt.h,dt.s(5);break;case 7:vt=dt.h;case 5:return Rt=vt.keySystemAccess,T(dt,k(tt,Rt),8);case 8:V(dt,0);break;case 2:W(dt),ae(dt)}})},I=w(e),_=I.next();!_.done;_=I.next())F=_.value,S.set(F,null);for(B=function(tt){return!(tt==="org.w3.clearkey"&&cr())},q=[],O=w(x),N=O.next();!N.done;N=O.next())for(H=N.value,z=w(e),Y=z.next();!Y.done;Y=z.next())K=Y.value,B(K)&&(q.push(C(K,H,"","")),q.push(E(K,H,"","")));for(J=w(e),ie=J.next();!ie.done;ie=J.next())for(ne=ie.value,ue=w(p[ne]||[]),oe=ue.next();!oe.done;oe=ue.next())pe=oe.value,B(ne)&&(q.push(C(ne,null,pe,"")),q.push(C(ne,null,"",pe)),q.push(E(ne,null,pe,"")),q.push(E(ne,null,"",pe)));return T(xe,Promise.all(q),2)}return xe.return(xb(S))})}function u4(e){return P(function(t){if(t.g==1)return me(t,2),T(t,Jp(TR,Promise.all([e.close().catch(function(){}),e.closed])),4);if(t.g!=2)return V(t,0);W(t),ae(t)})}function rh(e){var t;return P(function(n){return t=Array.from(e.i.entries()),e.i.clear(),T(n,Promise.all(t.map(function(r){r=w(r);var i=r.next().value,a=r.next().value;return P(function(u){if(u.g==1)return me(u,2),e.ka||e.B.has(i.sessionId)||a.type!=="persistent-license"||e.g.persistentSessionOnlinePlayback?T(u,u4(i),5):T(u,i.remove(),5);if(u.g!=2)return V(u,0);W(u),ae(u)})})),0)})}function l4(e){return(e.video?e.video.drmInfos:[]).concat(e.audio?e.audio.drmInfos:[])}function wR(e){e.i.forEach(function(t,n){var r=t.Vf,i=n.expiration;isNaN(i)&&(i=1/0),i!=r&&(e.C.onExpirationUpdated(n.sessionId,i),t.Vf=i)})}function ih(e){return e=e.i.values(),oR(e,function(t){return t.loaded})}function xR(e){for(var t=w(e.h&&e.h.keyIds||new Set([])),n=t.next();!n.done;n=t.next())if(e.Y.get(n.value)!=="usable")return!1;return!0}function SR(e,t){var n=[];for(t.forEach(function(r,i){n.push({keySystem:i,licenseServerUri:r,distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,serverCertificateUri:"",initData:[],keyIds:new Set})}),e=w(e),t=e.next();!t.done;t=e.next())t=t.value,t.video&&(t.video.drmInfos=n),t.audio&&(t.audio.drmInfos=n)}function c4(e,t,n,r,i,a,u,l){var p=[];e=w(e);for(var g=e.next(),v={};!g.done;v={va:void 0},g=e.next()){if(v.va=g.value,t.includes(v.va.encryptionScheme)||t.push(v.va.encryptionScheme),v.va.keySystem=="org.w3.clearkey"&&v.va.licenseServerUri.startsWith("data:application/json;base64,")?p.includes(v.va.licenseServerUri)||p.push(v.va.licenseServerUri):n.includes(v.va.licenseServerUri)||n.push(v.va.licenseServerUri),i.includes(v.va.serverCertificateUri)||i.push(v.va.serverCertificateUri),v.va.serverCertificate&&(r.some(function(S){return function(k){return si(k,S.va.serverCertificate)}}(v))||r.push(v.va.serverCertificate)),v.va.initData){g=w(v.va.initData);for(var y=g.next(),x={};!y.done;x={Mf:void 0},y=g.next())x.Mf=y.value,a.some(function(S){return function(k){var C=S.Mf;return k.keyId&&k.keyId==C.keyId?!0:k.initDataType==C.initDataType&&si(k.initData,C.initData)}}(x))||a.push(x.Mf)}if(v.va.keyIds)for(g=w(v.va.keyIds),y=g.next();!y.done;y=g.next())u.add(y.value);if(v.va.keySystemUris&&l)for(v=w(v.va.keySystemUris),g=v.next();!g.done;g=v.next())l.add(g.value)}if(p.length==1)n.push(p[0]);else if(0<p.length){for(t=[],p=w(p),r=p.next();!r.done;r=p.next())r=d.atob(r.value.split("data:application/json;base64,").pop()),r=JSON.parse(r),t.push.apply(t,j(r.keys));p=JSON.stringify({keys:t}),n.push("data:application/json;base64,"+d.btoa(p))}}function kR(e,t,n,r){var i=e.keySystem;i&&(i!="org.w3.clearkey"||!e.licenseServerUri)&&(t.size&&t.get(i)&&(t=t.get(i),e.licenseServerUri=t),e.keyIds||(e.keyIds=new Set),(n=n.get(i))&&(e.distinctiveIdentifierRequired||(e.distinctiveIdentifierRequired=n.distinctiveIdentifierRequired),e.persistentStateRequired||(e.persistentStateRequired=n.persistentStateRequired),e.serverCertificate||(e.serverCertificate=n.serverCertificate),n.sessionType&&(e.sessionType=n.sessionType),e.serverCertificateUri||(e.serverCertificateUri=n.serverCertificateUri)),r[i]&&(e.keySystem=r[i]),d.cast&&d.cast.__platform__&&i=="com.microsoft.playready"&&(e.keySystem="com.chromecast.playready"))}function d4(e,t){if(e=Qu(e),e.size!=0){e=e5(e),t=w(t);for(var n=t.next();!n.done;n=t.next())n=n.value,n.video&&(n.video.drmInfos=[e]),n.audio&&(n.audio.drmInfos=[e])}}var TR=1,AR=5,ER=.5;function pm(e,t,n){for(n=n===void 0?!0:n,this.h=e,this.g=new Set([e]),t=t||[],e=w(t),t=e.next();!t.done;t=e.next())this.add(t.value,n)}pm.prototype.add=function(e,t){var n=this.h;t=t===void 0?!0:t;var r;if(!(r=!!n.audio!=!!e.audio||!!n.video!=!!e.video||n.language!=e.language)&&(r=n.audio&&e.audio)){r=n.audio;var i=e.audio;r=!(!((!r.channelsCount||!i.channelsCount||2<r.channelsCount||2<i.channelsCount)&&r.channelsCount!=i.channelsCount||r.spatialAudio!==i.spatialAudio||t&&!p4(r,i))&&h4(r.roles,i.roles)&&r.groupId===i.groupId)}return!r&&(r=n.video&&e.video)&&(n=n.video,r=e.video,r=!((!t||p4(n,r))&&h4(n.roles,r.roles))),r?!1:(this.g.add(e),!0)},pm.prototype.values=function(){return this.g.values()};function p4(e,t){if(e.mimeType!=t.mimeType||(e=e.codecs.split(",").map(function(r){return Rs(r)}),t=t.codecs.split(",").map(function(r){return Rs(r)}),e.length!=t.length))return!1;e.sort(),t.sort();for(var n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}function h4(e,t){if(e=new Set(e),t=new Set(t),e.delete("main"),t.delete("main"),e.size!=t.size)return!1;e=w(e);for(var n=e.next();!n.done;n=e.next())if(!t.has(n.value))return!1;return!0}Ee("shaka.media.AdaptationSet",pm),Ee("shaka.config.CodecSwitchingStrategy",{RELOAD:"reload",SMOOTH:"smooth"});function Eb(){}Eb.prototype.create=function(){},Eb.prototype.configure=function(){},Ee("shaka.media.AdaptationSetCriteria",Eb);function CR(){this.g=ah,this.i=new Map().set(ah,2).set(Oc,1),this.h=0}var Oc=0,ah=1;/*
 @license
 Shaka Player
 Copyright 2023 Google LLC
 SPDX-License-Identifier: Apache-2.0
*/function Cb(e,t,n){this.g=e,this.i=t,this.h=n}function f4(e,t){return P(function(n){if(n.g==1)return T(n,G7(e.h,t,e.g.drm.preferredKeySystems,e.g.drm.keySystemsMapping),2);if(e.g.streaming.dontChooseCodecs||I5(t,e.g.preferredVideoCodecs,e.g.preferredAudioCodecs,e.g.preferredDecodingAttributes,e.g.preferredTextFormats),!t.variants.some(th))throw new $(2,4,4032);return n.return(m4(e,t))})}function g4(e,t){var n=e.g.restrictions;e=e.i;var r=!1;t=w(t.variants);for(var i=t.next();!i.done;i=t.next()){i=i.value;var a=i.allowedByApplication;i.allowedByApplication=nm(i,n,e),a!=i.allowedByApplication&&(r=!0)}return r}function m4(e,t){var n=g4(e,t);if(t){var r=e.h?e.h.h:null;if(r&&e.h.A)for(var i=w(t.variants),a=i.next();!a.done;a=i.next())a=a.value,Ib(e,r.keySystem,a.video),Ib(e,r.keySystem,a.audio);v4(e,t)}return n}function Ib(e,t,n){if(n){n=w(n.drmInfos);for(var r=n.next();!r.done;r=n.next())if(r=r.value,r.keySystem==t){r=w(r.initData||[]);for(var i=r.next();!i.done;i=r.next())i=i.value,nh(e.h,i.initDataType,i.initData)}}}function v4(e,t){e=e.h?e.h.Yd():{};var n=Object.keys(e);n=n.length&&n[0]=="00";var r=!1,i=!1,a=new Set,u=new Set;t=w(t.variants);for(var l=t.next();!l.done;l=t.next()){l=l.value;var p=[];l.audio&&p.push(l.audio),l.video&&p.push(l.video),p=w(p);for(var g=p.next();!g.done;g=p.next())if(g=g.value,g.keyIds.size){g=w(g.keyIds);for(var v=g.next();!v.done;v=g.next()){v=v.value;var y=e[n?"00":v];y?Mb.includes(y)&&u.add(y):a.add(v)}}l.allowedByApplication?l.allowedByKeySystem&&(r=!0):i=!0}if(!r)throw e={hasAppRestrictions:i,missingKeys:Array.from(a),restrictedKeyStatuses:Array.from(u)},new $(2,4,4012,e)}var Mb=["output-restricted","internal-error"];function oh(){}function Zu(e,t){jc.set(e,t)}function IR(){var e={};if(Ja())for(var t=w(jc.keys()),n=t.next();!n.done;n=t.next())e[n.value]=!0;for(t=w(["application/dash+xml","application/x-mpegurl","application/vnd.apple.mpegurl","application/vnd.ms-sstr+xml"]),n=t.next();!n.done;n=t.next())n=n.value,e[n]=Ja()?jc.has(n):Op(n);return e}function y4(e,t){if(t){var n=jc.get(t.toLowerCase());if(n)return n}throw new $(2,4,4e3,e,t)}Ee("shaka.media.ManifestParser",oh),oh.unregisterParserByMime=function(e){jc.delete(e)},oh.registerParserByMime=Zu,oh.registerParserByExtension=function(){ut("ManifestParser.registerParserByExtension","Please use an ManifestParser with registerParserByMime function.")},oh.AccessibilityPurpose={Nk:"visually impaired",dk:"hard of hearing"};var jc=new Map;function hm(e,t){var n=null,r=null,i=null,a=null,u=e.S();return t&1&&(i=e.bd()),t&2&&(a=e.S()),t&8&&(n=e.S()),t&16&&(r=e.S()),{trackId:u,ld:n,md:r,Wh:i,rh:a}}function fm(e,t){return t==1?(t=e.S(),e=e.S(),{baseMediaDecodeTime:t*Math.pow(2,32)+e}):{baseMediaDecodeTime:e.S()}}function gm(e,t){return t==1?(e.skip(8),e.skip(8)):(e.skip(4),e.skip(4)),t=e.S(),e.skip(4),e=e.na(),{timescale:t,language:String.fromCharCode((e>>10)+96)+String.fromCharCode(((e&960)>>5)+96)+String.fromCharCode((e&31)+96)}}function mm(e,t,n){var r=e.S(),i=[],a=null;n&1&&(a=e.$f()),n&4&&e.skip(4);for(var u=0;u<r;u++){var l={gg:null,sampleSize:null,ye:null};n&256&&(l.gg=e.S()),n&512&&(l.sampleSize=e.S()),n&1024&&e.skip(4),n&2048&&(l.ye=t==0?e.S():e.$f()),i.push(l)}return{Sk:r,fg:i,nf:a}}function b4(e){e.skip(6),e.skip(2),e.skip(8);var t=e.na();return e.skip(2),e.skip(2),e.skip(2),e=e.na()+e.na()/65536,{channelCount:t,sampleRate:e}}function w4(e){return e=e.S(),{codec:lm(e)}}function MR(e){var t=null,n=null,r=e.Cb(4),i=String.fromCharCode(r[0]);if(i+=String.fromCharCode(r[1]),i+=String.fromCharCode(r[2]),i+=String.fromCharCode(r[3]),i==="nclx"){switch(e.na()){case 1:case 5:case 6:case 7:t="srgb";break;case 9:t="rec2020";break;case 11:case 12:t="p3"}switch(r=e.na(),e.na(),r){case 1:case 6:case 13:case 14:case 15:n="SDR";break;case 16:n="PQ";break;case 18:n="HLG"}}return{colorGamut:t,Nd:n}}function sh(e,t){return t=t===void 0?!1:t,e=e.toString(16).toUpperCase(),t?e:("0"+e).slice(-2)}function hi(e){return(10>e?"0":"")+e}function el(e){if(!A4){A4=!0;var t=new Uint8Array([105,115,111,109]),n=new Uint8Array([97,118,99,49]),r=new Uint8Array([0,0,0,1]);vm=_t("ftyp",t,r,t,n),t=_t("dref",BR),_b=_t("dinf",t)}this.g=e}function Fc(e){for(var t=[],n=w(e.g),r=n.next();!r.done;r=n.next()){var i=t,a=i.push,u=r.value;r=_t;var l=u.id+1,p=u.stream.width||0,g=u.stream.height||0;u.type=="audio"&&(g=p=0);var v=u.duration*u.timescale,y=Math.floor(v/(js+1));switch(v=Math.floor(v%(js+1)),l=new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3].concat(j(bn(l,4)),[0,0,0,0],j(bn(y,4)),j(bn(v,4)),[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0],j(bn(p,2)),[0,0],j(bn(g,2)),[0,0])),l=_t("tkhd",l),p=_t,y=u.duration*u.timescale,g=Math.floor(y/(js+1)),y=Math.floor(y%(js+1)),v=u.stream.language,v=v.charCodeAt(0)-96<<10|v.charCodeAt(1)-96<<5|v.charCodeAt(2)-96,g=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3].concat(j(bn(u.timescale,4)),j(bn(g,4)),j(bn(y,4)),j(bn(v,2)),[0,0])),g=_t("mdhd",g),y=u,v=new Uint8Array([]),y.type){case"video":v=DR;break;case"audio":v=PR}y=_t("hdlr",v);e:{switch(u.type){case"video":u=_t("minf",_t("vmhd",OR),_b,x4(u));break e;case"audio":u=_t("minf",_t("smhd",jR),_b,x4(u));break e}u=new Uint8Array([])}u=p("mdia",g,y,u),r=r("trak",l,u),a.call(i,r)}for(t=En.apply(vr,j(t)),a=e.g[0],n=_t,r=a.duration*a.timescale,i=Math.floor(r/(js+1)),r=Math.floor(r%(js+1)),i=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3].concat(j(bn(a.timescale,4)),j(bn(i,4)),j(bn(r,4)),[0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255])),i=_t("mvhd",i),r=[],e=w(e.g),p=e.next();!p.done;p=e.next())u=r,l=u.push,p=new Uint8Array([0,0,0,0].concat(j(bn(p.value.id+1,4)),[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),p=_t("trex",p),l.call(u,p);if(e=En.apply(vr,j(r)),e=_t("mvex",e),r=[],a.encrypted){for(a=w(a.stream.drmInfos),u=a.next();!u.done;u=a.next())if(u=u.value,u.initData)for(u=w(u.initData),l=u.next();!l.done;l=u.next())r.push(l.value.initData);a=En.apply(vr,j(r))}else a=new Uint8Array([]);return e=n("moov",i,t,e,a),t=new Uint8Array(vm.byteLength+e.byteLength),t.set(vm),t.set(e,vm.byteLength),t}function x4(e){var t=_t,n="aac";e.codecs.includes("mp3")?n="mp3":e.codecs.includes("ac-3")?n=Co()?"ec-3":"ac-3":e.codecs.includes("ec-3")?n="ec-3":e.codecs.includes("opus")&&(n="opus");var r=new Uint8Array([]);switch(e.type){case"video":if(e.codecs.includes("avc1")){if(n=e.stream.width||0,r=e.stream.height||0,0<e.Ca.byteLength)var i=_t("avcC",e.Ca);else{i=_t;for(var a=7,u=[],l=[],p=0,g=0,v=0,y=0;y<e.lb.length;y++){var x=k4(e.lb[y]);switch(x[0]&31){case 7:u.push(x),a+=x.length+2;break;case 8:l.push(x),a+=x.length+2}}for(0<u.length&&(p=u[0][1],v=u[0][2],g=u[0][3]),a=new Uint8Array(a),y=0,a[y++]=1,a[y++]=p,a[y++]=v,a[y++]=g,a[y++]=255,a[y++]=224|u.length,p=0;p<u.length;p++)a[y++]=(u[p].length&65280)>>8,a[y++]=u[p].length&255,a.set(u[p],y),y+=u[p].length;for(a[y++]=l.length,u=0;u<l.length;u++)a[y++]=(l[u].length&65280)>>8,a[y++]=l[u].length&255,a.set(l[u],y),y+=l[u].length;i=i("avcC",a)}n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].concat(j(bn(n,2)),j(bn(r,2)),[0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17])),r="avc1",l=S4(e),u=new Uint8Array([]),e.encrypted&&(u=tl(0,e.stream,e.codecs),r="encv"),r=_t(r,n,i,l,u)}else e.codecs.includes("hvc1")&&(r=e.stream.width||0,i=e.stream.height||0,n=new Uint8Array([]),0<e.Ca.byteLength&&(n=_t("hvcC",e.Ca)),r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].concat(j(bn(r,2)),j(bn(i,2)),[0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17])),i="hvc1",l=S4(e),u=new Uint8Array([]),e.encrypted&&(u=tl(0,e.stream,e.codecs),i="encv"),r=_t(i,r,n,l,u));break;case"audio":n=="mp3"?e=_t(".mp3",uh(e)):n=="ac-3"?(n=_t("dac3",e.ra),r="ac-3",i=new Uint8Array([]),e.encrypted&&(i=tl(0,e.stream,e.codecs),r="enca"),e=_t(r,uh(e),n,i)):n=="ec-3"?(n=_t("dec3",e.ra),r="ec-3",i=new Uint8Array([]),e.encrypted&&(i=tl(0,e.stream,e.codecs),r="enca"),e=_t(r,uh(e),n,i)):n=="opus"?(n=_t("dOps",e.ra),r="Opus",i=new Uint8Array([]),e.encrypted&&(i=tl(0,e.stream,e.codecs),r="enca"),e=_t(r,uh(e),n,i)):(0<e.ra.byteLength?n=_t("esds",e.ra):(n=_t,r=e.id+1,i=e.stream.channelsCount||2,u=e.stream.audioSamplingRate||44100,p=xc("audio",e.codecs.split(",")),g={96e3:0,88200:1,64e3:2,48e3:3,44100:4,32e3:5,24e3:6,22050:7,16e3:8,12e3:9,11025:10,8e3:11,7350:12},l=g[u],(p==="mp4a.40.5"||p==="mp4a.40.29")&&(l=g[2*u]),u=parseInt(p.split(".").pop(),10),r=new Uint8Array([0,0,0,0,3,25].concat(j(bn(r,2)),[0,4,17,64,21,0,0,0,0,0,0,0,0,0,0,0,5,2,u<<3|l>>>1,l<<7|i<<3,6,1,2])),n=n("esds",r)),r="mp4a",i=new Uint8Array([]),e.encrypted&&(i=tl(0,e.stream,e.codecs),r="enca"),e=_t(r,uh(e),n,i)),r=e}return e=_t("stsd",FR,r),t("stbl",e,_t("stts",LR),_t("stsc",RR),_t("stsz",UR),_t("stco",NR))}function S4(e){if(!e.Ia&&!e.Ka)return new Uint8Array([]);var t=e.Ka;return e=new Uint8Array([].concat(j(bn(e.Ia,4)),j(bn(t,4)))),_t("pasp",e)}function uh(e){return new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.stream.channelsCount||2,0,16,0,0,0,0].concat(j(bn(e.stream.audioSamplingRate||44100,2)),[0,0]))}function tl(e,t,n){e=_t,n=new Uint8Array([].concat(j(bn(T4(n.split(".")[0]),4)))),n=_t("frma",n);var r="cenc",i=t.drmInfos[0];i&&i.encryptionScheme&&(r=i.encryptionScheme),r=new Uint8Array([0,0,0,0].concat(j(bn(T4(r),4)),[0,1,0,0])),r=_t("schm",r),i=_t;var a=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);t=w(t.drmInfos);for(var u=t.next();!u.done;u=t.next())if((u=u.value)&&u.keyIds&&u.keyIds.size){u=w(u.keyIds);for(var l=u.next();!l.done;l=u.next())a=k4(l.value)}return t=new Uint8Array([0,0,0,0,0,0,1,8]),t=_t("tenc",t,a),e("sinf",n,r,i("schi",t))}function lh(e){var t=[];e=w(e.g);for(var n=e.next();!n.done;n=e.next()){n=n.value;var r=t.push,i=r.apply,a=_t,u=new Uint8Array([0,0,0,0].concat(j(bn(n.data?n.data.Db:0,4))));u=_t("mfhd",u);var l,p=n.data?n.data.jb:[],g=new Uint8Array(4+p.length);for(l=0;l<p.length;l++){var v=p[l].flags;g[l+4]=v.Ya<<4|v.$a<<2|v.Za}p=_t("sdtp",g);var y=p.length+92;g=_t,l=new Uint8Array([0,0,0,58].concat(j(bn(n.id+1,4)),[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),l=_t("tfhd",l),v=n.data?n.data.baseMediaDecodeTime:0;var x=Math.floor(v%(js+1));v=new Uint8Array([1,0,0,0].concat(j(bn(Math.floor(v/(js+1)),4)),j(bn(x,4)))),v=_t("tfdt",v);var S=y;y=n.data?n.data.jb:[],x=y.length;var k=12+16*x,C=new Uint8Array(k);for(S+=8+k,C.set([n.type==="video"?1:0,0,15,1].concat(j(bn(x,4)),j(bn(S,4))),0),S=0;S<x;S++){var E=y[S];k=bn(E.duration,4);var I=bn(E.size,4),_=E.flags;E=bn(E.eb,4),C.set([].concat(j(k),j(I),[_.hb<<2|_.Ya,_.$a<<6|_.Za<<4|_.ib,_.Xa&61440,_.Xa&15],j(E)),12+16*S)}y=_t("trun",C),p=g("traf",l,v,y,p),a=a("moof",u,p),i.call(r,t,[a,_R(n)])}return En.apply(vr,j(t))}function _R(e){return e=(e.data?e.data.jb:[]).map(function(t){return t.data}),e=En.apply(vr,j(e)),_t("mdat",e)}function bn(e,t){var n=[];for(--t;0<=t;t--)n.push(e>>8*t&255);return n}function k4(e){for(var t=new Uint8Array(e.length/2),n=0;n<e.length/2;n+=1)t[n]=parseInt(String(e[2*n]+e[2*n+1]),16);return t}function T4(e){for(var t=0,n=0;n<e.length;n+=1)t|=e.charCodeAt(n)<<8*(e.length-n-1);return t}function _t(e){var t=Re.apply(1,arguments),n=E4.get(e);n||(n=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)],E4.set(e,n));for(var r=8,i=t.length-1;0<=i;i--)r+=t[i].byteLength;for(i=new Uint8Array(r),i[0]=r>>24&255,i[1]=r>>16&255,i[2]=r>>8&255,i[3]=r&255,i.set(n,4),n=0,r=8;n<t.length;n++)i.set(t[n],r),r+=t[n].byteLength;return i}var A4=!1,js=Math.pow(2,32)-1,E4=new Map,DR=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),PR=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),LR=new Uint8Array([0,0,0,0,0,0,0,0]),RR=new Uint8Array([0,0,0,0,0,0,0,0]),NR=new Uint8Array([0,0,0,0,0,0,0,0]),UR=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),OR=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),jR=new Uint8Array([0,0,0,0,0,0,0,0]),FR=new Uint8Array([0,0,0,0,0,0,0,1]),vm=new Uint8Array([]),BR=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),_b=new Uint8Array([]);function VR(e,t,n){function r(S){y.push({box:S,hh:1701733217})}function i(S){y.push({box:S,hh:1701733238})}function a(S){p=!0,S.parser.stop()}function u(S){v.push(S),xt(S)}var l=t=Ye(t),p=!1,g,v=[],y=[];if(new Qt().box("moov",u).box("trak",u).box("mdia",u).box("minf",u).box("stbl",u).R("stsd",function(S){g=S,v.push(S),Us(S)}).R("encv",a).R("enca",a).R("dvav",i).R("dva1",i).R("dvh1",i).R("dvhe",i).R("dvc1",i).R("dvi1",i).R("hev1",i).R("hvc1",i).R("avc1",i).R("avc3",i).R("ac-3",r).R("ec-3",r).R("ac-4",r).R("Opus",r).R("fLaC",r).R("mp4a",r).parse(t),p)return t;if(y.length==0||!g)throw _o(t),new $(2,3,3019,n);y.reverse(),n=w(y);for(var x=n.next();!x.done;x=n.next())x=x.value,l=HR(e,l,g,x.box,v,x.hh);return jp()&&j1()&&!Pa()?(e=new Uint8Array(t.byteLength+l.byteLength),e.set(l),e.set(t,l.byteLength),e):l}function $R(e){e=Ye(e);var t=[];new Qt().box("mdat",function(u){t.push(u)}).parse(e);for(var n=[],r=0;r<t.length;r++){var i=t[r-1],a=t[r];n.push(zR(e.subarray(i?i.start+i.size:0,a.start+a.size)))}return En.apply(vr,j(n))}function zR(e){function t(y){u.push(y),xt(y)}var n,r,i,a,u=[];if(new Qt().box("moof",t).box("traf",t).R("tfhd",function(y){n=y,i=hm(y.reader,y.flags)}).R("trun",function(y){r=y,a=mm(y.reader,y.version,y.flags)}).parse(e),i&&i.rh!==2){var l=n.start+Os(n)+4+(i.Wh!==null?8:0),p=pn(e);if(i.rh!==null)p.setUint32(l,2);else{ym(e,n.start,n.size+4);var g=p.getUint32(n.start+8);p.setUint32(n.start+8,g|2),a&&a.nf!==null&&p.setInt32(r.start+Os(r)+4,a.nf+4),g=e.subarray(0,l),p=e.subarray(l),e=new Uint8Array(e.byteLength+4),e.set(g),g=[];for(var v=3;0<=v;v--)g.push(2>>8*v&255);for(e.set(new Uint8Array(g),l),e.set(p,l+4),l=w(u),p=l.next();!p.done;p=l.next())p=p.value,ym(e,p.start,p.size+4)}}return e}function HR(e,t,n,r,i,a){var u=tl(new el([]),e,r.name),l=t.subarray(r.start,r.start+r.size);for(e=new Uint8Array(r.size+u.byteLength),e.set(l,0),pn(e).setUint32(4,a),e.set(u,r.size),ym(e,0,e.byteLength),a=new Uint8Array(t.byteLength+e.byteLength),r=cr()||Pa()||jp()?r.start:r.start+r.size,u=t.subarray(r),a.set(t.subarray(0,r)),a.set(e,r),a.set(u,r+e.byteLength),t=w(i),i=t.next();!i.done;i=t.next())i=i.value,ym(a,i.start,i.size+e.byteLength);return e=pn(a,n.start),n=Os(n),t=e.getUint32(n),e.setUint32(n,t+1),a}function ym(e,t,n){e=pn(e,t),t=e.getUint32(0),t!=0&&(t==1?(e.setUint32(8,n>>32),e.setUint32(12,n&4294967295)):e.setUint32(0,n))}function qR(e){function t(i){r.push({start:i.start,size:i.size}),xt(i)}var n=Ye(e),r=[];return new Qt().box("moov",t).box("trak",t).box("mdia",t).box("minf",t).box("stbl",t).box("stsd",function(i){r.push({start:i.start,size:i.size});for(var a=pn(n,i.start),u=0;u<i.size-3;u++){var l=a.getUint32(u);l==1633889587?a.setUint32(u,1700998451):l==1684103987&&a.setUint32(u,1684366131)}}).parse(n),n}function Xr(e,t,n,r,i,a,u,l){this.N=e,this.Sa=t,this.wa=n,this.Wc=r===void 0?null:r,this.timescale=i===void 0?null:i,this.h=a===void 0?null:a,this.aesKey=u===void 0?null:u,this.g=this.mimeType=this.codecs=null,this.encrypted=l===void 0?!1:l}Xr.prototype.uc=function(){return this.Sa},Xr.prototype.tc=function(){return this.wa},Xr.prototype.Kd=function(e){this.h=e},Xr.prototype.Ib=function(){return this.h};function bm(e,t){return e===t?!0:e&&t?e.uc()==t.uc()&&e.tc()==t.tc()&&kc(e.N().sort(),t.N().sort())&&si(e.Ib(),t.Ib()):e==t}Ee("shaka.media.InitSegmentReference",Xr),Xr.prototype.getEndByte=Xr.prototype.tc,Xr.prototype.getStartByte=Xr.prototype.uc;function Ge(e,t,n,r,i,a,u,l,p,g,v,y,x,S,k,C){for(g=g===void 0?[]:g,S=S===void 0?Fo:S,this.startTime=e,this.j=this.endTime=t,this.C=n,this.Sa=r,this.wa=i,this.$=a,this.timestampOffset=u,this.appendWindowStart=l,this.appendWindowEnd=p,this.g=g,this.tilesLayout=v===void 0?"":v,this.B=y===void 0?null:y,this.h=x===void 0?null:x,this.status=S,this.preload=!1,this.l=!0,this.m=!1,this.aesKey=k===void 0?null:k,this.thumbnailSprite=null,this.i=-1,this.A=C===void 0?!1:C,this.F=this.o=!1,e=w(this.g),t=e.next();!t.done;t=e.next())t.value.fh();this.A&&this.g.length&&this.g[this.g.length-1].eh(),this.u=this.bandwidth=this.mimeType=this.codecs=null,this.G=!1}f=Ge.prototype,f.N=function(){return this.C()},f.getStartTime=function(){return this.startTime},f.mi=function(){return this.endTime},f.uc=function(){return this.Sa},f.tc=function(){return this.wa},f.Ji=function(){return this.tilesLayout},f.Ii=function(){return this.B},f.dc=function(){return this.status},f.aj=function(){this.status=I4},f.Sf=function(){this.preload=!0},f.isPreload=function(){return this.preload},f.Vc=function(){this.l=!1},f.Ti=function(){return this.l},f.fh=function(){this.o=!0},f.Vi=function(){return this.o},f.eh=function(){this.F=!0},f.Ui=function(){return this.F},f.dh=function(){this.m=!0},f.Pi=function(){return this.m},f.De=function(e){this.thumbnailSprite=e},f.Gi=function(){return this.thumbnailSprite},f.offset=function(e){this.startTime+=e,this.endTime+=e,this.j+=e;for(var t=w(this.g),n=t.next();!n.done;n=t.next())n=n.value,n.startTime+=e,n.endTime+=e,n.j+=e},f.qg=function(e){this.h==null?it("Sync attempted without sync time!"):(e=this.h-e-this.startTime,.001<=Math.abs(e)&&this.offset(e))},f.Kd=function(e,t){this.u=e,this.G=t===void 0?!1:t},f.Ib=function(e){var t=this.u;return(e===void 0||e)&&this.G&&(this.u=null),t};function C4(e,t){e.$=t,e=w(e.g);for(var n=e.next();!n.done;n=e.next())C4(n.value,t)}Ee("shaka.media.SegmentReference",Ge),Ge.prototype.getSegmentData=Ge.prototype.Ib,Ge.prototype.setSegmentData=Ge.prototype.Kd,Ge.prototype.syncAgainst=Ge.prototype.qg,Ge.prototype.offset=Ge.prototype.offset,Ge.prototype.getThumbnailSprite=Ge.prototype.Gi,Ge.prototype.setThumbnailSprite=Ge.prototype.De,Ge.prototype.hasByterangeOptimization=Ge.prototype.Pi,Ge.prototype.markAsByterangeOptimization=Ge.prototype.dh,Ge.prototype.isLastPartial=Ge.prototype.Ui,Ge.prototype.markAsLastPartial=Ge.prototype.eh,Ge.prototype.isPartial=Ge.prototype.Vi,Ge.prototype.markAsPartial=Ge.prototype.fh,Ge.prototype.isIndependent=Ge.prototype.Ti,Ge.prototype.markAsNonIndependent=Ge.prototype.Vc,Ge.prototype.isPreload=Ge.prototype.isPreload,Ge.prototype.markAsPreload=Ge.prototype.Sf,Ge.prototype.markAsUnavailable=Ge.prototype.aj,Ge.prototype.getStatus=Ge.prototype.dc,Ge.prototype.getTileDuration=Ge.prototype.Ii,Ge.prototype.getTilesLayout=Ge.prototype.Ji,Ge.prototype.getEndByte=Ge.prototype.tc,Ge.prototype.getStartByte=Ge.prototype.uc,Ge.prototype.getEndTime=Ge.prototype.mi,Ge.prototype.getStartTime=Ge.prototype.getStartTime,Ge.prototype.getUris=Ge.prototype.N;var Fo=0,I4=1;Ge.Status={Nj:Fo,Lk:I4,lk:2};function ch(e){return e.length==1&&1e-4>e.end(0)-e.start(0)}function Db(e){return!e||ch(e)?null:e.length?e.end(e.length-1):null}function Pb(e,t){return!e||!e.length||ch(e)||t>e.end(e.length-1)?!1:t>=e.start(0)}function M4(e,t){if(!e||!e.length||ch(e))return 0;var n=0;e=w(Bo(e));for(var r=e.next();!r.done;r=e.next()){var i=r.value;r=i.start,i=i.end,i>t&&(n+=i-Math.max(r,t))}return n}function GR(e,t,n){return!e||!e.length||ch(e)?null:(e=Bo(e).findIndex(function(r,i,a){return r.start>t&&(i==0||a[i-1].end-t<=n)}),0<=e?e:null)}function Bo(e){if(!e)return[];for(var t=[],n=0;n<e.length;n++)t.push({start:e.start(n),end:e.end(n)});return t}function _4(){}function D4(e,t){var n=document.createElement("source");return n.src=e,n.type=t===void 0?"":t,n}function Fs(e){for(;e.firstChild;)e.removeChild(e.firstChild)}Ee("shaka.util.Dom",_4),_4.removeAllChildren=Fs;/*
 @license
 Shaka Player
 Copyright 2022 Google LLC
 SPDX-License-Identifier: Apache-2.0
*/function Lb(){}function P4(e,t){return t+10<=e.length&&e[t]===73&&e[t+1]===68&&e[t+2]===51&&255>e[t+3]&&255>e[t+4]&&128>e[t+6]&&128>e[t+7]&&128>e[t+8]&&128>e[t+9]}function L4(e,t){return t+10<=e.length&&e[t]===51&&e[t+1]===68&&e[t+2]===73&&255>e[t+3]&&255>e[t+4]&&128>e[t+6]&&128>e[t+7]&&128>e[t+8]&&128>e[t+9]}function Rb(e,t){var n=(e[t]&127)<<21;return n|=(e[t+1]&127)<<14,n|=(e[t+2]&127)<<7,n|=e[t+3]&127}function KR(e){var t={key:e.type,description:"",data:"",mimeType:null,pictureType:null};if(e.type==="APIC"){if(2>e.size||e.data[0]!==3)return null;var n=e.data.subarray(1).indexOf(0);if(n===-1)return null;var r=yn(Ye(e.data,1,n)),i=e.data[2+n],a=e.data.subarray(3+n).indexOf(0);if(a===-1)return null;var u=yn(Ye(e.data,3+n,a)),l;return r==="-->"?l=yn(Ye(e.data,4+n+a)):l=ui(e.data.subarray(4+n+a)),t.mimeType=r,t.pictureType=i,t.description=u,t.data=l,t}return e.type==="TXXX"?2>e.size||e.data[0]!==3||(r=e.data.subarray(1).indexOf(0),r===-1)?null:(n=yn(Ye(e.data,1,r)),e=yn(Ye(e.data,2+r)).replace(/\0*$/,""),t.description=n,t.data=e,t):e.type==="WXXX"?2>e.size||e.data[0]!==3||(r=e.data.subarray(1).indexOf(0),r===-1)?null:(n=yn(Ye(e.data,1,r)),e=yn(Ye(e.data,2+r)).replace(/\0*$/,""),t.description=n,t.data=e,t):e.type==="PRIV"?2>e.size||(n=e.data.indexOf(0),n===-1)?null:(n=yn(Ye(e.data,0,n)),t.description=n,n=="com.apple.streaming.transportStreamTimestamp"?(n=e.data.subarray(n.length+1),e=n[3]&1,n=(n[4]<<23)+(n[5]<<15)+(n[6]<<7)+n[7],n/=45,e&&(n+=4772185884e-2),t.data=n):(e=ui(e.data.subarray(n.length+1)),t.data=e),t):e.type[0]==="T"?2>e.size||e.data[0]!==3?null:(e=yn(e.data.subarray(1)).replace(/\0*$/,""),t.data=e,t):e.type[0]==="W"?(e=yn(e.data).replace(/\0*$/,""),t.data=e,t):e.data?(t.data=ui(e.data),t):null}function nl(e){for(var t=0,n=[];P4(e,t);){var r=Rb(e,t+6);for(e[t+5]>>6&1&&(t+=10),t+=10,r=t+r;t+10<r;){var i=e.subarray(t),a=Rb(i,4);i={type:String.fromCharCode(i[0],i[1],i[2],i[3]),size:a,data:i.subarray(10,10+a)},(a=KR(i))&&n.push(a),t+=i.size+10}L4(e,t)&&(t+=10)}return n}function Bc(e,t){for(var n=t=t===void 0?0:t,r=0;P4(e,t);)e[t+5]>>6&1&&(r+=10),r+=10,r+=Rb(e,t+6),L4(e,t+10)&&(r+=10),t+=r;return 0<r?e.subarray(n,n+r):new Uint8Array([])}Ee("shaka.util.Id3Utils",Lb),Lb.getID3Data=Bc,Lb.getID3Frames=nl;function Vo(e,t){if(this.j=e,t!==void 0&&t){t=new Uint8Array(e.byteLength);for(var n=0,r=0;r<e.byteLength;r++)2<=r&&e[r]==3&&e[r-1]==0&&e[r-2]==0||(t[n]=e[r],n++);this.j=Ye(t,0,n)}this.i=this.j.byteLength,this.g=this.h=0}function Nb(e){var t=e.j.byteLength-e.i,n=new Uint8Array(4),r=Math.min(4,e.i);r!==0&&(n.set(e.j.subarray(t,t+r)),e.h=new ln(n,0).S(),e.g=8*r,e.i-=r)}function fi(e,t){if(e.g<=t){t-=e.g;var n=Math.floor(t/8);t-=8*n,e.g-=n,Nb(e)}e.h<<=t,e.g-=t}function It(e,t){var n=Math.min(e.g,t),r=e.h>>>32-n;return e.g-=n,0<e.g?e.h<<=n:0<e.i&&Nb(e),n=t-n,0<n?r<<n|It(e,n):r}function Ub(e){var t;for(t=0;t<e.g;++t)if(e.h&2147483648>>>t)return e.h<<=t,e.g-=t,t;return Nb(e),t+Ub(e)}function Yr(e){fi(e,1+Ub(e))}function Le(e){var t=Ub(e);return It(e,t+1)-1}function Vc(e){return e=Le(e),1&e?1+e>>>1:-1*(e>>>1)}function ze(e){return It(e,1)===1}function Ht(e){return It(e,8)}function wm(e,t){for(var n=8,r=8,i=0;i<t;i++)r!==0&&(r=Vc(e),r=(n+r+256)%256),n=r===0?n:r}function WR(e){return Ht(e),Le(e),Le(e)}Ee("shaka.util.ExpGolomb",Vo);function hn(){this.G=null,this.H=!1,this.m=this.I=null,this.j=[],this.g=[],this.A=this.B=null,this.i=[],this.h=[],this.C=null,this.l=[],this.F=this.o=this.u=null}f=hn.prototype,f.clearData=function(){this.j=[],this.g=[],this.i=[],this.h=[],this.l=[]},f.parse=function(e){if(564>e.length)return this;for(var t=Math.max(0,jb(e)),n=e.length-(e.length+t)%188,r=!1,i=t;i<n;i+=188)if(e[i]==71){var a=!!(e[i+1]&64),u=((e[i+1]&31)<<8)+e[i+2];if(1<(e[i+3]&48)>>4){var l=i+5+e[i+4];if(l==i+188)continue}else l=i+4;switch(u){case 0:a&&(l+=e[l]+1),this.G=(e[l+10]&31)<<8|e[l+11];break;case 17:case 8191:break;case this.G:a&&(l+=e[l]+1),a=e,u={audio:-1,video:-1,ce:-1,audioCodec:"",videoCodec:""};var p=l+3+((a[l+1]&15)<<8|a[l+2])-4;for(l+=12+((a[l+10]&15)<<8|a[l+11]);l<p;){var g=(a[l+1]&31)<<8|a[l+2],v=(a[l+3]&15)<<8|a[l+4];switch(a[l]){case 6:if(0<v)for(var y=l+5,x=v;2<x;){var S=a[y+1]+2;switch(a[y]){case 5:var k=z1(a.subarray(y+2,y+S));u.audio==-1&&k==="Opus"?(u.audio=g,u.audioCodec="opus"):u.video==-1&&k==="AV01"&&(u.video=g,u.videoCodec="av1");break;case 106:u.audio==-1&&(u.audio=g,u.audioCodec="ac3");break;case 122:u.audio==-1&&(u.audio=g,u.audioCodec="ec3");break;case 124:u.audio==-1&&(u.audio=g,u.audioCodec="aac");break;case 127:u.audioCodec=="opus"&&(k=null,a[y+2]===128&&(k=a[y+3]),k!=null&&(this.F={channelCount:k&15?k&15:2,Zh:k,sampleRate:48e3}))}y+=S,x-=S}break;case 15:u.audio==-1&&(u.audio=g,u.audioCodec="aac");break;case 17:u.audio==-1&&(u.audio=g,u.audioCodec="aac-loas");break;case 21:u.ce==-1&&(u.ce=g);break;case 27:u.video==-1&&(u.video=g,u.videoCodec="avc");break;case 3:case 4:u.audio==-1&&(u.audio=g,u.audioCodec="mp3");break;case 36:u.video==-1&&(u.video=g,u.videoCodec="hvc");break;case 129:u.audio==-1&&(u.audio=g,u.audioCodec="ac3");break;case 132:case 135:u.audio==-1&&(u.audio=g,u.audioCodec="ec3")}l+=v+5}a=u,a.video!=-1&&(this.I=a.video,this.m=a.videoCodec),a.audio!=-1&&(this.B=a.audio,this.A=a.audioCodec),a.ce!=-1&&(this.C=a.ce),r&&!this.H&&(r=!1,i=t-188),this.H=!0;break;case this.I:l=e.subarray(l,i+188),a?this.j.push([l]):this.j.length&&this.j[this.j.length-1]&&this.j[this.j.length-1].push(l);break;case this.B:l=e.subarray(l,i+188),a?this.i.push([l]):this.i.length&&this.i[this.i.length-1]&&this.i[this.i.length-1].push(l);break;case this.C:l=e.subarray(l,i+188),a?this.l.push([l]):this.l.length&&this.l[this.l.length-1]&&this.l[this.l.length-1].push(l);break;default:r=!0}}return this};function Ob(e,t){if((t[0]<<16|t[1]<<8|t[2])!==1)return null;var n={data:new Uint8Array(0),packetLength:t[4]<<8|t[5],pts:null,dts:null,nalus:[]};if(n.packetLength&&n.packetLength>t.byteLength-6)return null;var r=t[7];if(r&192){var i=536870912*(t[9]&14)+4194304*(t[10]&255)+16384*(t[11]&254)+128*(t[12]&255)+(t[13]&254)/2;e.u==null&&(e.u=i),n.pts=N4(i,e.u),e.u=n.pts,n.dts=n.pts,r&64&&(r=536870912*(t[14]&14)+4194304*(t[15]&255)+16384*(t[16]&254)+128*(t[17]&255)+(t[18]&254)/2,e.o==null&&(e.o=r),n.dts=N4(r,e.o)),e.o=n.dts}return e=t[8]+9,t.byteLength<=e?null:(n.data=t.subarray(e),n)}f.hj=function(e){return ut("TsParser.parseAvcNalus","Please use parseNalus function instead."),this.Xf(e,{Dd:null,state:null})},f.Xf=function(e,t){var n=e.pts?e.pts/9e4:null;e=e.data;var r=e.byteLength,i=1;this.m=="hvc"&&(i=2);var a=t.state||0,u=a,l=0,p=[],g=-1,v=0;for(a==-1&&(g=0,v=this.m=="hvc"?e[0]>>1&63:e[0]&31,a=0,l=1);l<r;){var y=e[l++];a?a===1?a=y?0:2:y?y==1?(y=l-a-1,0<=g?p.push({data:e.subarray(g+i,y),fullData:e.subarray(g,y),type:v,time:n,state:null}):(a=p.length?p[p.length-1]:t.Dd)&&(u&&l<=4-u&&a.state&&(a.data=a.data.subarray(0,a.data.byteLength-u),a.fullData=a.fullData.subarray(0,a.fullData.byteLength-u)),0<y&&(y=e.subarray(0,y),a.data=En(a.data,y),a.fullData=En(a.fullData,y),a.state=0)),l<r?(v=this.m=="hvc"?e[l]>>1&63:e[l]&31,g=l,a=0):a=-1):a=0:a=3:a=y?0:1}return 0<=g&&0<=a&&p.push({data:e.subarray(g+i,r),fullData:e.subarray(g,r),type:v,time:n,state:a}),!p.length&&t.Dd&&(n=p.length?p[p.length-1]:t.Dd)&&(n.data=En(n.data,e),n.fullData=En(n.fullData,e)),t.state=a,p},f.getMetadata=function(){for(var e=[],t=w(this.l),n=t.next();!n.done;n=t.next())n=En.apply(vr,j(n.value)),(n=Ob(this,n))&&e.push({cueTime:n.pts?n.pts/9e4:null,data:n.data,frames:nl(n.data),dts:n.dts,pts:n.pts});return e},f.fb=function(){if(this.i.length&&!this.h.length){for(var e=!1,t=w(this.i),n=t.next();!n.done;n=t.next()){var r=En.apply(vr,j(n.value)),i=Ob(this,r);n=this.h.length?this.h[this.h.length-1]:null,i&&i.pts!=null&&i.dts!=null&&(!n||n.pts!=i.pts&&n.dts!=i.dts)?(this.h.length&&i.dts<(n.dts||0)&&(e=!0),this.h.push(i)):this.h.length&&(r=i?i.data:r)&&(n=this.h.pop(),n.data=En(n.data,r),this.h.push(n))}e&&(this.h=this.h.sort(function(a,u){var l=(a.pts||0)-(u.pts||0);return(a.dts||0)-(u.dts||0)||l}))}return this.h},f.wc=function(e){if(e=e===void 0?!0:e,this.j.length&&!this.g.length){for(var t=!1,n=w(this.j),r=n.next();!r.done;r=n.next()){var i=En.apply(vr,j(r.value)),a=Ob(this,i);r=this.g.length?this.g[this.g.length-1]:null,a&&a.pts!=null&&a.dts!=null&&(!r||r.pts!=a.pts&&r.dts!=a.dts)?(this.g.length&&a.dts<(r.dts||0)&&(t=!0),this.g.push(a)):this.g.length&&(i=a?a.data:i)&&(r=this.g.pop(),r.data=En(r.data,i),this.g.push(r))}if(e){for(n={Dd:null,state:null},r=[],i=w(this.g),a=i.next();!a.done;a=i.next())a=a.value,a.nalus=this.Xf(a,n),a.nalus.length&&(r.push(a),n.Dd=a.nalus[a.nalus.length-1]);this.g=r}t&&(this.g=this.g.sort(function(u,l){var p=(u.pts||0)-(l.pts||0);return(u.dts||0)-(l.dts||0)||p}))}return e?this.g:(e=this.g,this.g=[],e)},f.getStartTime=function(e){if(e=="audio"){e=null;var t=this.fb();return t.length&&(e=t[0],e=Math.min(e.dts,e.pts)/9e4),e}return e=="video"?(e=null,t=this.wc(!1),t.length&&(e=t[0],e=Math.min(e.dts,e.pts)/9e4),e):null},f.od=function(){return{audio:this.A,video:this.m}},f.be=function(){for(var e=[],t=w(this.wc()),n=t.next();!n.done;n=t.next())e.push.apply(e,j(n.value.nalus));return e},f.Mi=function(){ut("TsParser.getVideoResolution","Please use getVideoInfo function instead.");var e=this.Kf();return{height:e.height,width:e.width}},f.Kf=function(){return this.m=="hvc"?YR(this):XR(this)};function R4(e){var t=e.wc();return 1<t.length&&(e=t[0].pts,t=t[1].pts,!isNaN(t-e))?String(1/(t-e)*9e4):null}function XR(e){var t={height:null,width:null,codec:null,frameRate:null},n=e.be();if(!n.length||(n=n.find(function(S){return S.type==7}),!n))return t;n=new Vo(n.data);var r=Ht(n),i=Ht(n),a=Ht(n);if(Yr(n),JR.includes(r)){var u=Le(n);if(u===3&&fi(n,1),Yr(n),Yr(n),fi(n,1),ze(n)){u=u!==3?8:12;for(var l=0;l<u;l++)ze(n)&&(6>l?wm(n,16):wm(n,64))}}if(Yr(n),u=Le(n),u===0)Le(n);else if(u===1)for(fi(n,1),Yr(n),Yr(n),u=Le(n),l=0;l<u;l++)Yr(n);Yr(n),fi(n,1),u=Le(n),l=Le(n);var p=It(n,1);p===0&&fi(n,1),fi(n,1);var g=0,v=0,y=0,x=0;return ze(n)&&(g=Le(n),v=Le(n),y=Le(n),x=Le(n)),t.height=String((2-p)*(l+1)*16-2*y-2*x),t.width=String(16*(u+1)-2*g-2*v),t.codec="avc1."+("0"+r.toString(16).toUpperCase()).slice(-2)+("0"+i.toString(16).toUpperCase()).slice(-2)+("0"+a.toString(16).toUpperCase()).slice(-2),t.frameRate=R4(e),t}function YR(e){var t={height:null,width:null,codec:null,frameRate:null},n=e.be();if(!n.length||(n=n.find(function(q){return q.type==33}),!n))return t;var r=new Vo(n.fullData,!0);Ht(r),Ht(r),It(r,4);var i=It(r,3);ze(r);var a=It(r,2),u=It(r,1),l=It(r,5),p=It(r,32);n=Ht(r);for(var g=Ht(r),v=Ht(r),y=Ht(r),x=Ht(r),S=Ht(r),k=Ht(r),C=[],E=[],I=0;I<i;I++)C.push(ze(r)),E.push(ze(r));if(0<i)for(I=i;8>I;I++)It(r,2);for(I=0;I<i;I++)C[I]&&It(r,88),E[I]&&Ht(r);Le(r),i=Le(r),i==3&&It(r,1),C=Le(r),E=Le(r);var _=I=0,F=0,B=0;return ze(r)&&(I+=Le(r),_+=Le(r),F+=Le(r),B+=Le(r)),t.width=String(C-(I+_)*(i===1||i===2?2:1)),t.height=String(E-(F+B)*(i===1?2:1)),r=function(q){for(var O=0,N=0;32>N;N++)O|=(q>>N&1)<<31-N;return O>>>0}(p),u=u==1?"H":"L",a="hvc1"+("."+["","A","B","C"][a]+l),a+="."+r.toString(16).toUpperCase(),a+="."+u+k,S&&(a+="."+S.toString(16).toUpperCase()),x&&(a+="."+x.toString(16).toUpperCase()),y&&(a+="."+y.toString(16).toUpperCase()),v&&(a+="."+v.toString(16).toUpperCase()),g&&(a+="."+g.toString(16).toUpperCase()),n&&(a+="."+n.toString(16).toUpperCase()),t.codec=a,t.frameRate=R4(e),t}function N4(e,t){var n=1;for(e>t&&(n=-1);4294967296<Math.abs(t-e);)e+=8589934592*n;return e}function $c(e){return!(0>jb(e))}function jb(e){for(var t=Math.min(1e3,e.length-564),n=0;n<t;){if(e[n]==71&&e[n+188]==71&&e[n+376]==71)return n;n++}return-1}Ee("shaka.util.TsParser",hn),hn.syncOffset=jb,hn.probe=$c,hn.prototype.getVideoInfo=hn.prototype.Kf,hn.prototype.getVideoResolution=hn.prototype.Mi,hn.prototype.getVideoNalus=hn.prototype.be,hn.prototype.getCodecs=hn.prototype.od,hn.prototype.getStartTime=hn.prototype.getStartTime,hn.prototype.getVideoData=hn.prototype.wc,hn.prototype.getAudioData=hn.prototype.fb,hn.prototype.getMetadata=hn.prototype.getMetadata,hn.prototype.parseNalus=hn.prototype.Xf,hn.prototype.parseAvcNalus=hn.prototype.hj,hn.prototype.parse=hn.prototype.parse,hn.prototype.clearData=hn.prototype.clearData,hn.Timescale=9e4;var JR=[100,110,122,244,44,83,86,118,128,138,139,134];function U4(e,t,n,r){var i=this;this.g=e,this.K=n,this.A=null,this.ea=t,this.l=new Map,this.B=new Map,this.Aa=new Map,this.h=null,this.Ea=!1,this.I=r||null,this.u=new Map,this.o=new Ce,this.j=new Map,this.L=null,this.G=new Wt,this.Ga="",this.Na=!1,this.sa=!0,this.Z=!1,this.C=this.M=null,this.i=Fb(this,this.G),this.ya=this.H=!1,this.O=new Nc(function(){return t9(i)}),this.F=!1,this.P="UNKNOWN",this.La=this.Ma=!1,this.Fa=new Wt,this.m=!1,this.pa=null,this.Y=new Map,this.ka=this.T=this.oa=this.W=null,this.fa=new Wt,this.g.remote&&(this.Z=this.g.remote.state!="disconnected",this.o.D(this.g.remote,"connect",function(){i.Z=i.g.remote.state!="disconnected"}),this.o.D(this.g.remote,"connecting",function(){i.Z=i.g.remote.state!="disconnected"}),this.o.D(this.g.remote,"disconnect",function(){i.Z=i.g.remote.state!="disconnected"}))}function Fb(e,t){if(e.sa=!0,d.ManagedMediaSource){e.C||(e.g.disableRemotePlayback=!0);var n=new ManagedMediaSource;e.o.D(n,"startstreaming",function(){e.sa=!0}),e.o.D(n,"endstreaming",function(){e.sa=!1})}else n=new MediaSource;return e.o.ma(n,"sourceopen",function(){URL.revokeObjectURL(e.Ga),t.resolve()}),e.o.ma(e.g,"playing",function(){e.Na=!0}),e.Ga=zb(n),e.g.removeAttribute("src"),e.M&&e.g.removeChild(e.M),e.C&&e.g.removeChild(e.C),e.M=D4(e.Ga),e.g.appendChild(e.M),e.C&&e.g.appendChild(e.C),e.g.load(),n}function QR(e,t,n){e.g&&d.ManagedMediaSource&&e.i&&(e.C&&e.g.removeChild(e.C),e.C=D4(t,n),e.g.appendChild(e.C),e.g.disableRemotePlayback=!1)}function ZR(e,t){var n,r,i,a,u,l,p,g,v,y,x;return P(function(S){if(S.g==1)return e.createSegmentIndex?T(S,e.createSegmentIndex(),2):S.s(2);if(!e.segmentIndex)return S.return(!1);if(e.segmentIndex.getNumReferences()==0)return S.return(!0);for(n=$n,r=new Set,i=w(e.segmentIndex),a=i.next();!a.done;a=i.next())if(u=a.value,l=u.mimeType||e.mimeType||"",p=u.codecs||e.codecs||"",(l!=e.mimeType||p!=e.codecs)&&(g=l+":"+p,!r.has(g))){if(r.add(g),t==n.za){if(v=Dn(l,p),!_c(v))return S.return(!1)}else if(t==n.la?p=fb(p):t==n.V&&(p=Zp(p,l)),y=O7(e,l,p),x=Mc(l,p),!ir(y)&&!Ps(x))return S.return(!1)}return S.return(!0)})}function e9(){var e='video/mp4; codecs="avc1.42E01E",video/mp4; codecs="avc3.42E01E",video/mp4; codecs="hev1.1.6.L93.90",video/mp4; codecs="hvc1.1.6.L93.90",video/mp4; codecs="hev1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="hvc1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="vp9",video/mp4; codecs="vp09.00.10.08",video/mp4; codecs="av01.0.01M.08",video/mp4; codecs="dvh1.05.01",video/mp4; codecs="dvh1.20.01",audio/mp4; codecs="mp4a.40.2",audio/mp4; codecs="ac-3",audio/mp4; codecs="ec-3",audio/mp4; codecs="ac-4.02.01.01",audio/mp4; codecs="opus",audio/mp4; codecs="flac",audio/mp4; codecs="dtsc",audio/mp4; codecs="dtse",audio/mp4; codecs="dtsx",video/webm; codecs="vp8",video/webm; codecs="vp9",video/webm; codecs="vp09.00.10.08",audio/webm; codecs="vorbis",audio/webm; codecs="opus",video/mp2t; codecs="avc1.42E01E",video/mp2t; codecs="avc3.42E01E",video/mp2t; codecs="hvc1.1.6.L93.90",video/mp2t; codecs="mp4a.40.2",video/mp2t; codecs="ac-3",video/mp2t; codecs="ec-3",text/vtt,application/mp4; codecs="wvtt",application/ttml+xml,application/mp4; codecs="stpp"'.split(",").concat(j(No)),t={};e=w(e);for(var n=e.next();!n.done;n=e.next()){n=n.value,_c(n)?t[n]=!0:t[n]=Ja()?ir(n)||!!Ps(n):Op(n);var r=n.split(";")[0];t[r]=t[r]||t[n]}return t}f=U4.prototype,f.destroy=function(){return this.O.destroy()};function t9(e){var t,n,r,i,a,u,l,p,g,v,y,x,S,k,C;return P(function(E){if(E.g==1){for(t=[],n=w(e.u),r=n.next();!r.done;r=n.next())for(i=r.value,a=w(i),u=a.next().value,l=a.next().value,p=l[0],g=u,e.u.set(g,l.slice(0,1)),p&&t.push(p.p.catch(z7)),v=w(l.slice(1)),y=v.next();!y.done;y=v.next())x=y.value,x.p.reject(new $(2,7,7003,void 0));return e.h&&t.push(e.h.destroy()),T(E,Promise.all(t),2)}for(S=w(e.j.values()),k=S.next();!k.done;k=S.next())C=k.value,C.destroy();e.o&&(e.o.release(),e.o=null),e.g&&e.C&&e.g.removeChild(e.C),e.g&&e.M&&(e.g.removeChild(e.M),e.g.load(),e.g.disableRemotePlayback=!1),e.g=null,e.M=null,e.C=null,e.A=null,e.i=null,e.h=null,e.ea=null,e.l.clear(),e.Aa.clear(),e.j.clear(),e.L=null,e.u.clear(),e.I=null,e.Y.clear(),e.K=null,ae(E)})}f.init=function(e,t,n,r){t=t===void 0?!1:t,n=n===void 0?"UNKNOWN":n,r=r===void 0?!1:r;var i=this,a,u,l,p,g,v;return P(function(y){switch(y.g){case 1:return a=$n,T(y,i.G,2);case 2:if(!rl(i)&&!zc(i)){y.s(3);break}return it("Expected MediaSource to be open during init(); reopening the media source."),i.G=new Wt,i.i=Fb(i,i.G),T(y,i.G,3);case 3:i.F=t,i.P=n,i.Ma=r,i.La=!i.F&&i.P=="HLS"&&!i.Ma,i.Y.clear(),i.W=null,i.oa=null,i.T=null,i.ka=null,i.fa=new Wt,u=w(e.keys()),l=u.next();case 5:if(l.done){y.s(7);break}return p=l.value,g=e.get(p),T(y,xm(i,p,g,g.codecs),8);case 8:i.m?(i.u.set(a.V,[]),i.u.set(a.la,[])):i.u.set(p,[]),l=u.next(),y.s(5);break;case 7:(v=e.get(a.V))&&v.isAudioMuxedInVideo&&(i.m=!0),ae(y)}})};function xm(e,t,n,r){var i,a,u,l,p,g,v,y,x,S,k,C;return P(function(E){switch(E.g){case 1:return i=$n,a=In,u=rr,T(E,ZR(n,t),2);case 2:if(u.call(a,E.h,"Type negotiation should happen before MediaSourceEngine.init!"),t==i.V&&r&&(r=Zp(r,n.mimeType)),l=Dn(n.mimeType,r),t==i.za){Sm(e,l,e.F,n.external),E.s(0);break}if(p=e.A.forceTransmux,(!ir(l)||!e.F&&No.includes(l))&&(p=!0),g=Mc(n.mimeType,r),!p){E.s(4);break}if(v=Wr(i.V,(r||"").split(",")),y=Wr(i.la,(r||"").split(",")),!v||!y){E.s(5);break}return e.m=!0,T(E,xm(e,i.V,n,v),6);case 6:return T(E,xm(e,i.la,n,y),7);case 7:return E.return();case 5:(x=Ps(g))&&(S=x(),e.j.set(t,S),l=S.convertCodecs(t,g));case 4:k=l+e.A.addExtraFeaturesToSourceBuffer(l),nn(e.O);try{C=e.i.addSourceBuffer(k)}catch(I){throw new $(2,3,3015,I,"The mediaSource_ status was "+e.i.readyState+" expected 'open'",null)}e.F&&(C.mode=f9),e.o.D(C,"error",function(){var I=e.u.get(t)[0];I.p.reject(new $(2,3,3014,e.g.error?e.g.error.code:0,I.uri))}),e.o.D(C,"updateend",function(){return $o(e,t)}),e.l.set(t,C),e.B.set(t,l),e.Aa.set(t,!!n.drmInfos.length),ae(E)}})}f.configure=function(e){this.A=e,this.h&&(this.h.A=e.modifyCueCallback)};function O4(e){return e.sa&&!e.Z&&!e.H}function Sm(e,t,n,r){e.h||(e.h=new Uo(e.ea),e.h&&(e.h.A=e.A.modifyCueCallback));var i=e.h;r=r||e.Ea,e=e.P,t=="application/cea-608"||t=="application/cea-708"?i.i=null:(i.i=Yp.get(t)(),i.i.setSequenceMode?i.i.setSequenceMode(n):ut("Text parsers w/ setSequenceMode",'Text parsers should have a "setSequenceMode" method!'),i.i.setManifestType?i.i.setManifestType(e):ut("Text parsers w/ setManifestType",'Text parsers should have a "setManifestType" method!'),i.B=r)}function rl(e){return e.H?!1:e.i?e.i.readyState=="ended":!0}function zc(e){return e.H?!1:e.i?e.i.readyState=="closed":!0}function Bb(e,t){return e.l.size?t==wt?e=e.h.g:(e=Hc(e,t),e=!e||ch(e)?null:e.length==1&&0>e.start(0)?0:e.length?e.start(0):null):e=null,e}function il(e,t){return e.l.size?t==wt?e.h.h:Db(Hc(e,t)):null}function n9(e,t,n){return t==wt?(e=e.h,e.h==null||e.h<n?0:e.h-Math.max(n,e.g)):(e=Hc(e,t),M4(e,n))}f.Fb=function(){var e={total:this.H?[]:Bo(this.g.buffered),audio:Bo(Hc(this,"audio")),video:Bo(Hc(this,"video")),text:[]};if(this.h){var t=this.h.g,n=this.h.h;t!=null&&n!=null&&e.text.push({start:t,end:n})}return e};function Hc(e,t){if(e.H||e.Z)return null;try{return e.l.get(t).buffered}catch{return e.l.has(t),null}}function r9(e,t,n,r,i,a){var u=null,l=[],p=Ye(n);if(No.includes(a))t=nl(p),t.length&&r&&((n=t.find(function(S){return S.description==="com.apple.streaming.transportStreamTimestamp"}))&&(u=Math.round(n.data)/1e3),e.K.onMetadata([{cueTime:r.startTime,data:p,frames:t,dts:r.startTime,pts:r.startTime}],0,r.endTime));else if(a.includes("/mp4")&&r&&r.$&&r.$.timescale){var g=r.$.timescale;if(!isNaN(g)){var v=i.emsgSchemeIdUris!=null&&0<i.emsgSchemeIdUris.length||e.A.dispatchAllEmsgBoxes,y=0,x=!1;p=new Qt,v&&p.R("emsg",function(S){var k=i.emsgSchemeIdUris;if(S.version===0)var C=S.reader.Cc(),E=S.reader.Cc(),I=S.reader.S(),_=S.reader.S(),F=S.reader.S(),B=S.reader.S(),q=r.startTime+_/I;else I=S.reader.S(),q=S.reader.bd()/I+r.timestampOffset,_=q-r.startTime,F=S.reader.S(),B=S.reader.S(),C=S.reader.Cc(),E=S.reader.Cc();S=S.reader.Cb(S.reader.getLength()-S.reader.Ba()),(k&&k.includes(C)||e.A.dispatchAllEmsgBoxes)&&(C=="urn:mpeg:dash:event:2012"?e.K.gj():(k=q+F/I,I={startTime:q,endTime:k,schemeIdUri:C,value:E,timescale:I,presentationTimeDelta:_,eventDuration:F,id:B,messageData:S},B=new Map().set("detail",I),new Ae("emsg",B).cancelable=!0,e.K.ej(I),(C=="https://aomedia.org/emsg/ID3"||C=="https://developer.apple.com/streaming/emsg-id3")&&(C=nl(S),C.length&&e.K.onMetadata([{cueTime:q,data:S,frames:C,dts:q,pts:q}],0,k))))}),p.R("prft",function(S){var k=S.reader,C=S.version;k.S(),S=k.S();var E=k.S();S=1e3*S+E/Math.pow(2,32)*1e3,C===0?k=k.S():(C=k.S(),k=k.S(),k=C*Math.pow(2,32)+k),S=new Date(new Date(Date.UTC(1900,0,1,0,0,0)).getTime()+S).getTime(),k=new Map().set("detail",{wallClockTime:S,programStartDate:new Date(S-k/g*1e3)}),k=new Ae("prft",k),e.K.onEvent(k)}).box("moof",xt).box("traf",xt).R("tfdt",function(S){x||(y=fm(S.reader,S.version).baseMediaDecodeTime/g,x=!0,v||S.parser.stop())}).parse(n,!0),x&&r.timestampOffset==0&&(u=y)}}else a.includes("/mp4")||a.includes("/webm")||!$c(p)||(e.Y.has(t)?e.Y.get(t).clearData():e.Y.set(t,new hn),l=e.Y.get(t).parse(p),p=l.getStartTime(t),p!=null&&(u=p),l=l.getMetadata());return{timestamp:u,metadata:l}}function km(e,t,n,r,i,a,u,l,p,g){u=u===void 0?!1:u,l=l===void 0?!1:l,p=p===void 0?!1:p,g=g===void 0?!1:g;var v,y,x,S,k,C,E,I,_,F,B,q,O,N,H,z,Y;return P(function(K){switch(K.g){case 1:if(v=$n,t!=v.za){K.s(2);break}if(e.P!="HLS"){K.s(3);break}return T(K,e.Fa,4);case 4:y=K.h,e.h.u=y;case 3:return T(K,F7(e.h,n,r?r.startTime:null,r?r.endTime:null,r?r.N()[0]:null),5);case 5:return K.return();case 2:if(g||!e.m){K.s(6);break}return T(K,km(e,v.V,n,r,i,a,u,l,p,!0),7);case 7:return T(K,km(e,v.la,n,r,i,a,u,l,p,!0),8);case 8:return K.return();case 6:if(!e.l.has(t))return K.return();if(x=e.l.get(t).timestampOffset,S=e.B.get(t),e.j.has(t)&&(S=e.j.get(t).getOriginalMimeType()),r&&(k=r9(e,t,n,r,i,S),C=k.timestamp,E=k.metadata,C!=null&&(e.W==null&&t==v.la&&(e.W=C,e.oa=r.startTime,e.T!=null&&(I=0,e.oa==e.ka&&(I=e.W-e.T),e.fa.resolve(I))),e.T==null&&t==v.V&&(e.T=C,e.ka=r.startTime,e.W!=null&&(_=0,e.oa==e.ka&&(_=e.W-e.T),e.fa.resolve(_))),F=C,B=No,!e.F&&B.includes(e.B.get(t))&&(F=0),q=r.startTime-F,O=Math.abs(x-q),(.001<=O||u||l)&&(!p||0<q||!x)&&(x=q,e.La&&(Zn(e,t,function(){return qc(e,t)},null),Zn(e,t,function(){return Gc(e,t,x)},null))),(t==v.la||!e.l.has(v.la))&&e.Fa.resolve(x)),E.length)&&e.K.onMetadata(E,x,r?r.endTime:null),a&&t==v.la&&(e.h||Sm(e,"application/cea-608",e.F,!1),e.L||(N=S.split(";",1)[0],e.L=new Ai(N)),r?(H=e.L.i(n),H.length&&V7(e.h,H,r.startTime,r.endTime,x)):e.L.init(n,l)),!e.j.has(t)){K.s(9);break}return T(K,e.j.get(t).transmux(n,i,r,e.i.duration,t),10);case 10:n=K.h;case 9:if(n=l9(e,i,n,r,t),!r||!e.F||t==v.za){K.s(11);break}if(!u&&!l){K.s(11);break}if(z=r.startTime,e.P!="HLS"||e.m||t!=v.V||!e.l.has(v.la)){K.s(13);break}return T(K,e.fa,14);case 14:Y=K.h,.15<Math.abs(Y)&&(z-=Y);case 13:Zn(e,t,function(){return qc(e,t)},null),Zn(e,t,function(){return Gc(e,t,z)},null);case 11:return T(K,Zn(e,t,function(){var J=n;e.I&&q1(e.I,J,x,i),e.l.get(t).appendBuffer(J)},r?r.N()[0]:null),15);case 15:ae(K)}})}function i9(e,t){var n=il(e,"video")||0;T5(e.h,t,n)}function a9(e){e.h&&T5(e.h,"",0)}f.remove=function(e,t,n){var r=this,i;return P(function(a){return a.g==1?(i=$n,e==i.za?T(a,r.h.remove(t,n),0):n>t?T(a,Zn(r,e,function(){return Tm(r,e,t,n)},null),5):a.s(0)):r.m?T(a,Zn(r,i.V,function(){return Tm(r,i.V,t,n)},null),0):a.s(0)})};function j4(e,t){var n;return P(function(r){return r.g==1?(n=$n,t==n.za?e.h?T(r,e.h.remove(0,1/0),0):r.return():T(r,Zn(e,t,function(){return Tm(e,t,0,e.i.duration)},null),4)):e.m?T(r,Zn(e,n.V,function(){return Tm(e,n.V,0,e.i.duration)},null),0):r.s(0)})}f.flush=function(e){var t=this,n;return P(function(r){return r.g==1?(n=$n,e==n.za?r.return():T(r,Zn(t,e,function(){t.g.currentTime-=.001,$o(t,e)},null),2)):t.m?T(r,Zn(t,n.V,function(){var i=n.V;t.g.currentTime-=.001,$o(t,i)},null),0):r.s(0)})};function o9(e,t,n,r,i,a,u,l,p){var g,v,y;return P(function(x){return x.g==1?(g=$n,t==g.za?(a||(e.h.u=n),B7(e.h,r,i),x.return()):(v=[],T(x,p9(e,t,u,l,p),2))):(y=x.h,y||(v.push(Zn(e,t,function(){return qc(e,t)},null)),e.m&&v.push(Zn(e,g.V,function(){return qc(e,g.V)},null))),a||(v.push(Zn(e,t,function(){return Gc(e,t,n)},null)),e.m&&v.push(Zn(e,g.V,function(){return Gc(e,g.V,n)},null))),(r!=0||i!=1/0)&&(v.push(Zn(e,t,function(){var S=e.l.get(t);S.appendWindowStart=0,S.appendWindowEnd=i,S.appendWindowStart=r,$o(e,t)},null)),e.m&&v.push(Zn(e,g.V,function(){var S=g.V,k=e.l.get(S);k.appendWindowStart=0,k.appendWindowEnd=i,k.appendWindowStart=r,$o(e,S)},null))),v.length?T(x,Promise.all(v),0):x.s(0))})}function s9(e,t,n){var r,i;return P(function(a){return a.g==1?(r=$n,t==r.za||(t==r.la&&(e.Fa=new Wt),!e.F||(i=il(e,t))&&.1>Math.abs(i-n))?a.return():(Zn(e,t,function(){return qc(e,t)},null),e.m&&Zn(e,r.V,function(){return qc(e,r.V)},null),T(a,Zn(e,t,function(){return Gc(e,t,n)},null),2))):e.m?T(a,Zn(e,r.V,function(){return Gc(e,r.V,n)},null),0):a.s(0)})}f.endOfStream=function(e){var t=this;return P(function(n){return T(n,dh(t,function(){rl(t)||zc(t)||(e?t.i.endOfStream(e):t.i.endOfStream())}),0)})},f.bb=function(e){var t=this;return P(function(n){return T(n,dh(t,function(){if(e<t.i.duration)for(var r=w(t.l.keys()),i=r.next();!i.done;i=r.next()){i=i.value;var a={start:function(){},p:new Wt,uri:null};t.u.get(i).unshift(a)}t.i.duration=e,t.pa=e}),0)})},f.getDuration=function(){return this.i.duration};function u9(e,t,n){P(function(r){return rl(e)||zc(e)?r.return():T(r,dh(e,function(){rl(e)||zc(e)||e.i.setLiveSeekableRange(t,n)}),0)})}function Vb(e){P(function(t){return rl(e)||zc(e)?t.return():T(t,dh(e,function(){rl(e)||zc(e)||e.i.clearLiveSeekableRange()}),0)})}function Tm(e,t,n,r){r<=n?$o(e,t):e.l.get(t).remove(n,r)}function qc(e,t){var n=e.l.get(t),r=n.appendWindowStart,i=n.appendWindowEnd;n.abort(),n.appendWindowStart=r,n.appendWindowEnd=i,$o(e,t)}function Gc(e,t,n){0>n&&(n+=.001);var r=!0;e.P=="HLS"&&(r=il(e,t),r=!r||.15<Math.abs(r-n)),r&&(e.l.get(t).timestampOffset=n),$o(e,t)}function $o(e,t){if(!e.H){var n=e.u.get(t)[0];n&&(n.p.resolve(),$b(e,t))}}function Zn(e,t,n,r){return nn(e.O),n={start:n,p:new Wt,uri:r},e.u.get(t).push(n),e.u.get(t).length==1&&F4(e,t),n.p}function dh(e,t){var n,r,i,a,u,l,p,g,v,y,x,S,k;return P(function(C){switch(C.g){case 1:for(nn(e.O),n=[],r=Array.from(e.l.keys()),i=w(r),a=i.next(),u={};!a.done;u={ready:void 0},a=i.next())l=a.value,u.ready=new Wt,p={start:function(E){return function(){return E.ready.resolve()}}(u),p:u.ready,uri:null},g=e.u.get(l),g.push(p),n.push(u.ready),g.length==1&&p.start();return me(C,2),T(C,Promise.all(n),4);case 4:V(C,3);break;case 2:throw v=W(C),v;case 3:return me(C,5,6),T(C,t(),6);case 6:for(Se(C),y=w(r),x=y.next();!x.done;x=y.next())S=x.value,$b(e,S);te(C,0);break;case 5:throw k=W(C),new $(2,3,3015,k,e.g.error||"No error in the media element",null)}})}function $b(e,t){e.u.get(t).shift(),F4(e,t)}function F4(e,t){var n=e.u.get(t)[0];if(n)try{n.start()}catch(r){r.name=="QuotaExceededError"?n.p.reject(new $(2,3,3017,t)):O4(e)?n.p.reject(new $(2,3,3015,r,e.g.error||"No error in the media element",n.uri)):n.p.reject(new $(2,3,3024,t)),$b(e,t)}}function l9(e,t,n,r,i){if(Zg(e.B.get(i))!="mp4")return n;var a=r===null,u=e.Aa.get(i),l=e.K.si(),p=!1;return r&&r.$&&(p=r.$.encrypted),r=r?r.N()[0]:null,(e=e.A.insertFakeEncryptionInInit&&u)&&(l=O1(l),e=cr()&&i==="audio"||La()||Pa()||Rn("SOPOpenBrowser")||jp()&&j1()&&l),e&&(a?n=VR(t,n,r):((t=!p)&&(t=cr()&&i==="audio"),t&&(n=$R(n)))),a&&Co()&&(n=qR(n)),n}function c9(e,t,n,r){return Zn(e,t,function(){if(t!==wt){if(e.B.get(t),Bu()){e.j.has(t)&&(e.j.get(t).destroy(),e.j.delete(t)),r&&e.j.set(t,r);var i=n+e.A.addExtraFeaturesToSourceBuffer(n);e.l.get(t).changeType(i),e.B.set(t,n)}$o(e,t)}},null)}function d9(e,t){var n,r,i,a,u,l,p,g,v,y,x,S,k,C,E,I,_,F,B,q;return P(function(O){switch(O.g){case 1:if(e.H)return O.return();for(n=$n,e.H=!0,e.m=!1,r=e.g.currentTime,i=e.g.autoplay,e.g.paused||(e.ya=!0),e.Na&&(e.g.autoplay=!1),be(O,2),e.o.Qa(),a=w(e.j.values()),u=a.next();!u.done;u=a.next())l=u.value,l.destroy();for(p=w(e.l.values()),g=p.next();!g.done;g=p.next()){v=g.value;try{e.i.removeSourceBuffer(v)}catch{}}return e.j.clear(),e.l.clear(),y=e.i.duration,e.G=new Wt,e.i=Fb(e,e.G),T(O,e.G,4);case 4:!isNaN(y)&&y?e.i.duration=y:!isNaN(e.pa)&&e.pa&&(e.i.duration=e.pa),x=new Wt,S=e.i.sourceBuffers,k=t.size,C=0,E=function(){C++,C===k&&(x.resolve(),e.o.Ja(S,"addsourcebuffer",E))},e.o.D(S,"addsourcebuffer",E),I=w(t.keys()),_=I.next();case 5:return _.done?((q=t.get(n.V))&&q.isAudioMuxedInVideo&&(e.m=!0),e.m&&!e.u.has(n.V)&&e.u.set(n.V,[]),e.g.currentTime=r,T(O,x,2)):(F=_.value,B=t.get(F),T(O,xm(e,F,B,B.codecs),6));case 6:_=I.next(),O.s(5);break;case 2:Se(O),e.H=!1,nn(e.O),e.o.ma(e.g,"canplaythrough",function(){e.O.g||(e.g.autoplay=i,e.ya&&(e.ya=!1,e.g.play()))}),te(O,0)}})}function B4(e,t){return dh(e,function(){return d9(e,t)})}function V4(e,t,n,r){var i=!1,a=Wr("audio",(r||"").split(",")),u=Wr("video",(r||"").split(",")),l=u;t=="audio"&&(l=a),l||(l=r),r=Dn(n,l);var p=e.A.forceTransmux;if((!ir(r)||!e.F&&No.includes(r))&&(p=!0),p&&(e=Mc(n,l),n=Ps(e))){var g=n();a&&u&&(i=!0),r=g.convertCodecs(t,e)}return t=yr(di(r)),{ug:g,Fj:i,Eg:ci(r),codec:t,mimeType:r}}function p9(e,t,n,r,i){var a,u,l,p,g,v,y,x,S,k,C,E,I,_;return P(function(F){return F.g==1?(a=$n,t==a.za?F.return(!1):(u=yr(di(e.B.get(t))),l=ci(e.B.get(t)),p=V4(e,t,n,r),g=p.ug,v=p.Fj,y=p.Eg,x=p.codec,S=p.mimeType,k=!0,v&&e.B.has(a.V)&&(C=V4(e,a.V,n,r),E=yr(di(e.B.get(a.V))),I=ci(e.B.get(a.V)),k=E==C.codec&&I==C.Eg,C.ug&&C.ug.destroy()),u===x&&l===y&&k?(e.j.has(t)&&!g?(e.j.get(t).destroy(),e.j.delete(t)):!e.j.has(t)&&g?e.j.set(t,g):g&&(e.j.has(t)&&e.j.get(t).transmux!=g.transmux?(e.j.get(t).destroy(),e.j.delete(t),e.j.set(t,g)):g.destroy()),F.return(!1)):(_=!0,(e.m||v&&g&&!e.j.has(t))&&(_=!1),_&&e.A.codecSwitchingStrategy==="smooth"&&Bu()?T(F,c9(e,t,S,g),3):(g&&g.destroy(),T(F,B4(e,i),3))))):F.return(!0)})}function h9(e,t,n,r){if(t==wt)var i=!1;else{i=yr(di(e.B.get(t)));var a=ci(e.B.get(t)),u=Dn(n,r),l=e.A.forceTransmux;(!ir(u)||!e.F&&No.includes(u))&&(l=!0),n=Mc(n,r),l&&(l=Ps(n))&&(l=l(),u=l.convertCodecs(t,n),l.destroy()),t=yr(di(u)),u=ci(u),i=i!==t||a!==u}return i?e.A.codecSwitchingStrategy!=="smooth"||!Bu()||e.m:!1}var zb=d.URL.createObjectURL,f9="sequence";function Ke(e,t,n){this.i=e,this.C=t,this.o=this.l=1/0,this.h=1,this.g=this.j=null,this.A=0,this.B=!0,this.I=!1,this.H=0,this.F=n===void 0?!0:n,this.G=0,this.u=!1,this.m=e}f=Ke.prototype,f.getDuration=function(){return this.l},f.vi=function(){return this.h},f.yh=function(e){this.i=e},f.bb=function(e){this.l=e},f.Bi=function(){return this.i},f.wh=function(e){this.A=e},f.Gc=function(e){e&&!this.B&&(this.I=!0),this.B=e},f.Ce=function(e){this.o=e},f.ae=function(){return this.o},f.jg=function(e){this.C=e},f.li=function(){return this.C},f.kh=function(e,t){if(e.length!=0){var n=(Date.now()+this.A)/1e3;if(e=e.filter(function(i){return i.start+t<n}),e.length!=0){var r=e[e.length-1].end+t;this.ne(e[0].start+t),this.h=e.reduce(function(i,a){return Math.max(i,a.end-a.start)},this.h),this.g=Math.max(this.g,r),this.i!=null&&this.F&&!this.u&&(this.i=n-this.g-this.h)}}},f.Ed=function(e){if(e.length!=0){var t=e[0].startTime,n=e[0].endTime,r=(Date.now()+this.A)/1e3;e=w(e);for(var i=e.next();!i.done;i=e.next())i=i.value,r<i.startTime||(t=Math.min(t,i.startTime),n=Math.max(n,i.endTime),this.h=Math.max(this.h,i.endTime-i.startTime));this.ne(t),this.g=Math.max(this.g,n),this.i!=null&&this.F&&!this.u&&(this.i=r-this.g-this.h)}},f.jh=function(e,t){this.ne(e),t==1/0||this.U()||(this.g=Math.max(this.g,t))},f.wi=function(){return this.g},f.ie=function(){this.u=!0},f.Wi=function(){return this.u},f.xh=function(e){this.m=e},f.ri=function(){return this.m},f.ne=function(e){this.j==null?this.j=e:this.I||(this.j=Math.min(this.j,e))},f.Tf=function(e){this.h=Math.max(this.h,e)},f.offset=function(e){this.j!=null&&(this.j+=e),this.g!=null&&(this.g+=e)},f.U=function(){return this.l==1/0&&!this.B},f.yc=function(){return this.l!=1/0&&!this.B},f.pb=function(){return Math.max(this.H,this.cc()-this.o)},f.Bh=function(e){this.H=e},f.cc=function(){return this.U()||this.yc()?Math.min(Math.max(0,(Date.now()+this.A)/1e3-this.h-this.i)+this.G,this.l):this.g?Math.min(this.g,this.l):this.l},f.qd=function(e){var t=Math.max(this.j,this.H);return this.o==1/0?Math.ceil(1e3*t)/1e3:Math.max(t,Math.min(this.cc()-this.o+e,this.ob()))},f.Hb=function(){return this.qd(0)},f.ob=function(){return Math.max(0,this.cc()-(this.U()||this.yc()?this.C:0))},f.Kh=function(){return!(this.i==null||this.g!=null&&this.F)},f.vh=function(e){this.G=e},f.ii=function(){return this.G},Ee("shaka.media.PresentationTimeline",Ke),Ke.prototype.getAvailabilityTimeOffset=Ke.prototype.ii,Ke.prototype.setAvailabilityTimeOffset=Ke.prototype.vh,Ke.prototype.usingPresentationStartTime=Ke.prototype.Kh,Ke.prototype.getSeekRangeEnd=Ke.prototype.ob,Ke.prototype.getSeekRangeStart=Ke.prototype.Hb,Ke.prototype.getSafeSeekRangeStart=Ke.prototype.qd,Ke.prototype.getSegmentAvailabilityEnd=Ke.prototype.cc,Ke.prototype.setUserSeekStart=Ke.prototype.Bh,Ke.prototype.getSegmentAvailabilityStart=Ke.prototype.pb,Ke.prototype.isInProgress=Ke.prototype.yc,Ke.prototype.isLive=Ke.prototype.U,Ke.prototype.offset=Ke.prototype.offset,Ke.prototype.notifyMaxSegmentDuration=Ke.prototype.Tf,Ke.prototype.notifyMinSegmentStartTime=Ke.prototype.ne,Ke.prototype.getInitialProgramDateTime=Ke.prototype.ri,Ke.prototype.setInitialProgramDateTime=Ke.prototype.xh,Ke.prototype.isStartTimeLocked=Ke.prototype.Wi,Ke.prototype.lockStartTime=Ke.prototype.ie,Ke.prototype.getMaxSegmentEndTime=Ke.prototype.wi,Ke.prototype.notifyPeriodDuration=Ke.prototype.jh,Ke.prototype.notifySegments=Ke.prototype.Ed,Ke.prototype.notifyTimeRange=Ke.prototype.kh,Ke.prototype.getDelay=Ke.prototype.li,Ke.prototype.setDelay=Ke.prototype.jg,Ke.prototype.getSegmentAvailabilityDuration=Ke.prototype.ae,Ke.prototype.setSegmentAvailabilityDuration=Ke.prototype.Ce,Ke.prototype.setStatic=Ke.prototype.Gc,Ke.prototype.setClockOffset=Ke.prototype.wh,Ke.prototype.getPresentationStartTime=Ke.prototype.Bi,Ke.prototype.setDuration=Ke.prototype.bb,Ke.prototype.setPresentationStartTime=Ke.prototype.yh,Ke.prototype.getMaxSegmentDuration=Ke.prototype.vi,Ke.prototype.getDuration=Ke.prototype.getDuration;function Hb(e,t,n,r){var i=this;this.u=r,this.g=e,this.B=t,this.h=n,this.o=new Ce,this.l=!1,this.F=e.readyState,this.G=this.C=this.j=0,this.m=g9(this),this.A=!1,this.o.D(e,"waiting",function(){return ph(i)}),this.i=new kt(function(){ph(i)}).ua(this.h.gapJumpTimerTime)}Hb.prototype.release=function(){this.o&&(this.o.release(),this.o=null),this.i!=null&&(this.i.stop(),this.i=null),this.m&&(this.m.release(),this.m=null),this.g=this.B=this.u=null},Hb.prototype.qe=function(){this.A=!0,this.i&&this.i.ua(this.h.gapJumpTimerTime),ph(this)};function ph(e){if(e.g.readyState!=0){if(e.g.seeking){if(!e.l)return}else e.l=!1;if(!e.g.paused||e.g.currentTime==e.j&&(e.g.autoplay||e.g.currentTime!=e.j)){e.g.readyState!=e.F&&(e.F=e.g.readyState);var t;if(!(t=!e.m)){t=e.m;var n=t.j,r=z4(n),i=n.g.currentTime,a=Date.now()/1e3;(t.g!=i||t.m!=r)&&(t.l=a,t.g=i,t.m=r,t.h=!1),i=a-t.l,(r=i>=t.o&&r&&!t.h)&&(t.i&&t.i(t.g,i),t.h=!0,t.g=n.g.currentTime),t=!r}t&&(t=e.g.currentTime,n=e.g.buffered,r=GR(n,t,e.h.gapDetectionThreshold),r==null||r==0&&!e.A||(i=n.start(r),(a=e.h.gapPadding)&&(i=Math.ceil(100*(i+a))/100),i>=e.B.ob()||.001>i-t||(r!=0&&n.end(r-1),e.g.currentTime=i,t==e.j&&(e.j=i),e.C++,e.u(new Ae("gapjumped")))))}}}function g9(e){if(!e.h.stallEnabled)return null;var t=e.h.stallSkip;return new $4(new m9(e.g),e.h.stallThreshold,function(){var n;return P(function(r){if(r.g==1)return n=Bo(e.g.buffered),n.length?t?(e.g.currentTime+=t,r.s(2)):T(r,e.g.play(),3):r.return();if(r.g!=2){if(!e.g)return r.return();e.g.pause(),e.g.play()}e.G++,e.u(new Ae("stalldetected")),ae(r)})})}function $4(e,t,n){this.j=e,this.m=z4(e),this.g=e.g.currentTime,this.l=Date.now()/1e3,this.h=!1,this.o=t,this.i=n}$4.prototype.release=function(){this.i=this.j=null};function m9(e){this.g=e}function z4(e){if(e.g.paused||e.g.playbackRate==0||e.g.buffered.length==0)var t=!1;else e:{t=e.g.currentTime,e=w(Bo(e.g.buffered));for(var n=e.next();!n.done;n=e.next())if(n=n.value,!(t<n.start-.1||t>n.end-.5)){t=!0;break e}t=!1}return t}function Kc(e,t,n,r){t==HTMLMediaElement.HAVE_NOTHING||e.readyState>=t?r():(t=v9.value().get(t),n.ma(e,t,r))}var v9=new Np(function(){return new Map([[HTMLMediaElement.HAVE_METADATA,"loadedmetadata"],[HTMLMediaElement.HAVE_CURRENT_DATA,"loadeddata"],[HTMLMediaElement.HAVE_FUTURE_DATA,"canplay"],[HTMLMediaElement.HAVE_ENOUGH_DATA,"canplaythrough"]])});function H4(e,t,n,r){var i=this;this.g=e,this.m=t,this.u=n,this.l=null,this.j=function(){return i.l==null&&(i.l=r()),i.l},this.o=!1,this.h=new Ce,this.i=new W4(e),Kc(this.g,HTMLMediaElement.HAVE_METADATA,this.h,function(){G4(i,i.j())})}H4.prototype.release=function(){this.h&&(this.h.release(),this.h=null),this.i!=null&&(this.i.release(),this.i=null),this.m=function(){},this.g=null};function qb(e){return e.o?e.g.currentTime:e.j()}function q4(e,t){0<e.g.readyState?X4(e.i,t):Kc(e.g,HTMLMediaElement.HAVE_METADATA,e.h,function(){G4(e,e.j())})}function G4(e,t){.001>Math.abs(e.g.currentTime-t)?K4(e):(e.h.ma(e.g,"seeking",function(){K4(e)}),X4(e.i,e.g.currentTime&&e.g.currentTime!=0?e.g.currentTime:t))}function K4(e){e.o=!0,e.h.D(e.g,"seeking",function(){return e.m()}),e.u(e.g.currentTime)}function W4(e){var t=this;this.g=e,this.m=10,this.j=this.l=this.i=0,this.h=new kt(function(){0>=t.i||t.g.currentTime!=t.l||t.g.currentTime===t.j?t.h.stop():(t.g.currentTime=t.j,t.i--)})}W4.prototype.release=function(){this.h&&(this.h.stop(),this.h=null),this.g=null};function X4(e,t){e.l=e.g.currentTime,e.j=t,e.i=e.m,e.g.currentTime=t,e.h.ua(.1)}function Y4(e){this.h=e,this.j=!1,this.g=null,this.i=new Ce}f=Y4.prototype,f.ready=function(){function e(){if(t.g==null||t.g==0&&t.h.duration!=1/0)t.j=!0;else{var n=t.h.currentTime,r=t.g;0>t.g&&(r=Math.max(0,n+t.g)),n!=r?(t.i.ma(t.h,"seeking",function(){t.j=!0}),t.h.currentTime=r):t.j=!0}}var t=this;Kc(this.h,HTMLMediaElement.HAVE_CURRENT_DATA,this.i,function(){e()})},f.release=function(){this.i&&(this.i.release(),this.i=null),this.h=null},f.af=function(e){this.g=this.j?this.g:e},f.Od=function(){return(this.j?this.h.currentTime:this.g)||0},f.Ag=function(){return 0},f.zg=function(){return 0},f.ih=function(){};function J4(e,t,n,r,i,a){var u=this;this.i=e,this.g=t.presentationTimeline,this.l=n,this.u=i,this.o=null,this.j=new Hb(e,t.presentationTimeline,n,a),this.h=new H4(e,function(){e:{var l=u.j;l.l=!0,l.A=!1,l.i&&l.i.ua(l.h.gapJumpTimerTime),ph(l);var p=qb(u.h);if(l=Z4(u,p),!i5()&&.001<Math.abs(l-p)){if(p=!1,!ua()||ua()&&Cs())p=!0;else{var g=Date.now()/1e3,v=ua()&&F1()?3:1;(!u.o||u.o<g-v)&&(u.o=g,p=!0)}if(p){q4(u.h,l),l=void 0;break e}}u.u(),l=void 0}return l},function(l){var p=u.j;p.g.seeking&&!p.l&&(p.l=!0,p.j=l),p.i&&p.i.ua(p.h.gapJumpTimerTime),ph(p)},function(){var l=r;return l==null?l=1/0>u.g.getDuration()?u.g.Hb():u.g.ob():0>l&&(l=u.g.ob()+l),Q4(u,eA(u,l))}),this.m=new kt(function(){if(u.i.readyState!=0&&!u.i.paused){var l=qb(u.h),p=u.g.Hb(),g=u.g.ob();3>g-p&&(p=g-3),l<p&&(l=Z4(u,l),u.i.currentTime=l)}})}f=J4.prototype,f.ready=function(){this.m.ua(.25)},f.release=function(){this.h&&(this.h.release(),this.h=null),this.j&&(this.j.release(),this.j=null),this.m&&(this.m.stop(),this.m=null),this.i=this.h=this.g=this.l=null,this.u=function(){}},f.af=function(e){q4(this.h,e)},f.Od=function(){var e=qb(this.h);return 0<this.i.readyState&&!this.i.paused?eA(this,e):e},f.Ag=function(){return this.j.G},f.zg=function(){return this.j.C},f.ih=function(){this.j.qe()};function Q4(e,t){var n=e.g.getDuration();return t>=n?n-e.l.durationBackoff:t}function Z4(e,t){var n=e.l.rebufferingGoal,r=e.l.safeSeekOffset,i=e.g.Hb(),a=e.g.ob(),u=e.g.getDuration();3>a-i&&(i=a-3);var l=e.g.qd(n),p=e.g.qd(r);return n=e.g.qd(n+r),t>=u?Q4(e,t):t>a?a-e.l.safeSeekEndOffset:t<i?Pb(e.i.buffered,p)?p:n:t>=l||Pb(e.i.buffered,t)?t:n}function eA(e,t){var n=e.g.Hb();return t<n?n:(e=e.g.ob(),t>e?e:t)}function Ft(e){this.g=e,this.m=null,this.i=0,this.o=!1}f=Ft.prototype,f.getNumReferences=function(){return this.g.length},f.getNumEvicted=function(){return this.i},f.release=function(){this.o||(this.g=[],this.m&&this.m.stop(),this.m=null)},f.bj=function(){this.o=!0},f.Eb=function(e){for(var t=w(this.g),n=t.next();!n.done;n=t.next())e(n.value)};function ja(e){return e.g[0]||null}f.find=function(e){for(var t=this.g.length-1,n=t;0<=n;--n){var r=this.g[n],i=n<t?this.g[n+1].startTime:r.endTime;if(e>=r.startTime&&e<i)return n+this.i}return this.g.length&&e<this.g[0].startTime?this.i:null},f.get=function(e){return this.g.length==0?null:(e-=this.i,0>e||e>=this.g.length?null:this.g[e])},f.offset=function(e){if(!this.o)for(var t=w(this.g),n=t.next();!n.done;n=t.next())n.value.offset(e)},f.ke=function(e){if(!this.o&&e.length){var t=Math.round(1e3*e[0].startTime)/1e3;this.g=this.g.filter(function(n){return Math.round(1e3*n.startTime)/1e3<t}),this.g.push.apply(this.g,j(e))}},f.Bd=function(e,t){var n=this;e=e.filter(function(r){return r.endTime>t&&(n.g.length==0||r.endTime>n.g[0].startTime)}),this.ke(e),this.Oa(t)},f.Oa=function(e){if(!this.o){var t=this.g.length;this.g=this.g.filter(function(n){return n.endTime>e}),this.i+=t-this.g.length}},f.Oc=function(e,t,n){if(n=n===void 0?!1:n,!this.o){for(;this.g.length&&this.g[this.g.length-1].startTime>=t;)this.g.pop();for(;this.g.length&&this.g[0].endTime<=e;)this.g.shift(),n||this.i++;this.g.length!=0&&(e=this.g[this.g.length-1],t=new Ge(e.startTime,t,e.C,e.Sa,e.wa,e.$,e.timestampOffset,e.appendWindowStart,e.appendWindowEnd,e.g,e.tilesLayout,e.B,e.h,e.status,e.aesKey),t.mimeType=e.mimeType,t.codecs=e.codecs,t.i=e.i,this.g[this.g.length-1]=t)}},f.Ie=function(e,t){var n=this;this.o||(this.m&&this.m.stop(),this.m=new kt(function(){var r=t();r?n.g.push.apply(n.g,j(r)):(n.m.stop(),n.m=null)}),this.m.ua(e))},Ft.prototype[Symbol.iterator]=function(){return this.Gb(0)},Ft.prototype.Gb=function(e,t,n){t=t===void 0?!1:t,n=n===void 0?!1:n;var r=this.find(e);if(r==null)return null;var i=this.get(r);n?r++:r--;var a=-1;if(i&&0<i.g.length)for(var u=i.g.length-1;0<=u;--u){var l=i.g[u];if(e>=l.startTime&&e<l.endTime){if(!t){for(;u&&!l.l;)u--,l=i.g[u];if(!l.l)return it("No independent partial segment found!"),null}n?r--:r++,a=u-1;break}}return new Hi(this,r,a,n)};function Am(e,t,n){return e=new Ge(e,e+t,function(){return n},0,null,null,e,e,e+t),new Ft([e])}Ee("shaka.media.SegmentIndex",Ft),Ft.forSingleSegment=Am,Ft.prototype.getIteratorForTime=Ft.prototype.Gb,Ft.prototype.updateEvery=Ft.prototype.Ie,Ft.prototype.fit=Ft.prototype.Oc,Ft.prototype.evict=Ft.prototype.Oa,Ft.prototype.mergeAndEvict=Ft.prototype.Bd,Ft.prototype.offset=Ft.prototype.offset,Ft.prototype.get=Ft.prototype.get,Ft.prototype.find=Ft.prototype.find,Ft.prototype.markImmutable=Ft.prototype.bj,Ft.prototype.release=Ft.prototype.release,Ft.prototype.getNumEvicted=Ft.prototype.getNumEvicted,Ft.prototype.getNumReferences=Ft.prototype.getNumReferences;function Hi(e,t,n,r){this.i=e,this.h=t,this.g=n,this.reverse=r}f=Hi.prototype,f.ed=function(e){this.reverse=e},f.di=function(){return this.h},f.current=function(){var e=this.i.get(this.h);return e&&0<e.g.length&&e.A&&this.g>=e.g.length&&(this.h++,this.g=0,e=this.i.get(this.h)),e&&0<e.g.length?e.g[this.g]:e},f.next=function(){var e=this.i.get(this.h);return this.reverse?e&&0<e.g.length?(this.g--,0>this.g&&(this.h--,this.g=(e=this.i.get(this.h))&&0<e.g.length?e.g.length-1:0)):(this.h--,this.g=0):e&&0<e.g.length?(this.g++,e.A&&this.g==e.g.length&&(this.h++,this.g=0)):(this.h++,this.g=0),e=this.current(),{value:e,done:!e}},f.dg=function(){var e=this.current();if(e.o&&!e.l&&(e=this.i.get(this.h))&&0<e.g.length)for(var t=e.g[this.g];t.l&&!(0>=this.g);)this.g--,t=e.g[this.g]},Ee("shaka.media.SegmentIterator",Hi),Hi.prototype.resetToLastIndependent=Hi.prototype.dg,Hi.prototype.next=Hi.prototype.next,Hi.prototype.current=Hi.prototype.current,Hi.prototype.currentPosition=Hi.prototype.di,Hi.prototype.setReverse=Hi.prototype.ed;function kn(){Ft.call(this,[]),this.h=[]}Te(kn,Ft),f=kn.prototype,f.clone=function(){var e=new kn;return e.h=this.h.slice(),e.i=this.i,e},f.release=function(){for(var e=w(this.h),t=e.next();!t.done;t=e.next())t.value.release();this.h=[]},f.Eb=function(e){for(var t=w(this.h),n=t.next();!n.done;n=t.next())n.value.Eb(e)},f.find=function(e){for(var t=this.i,n=w(this.h),r=n.next();!r.done;r=n.next()){r=r.value;var i=r.find(e);if(i!=null)return i+t;t+=r.getNumEvicted()+r.getNumReferences()}return null},f.get=function(e){for(var t=this.i,n=w(this.h),r=n.next();!r.done;r=n.next()){r=r.value;var i=r.get(e-t);if(i)return i;i=r.getNumReferences(),t+=r.getNumEvicted()+i}return null},f.offset=function(){},f.ke=function(){},f.Oa=function(e){for(var t=w(this.h),n=t.next();!n.done;n=t.next())n.value.Oa(e);for(;1<this.h.length&&this.h[0].getNumReferences()==0;)e=this.h.shift(),this.i+=e.getNumEvicted(),e.release()},f.Bd=function(){},f.Oc=function(){},f.Ie=function(){},Ee("shaka.media.MetaSegmentIndex",kn),kn.prototype.updateEvery=kn.prototype.Ie,kn.prototype.fit=kn.prototype.Oc,kn.prototype.mergeAndEvict=kn.prototype.Bd,kn.prototype.evict=kn.prototype.Oa,kn.prototype.merge=kn.prototype.ke,kn.prototype.offset=kn.prototype.offset,kn.prototype.get=kn.prototype.get,kn.prototype.find=kn.prototype.find,kn.prototype.forEachTopLevelReference=kn.prototype.Eb,kn.prototype.release=kn.prototype.release;function hh(e){var t=this;this.g=e,this.j=!1,this.i=this.g.$d(),this.h=new kt(function(){t.g.gh(.25*t.i)})}hh.prototype.release=function(){this.set(this.sc()),this.h&&(this.h.stop(),this.h=null),this.g=null},hh.prototype.set=function(e){this.i=e,Gb(this)},hh.prototype.sc=function(){return this.g.sc()};function Gb(e){e.h.stop();var t=e.j?0:e.i;if(0<=t)try{e.g.$d()!=t&&e.g.mg(t);return}catch{}e.h.ua(.25),e.g.$d()!=0&&e.g.mg(0)}function Kb(e){var t=this;this.j=e,this.h=new Ce,this.g=new Set,this.i=new kt(function(){tA(t,!1)}).sb(),e.paused||this.i.ua(.25),this.h.D(e,"playing",function(){t.i.sb().ua(.25)}),this.h.D(e,"pause",function(){t.i.stop()})}Kb.prototype.release=function(){this.h&&(this.h.release(),this.h=null),this.i.stop();for(var e=w(this.g),t=e.next();!t.done;t=e.next())t.value.release();this.g.clear()};function tA(e,t){var n=e.j.currentTime;e=w(e.g);for(var r=e.next();!r.done;r=e.next())r.value.j(n,t)}function Em(e){Xt.call(this),this.g=new Map,this.h=e}Te(Em,Xt),Em.prototype.release=function(){this.g.clear(),Xt.prototype.release.call(this)};function y9(e,t){var n=e.g.get(t);return n||(n={Jd:[],mf:null,contentType:t},e.g.set(t,n)),n}function b9(e,t,n){var r=y9(e,t.contentType);w9(e,r),e={Wc:t,position:n},r=r.Jd,t=r.findIndex(function(i){return i.position>=n}),0<=t?r.splice(t,r[t].position==n?1:0,e):r.push(e)}Em.prototype.j=function(e){for(var t=w(this.g.values()),n=t.next();!n.done;n=t.next()){n=n.value;var r=n.mf;e:{for(var i=n.Jd,a=i.length-1;0<=a;a--){var u=i[a];if(u.position<=e){i=u.Wc;break e}}i=null}a=i&&!(r===i||r&&i&&r.bandwidth==i.bandwidth&&r.audioSamplingRate==i.audioSamplingRate&&r.codecs==i.codecs&&r.contentType==i.contentType&&r.frameRate==i.frameRate&&r.height==i.height&&r.mimeType==i.mimeType&&r.channelsCount==i.channelsCount&&r.pixelAspectRatio==i.pixelAspectRatio&&r.width==i.width),u=i&&r&&i.label&&r.label&&r.label!==i.label;var l=i&&r&&i.language&&r.language&&r.language!==i.language;r=i&&r&&i.roles&&r.roles&&!kc(r.roles,i.roles),(u||l||r)&&nA(this,e,i.contentType)&&(n.mf=i,r=new Ae("audiotrackchange",new Map([["quality",i],["position",e]])),this.dispatchEvent(r)),a&&nA(this,e,i.contentType)&&(n.mf=i,JSON.stringify(i),n=new Ae("qualitychange",new Map([["quality",i],["position",e]])),this.dispatchEvent(n))}};function nA(e,t,n){return!!((e=e.h()[n])&&0<e.length&&(n=e[e.length-1].end,t>=e[0].start&&t<n))}function w9(e,t){if((e=e.h()[t.contentType])&&0<e.length){var n=e[0].start,r=e[e.length-1].end,i=t.Jd;t.Jd=i.filter(function(a,u){return!(a.position<=n&&u+1<i.length&&i[u+1].position<=n||a.position>=r)})}else t.Jd=[]}function Cm(e){var t={bandwidth:e.bandwidth||0,audioSamplingRate:null,codecs:e.codecs,contentType:e.type,frameRate:null,height:null,mimeType:e.mimeType,channelsCount:null,pixelAspectRatio:null,width:null,label:null,roles:e.roles,language:null};return e.type=="video"&&(t.frameRate=e.frameRate||null,t.height=e.height||null,t.pixelAspectRatio=e.pixelAspectRatio||null,t.width=e.width||null),e.type=="audio"&&(t.audioSamplingRate=e.audioSamplingRate,t.channelsCount=e.channelsCount,t.label=e.label||null,t.language=e.language),t}function fh(e){Xt.call(this),this.h=new Map,this.i=e,this.g=null}Te(fh,Xt),fh.prototype.release=function(){this.h.clear(),this.g&&(this.g.stop(),this.g=null),Xt.prototype.release.call(this)};function Wb(e,t){var n=t.schemeIdUri+"_"+t.id+"_"+(t.startTime.toFixed(1)+"_"+t.endTime.toFixed(1));e.h.has(n)||(e.h.set(n,t),t=new Ae("regionadd",new Map([["region",t]])),e.dispatchEvent(t),x9(e))}function x9(e){e.g||(e.g=new kt(function(){for(var t=e.i(),n=w(e.h),r=n.next();!r.done;r=n.next()){var i=w(r.value);r=i.next().value,i=i.next().value,i.endTime<t.start&&(e.h.delete(r),r=new Ae("regionremove",new Map([["region",i]])),e.dispatchEvent(r))}!e.h.size&&e.g&&(e.g.stop(),e.g=null)}).ua(2))}function Im(e,t,n,r){this.m=e,this.i=t,this.l=n,this.h=new Map,this.j=new Map,this.g=null,this.o=r}function S9(e,t){e.l=t,e=w(e.h.values());for(var n=e.next();!n.done;n=e.next())n.value.g=t}function gh(e,t,n){if(n=n===void 0?!1:n,!e.i.segmentIndex||(e.g||(e.g=e.i.segmentIndex.Gb(t,!0,e.o)),!e.g))return Promise.resolve();for(n&&e.g.next(),t=[];e.h.size<e.m&&(n=e.g.next().value,!!n);){var r=!0;n.isPreload()&&n.wa!=null&&(r=!1),n.dc()==2&&(r=!1),n.Ib(!1)&&(r=!1),r&&n.$&&t.push(rA(e,n.$)),r&&!e.h.has(n)&&(r=new Yb(e.l),t.push(oA(r,n,e.i)),e.h.set(n,r))}return Xb(e),Promise.all(t)}function rA(e,t){if(!e.i.segmentIndex||t.Ib()||Array.from(e.j.keys()).some(function(i){return bm(i,t)}))return Promise.resolve();var n=new Yb(e.l),r=oA(n,t,e.i);return e.j.set(t,n),r}function iA(e,t){t=w(t.keys());for(var n=t.next();!n.done;n=t.next())(n=n.value)&&mh(e,n)}function Fa(e){iA(e,e.h),iA(e,e.j),e.g=null}Im.prototype.Oa=function(e,t){t=t===void 0?!1:t;for(var n=w(this.h.keys()),r=n.next();!r.done;r=n.next())r=r.value,e>r.endTime&&mh(this,r);t&&Xb(this)},Im.prototype.ed=function(e){this.o=e,this.g&&this.g.ed(e)};function Xb(e){for(var t=Array.from(e.h.keys()),n=w(e.j.keys()),r=n.next(),i={};!r.done;i={Nf:void 0},r=n.next())i.Nf=r.value,t.some(function(a){return function(u){return bm(u.$,a.Nf)}}(i))||mh(e,i.Nf)}function aA(e,t){e.m=t;for(var n=Array.from(e.h.keys());n.length>t;){var r=n.pop();r&&mh(e,r)}Xb(e)}function k9(e,t){t&&t!==e.i&&(Fa(e),e.i=t)}function mh(e,t){var n=e.h;t instanceof Xr&&(n=e.j),e=n.get(t),n.delete(t),e&&e.abort()}function Yb(e){this.g=e,this.Gd=this.pg=null}function oA(e,t,n){var r=new Uint8Array(0);return e.Gd=e.g(t,n,function(i){return P(function(a){if(a.g==1)return 0<r.byteLength?r=En(r,i):r=i,e.pg?T(a,e.pg(r),3):a.s(0);r=new Uint8Array(0),ae(a)})}),e.Gd.promise.catch(function(i){return i instanceof $&&i.code==7001?Promise.resolve():Promise.reject(i)})}Yb.prototype.abort=function(){this.Gd&&this.Gd.abort()};function Mm(e){var t=ci(e),n=t.split("/")[0];return e=di(e),{type:n,mimeType:t,codecs:e,language:null,height:null,width:null,channelCount:null,sampleRate:null,closedCaptions:new Map,Nd:null,colorGamut:null,frameRate:null}}function T9(e,t,n){function r(N){I=N.name;var H=N.reader;H.skip(24);var z=H.na(),Y=H.na();H.skip(50),x=String(z),y=String(Y),N.reader.ta()&&xt(N)}function i(N){var H=b4(N.reader);S=H.channelCount,k=H.sampleRate,a(N.name)}function a(N){switch(N=N.toLowerCase(),N){case"avc1":case"avc3":l.push(N+".42E01E"),g=!0;break;case"hev1":case"hvc1":l.push(N+".1.6.L93.90"),g=!0;break;case"dvh1":case"dvhe":l.push(N+".05.04"),g=!0;break;case"vp09":l.push(N+".00.10.08"),g=!0;break;case"av01":l.push(N+".0.01M.08"),g=!0;break;case"mp4a":u.push("mp4a.40.2"),p=!0;break;case"ac-3":case"ec-3":case"ac-4":case"opus":case"flac":u.push(N),p=!0}}var u=[],l=[],p=!1,g=!1,v=null,y=null,x=null,S=null,k=null,C=null,E=null,I;if(new Qt().box("moov",xt).box("trak",xt).box("mdia",xt).R("mdhd",function(N){v=gm(N.reader,N.version).language}).box("minf",xt).box("stbl",xt).R("stsd",Us).box("mp4a",function(N){var H=b4(N.reader);S=H.channelCount,k=H.sampleRate,N.reader.ta()?xt(N):a(N.name)}).box("esds",function(N){N=N.reader;for(var H="mp4a",z,Y;N.ta();){z=N.X();for(var K=N.X();K&128;)K=N.X();if(z==3)N.na(),K=N.X(),K&128&&N.na(),K&64&&N.skip(N.X()),K&32&&N.na();else if(z==4)Y=N.X(),N.skip(12);else if(z==5)break}Y&&(H+="."+sh(Y),z==5&&N.ta()&&(z=N.X(),Y=(z&248)>>3,Y===31&&N.ta()&&(Y=32+((z&7)<<3)+((N.X()&224)>>5)),H+="."+Y)),u.push(H),p=!0}).box("ac-3",i).box("ec-3",i).box("ac-4",i).box("Opus",i).box("fLaC",i).box("avc1",r).box("avc3",r).box("hev1",r).box("hvc1",r).box("dva1",r).box("dvav",r).box("dvh1",r).box("dvhe",r).box("vp09",r).box("av01",r).box("avcC",function(N){var H=I||"";switch(I){case"dvav":H="avc3";break;case"dva1":H="avc1"}N=N.reader,N.skip(1),N=H+"."+sh(N.X())+sh(N.X())+sh(N.X()),l.push(N),g=!0}).box("hvcC",function(N){var H=I||"";switch(I){case"dvh1":H="hvc1";break;case"dvhe":H="hev1"}var z=N.reader;z.skip(1),N=z.X();var Y=["","A","B","C"][N>>6],K=N&31,J=z.S(),ie=(N&32)>>5?"H":"L";N=[z.X(),z.X(),z.X(),z.X(),z.X(),z.X()],z=z.X();for(var ne=0,ue=0;32>ue&&(ne|=J&1,ue!=31);ue++)ne<<=1,J>>=1;for(H=H+("."+Y+K)+("."+sh(ne,!0)),H+="."+ie+z,Y="",K=N.length;K--;)((ie=N[K])||Y)&&(Y="."+ie.toString(16).toUpperCase()+Y);H+=Y,l.push(H),g=!0}).box("dvcC",function(N){var H=I||"";switch(I){case"hvc1":H="dvh1";break;case"hev1":H="dvhe";break;case"avc1":H="dva1";break;case"avc3":H="dvav";break;case"av01":H="dav1"}var z=N.reader;z.skip(2),N=z.X(),z=z.X(),l.push(H+"."+hi(N>>1&127)+"."+hi(N<<5&32|z>>3&31)),g=!0}).box("dvvC",function(N){var H=I||"";switch(I){case"hvc1":H="dvh1";break;case"hev1":H="dvhe";break;case"avc1":H="dva1";break;case"avc3":H="dvav";break;case"av01":H="dav1"}var z=N.reader;z.skip(2),N=z.X(),z=z.X(),l.push(H+"."+hi(N>>1&127)+"."+hi(N<<5&32|z>>3&31)),g=!0}).R("vpcC",function(N){var H=I||"",z=N.reader;N=z.X();var Y=z.X();z=z.X()>>4&15,l.push(H+"."+hi(N)+"."+hi(Y)+"."+hi(z)),g=!0}).box("av1C",function(N){var H=I||"";switch(I){case"dav1":H="av01"}var z=N.reader;z.skip(1),N=z.X(),z=z.X();var Y=N>>>5,K=(z&64)>>6;l.push(H+"."+Y+"."+hi(N&31)+(z>>>7?"H":"M")+"."+hi(Y===2&&K?(z&32)>>5?12:10:K?10:8)+"."+((z&16)>>4)+"."+((z&8)>>3)+((z&4)>>2)+(z&3)+"."+hi(1)+"."+hi(1)+"."+hi(1)+".0"),g=!0}).box("enca",Sb).box("encv",pi).box("sinf",xt).box("frma",function(N){N=w4(N.reader).codec,a(N)}).box("colr",function(N){l=l.map(function(Y){if(Y.startsWith("av01.")){var K=N.reader,J=K.Ba(),ie=K.Cb(4),ne=String.fromCharCode(ie[0]);if(ne+=String.fromCharCode(ie[1]),ne+=String.fromCharCode(ie[2]),ne+=String.fromCharCode(ie[3]),ne==="nclx"){ie=K.na(),ne=K.na();var ue=K.na(),oe=K.X()>>7,pe=Y.split(".");pe.length==10&&(pe[6]=hi(ie),pe[7]=hi(ne),pe[8]=hi(ue),pe[9]=String(oe),Y=pe.join("."))}K.seek(J)}return Y});var H=MR(N.reader),z=H.colorGamut;C=H.Nd,E=z}).parse(e||t,!0),!u.length&&!l.length)return null;var _=p&&!g,F=new Map;if(g&&!n){n=new Ai("video/mp4"),e&&n.init(e);try{n.i(t);for(var B=w(n.j()),q=B.next();!q.done;q=B.next()){var O=q.value;F.set(O,O)}}catch{}n.g()}return{type:_?"audio":"video",mimeType:_?"audio/mp4":"video/mp4",codecs:Jb(u.concat(l)).join(", "),language:v,height:y,width:x,channelCount:S,sampleRate:k,closedCaptions:F,Nd:C,colorGamut:E,frameRate:null}}function Jb(e){var t=new Set,n=[];e=w(e);for(var r=e.next();!r.done;r=e.next()){r=r.value;var i=Rs(r);t.has(i)||(n.push(r),t.add(i))}return t=H1("audio",n),r=H1("video",n),e=H1(wt,n),r=A9(r),t=t.concat(r).concat(e),n.length&&!t.length?n:t}function A9(e){if(1>=e.length)return e;var t=e.find(function(n){return n.startsWith("dvav.")||n.startsWith("dva1.")||n.startsWith("dvh1.")||n.startsWith("dvhe.")||n.startsWith("dav1.")||n.startsWith("dvc1.")||n.startsWith("dvi1.")});return t?ir('video/mp4; codecs="'+t+'"')?[t]:e.filter(function(n){return n!=t}):e}function E9(e){var t=null;return new Qt().box("moov",xt).box("trak",xt).box("mdia",xt).box("minf",xt).box("stbl",xt).R("stsd",Us).box("encv",pi).box("enca",Sb).box("sinf",xt).box("schi",xt).R("tenc",function(n){n=n.reader,n.X(),n.X(),n.X(),n.X(),t=_o(n.Cb(16))}).parse(e,!0),t}function Qb(e,t,n){var r,i,a,u,l;return P(function(p){if(p.g==1)return r=t,r.cryptoKey?p.s(2):T(p,r.fetchKey(),3);if(i=r.iv,!i)for(i=Ye(new ArrayBuffer(16)),a=r.firstMediaSequenceNumber+n,u=i.byteLength-1;0<=u;u--)i[u]=a&255,a>>=8;return t.blockCipherMode=="CBC"?l={name:"AES-CBC",iv:i}:l={name:"AES-CTR",counter:i,length:64},p.return(d.crypto.subtle.decrypt(l,r.cryptoKey,e))})}function vh(e,t,n,r,i){return e=qn(e,r,i),(t!=0||n!=null)&&(e.headers.Range=n?"bytes="+t+"-"+n:"bytes="+t+"-"),e}function sA(e,t){var n=this;this.g=t,this.j=e,this.h=null,this.K=new Map,this.C=1,this.u=this.l=null,this.O=0,this.i=new Map,this.I=!1,this.P=null,this.B=!1,this.m=new Nc(function(){return C9(n)}),this.L=Date.now()/1e3,this.o=new Map,this.M={projection:null,hfov:null},this.W=0,this.T=1/0,this.F=null,this.A=new kt(function(){if(n.j&&n.g)if(n.j.presentationTimeline.U()){var r=n.j.presentationTimeline.Hb(),i=n.j.presentationTimeline.ob();1<i-r?u9(n.g.aa,r,i):Vb(n.g.aa)}else Vb(n.g.aa),n.A&&n.A.stop()}),this.G=null,this.H=new kt(function(){var r=n.g.video;!r.ended&&n.G&&(r.currentTime=n.G,n.G=null)})}f=sA.prototype,f.destroy=function(){return this.m.destroy()};function C9(e){var t,n,r,i,a,u,l;return P(function(p){if(p.g==1){for(t=[],n=w(e.i.values()),r=n.next();!r.done;r=n.next())i=r.value,Xc(i),t.push(bh(i)),i.ba&&(Fa(i.ba),i.ba=null);for(a=w(e.o.values()),u=a.next();!u.done;u=a.next())l=u.value,Fa(l);return T(p,Promise.all(t),2)}e.i.clear(),e.o.clear(),e.g=null,e.j=null,e.h=null,e.A&&e.A.stop(),e.A=null,e.H&&e.H.stop(),e.H=null,e.G=null,ae(p)})}f.configure=function(e){if(this.h=e,this.P=new B5({maxAttempts:Math.max(e.retryParameters.maxAttempts,2),baseDelay:e.retryParameters.baseDelay,backoffFactor:e.retryParameters.backoffFactor,fuzzFactor:e.retryParameters.fuzzFactor,timeout:0,stallTimeout:0,connectionTimeout:0},!0),e.disableAudioPrefetch){var t=this.i.get("audio");t&&t.ba&&(Fa(t.ba),t.ba=null),t=w(this.o.keys());for(var n=t.next();!n.done;n=t.next())n=n.value,Fa(this.o.get(n)),this.o.delete(n)}for(e.disableTextPrefetch&&(t=this.i.get(wt))&&t.ba&&(Fa(t.ba),t.ba=null),e.disableVideoPrefetch&&(t=this.i.get("video"))&&t.ba&&(Fa(t.ba),t.ba=null),t=w(this.i.keys()),n=t.next();!n.done;n=t.next())n=this.i.get(n.value),n.ba?(aA(n.ba,e.segmentPrefetchLimit),0<e.segmentPrefetchLimit||(Fa(n.ba),n.ba=null)):0<e.segmentPrefetchLimit&&(n.ba=e2(this,n.stream));e.disableAudioPrefetch||R9(this)};function I9(e,t,n){e.j.presentationTimeline.U()||(e.W=t,e.T=n)}f.start=function(e){var t=this;return P(function(n){if(n.g==1)return T(n,L9(t,e||new Map),2);nn(t.m),t.I=!0,ae(n)})};function M9(e,t){var n,r,i,a,u,l;P(function(p){switch(p.g){case 1:return n=$n,e.O++,r=e.O,me(p,2),T(p,j4(e.g.aa,n.za),4);case 4:V(p,3);break;case 2:i=W(p),e.g&&e.g.onError(i);case 3:a=Dn(t.mimeType,t.codecs),Sm(e.g.aa,a,e.j.sequenceMode,t.external),u=e.g.aa.ea,(u.isTextVisible()||e.h.alwaysStreamText)&&e.O==r&&(l=Pm(e,t),e.i.set(n.za,l),jr(e,l,0)),ae(p)}})}function _9(e){var t=e.i.get(wt);t&&(Xc(t),bh(t).catch(function(){}),e.F=e.i.get(wt),e.i.delete(wt)),e.u=null}function Zb(e,t){for(var n=0>e.g.gb(),r=w(e.i.values()),i=r.next();!i.done;i=r.next())i=i.value,i.ja&&i.ja.ed(n),i.ba&&i.ba.ed(n);for(r=w(e.o.values()),i=r.next();!i.done;i=r.next())i.value.ed(n);(n=e.i.get("video"))&&(r=n.stream)&&(t?(t=r.trickModeVideo)&&!n.fc&&(Wc(e,t,!1,0,!1),n.fc=r):(t=n.fc)&&(n.fc=null,Wc(e,t,!0,0,!1)))}function uA(e,t,n,r,i,a){n=n===void 0?!1:n,r=r===void 0?0:r,i=i===void 0?!1:i,a=a===void 0?!1:a,e.l=t,e.I&&(t.video&&Wc(e,t.video,n,r,i,a),t.audio&&Wc(e,t.audio,n,r,i,a))}function _m(e,t){P(function(n){if(n.g==1)return e.F=null,e.u=t,e.I?t.segmentIndex?n.s(2):T(n,t.createSegmentIndex(),2):n.return();Wc(e,t,!0,0,!1),ae(n)})}function D9(e,t){for(var n=w(e.K.entries()),r=n.next();!r.done;r=n.next()){var i=w(r.value);r=i.next().value,i=i.next().value,r.includes(t.type)&&(i(),e.K.delete(r))}}function Wc(e,t,n,r,i,a){var u=e.i.get(t.type);u||t.type!=wt?u&&(u.fc&&(t.trickModeVideo?(u.fc=t,t=t.trickModeVideo):u.fc=null),u.stream!=t||i)&&(e.o.has(t)?u.ba=e.o.get(t):u.ba&&k9(u.ba,t),t.type==wt&&(i=Dn(t.mimeType,t.codecs),Sm(e.g.aa,i,e.j.sequenceMode,t.external)),!e.o.has(u.stream)&&u.stream.closeSegmentIndex&&(u.Da?(i="("+u.type+":"+u.stream.id+")",e.K.has(i)||e.K.set(i,u.stream.closeSegmentIndex)):u.stream.closeSegmentIndex()),i=u.stream.isAudioMuxedInVideo!=t.isAudioMuxedInVideo,u.stream=t,u.ja=null,u.bf=!!a,t.dependencyStream?u.nd=Pm(e,t.dependencyStream):u.nd=null,i?Rm(e,!0,!1):(n?u.nc?u.Re=!0:u.Da?(u.lc=!0,u.Vd=r,u.Re=!0):(Xc(u),i2(e,u,!0,r).catch(function(l){e.g&&e.g.onError(l)})):u.Da||u.kb||jr(e,u,0),P9(e,u).catch(function(l){e.g&&e.g.onError(l)}))):M9(e,t)}function P9(e,t){var n,r;return P(function(i){if(i.g==1)return t.rb?(n=t.stream,r=t.rb,n.segmentIndex?i.s(2):T(i,n.createSegmentIndex(),2)):i.return();if(t.rb!=r||t.stream!=n)return i.return();var a=e.g.Rc(),u=il(e.g.aa,t.type),l=t.stream.segmentIndex.find(t.xa?t.xa.endTime:a),p=l==null?null:t.stream.segmentIndex.get(l);l=p&&p.wa?p.wa-p.Sa:null,p&&!l&&(l=(p.endTime-p.getStartTime())*(t.stream.bandwidth||0)/8),l?((p=p.$)&&(l+=(p.wa?p.wa-p.Sa:null)||0),p=e.g.getBandwidthEstimate(),a=8*l/p<(u||0)-a-e.h.rebufferingGoal||t.rb.h.g>l):a=!1,a&&t.rb.abort(),ae(i)})}f.Fc=function(){if(this.g){for(var e=this.g.Rc(),t=w(this.i.keys()),n=t.next();!n.done;n=t.next()){var r=n.value;n=this.i.get(r);var i=this.g.aa;if(r==wt?(i=i.h,i=i.g==null||i.h==null?!1:e>=i.g&&e<i.h):(i=Hc(i,r),i=Pb(i,e)),!i){if(this.L=0,n.ba&&(n.ba.g=null),n.type==="audio"){i=w(this.o.values());for(var a=i.next();!a.done;a=i.next())a.value.g=null}n.ja=null,(il(this.g.aa,r)!=null||n.Da)&&Dm(this,n),n.rb&&(n.rb.abort(),n.rb=null),r===wt&&(r=this.g.aa,r.L&&r.L.g()),n.Fc=!0}}this.h.crossBoundaryStrategy!=="keep"&&o2(this)}};function Dm(e,t){t.nc||t.lc||(t.Da?(t.lc=!0,t.Vd=0):Bb(e.g.aa,t.type)==null?t.kb==null&&jr(e,t,0):(Xc(t),i2(e,t,!1,0).catch(function(n){e.g&&e.g.onError(n)})))}function L9(e,t){var n,r,i,a,u,l,p,g,v,y;return P(function(x){if(x.g==1){if(n=$n,!e.l)throw new $(2,5,5006);return r=new Map,i=new Set,e.l.audio&&(r.set(n.V,e.l.audio),i.add(e.l.audio)),e.l.video&&(r.set(n.la,e.l.video),i.add(e.l.video)),e.u&&(r.set(n.za,e.u),i.add(e.u)),a=e.g.aa,T(x,a.init(r,e.j.sequenceMode,e.j.type,e.j.ignoreManifestTimestampsInSegmentsMode),2)}for(nn(e.m),e.updateDuration(),u=w(r.keys()),l=u.next();!l.done;l=u.next())p=l.value,g=r.get(p),e.i.has(p)||(v=Pm(e,g),t.has(g.id)&&(y=t.get(g.id),S9(y,function(S,k,C){return Lm(S,k,C||null,e.h.retryParameters,e.g.Xb)}),v.ba=y),e.i.set(p,v),jr(e,v,0));ae(x)})}function Pm(e,t){var n={stream:t,type:t.type,ja:null,ba:e2(e,t),xa:null,yb:null,he:null,Ac:null,zc:null,fe:null,ge:null,fc:null,endOfStream:!1,Da:!1,kb:null,lc:!1,Vd:0,Re:!1,nc:!1,Fc:!0,bf:!1,bg:!1,sd:!1,rb:null,nd:null};return t.dependencyStream&&(n.nd=Pm(e,t.dependencyStream)),n}function e2(e,t){if(t.type==="video"&&e.h.disableVideoPrefetch||t.type==="audio"&&e.h.disableAudioPrefetch||t.type===wt&&(t.mimeType=="application/cea-608"||t.mimeType=="application/cea-708")||t.type===wt&&e.h.disableTextPrefetch)return null;if(e.o.has(t))return e.o.get(t);var n=e.i.get(t.type);return(n=n&&n.ba)&&t===n.i?n:0<e.h.segmentPrefetchLimit?new Im(e.h.segmentPrefetchLimit,t,function(r,i,a){return Lm(r,i,a||null,e.h.retryParameters,e.g.Xb)},0>e.g.gb()):null}function R9(e){for(var t=e.h.segmentPrefetchLimit,n=e.h.prefetchAudioLanguages,r=w(e.j.variants),i=r.next(),a={};!i.done;a={wb:void 0},i=r.next())if(a.wb=i.value,a.wb.audio)if(e.o.has(a.wb.audio)){if(i=e.o.get(a.wb.audio),aA(i,t),!(0<t&&n.some(function(l){return function(p){return Dc(l.wb.audio.language,p)}}(a)))){var u=e.i.get(a.wb.audio.type);i!==(u&&u.ba)&&Fa(i),e.o.delete(a.wb.audio)}}else 0>=t||!n.some(function(l){return function(p){return Dc(l.wb.audio.language,p)}}(a))||!(i=e2(e,a.wb.audio))||(a.wb.audio.segmentIndex||a.wb.audio.createSegmentIndex(),e.o.set(a.wb.audio,i))}f.updateDuration=function(){var e=i5(),t=this.j.presentationTimeline.getDuration();1/0>t?(e&&(this.A&&this.A.stop(),Vb(this.g.aa)),this.g.aa.bb(t)):e?(this.A&&this.A.ua(.5),this.g.aa.bb(1/0)):this.g.aa.bb(Math.pow(2,32))};function N9(e,t){var n,r,i,a,u,l;return P(function(p){switch(p.g){case 1:if(nn(e.m),t.Da||t.kb==null||t.nc)return p.return();if(t.kb=null,!t.lc){p.s(2);break}return T(p,i2(e,t,t.Re,t.Vd),3);case 3:return p.return();case 2:if(D9(e,t),t.stream.segmentIndex){p.s(4);break}return n=t.stream,me(p,5),T(p,t.stream.createSegmentIndex(),7);case 7:V(p,6);break;case 5:return r=W(p),T(p,a2(e,t,r),8);case 8:return p.return();case 6:if(n!=t.stream)return n.closeSegmentIndex&&n.closeSegmentIndex(),t.Da||t.kb||jr(e,t,0),p.return();case 4:me(p,9),i=U9(e,t),i!=null&&(jr(e,t,i),t.sd=!1),V(p,10);break;case 9:return a=W(p),T(p,a2(e,t,a),11);case 11:return p.return();case 10:if(u=Array.from(e.i.values()),!e.I||!u.every(function(g){return g.endOfStream})){p.s(0);break}return T(p,e.g.aa.endOfStream(),13);case 13:nn(e.m),l=e.g.aa.getDuration(),l!=0&&l<e.j.presentationTimeline.getDuration()&&e.j.presentationTimeline.bb(l),ae(p)}})}function U9(e,t){if(r2(t))return i9(e.g.aa,t.stream.originalId||""),null;if(t.type==wt&&a9(e.g.aa),t.stream.isAudioMuxedInVideo)return null;var n=e.h.updateIntervalSeconds/Math.max(1,Math.abs(e.g.gb()));if(!O4(e.g.aa)&&t.type!=wt)return n/2;var r=e.g.Rc();if(t.type==="audio")for(var i=w(e.o.keys()),a=i.next();!a.done;a=i.next())a=e.o.get(a.value),a.Oa(r,!0),gh(a,r);i=t.xa?t.xa.endTime:r;var u=n9(e.g.aa,t.type,r),l=Math.max(1,Math.max(e.h.rebufferingGoal,e.h.bufferingGoal)*e.C),p=e.j.presentationTimeline.getDuration()-i;if(a=il(e.g.aa,t.type),1e-6>p&&a)return t.endOfStream=!0,t.type=="video"&&(e=e.i.get(wt))&&r2(e)&&(e.endOfStream=!0),null;if(t.endOfStream=!1,u>=l)return n/2;if(l=!t.ja,a=O9(e,t,r,a),!a)return n;u=!1,l&&t.bf&&(u=!0,t.bf=!1),l=1/0,p=Array.from(e.i.values()),p=w(p);for(var g=p.next();!g.done;g=p.next())g=g.value,r2(g)||g.ja&&!g.ja.current()||(l=Math.min(l,g.xa?g.xa.endTime:r));return i>=l+e.j.presentationTimeline.h?n:(e.h.crossBoundaryStrategy!=="keep"&&H9(e,t,a)||(t.ba&&t.ja&&!e.o.has(t.stream)&&(t.ba.Oa(a.startTime),gh(t.ba,a.startTime).catch(function(){})),j9(e,t,r,a,u).catch(function(){}),t.nd&&F9(e,t.nd,r)),null)}function O9(e,t,n,r){if(t.ja)return(n=t.ja.current())&&t.xa&&.001>Math.abs(t.xa.startTime-n.startTime)&&(n=t.ja.next().value),n;if(t.xa||r)return n=t.xa?t.xa.endTime:r,e=0>e.g.gb(),t.stream.segmentIndex&&(t.ja=t.stream.segmentIndex.Gb(n,!1,e)),t.ja&&t.ja.next().value;r=e.j.sequenceMode?0:e.h.inaccurateManifestTolerance;var i=Math.max(n-r,0);e=0>e.g.gb();var a=null;return r&&(t.stream.segmentIndex&&(t.ja=t.stream.segmentIndex.Gb(i,!1,e)),a=t.ja&&t.ja.next().value),a||(t.stream.segmentIndex&&(t.ja=t.stream.segmentIndex.Gb(n,!1,e)),a=t.ja&&t.ja.next().value),a}function j9(e,t,n,r,i){var a,u,l,p,g,v,y,x,S,k,C,E,I,_,F,B,q;return P(function(O){switch(O.g){case 1:if(a=$n,u=t.stream,l=t.ja,t.Da=!0,me(O,2),r.dc()==2)throw new $(1,1,1011);return T(O,$9(e,t,r,i),4);case 4:return nn(e.m),e.B?O.return():(p=u.mimeType=="video/mp4"||u.mimeType=="audio/mp4",g=d.ReadableStream,e.h.lowLatencyMode&&e.j.isLowLatency&&g&&p&&(e.j.type!="HLS"||r.m)?(x=new Uint8Array(0),k=S=!1,E=function(N){var H,z,Y;return P(function(K){switch(K.g){case 1:if(S||(k=!0,nn(e.m),e.B))return K.return();if(me(K,2),x=B9(x,N),H=!1,z=0,new Qt().box("mdat",function(J){z=J.size+J.start,H=!0}).parse(x,!1,!0),!H){K.s(4);break}return Y=x.subarray(0,z),x=x.subarray(z),T(K,t2(e,t,n,u,r,Y,!0,i),5);case 5:t.ba&&t.ja&&gh(t.ba,r.startTime,!0);case 4:V(K,0);break;case 2:C=W(K),ae(K)}})},T(O,yh(e,t,r,E),9)):(v=yh(e,t,r),T(O,v,7)));case 7:return y=O.h,nn(e.m),e.B?O.return():(nn(e.m),t.lc?(t.Da=!1,jr(e,t,0),O.return()):T(O,t2(e,t,n,u,r,y,!1,i),6));case 9:if(I=O.h,C)throw C;if(k){O.s(10);break}return S=!0,nn(e.m),e.B?O.return():t.lc?(t.Da=!1,jr(e,t,0),O.return()):T(O,t2(e,t,n,u,r,I,!1,i),10);case 10:t.ba&&t.ja&&gh(t.ba,r.startTime,!0);case 6:if(nn(e.m),e.B)return O.return();t.xa=r,l.next(),t.Da=!1,t.bg=!1,_=e.g.aa.Fb(),F=_[t.type],JSON.stringify(F),t.lc||(B=null,t.type===a.la?B=e.i.get(a.V):t.type===a.V&&(B=e.i.get(a.la)),B&&B.type==a.V?e.g.qe(r,t.stream,B.stream.isAudioMuxedInVideo):e.g.qe(r,t.stream,t.stream.codecs.includes(","))),jr(e,t,0),V(O,0);break;case 2:if(q=W(O),nn(e.m,q),e.B)return O.return();if(t.Da=!1,q.code==7001)t.Da=!1,Xc(t),jr(e,t,0),O.s(0);else if(t.type==a.za&&e.h.ignoreTextStreamFailures)e.i.delete(a.za),O.s(0);else return q.code==3017?T(O,V9(e,t,q),0):(t.sd=!0,q.category==1&&t.ba&&mh(t.ba,r),q.severity=2,T(O,a2(e,t,q),0))}})}function F9(e,t,n){var r,i,a,u,l,p,g,v;P(function(y){switch(y.g){case 1:if(r=t.stream,a=(i=r.segmentIndex.Gb(n))&&i.next().value,!a){y.s(0);break}if(u=a.$,!u||bm(u,t.yb)){y.s(3);break}return t.yb=u,me(y,4),T(y,yh(e,t,u),6);case 6:l=y.h;var x=e.g.aa;x.I&&q1(x.I,l,0,r),V(y,3);break;case 4:throw p=W(y),t.yb=null,p;case 3:if(t.xa&&t.xa==a){y.s(0);break}return t.xa=a,me(y,8),T(y,yh(e,t,a),10);case 10:g=y.h,x=e.g.aa,x.I&&q1(x.I,g,0,r),V(y,0);break;case 8:throw v=W(y),t.xa=null,v}})}function B9(e,t){var n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}function V9(e,t,n){var r,i,a,u;return P(function(l){if(l.g==1){if(r=Array.from(e.i.values()),r.some(function(p){return p!=t&&p.bg}))return l.s(2);if(i=e.h.maxDisabledTime===0&&n.code==1011?1:e.h.maxDisabledTime,e.g.disableStream(t.stream,i))return l.return();if(e.h.avoidEvictionOnQuotaExceededError)return jr(e,t,4),l.return();if(a=Math.round(100*e.C),20<a)e.C-=.2;else if(4<a)e.C-=.04;else return t.sd=!0,e.B=!0,e.g.onError(n),l.return();return t.bg=!0,u=e.g.Rc(),T(l,n2(e,t,u),2)}jr(e,t,4),ae(l)})}function $9(e,t,n,r){var i,a,u,l,p,g,v,y,x,S,k,C,E,I,_,F;return P(function(B){switch(B.g){case 1:if(i=$n,a=t.xa==null,u=[],l=Math.max(0,Math.max(n.appendWindowStart,e.W)-.1),p=Math.min(n.appendWindowEnd,e.T)+.01,g=n.codecs||t.stream.codecs,v=Rs(g),y=ci(n.mimeType||t.stream.mimeType),x=n.timestampOffset,x==t.he&&l==t.Ac&&p==t.zc&&v==t.fe&&y==t.ge){B.s(2);break}if(S=t.fe&&t.ge&&h9(e.g.aa,t.type,y,g),!S){B.s(3);break}if(k=null,t.type===i.la?k=e.i.get(i.V):t.type===i.V&&(k=e.i.get(i.la)),!k){B.s(3);break}return T(B,bh(k).catch(function(){}),5);case 5:k.yb=null,k.Ac=null,k.zc=null,Dm(e,k);case 3:return T(B,lA(e,t,x,l,p,n,v,y),2);case 2:return bm(n.$,t.yb)||(t.yb=n.$,n.l&&n.$&&(C=yh(e,t,n.$),E=function(){var q,O,N,H,z,Y,K;return P(function(J){switch(J.g){case 1:return me(J,2),T(J,C,4);case 4:return q=J.h,nn(e.m),O=null,N=new Map,H={projection:null,hfov:null},z=new Qt,z.box("moov",xt).box("trak",xt).box("mdia",xt).R("mdhd",function(ie){O=gm(ie.reader,ie.version).timescale}).box("hdlr",function(ie){switch(ie=ie.reader,ie.skip(8),ie.Cc()){case"soun":N.set(i.V,O);break;case"vide":N.set(i.la,O)}O=null}).box("minf",xt).box("stbl",xt).R("stsd",Us).box("encv",pi).box("avc1",pi).box("avc3",pi).box("hev1",pi).box("hvc1",pi).box("dvav",pi).box("dva1",pi).box("dvh1",pi).box("dvhe",pi).box("dvc1",pi).box("dvi1",pi).box("vexu",xt).box("proj",xt).R("prji",function(ie){ie=ie.reader.Cc(),H.projection=ie}).box("hfov",function(ie){ie=ie.reader.S()/1e3,H.hfov=ie}).parse(q),t.type===i.la&&z9(e,H),N.has(t.type)?n.$.timescale=N.get(t.type):O!=null&&(n.$.timescale=O),Y=t.stream.closedCaptions&&0<t.stream.closedCaptions.size,T(J,e.g.Fg(t.type,q),5);case 5:return T(J,km(e.g.aa,t.type,q,null,t.stream,Y,t.Fc,r),6);case 6:V(J,0);break;case 2:throw K=W(J),t.yb=null,K}})},I=n.startTime,a&&(_=il(e.g.aa,t.type),_!=null&&(I=_)),e.g.fj(I,n.$),u.push(E()))),F=t.xa?t.xa.i:null,n.i!=F&&u.push(s9(e.g.aa,t.type,n.startTime)),T(B,Promise.all(u),0)}})}function lA(e,t,n,r,i,a,u,l){var p,g,v,y;return P(function(x){if(x.g==1)return p=$n,g=new Map,e.l.audio&&g.set(p.V,e.l.audio),e.l.video&&g.set(p.la,e.l.video),me(x,2),t.Ac=r,t.zc=i,u&&(t.fe=u),l&&(t.ge=l),t.he=n,v=e.j.sequenceMode||e.j.type=="HLS",T(x,o9(e.g.aa,t.type,n,r,i,v,a.mimeType||t.stream.mimeType,a.codecs||t.stream.codecs,g),4);if(x.g!=2)return V(x,0);throw y=W(x),t.Ac=null,t.zc=null,t.fe=null,t.ge=null,t.he=null,y})}function t2(e,t,n,r,i,a,u,l){u=u===void 0?!1:u,l=l===void 0?!1:l;var p,g,v,y,x,S;return P(function(k){switch(k.g){case 1:return p=r.closedCaptions&&0<r.closedCaptions.size,e.h.shouldFixTimestampOffset&&(v=r.mimeType=="video/mp4"||r.mimeType=="audio/mp4",y=null,i.$&&(y=i.$.timescale),(x=v&&y&&r.type==="video"&&e.j.type=="DASH")&&(g=new Qt),x&&g.box("moof",xt).box("traf",xt).R("tfdt",function(C){var E,I,_,F,B,q;return P(function(O){return E=fm(C.reader,C.version),I=E.baseMediaDecodeTime,I?(_=-I/y,F=Number(t.he)||0,F<_?(B=t.Ac,q=t.zc,T(O,lA(e,t,_,B,q,i),0)):O.s(0)):O.return()})}),x&&g.parse(a,!1,u)),T(k,n2(e,t,n),2);case 2:return nn(e.m),S=t.Fc,t.Fc=!1,T(k,e.g.Fg(t.type,a),3);case 3:return T(k,km(e.g.aa,t.type,a,i,r,p,S,l,u),4);case 4:nn(e.m),ae(k)}})}function n2(e,t,n){var r,i,a,u,l,p,g,v;return P(function(y){if(y.g==1)return r=t.stream.segmentIndex,r instanceof kn&&r.Oa(e.j.presentationTimeline.pb()),i=Math.max(e.h.bufferBehind*e.C,e.j.presentationTimeline.h),a=Bb(e.g.aa,t.type),a==null?(e.F==t&&(e.F=null),y.return()):(u=n-a,l=e.h.evictionGoal,p=e.j.presentationTimeline.Hb(),g=e.j.presentationTimeline.ob(),v=u-i,g-p>l&&(v=Math.max(u-i,p-l-a)),v<=l?y.return():T(y,e.g.aa.remove(t.type,a,a+v),2));if(y.g!=4)return nn(e.m),e.F?T(y,n2(e,e.F,n),4):y.s(0);nn(e.m),ae(y)})}function r2(e){return e&&e.type==wt&&(e.stream.mimeType=="application/cea-608"||e.stream.mimeType=="application/cea-708")}function yh(e,t,n,r){var i,a,u,l,p;return P(function(g){switch(g.g){case 1:if(i=n.Ib())return g.return(i);if(a=null,t.ba){var v=t.ba,y=v.h;n instanceof Xr&&(y=v.j),y.has(n)?(v=y.get(n),r&&(v.pg=r),a=v.Gd):a=null}return a||(a=Lm(n,t.stream,r||null,e.h.retryParameters,e.g.Xb)),u=0,t.ja&&(u=t.ja.h),t.rb=a,T(g,a.promise,2);case 2:if(l=g.h,t.rb=null,p=l.data,!n.aesKey){g.s(3);break}return T(g,Qb(p,n.aesKey,u),4);case 4:p=g.h;case 3:return g.return(p)}})}function Lm(e,t,n,r,i,a){a=a===void 0?!1:a;var u=e instanceof Ge?e:void 0,l=u?1:0;return e=vh(e.N(),e.Sa,e.wa,r,n),e.contentType=t.type,i.request(ha,e,{type:l,stream:t,segment:u,isPreload:a})}function i2(e,t,n,r){var i,a;return P(function(u){if(u.g==1)return t.lc=!1,t.Re=!1,t.Vd=0,t.nc=!0,t.xa=null,t.ja=null,t.ba&&!e.o.has(t.stream)&&Fa(t.ba),r?(i=e.g.Rc(),a=e.g.aa.getDuration(),T(u,e.g.aa.remove(t.type,i+r,a),3)):T(u,j4(e.g.aa,t.type),4);if(u.g!=3)return nn(e.m),n?T(u,e.g.aa.flush(t.type),3):u.s(3);nn(e.m),t.nc=!1,t.endOfStream=!1,t.Da||t.kb||jr(e,t,0),ae(u)})}function jr(e,t,n){var r=t.type;(r!=wt||e.i.has(r))&&(t.kb=new Up(function(){var i;return P(function(a){if(a.g==1)return me(a,2),T(a,N9(e,t),4);if(a.g!=2)return V(a,0);i=W(a),e.g&&e.g.onError(i),ae(a)})}).da(n))}function Xc(e){e.kb!=null&&(e.kb.stop(),e.kb=null)}function bh(e){return P(function(t){return e.rb?T(t,e.rb.abort(),0):t.s(0)})}function a2(e,t,n){var r;return P(function(i){if(i.g==1)return n.code==3024?(t.Da=!1,Xc(t),jr(e,t,0),i.return()):T(i,V5(e.P),2);if(nn(e.m),n.category===1&&n.code!=1003){if(t.fc)return Zb(e,!1),i.return();r=e.h.maxDisabledTime===0&&n.code==1011?1:e.h.maxDisabledTime,n.handled=e.g.disableStream(t.stream,r),n.handled&&(n.severity=1)}(!n.handled||n.code!=1011)&&e.g.onError(n),n.handled||e.h.failureCallback(n),ae(i)})}function Rm(e,t,n){t=t===void 0?!1:t,n=n===void 0?!0:n;var r,i,a,u,l,p;return P(function(g){if(g.g==1){if(r=Date.now()/1e3,i=e.h.minTimeBetweenRecoveries,!t){if(!e.h.allowMediaSourceRecoveries||r-e.L<i)return g.return(!1);e.L=r}return a=$n,(u=e.i.get(a.V))&&(u.yb=null,u.Ac=null,u.zc=null,n&&Dm(e,u),bh(u).catch(function(){}),u.ja&&u.ja.dg()),(l=e.i.get(a.la))&&(l.yb=null,l.Ac=null,l.zc=null,n&&Dm(e,l),bh(l).catch(function(){}),l.ja&&l.ja.dg()),p=new Map,e.l.audio&&p.set(a.V,e.l.audio),e.l.video&&p.set(a.la,e.l.video),T(g,B4(e.g.aa,p),2)}return!l||l.nc||l.Da||l.kb||jr(e,l,0),!u||u.nc||u.Da||u.kb||jr(e,u,0),g.return(!0)})}function z9(e,t){if(e.M.projection!=t.projection||e.M.hfov!=t.hfov){if(t.projection!=null||t.hfov!=null){var n=new Map().set("detail",t);n=new Ae("spatialvideoinfo",n)}else n=new Ae("nospatialvideoinfo");n.cancelable=!0,e.g.onEvent(n),e.M=t}}function o2(e){if(e.h.crossBoundaryStrategy!=="keep"){e.H.stop();var t=e.g.Rc(),n=e.i.get("video")||e.i.get("audio");n&&(n=n.yb)&&n.g!==null&&(t=n.g-t,0>t||1<t||(e.G=n.g+.01,e.H.da(t)))}}function H9(e,t,n){if(t.type===wt)return!1;var r=t.yb;if(!r)return!1;n=n.$;var i=r.g!==n.g;if(e.h.crossBoundaryStrategy==="reset_to_encrypted"&&(r.encrypted||n.encrypted||(i=!1),r.encrypted&&(e.h.crossBoundaryStrategy="keep")),e.h.crossBoundaryStrategy==="RESET_ON_ENCRYPTION_CHANGE"&&r.encrypted==n.encrypted&&(i=!1),i&&t.Fc){var a=e.g.video,u=a.paused;Rm(e,!0).then(function(){e.g.onEvent(new Ae("boundarycrossed")),u||a.play()})}return i}function Nm(){}function s2(e,t,n,r,i){var a=i in r,u=a?n.constructor==Object&&Object.keys(r).length==0:n.constructor==Object&&Object.keys(n).length==0,l=a||u,p=!0,g;for(g in t){var v=i+"."+g,y=a?r[i]:n[g];l||g in n?t[g]===void 0?y===void 0||l?delete e[g]:e[g]=Na(y):u?e[g]=t[g]:y.constructor==Object&&t[g]&&t[g].constructor==Object?(e[g]||(e[g]=Na(y)),v=s2(e[g],t[g],y,r,v),p=p&&v):typeof t[g]!=typeof y||t[g]==null||typeof t[g]!="function"&&t[g].constructor!=y.constructor?(it("Invalid config, wrong type for "+v),p=!1):(typeof n[g]=="function"&&n[g].length!=t[g].length&&Be("Unexpected number of arguments for "+v),e[g]=t[g]):(it("Invalid config, unrecognized key "+v),p=!1)}return p}function Um(e,t){for(var n={},r=n,i=0,a=0;i=e.indexOf(".",i),!(0>i);)(i==0||e[i-1]!="\\")&&(a=e.substring(a,i).replace(/\\\./g,"."),r[a]={},r=r[a],a=i+1),i+=1;return r[e.substring(a).replace(/\\\./g,".")]=t,n}function Yc(e,t){return e&&t}function cA(e,t){function n(a){for(var u=w(Object.keys(a)),l=u.next();!l.done;l=u.next())if(l=l.value,!(a[l]instanceof HTMLElement))if(i(a[l])&&Object.keys(a[l]).length===0)delete a[l];else{var p=a[l];Array.isArray(p)&&p.length===0||typeof a[l]=="function"?delete a[l]:i(a[l])&&(n(a[l]),Object.keys(a[l]).length===0&&delete a[l])}}function r(a,u){return Object.keys(a).reduce(function(l,p){var g=a[p];return u.hasOwnProperty(p)?g instanceof HTMLElement&&u[p]instanceof HTMLElement?g.isEqualNode(u[p])||(l[p]=g):i(g)&&i(u[p])?(g=r(g,u[p]),(0<Object.keys(g).length||!i(g))&&(l[p]=g)):Array.isArray(g)&&Array.isArray(u[p])?Y1(g,u[p])||(l[p]=g):Number.isNaN(g)&&Number.isNaN(u[p])||g!==u[p]&&(l[p]=g):l[p]=g,l},{})}function i(a){return a&&typeof a=="object"&&!Array.isArray(a)}return e=r(e,t),n(e),e}Ee("shaka.util.ConfigUtils",Nm),Nm.getDifferenceFromConfigObjects=cA,Nm.convertToConfigObject=Um,Nm.mergeConfigObjects=s2;function Jr(){}function dA(e){return e=Qa(e),new ee(e).nb}function wh(e,t,n){function r(l){pn(a).setUint32(u,l.byteLength,!0),u+=4,a.set(Ye(l),u),u+=l.byteLength}if(!n||!n.byteLength)throw new $(2,6,6015);var i;typeof t=="string"?i=$1(t,!0):i=t,e=Qa(e),e=$1(e,!0);var a=new Uint8Array(12+e.byteLength+i.byteLength+n.byteLength),u=0;return r(e),r(i),r(n),a}function u2(e,t,n){return t!=="skd"?e:(t=n.serverCertificate,n=Qa(e).split("skd://").pop(),wh(e,n,t))}function Om(e,t){e===2&&(e=t.drmInfo)&&Vg(e.keySystem)&&(t.headers["Content-Type"]="application/octet-stream")}Ee("shaka.drm.FairPlay",Jr),Jr.commonFairPlayResponse=function(e,t){if(e===2&&(e=t.originalRequest.drmInfo)&&Vg(e.keySystem)){try{var n=yn(t.data)}catch{return}if(e=!1,n=n.trim(),n.substr(0,5)==="<ckc>"&&n.substr(-6)==="</ckc>"&&(n=n.slice(5,-6),e=!0),!e)try{var r=JSON.parse(n);r.ckc&&(n=r.ckc,e=!0),r.CkcMessage&&(n=r.CkcMessage,e=!0),r.License&&(n=r.License,e=!0)}catch{}e&&(t.data=ui(zi(n)))}},Jr.muxFairPlayRequest=function(e,t){Om(e,t)},Jr.expressplayFairPlayRequest=function(e,t){if(e===2){var n=t.drmInfo;n&&Vg(n.keySystem)&&Om(e,t)}},Jr.conaxFairPlayRequest=function(e,t){Om(e,t)},Jr.ezdrmFairPlayRequest=function(e,t){Om(e,t)},Jr.verimatrixFairPlayRequest=function(e,t){e===2&&(e=t.drmInfo)&&Vg(e.keySystem)&&(e=Ye(t.body),e=Mo(e),t.headers["Content-Type"]="application/x-www-form-urlencoded",t.body=la("spc="+e))},Jr.muxInitDataTransform=function(e,t,n){return u2(e,t,n)},Jr.expressplayInitDataTransform=function(e,t,n){return u2(e,t,n)},Jr.conaxInitDataTransform=function(e,t,n){if(t!=="skd")return e;t=n.serverCertificate,n=Qa(e).split("skd://").pop().split("?").shift(),n=d.atob(n);var r=new ArrayBuffer(2*n.length);r=vc(r);for(var i=0,a=n.length;i<a;i++)r[i]=n.charCodeAt(i);return wh(e,r,t)},Jr.ezdrmInitDataTransform=function(e,t,n){return t!=="skd"?e:(t=n.serverCertificate,n=Qa(e).split(";").pop(),wh(e,n,t))},Jr.verimatrixInitDataTransform=function(e,t,n){return u2(e,t,n)},Jr.initDataTransform=wh,Jr.defaultGetContentId=dA,Jr.isFairPlaySupported=function(){var e;return P(function(t){return t.g==1?(e={initDataTypes:["cenc","sinf","skd"],videoCapabilities:[{contentType:'video/mp4; codecs="avc1.42E01E"'}]},me(t,2),T(t,navigator.requestMediaKeySystemAccess("com.apple.fps",[e]),4)):t.g!=2?t.return(!0):(W(t),t.return(!1))})};function l2(){this.g=null}l2.prototype.configure=function(e){this.g=e},l2.prototype.create=function(e){var t;if(this.g.language){var n=q9(e,this.g.language);n.length&&(t=n)}return t||(t=e.filter(function(r){return r.primary}),t=t.length?t:e),e=G9(t,this.g.role),e.length&&(t=e),this.g.videoLayout&&(e=J9(t,this.g.videoLayout),e.length&&(t=e)),this.g.Sc&&(e=Y9(t,this.g.Sc),e.length&&(t=e)),this.g.channelCount&&(e=X9(t,this.g.channelCount),e.length&&(t=e)),this.g.Kc&&(e=K9(t,this.g.Kc),e.length&&(t=e)),this.g.fd&&(e=W9(t,this.g.fd),e.length&&(t=e)),e=Q9(t,this.g.spatialAudio),e.length&&(t=e),this.g.audioCodec&&(e=Z9(t,this.g.audioCodec),e.length&&(t=e)),new pm(t[0],t,!(this.g.codecSwitchingStrategy=="smooth"&&Bu()))};function q9(e,t){t=Jt(t);var n=tm(t,e.map(function(r){return hb(r)}));return n?e.filter(function(r){return n==hb(r)}):[]}function G9(e,t){return e.filter(function(n){return n.audio?t?n.audio.roles.includes(t):n.audio.roles.length==0:!1})}function K9(e,t){return e.filter(function(n){return n.audio&&n.audio.label?n.audio.label.toLowerCase()==t.toLowerCase():!1})}function W9(e,t){return e.filter(function(n){return n.video&&n.video.label?n.video.label.toLowerCase()==t.toLowerCase():!1})}function X9(e,t){return e.filter(function(n){return!(n.audio&&n.audio.channelsCount&&n.audio.channelsCount>t)}).sort(function(n,r){return n.audio||r.audio?n.audio?r.audio?(r.audio.channelsCount||0)-(n.audio.channelsCount||0):1:-1:0})}function Y9(e,t){return t=="AUTO"&&(t=d.matchMedia!==void 0&&d.matchMedia("(color-gamut: p3)").matches?e.some(function(n){return!!(n.video&&n.video.hdr&&n.video.hdr=="HLG")})?"HLG":"PQ":"SDR"),e.filter(function(n){return!(n.video&&n.video.hdr&&n.video.hdr!=t)})}function J9(e,t){return e.filter(function(n){return!(n.video&&n.video.videoLayout&&n.video.videoLayout!=t)})}function Q9(e,t){return e.filter(function(n){return!(n.audio&&n.audio.spatialAudio!=t)})}function Z9(e,t){return e.filter(function(n){return!(n.audio&&n.audio.codecs!=t)})}function jm(){}function Jc(){var e=1/0;navigator.connection&&navigator.connection.saveData&&(e=360);var t={retryParameters:Oa(),servers:{},clearKeys:{},advanced:{},delayLicenseRequestUntilPlayed:!1,persistentSessionOnlinePlayback:!1,persistentSessionsMetadata:[],initDataTransform:function(v,y,x){return d.shakaMediaKeysPolyfill==="apple"&&y=="skd"&&(y=x.serverCertificate,x=dA(v),v=wh(v,x,y)),v},logLicenseExchange:!1,updateExpirationTime:1,preferredKeySystems:[],keySystemsMapping:{},parseInbandPsshEnabled:Pa(),minHdcpVersion:"",ignoreDuplicateInitData:!Rn("Tizen 2"),defaultAudioRobustnessForWidevine:"SW_SECURE_CRYPTO",defaultVideoRobustnessForWidevine:"SW_SECURE_DECODE"};(Pa()||Ra())&&t.preferredKeySystems.push("com.microsoft.playready");var n="reload",r=!1;!Bu()||La()||Ra()||bc()||Io()&&X3()===79||ua()&&!Cs()&&!F1()||j1()&&jp()||(n="smooth",r=!0),r={retryParameters:Oa(),availabilityWindowOverride:NaN,disableAudio:!1,disableVideo:!1,disableText:!1,disableThumbnails:!1,disableIFrames:!1,defaultPresentationDelay:0,segmentRelativeVttTiming:!1,raiseFatalErrorOnManifestUpdateRequestFailure:!1,continueLoadingWhenPaused:!0,ignoreSupplementalCodecs:!1,updatePeriod:-1,ignoreDrmInfo:!1,dash:{clockSyncUri:"",disableXlinkProcessing:!0,xlinkFailGracefully:!1,ignoreMinBufferTime:!1,autoCorrectDrift:!0,initialSegmentLimit:1e3,ignoreSuggestedPresentationDelay:!1,ignoreEmptyAdaptationSet:!1,ignoreMaxSegmentDuration:!1,keySystemsByURI:{"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:e2719d58-a985-b3c9-781a-b030af78d30e":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:79f0049a-4098-8642-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:94ce86fb-07ff-4f43-adb8-93d2fa968ca2":"com.apple.fps","urn:uuid:3d5e6d35-9b9a-41e8-b843-dd3c6e72c42c":"com.huawei.wiseplay"},manifestPreprocessor:Fm,manifestPreprocessorTXml:Bm,sequenceMode:!1,multiTypeVariantsAllowed:r,useStreamOnceInPeriodFlattening:!1,enableFastSwitching:!0},hls:{ignoreTextStreamFailures:!1,ignoreImageStreamFailures:!1,defaultAudioCodec:"mp4a.40.2",defaultVideoCodec:"avc1.42E01E",ignoreManifestProgramDateTime:!1,ignoreManifestProgramDateTimeForTypes:[],mediaPlaylistFullMimeType:'video/mp2t; codecs="avc1.42E01E, mp4a.40.2"',liveSegmentsDelay:3,sequenceMode:_7(),ignoreManifestTimestampsInSegmentsMode:!1,disableCodecGuessing:!1,disableClosedCaptionsDetection:!1,allowLowLatencyByteRangeOptimization:!0,allowRangeRequestsToGuessMimeType:!1},mss:{manifestPreprocessor:Fm,manifestPreprocessorTXml:Bm,sequenceMode:!1,keySystemsBySystemId:{"9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","79f0049a-4098-8642-ab92-e65be0885f95":"com.microsoft.playready"}}};var i={retryParameters:Oa(),failureCallback:function(v){return Yc([v])},rebufferingGoal:0,bufferingGoal:10,bufferBehind:30,evictionGoal:1,ignoreTextStreamFailures:!1,alwaysStreamText:!1,startAtSegmentBoundary:!1,gapDetectionThreshold:.5,gapPadding:0,gapJumpTimerTime:.25,durationBackoff:1,safeSeekOffset:5,safeSeekEndOffset:0,stallEnabled:!0,stallThreshold:1,stallSkip:.1,useNativeHlsForFairPlay:!0,inaccurateManifestTolerance:2,lowLatencyMode:!1,forceHTTP:!1,forceHTTPS:!1,minBytesForProgressEvents:16e3,preferNativeDash:!1,preferNativeHls:!1,updateIntervalSeconds:1,observeQualityChanges:!1,maxDisabledTime:30,segmentPrefetchLimit:1,prefetchAudioLanguages:[],disableAudioPrefetch:!1,disableTextPrefetch:!1,disableVideoPrefetch:!1,liveSync:{enabled:!1,targetLatency:.5,targetLatencyTolerance:.5,maxPlaybackRate:1.1,minPlaybackRate:.95,panicMode:!1,panicThreshold:60,dynamicTargetLatency:{enabled:!1,stabilityThreshold:60,rebufferIncrement:.5,maxAttempts:10,maxLatency:4,minLatency:1}},allowMediaSourceRecoveries:!0,minTimeBetweenRecoveries:5,vodDynamicPlaybackRate:!1,vodDynamicPlaybackRateLowBufferRate:.95,vodDynamicPlaybackRateBufferRatio:.5,preloadNextUrlWindow:30,loadTimeout:30,clearDecodingCache:Ra()||bc(),dontChooseCodecs:!1,shouldFixTimestampOffset:Io()||La(),avoidEvictionOnQuotaExceededError:!1,crossBoundaryStrategy:"keep"};(Io()||La()||ua()||Hg())&&(i.stallSkip=0),(navigator.userAgent.match(/Edge\//)||Pa())&&(i.gapPadding=.01),La()&&(i.gapPadding=2),zg()&&(i.crossBoundaryStrategy="reset"),Co()&&(i.crossBoundaryStrategy="reset_to_encrypted");var a={trackSelectionCallback:function(v){return P(function(y){return y.return(v)})},downloadSizeCallback:function(v){var y;return P(function(x){return x.g==1?navigator.storage&&navigator.storage.estimate?T(x,navigator.storage.estimate(),3):x.return(!0):(y=x.h,x.return(y.usage+v<.95*y.quota))})},progressCallback:function(v,y){return Yc([v,y])},usePersistentLicense:!0,numberOfParallelDownloads:5};e={enabled:!0,useNetworkInformation:!0,defaultBandwidthEstimate:1e6,switchInterval:8,bandwidthUpgradeTarget:.85,bandwidthDowngradeTarget:.95,restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:e,minPixels:0,maxPixels:1/0,minFrameRate:0,maxFrameRate:1/0,minBandwidth:0,maxBandwidth:1/0,minChannelsCount:0,maxChannelsCount:1/0},advanced:{minTotalBytes:128e3,minBytes:16e3,fastHalfLife:2,slowHalfLife:5},restrictToElementSize:!1,restrictToScreenSize:!1,ignoreDevicePixelRatio:!1,clearBufferSwitch:!1,safeMarginSwitch:0,cacheLoadThreshold:20,minTimeToSwitch:cr()?.5:0,preferNetworkInformationBandwidth:!1},n={codecSwitchingStrategy:n,addExtraFeaturesToSourceBuffer:function(v){return Yc([v],"")},forceTransmux:!1,insertFakeEncryptionInInit:!0,modifyCueCallback:function(v,y){return Yc([v,y])},dispatchAllEmsgBoxes:!1};var u=!1,l=!1,p=!0;B1()&&(l=u=!0,p=!1);var g={drm:t,manifest:r,streaming:i,mediaSource:n,offline:a,abrFactory:function(){return new xn},adaptationSetCriteriaFactory:function(){return new(Function.prototype.bind.apply(l2,[null].concat(j(Re.apply(0,arguments)))))},abr:e,autoShowText:3,preferredAudioLanguage:"",preferredAudioLabel:"",preferredTextLanguage:"",preferredVariantRole:"",preferredTextRole:"",preferredAudioChannelCount:2,preferredVideoHdrLevel:"AUTO",preferredVideoLayout:"",preferredVideoLabel:"",preferredVideoCodecs:[],preferredAudioCodecs:[],preferredTextFormats:[],preferForcedSubs:!1,preferSpatialAudio:!1,preferredDecodingAttributes:[],restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:1/0,minPixels:0,maxPixels:1/0,minFrameRate:0,maxFrameRate:1/0,minBandwidth:0,maxBandwidth:1/0,minChannelsCount:0,maxChannelsCount:1/0},playRangeStart:0,playRangeEnd:1/0,textDisplayer:{captionsUpdatePeriod:.25,fontScaleFactor:1},textDisplayFactory:function(){return null},cmcd:{enabled:!1,sessionId:"",contentId:"",rtpSafetyFactor:5,useHeaders:!1,includeKeys:[],version:1},cmsd:{enabled:!0,applyMaximumSuggestedBitrate:!0,estimatedThroughputWeightRatio:.5},lcevc:{enabled:!1,dynamicPerformanceScaling:!0,logLevel:0,drawLogo:!1},ads:{customPlayheadTracker:u,skipPlayDetection:l,supportsMultipleMediaElements:p,disableHLSInterstitial:!1,disableDASHInterstitial:!1,allowPreloadOnDomElements:!0},ignoreHardwareResolution:!1};return a.trackSelectionCallback=function(v){return P(function(y){return y.return(eN(v,g.preferredAudioLanguage,g.preferredVideoHdrLevel))})},g}function pA(){return{streaming:{inaccurateManifestTolerance:0,segmentPrefetchLimit:2,updateIntervalSeconds:.1,maxDisabledTime:1,retryParameters:{baseDelay:100}},manifest:{dash:{autoCorrectDrift:!1},retryParameters:{baseDelay:100}},drm:{retryParameters:{baseDelay:100}}}}function Bs(e,t,n){var r={".drm.keySystemsMapping":"",".drm.servers":"",".drm.clearKeys":"",".drm.advanced":{distinctiveIdentifierRequired:!1,persistentStateRequired:!1,videoRobustness:[],audioRobustness:[],sessionType:"",serverCertificate:new Uint8Array(0),serverCertificateUri:"",individualizationServer:"",headers:{}}};return s2(e,t,n||Jc(),r,"")}function eN(e,t,n){var r=n;r=="AUTO"&&(r=d.matchMedia("(color-gamut: p3)").matches?e.some(function(l){return!!(l.hdr&&l.hdr=="HLG")})?"HLG":"PQ":"SDR");var i=e.filter(function(l){return!(l.type!="variant"||l.hdr&&l.hdr!=r)});n=[];var a=tm(t,i.map(function(l){return l.language}));a&&(n=i.filter(function(l){return Jt(l.language)==a})),n.length==0&&(n=i.filter(function(l){return l.primary})),n.length==0&&(i.map(function(l){return l.language}),n=i);var u=n.filter(function(l){return l.height&&480>=l.height});for(u.length&&(u.sort(function(l,p){return p.height-l.height}),n=u.filter(function(l){return l.height==u[0].height})),t=[],n.length&&(i=Math.floor(n.length/2),n.sort(function(l,p){return l.bandwidth-p.bandwidth}),t.push(n[i])),e=w(e),n=e.next();!n.done;n=e.next())n=n.value,n.type!=wt&&n.type!="image"||t.push(n);return t}function Fm(e){return Yc([e],e)}function Bm(e){return Yc([e],e)}Ee("shaka.util.PlayerConfiguration",jm),jm.mergeConfigObjects=Bs,jm.createDefaultForLL=pA,jm.createDefault=Jc;function tN(){this.g=null,this.h=[]}function c2(e,t){var n=0;e.g&&e.g.state==t&&(n+=e.g.duration),e=w(e.h);for(var r=e.next();!r.done;r=e.next())r=r.value,n+=r.state==t?r.duration:0;return n}function nN(e){function t(a){return{timestamp:a.timestamp,state:a.state,duration:a.duration}}for(var n=[],r=w(e.h),i=r.next();!i.done;i=r.next())n.push(t(i.value));return e.g&&n.push(t(e.g)),n}function rN(){this.i=this.h=null,this.g=[]}function d2(e,t,n){e.i!=t&&(e.i=t,e.g.push({timestamp:Date.now()/1e3,id:t.id,type:"text",fromAdaptation:n,bandwidth:null}))}function Vm(){this.mc=this.bh=this.u=this.A=this.I=this.B=this.o=this.j=this.H=this.C=this.i=this.P=this.T=this.L=this.M=this.O=this.l=this.m=NaN,this.K=0,this.F=this.G=NaN,this.g=new tN,this.h=new rN}function qi(e,t,n,r){Xt.call(this),this.O=e,this.Y=t,this.Fa=r.networkingEngine,this.B=n,this.o=null,this.ya=0,this.Ma=r.Lc,this.F=r.Zi,this.Na=r.$i,this.g=r.config,this.l=this.G=this.h=null,this.pa=!1,this.H=r.kj,this.sa=!1,this.i=null,this.ka=!1,this.j=this.C=null,this.ea=!1,this.M=new Map,this.Aa=!1,this.Ga=r.jj,this.Z=new Vm,this.oa=new Wt,this.m=new Wt,this.P=null,this.u=!1,this.fa=r.Uh,this.W=this.K=null,this.La=r.Th,this.T=!1,this.L=[],this.I=[],this.A=!0}Te(qi,Xt);function xh(e,t,n){(e=t?e.I:e.L)?e.push(n):n()}function iN(e){if(e.I)for(var t=w(e.I),n=t.next();!n.done;n=t.next())n=n.value,n();e.I=null}function hA(e,t){if(e.P=t,e.T=!0,e.L){t=w(e.L);for(var n=t.next();!n.done;n=t.next())n=n.value,n()}e.L=null}f=qi.prototype,f.getStartTime=function(){return this.B},f.Qc=function(){return this.O},f.Hf=function(){return this.h};function aN(e){return e.ea=!0,e.j}function oN(e){return e.sa=!0,e.H}f.getStats=function(){return this.Z};function sN(e){return e.ka=!0,e.i}f.Ai=function(){return this.K?Xu(this.K):null},f.zi=function(){return this.W?eh(this.W):null};function uN(e){return e.Aa=!0,e.M}f.start=function(){var e=this;(function(){var t;return P(function(n){switch(n.g){case 1:return T(n,Promise.resolve(),2);case 2:return me(n,3),T(n,lN(e),5);case 5:if(al(e),d.shakaMediaKeysPolyfill==="webkit"){n.s(6);break}return T(n,fA(e),7);case 7:al(e);case 6:return T(n,cN(e),8);case 8:if(al(e),!e.fa||!e.i){n.s(9);break}return T(n,vR(e.i),10);case 10:al(e);case 9:e.m.resolve(),V(n,0);break;case 3:t=W(n),t instanceof $&&(t.code==7001||t.code==7003)||e.m.reject(t),ae(n)}})})()},f.dispatchEvent=function(e){return this.P?this.P.dispatchEvent(e):Xt.prototype.dispatchEvent.call(this,e)},f.onError=function(e){e.severity===2&&(this.m.reject(e),this.destroy());var t=new Map().set("detail",e);t=new Ae("error",t),this.dispatchEvent(t),t.defaultPrevented&&(e.handled=!0)};function al(e){if(e.u)throw new $(2,7,7003)}function p2(e,t){e.dispatchEvent(new Ae("onstatechange",new Map().set("state",t)))}function lN(e){var t,n,r,i,a,u,l,p,g;return P(function(v){switch(v.g){case 1:if(p2(e,"manifest-parser"),e.l||(e.G=y4(e.O,e.Y),e.l=e.G(),e.l.configure(e.g.manifest,function(){return e.A})),t=Date.now()/1e3,p2(e,"manifest"),e.h){v.s(2);break}return T(v,e.l.start(e.O,e.Na),3);case 3:if(e.h=v.h,e.h.variants.length!=1){v.s(2);break}for(n=[],r=e.h.variants[0],i=w([r.video,r.audio]),a=i.next();!a.done;a=i.next())(u=a.value)&&!u.segmentIndex&&n.push(u.createSegmentIndex());if(!(0<n.length)){v.s(2);break}return T(v,Promise.all(n),2);case 2:return e.oa.resolve(),l=new Ae("manifestparsed",void 0),T(v,Promise.resolve(),7);case 7:if(e.dispatchEvent(l),e.h.variants.length==0)throw new $(2,4,4036);dN(e.h),p=Date.now()/1e3,g=p-t,e.Z.H=g,ae(v)}})}function fA(e,t){var n,r,i,a,u,l;return P(function(p){switch(p.g){case 1:if(!e.h||e.i)return p.return();if(p2(e,"drm-engine"),e.ya=Date.now()/1e3,e.i=e.Ma(),e.F.h=e.i,e.i.configure(e.g.drm,function(){return e.A}),n=g4(e.F,e.h),!n){p.s(2);break}return r=new Ae("trackschanged",void 0),T(p,Promise.resolve(),3);case 3:al(e),e.dispatchEvent(r);case 2:return i=rm(e.h.variants),a=!0,e.h&&e.h.presentationTimeline&&e.h.type!="HLS"&&(a=e.h.presentationTimeline.U()),T(p,Z5(e.i,i,e.h.offlineSessionIds,a),4);case 4:if(al(e),!t){p.s(5);break}return T(p,e.i.Lb(t),6);case 6:al(e);case 5:return T(p,f4(e.F,e.h),7);case 7:if(u=p.h,!u){p.s(0);break}return l=new Ae("trackschanged",void 0),T(p,Promise.resolve(),9);case 9:e.dispatchEvent(l),ae(p)}})}f.configure=function(e,t){e=Um(e,t),Bs(this.g,e)},f.getConfiguration=function(){return Na(this.g)};function cN(e){var t,n,r,i,a,u,l;return P(function(p){return e.o||(e.o=e.g.adaptationSetCriteriaFactory(),e.o.configure({language:e.g.preferredAudioLanguage,role:e.g.preferredVariantRole,channelCount:e.g.preferredAudioChannelCount,Sc:e.g.preferredVideoHdrLevel,spatialAudio:e.g.preferSpatialAudio,videoLayout:e.g.preferredVideoLayout,Kc:e.g.preferredAudioLabel,fd:e.g.preferredVideoLabel,codecSwitchingStrategy:e.g.mediaSource.codecSwitchingStrategy,audioCodec:""})),e.La&&(t=e.g.abrFactory,e.C=t,e.j=t(),e.j.configure(e.g.abr)),!e.fa||(n=e.h.presentationTimeline.U(),r=rm(e.h.variants),i=e.o.create(r),e.j.configure(e.g.abr),e.j.setVariants(Array.from(i.values())),a=e.j.chooseVariant(),!a)?p.s(0):(u=[],e.K=a,a.video&&u.push(h2(e,a.video,n)),a.audio&&u.push(h2(e,a.audio,n)),(l=Pc(e.h.textStreams,e.g.preferredTextLanguage,e.g.preferredTextRole,e.g.preferForcedSubs)[0]||null)&&j5(a.audio,l,e.g)&&(u.push(h2(e,l,n)),e.W=l),T(p,Promise.all(u),0))})}function h2(e,t,n){var r,i,a,u,l;return P(function(p){return p.g==1?(r=e.g.streaming.segmentPrefetchLimit||2,i=new Im(r,t,function(g,v,y){return Lm(g,v,y||null,e.g.streaming.retryParameters,e.Fa,e.A)},!1),e.M.set(t.id,i),t.segmentIndex?p.s(2):T(p,t.createSegmentIndex(),2)):(a=e.B||0,(l=(u=t.segmentIndex.Gb(a))?u.current():null)||(l=ja(t.segmentIndex)),l?n?l.$?T(p,rA(i,l.$),0):p.s(0):T(p,gh(i,l.startTime),0):p.s(0))})}f.Lj=function(){return this.m},f.destroy=function(){var e=this,t,n,r;return P(function(i){switch(i.g){case 1:if(e.u=!0,!e.l||e.pa){i.s(2);break}return T(i,e.l.stop(),2);case 2:if(!e.j||e.ea){i.s(4);break}return T(i,e.j.stop(),4);case 4:if(e.H&&!e.sa&&e.H.release(),!e.i||e.ka){i.s(6);break}return T(i,e.i.destroy(),6);case 6:if(0<e.M.size&&!e.Aa)for(t=w(e.M.values()),n=t.next();!n.done;n=t.next())r=n.value,Fa(r);ae(i)}})};function dN(e){function t(n){return n.video&&n.audio||n.video&&n.video.codecs.includes(",")}e.variants.some(t)&&(e.variants=e.variants.filter(t))}Ee("shaka.media.PreloadManager",qi),qi.prototype.destroy=qi.prototype.destroy,qi.prototype.waitForFinish=qi.prototype.Lj,qi.prototype.getPrefetchedTextTrack=qi.prototype.zi,qi.prototype.getPrefetchedVariantTrack=qi.prototype.Ai;function ol(e,t){Xt.call(this);var n=this;this.i=e,this.l=t,this.g=new Map,this.m=[{Jc:null,Ic:Qc,xc:function(r,i){return zo(n,"enter",r,i)}},{Jc:Sh,Ic:Qc,xc:function(r,i){return zo(n,"enter",r,i)}},{Jc:kh,Ic:Qc,xc:function(r,i){return zo(n,"enter",r,i)}},{Jc:Qc,Ic:Sh,xc:function(r,i){return zo(n,"exit",r,i)}},{Jc:Qc,Ic:kh,xc:function(r,i){return zo(n,"exit",r,i)}},{Jc:Sh,Ic:kh,xc:function(r,i){i?zo(n,"skip",r,i):(zo(n,"enter",r,i),zo(n,"exit",r,i))}},{Jc:kh,Ic:Sh,xc:function(r,i){return zo(n,"skip",r,i)}}],this.h=new Ce,this.h.D(this.i,"regionremove",function(r){n.g.delete(r.region)})}Te(ol,Xt),ol.prototype.release=function(){this.i=null,this.g.clear(),this.h.release(),this.h=null,Xt.prototype.release.call(this)},ol.prototype.j=function(e,t){if(!this.l||e!=0){this.l=!1;for(var n=w(this.i.h.values()),r=n.next();!r.done;r=n.next()){r=r.value;var i=this.g.get(r),a=e<r.startTime?Sh:e>r.endTime?kh:Qc;this.g.set(r,a);for(var u=w(this.m),l=u.next();!l.done;l=u.next())l=l.value,l.Jc==i&&l.Ic==a&&l.xc(r,t)}}};function zo(e,t,n,r){t=new Ae(t,new Map([["region",n],["seeking",r]])),e.dispatchEvent(t)}var Sh=1,Qc=2,kh=3;function sl(e,t,n){var r,i,a,u,l,p,g;return P(function(v){switch(v.g){case 1:var y=new ee(e).ab.split("/").pop().split(".");return r=y.length==1?"":y.pop().toLowerCase(),(i=pN.get(r))?v.return(i):(a=0,u=qn([e],n),me(v,2),u.method="HEAD",T(v,t.request(a,u).promise,4));case 4:l=v.h,i=l.headers["content-type"],V(v,3);break;case 2:if(p=W(v),!p||p.code!=1002&&p.code!=1001){v.s(3);break}return u.method="GET",T(v,t.request(a,u).promise,6);case 6:g=v.h,i=g.headers["content-type"];case 3:return v.return(i?i.toLowerCase().split(";").shift():"")}})}var pN=new Map().set("mp4","video/mp4").set("m4v","video/mp4").set("m4a","audio/mp4").set("webm","video/webm").set("weba","audio/webm").set("mkv","video/webm").set("ts","video/mp2t").set("ogv","video/ogg").set("ogg","audio/ogg").set("mpg","video/mpeg").set("mpeg","video/mpeg").set("mov","video/quicktime").set("m3u8","application/x-mpegurl").set("mpd","application/dash+xml").set("ism","application/vnd.ms-sstr+xml").set("mp3","audio/mpeg").set("aac","audio/aac").set("flac","audio/flac").set("wav","audio/wav").set("sbv","text/x-subviewer").set("srt","text/srt").set("vtt","text/vtt").set("webvtt","text/vtt").set("ttml","application/ttml+xml").set("lrc","application/x-subtitle-lrc").set("ssa","text/x-ssa").set("ass","text/x-ssa").set("jpeg","image/jpeg").set("jpg","image/jpeg").set("png","image/png").set("svg","image/svg+xml").set("webp","image/webp").set("avif","image/avif").set("html","text/html").set("htm","text/html");function gA(e,t){if(e.lineBreak)return`
`;if(e.nestedCues.length)return e.nestedCues.map(function(u){return gA(u,e)}).join("");if(!e.payload)return e.payload;var n=[],r=e.fontWeight>=Cc,i=e.fontStyle==Ic,a=e.textDecoration.includes(Lo);return r&&n.push(["b"]),i&&n.push(["i"]),a&&n.push(["u"]),i=e.color,i==""&&t&&(i=t.color),r="",(i=mA(i))&&(r+="."+i),i=e.backgroundColor,i==""&&t&&(i=t.backgroundColor),(t=mA(i))&&(r+=".bg_"+t),r&&n.push(["c",r]),n.reduceRight(function(u,l){var p=w(l);return l=p.next().value,p=p.next().value,"<"+l+(p===void 0?"":p)+">"+u+"</"+l+">"},e.payload)}function mA(e){e=e.toLowerCase();var t=e.replace(/\s/g,"").match(/^rgba?\((\d+),(\d+),(\d+),?([^,\s)]+)?/i);switch(t?e="#"+(parseInt(t[1],10)|256).toString(16).slice(1)+(parseInt(t[2],10)|256).toString(16).slice(1)+(parseInt(t[3],10)|256).toString(16).slice(1):e.startsWith("#")&&7<e.length&&(e=e.slice(0,7)),e){case"white":case"#fff":case"#ffffff":return"white";case"lime":case"#0f0":case"#00ff00":return"lime";case"cyan":case"#0ff":case"#00ffff":return"cyan";case"red":case"#f00":case"#ff0000":return"red";case"yellow":case"#ff0":case"#ffff00":return"yellow";case"magenta":case"#f0f":case"#ff00ff":return"magenta";case"blue":case"#00f":case"#0000ff":return"blue";case"black":case"#000":case"#000000":return"black"}return null}function f2(e,t){var n=[];e=w(vA(e));for(var r=e.next();!r.done;r=e.next())if(r=r.value,r.isContainer)n.push.apply(n,j(f2(r.nestedCues,r)));else{var i=r.clone();i.nestedCues=[],i.payload=gA(r,t),n.push(i)}return n}function vA(e){var t=[];e=w(e);for(var n=e.next(),r={};!n.done;r={jf:void 0},n=e.next())r.jf=n.value,t.some(function(i){return function(a){return Yg(i.jf,a)}}(r))||t.push(r.jf);return t}function hN(e){function t(r){for(var i=5381,a=r.length;a;)i=33*i^r.charCodeAt(--a);return(i>>>0).toString()}if(e.startTime>=e.endTime)return null;var n=new VTTCue(e.startTime,e.endTime,e.payload);n.id=t(e.startTime.toString())+t(e.endTime.toString())+t(e.payload),n.lineAlign=e.lineAlign,n.positionAlign=e.positionAlign,e.size&&(n.size=e.size);try{n.align=e.textAlign}catch{}return e.textAlign=="center"&&n.align!="center"&&(n.align="middle"),e.writingMode=="vertical-lr"?n.vertical="lr":e.writingMode=="vertical-rl"&&(n.vertical="rl"),e.lineInterpretation==1&&(n.snapToLines=!1),e.line!=null&&(n.line=e.line),e.position!=null&&(n.position=e.position),n}function br(e,t){for(this.h=e,this.i=t,this.g=null,e=w(Array.from(this.h.textTracks)),t=e.next();!t.done;t=e.next())t=t.value,t.kind!=="metadata"&&t.kind!=="chapters"&&(t.mode="disabled",t.label==this.i&&(this.g=t));this.g&&(this.g.mode="hidden")}f=br.prototype,f.configure=function(){},f.remove=function(e,t){return this.g?(bA(this.g,function(n){return n.startTime<t&&n.endTime>e}),!0):!1},f.append=function(e){if(this.g){var t=f2(e),n=[];e=this.g.cues?Array.from(this.g.cues):[],t=w(t);for(var r=t.next(),i={};!r.done;i={Tc:void 0},r=t.next())i.Tc=r.value,!e.some(function(a){return function(u){return u.startTime==a.Tc.startTime&&u.endTime==a.Tc.endTime&&u.text==a.Tc.payload}}(i))&&i.Tc.payload&&(r=hN(i.Tc))&&n.push(r);for(e=n.slice().sort(function(a,u){return a.startTime!=u.startTime?a.startTime-u.startTime:a.endTime!=u.endTime?a.endTime-u.startTime:"line"in VTTCue.prototype?n.indexOf(u)-n.indexOf(a):n.indexOf(a)-n.indexOf(u)}),e=w(e),t=e.next();!t.done;t=e.next())this.g.addCue(t.value)}},f.destroy=function(){return this.g&&(bA(this.g,function(){return!0}),this.g.mode="disabled"),this.g=this.h=null,Promise.resolve()},f.isTextVisible=function(){return this.g?this.g.mode=="showing":!1},f.setTextVisibility=function(e){e&&!this.g&&yA(this),this.g&&(this.g.mode=e?"showing":"hidden")},f.setTextLanguage=function(){},f.enableTextDisplayer=function(){yA(this)};function yA(e){e.h&&!e.g&&(e.g=e.h.addTextTrack("subtitles",e.i),e.g.mode="hidden")}function bA(e,t){var n=e.mode;e.mode=n=="showing"?"showing":"hidden";for(var r=w(Array.from(e.cues)),i=r.next();!i.done;i=r.next())(i=i.value)&&t(i)&&e.removeCue(i);e.mode=n}Ee("shaka.text.SimpleTextDisplayer",br),br.prototype.enableTextDisplayer=br.prototype.enableTextDisplayer,br.prototype.setTextLanguage=br.prototype.setTextLanguage,br.prototype.setTextVisibility=br.prototype.setTextVisibility,br.prototype.isTextVisible=br.prototype.isTextVisible,br.prototype.destroy=br.prototype.destroy,br.prototype.append=br.prototype.append,br.prototype.remove=br.prototype.remove,br.prototype.configure=br.prototype.configure;function wr(){}f=wr.prototype,f.configure=function(){},f.remove=function(){},f.append=function(){},f.destroy=function(){},f.isTextVisible=function(){return!1},f.setTextVisibility=function(){},f.setTextLanguage=function(){},f.enableTextDisplayer=function(){},Ee("shaka.text.StubTextDisplayer",wr),wr.prototype.enableTextDisplayer=wr.prototype.enableTextDisplayer,wr.prototype.setTextLanguage=wr.prototype.setTextLanguage,wr.prototype.setTextVisibility=wr.prototype.setTextVisibility,wr.prototype.isTextVisible=wr.prototype.isTextVisible,wr.prototype.destroy=wr.prototype.destroy,wr.prototype.append=wr.prototype.append,wr.prototype.remove=wr.prototype.remove,wr.prototype.configure=wr.prototype.configure;function xr(e,t){var n=this;document.fullscreenEnabled||Be("Using UITextDisplayer in a browser without Fullscreen API support causes subtitles to not be rendered in fullscreen"),this.A=!1,this.h=[],this.j=e,this.C=t,this.u=this.m=null,this.g=document.createElement("div"),this.g.classList.add("shaka-text-container"),this.g.style.textAlign="center",this.g.style.display="flex",this.g.style.flexDirection="column",this.g.style.alignItems="center",this.g.style.justifyContent="flex-end",this.C.appendChild(this.g),this.o=new kt(function(){n.j.paused||Vs(n)}),Th(this),this.l=new Map,this.i=new Ce,this.i.D(document,"fullscreenchange",function(){Vs(n,!0)}),this.i.D(this.j,"seeking",function(){Vs(n,!0)}),this.i.D(this.j,"ratechange",function(){Th(n)}),this.i.D(this.j,"resize",function(){var r=n.j,i=r.videoWidth;r=r.videoHeight,i&&r?n.m=i/r:n.m=null}),this.B=null,"ResizeObserver"in d&&(this.B=new ResizeObserver(function(){Vs(n,!0)}),this.B.observe(this.g)),this.F=new Map}f=xr.prototype,f.configure=function(e){this.u=e,Th(this),Vs(this,!0)},f.append=function(e){var t=[].concat(j(this.h));e=w(vA(e));for(var n=e.next(),r={};!n.done;r={kf:void 0},n=e.next())r.kf=n.value,t.some(function(i){return function(a){return Yg(a,i.kf)}}(r))||this.h.push(r.kf);this.h.length&&Th(this),Vs(this)},f.destroy=function(){return this.g&&(this.C.removeChild(this.g),this.g=null,this.A=!1,this.h=[],this.o&&(this.o.stop(),this.o=null),this.l.clear(),this.i&&(this.i.release(),this.i=null),this.B&&(this.B.disconnect(),this.B=null)),Promise.resolve()},f.remove=function(e,t){if(!this.g)return!1;var n=this.h.length;return this.h=this.h.filter(function(r){return r.startTime<e||r.endTime>=t}),Vs(this,n>this.h.length),this.h.length||Th(this),!0},f.isTextVisible=function(){return this.A},f.setTextVisibility=function(e){this.A=e,Vs(this,!0)},f.setTextLanguage=function(e){e&&e!="und"?this.g.setAttribute("lang",e):this.g.setAttribute("lang","")},f.enableTextDisplayer=function(){};function Th(e){e.o&&(e.h.length?e.o.ua((e.u?e.u.captionsUpdatePeriod:.25)/Math.max(1,Math.abs(e.j.playbackRate))):e.o.stop())}function fN(e,t){for(;t!=null;){if(t==e.g)return!0;t=t.parentElement}return!1}function wA(e,t,n,r,i){var a=!1,u=[],l=[];t=w(t);for(var p=t.next();!p.done;p=t.next()){p=p.value,i.push(p);var g=e.l.get(p),v=p.startTime<=r&&p.endTime>r,y=g?g.Nh:null;g&&(u.push(g.lf),g.Ec&&u.push(g.Ec),v||(a=!0,e.l.delete(p),g=null)),v&&(l.push(p),g?fN(e,y)||(a=!0):(gN(e,p,i),g=e.l.get(p),y=g.Nh,a=!0)),0<p.nestedCues.length&&y&&wA(e,p.nestedCues,y,r,i),i.pop()}if(a){for(r=w(u),i=r.next();!i.done;i=r.next())i=i.value,i.parentElement&&i.parentElement.removeChild(i);for(l.sort(function(x,S){return x.startTime!=S.startTime?x.startTime-S.startTime:x.endTime-S.endTime}),l=w(l),r=l.next();!r.done;r=l.next())r=e.l.get(r.value),r.Ec?(r.Ec.contains(n)&&r.Ec.removeChild(n),n.appendChild(r.Ec),r.Ec.appendChild(r.lf)):n.appendChild(r.lf)}}function Vs(e,t){if(e.g){var n=e.j.currentTime;if(!e.A||t!==void 0&&t){t=w(e.F.values());for(var r=t.next();!r.done;r=t.next())Fs(r.value);Fs(e.g),e.l.clear(),e.F.clear()}e.A&&wA(e,e.h,e.g,n,[])}}function gN(e,t,n){var r=1<n.length,i=r?"span":"div";t.lineBreak&&(i="br"),t.rubyTag&&(i=t.rubyTag),r=!r&&0<t.nestedCues.length;var a=document.createElement(i);if(i!="br"&&vN(e,a,t,n,r),n=null,t.region&&t.region.id){var u=t.region,l=e.m===4/3?2.5:1.9;if(n=u.id+"_"+u.width+"x"+u.height+(u.heightUnits==li?"%":"px")+"-"+u.viewportAnchorX+"x"+u.viewportAnchorY+(u.viewportAnchorUnits==li?"%":"px"),e.F.has(n))n=e.F.get(n);else{i=document.createElement("span");var p=u.heightUnits==li?"%":"px",g=u.widthUnits==li?"%":"px",v=u.viewportAnchorUnits==li?"%":"px";i.id="shaka-text-region---"+n,i.classList.add("shaka-text-region"),i.style.position="absolute";var y=u.height,x=u.width;u.heightUnits===2&&(y=5.33*u.height,p="%"),u.widthUnits===2&&(x=u.width*l,g="%"),i.style.height=y+p,i.style.width=x+g,u.viewportAnchorUnits===2?(l=u.viewportAnchorY/75*100,p=u.viewportAnchorX/(e.m===4/3?160:210)*100,l-=u.regionAnchorY*y/100,p-=u.regionAnchorX*x/100,i.style.top=l+"%",i.style.left=p+"%"):(i.style.top=u.viewportAnchorY-u.regionAnchorY*y/100+v,i.style.left=u.viewportAnchorX-u.regionAnchorX*x/100+v),u.heightUnits!==0&&u.widthUnits!==0&&u.viewportAnchorUnits!==0&&(u=Math.max(0,Math.min(100-(parseInt(i.style.width.slice(0,-1),10)||0),parseInt(i.style.left.slice(0,-1),10)||0)),i.style.top=Math.max(0,Math.min(100-(parseInt(i.style.height.slice(0,-1),10)||0),parseInt(i.style.top.slice(0,-1),10)||0))+"%",i.style.left=u+"%"),i.style.display="flex",i.style.flexDirection="column",i.style.alignItems="center",i.style.justifyContent=t.displayAlign=="before"?"flex-start":t.displayAlign=="center"?"center":"flex-end",e.F.set(n,i),n=i}}i=a,r&&(i=document.createElement("span"),i.classList.add("shaka-text-wrapper"),i.style.backgroundColor=t.backgroundColor,i.style.lineHeight="normal",a.appendChild(i)),e.l.set(t,{lf:a,Nh:i,Ec:n})}function mN(e){var t=e.direction,n=e.positionAlign;return e=e.textAlign,n!==Qg?n:e==="left"||e==="start"&&t===Wp||e==="end"&&t==="rtl"?"line-left":e==="right"||e==="start"&&t==="rtl"||e==="end"&&t===Wp?"line-right":"center"}function vN(e,t,n,r,i){var a=t.style,u=n.nestedCues.length==0,l=1<r.length;a.whiteSpace="pre-wrap";var p=n.payload.replace(/\s+$/g,function(v){return"\xA0".repeat(v.length)});if(a.webkitTextStrokeColor=n.textStrokeColor,a.webkitTextStrokeWidth=n.textStrokeWidth,a.color=n.color,a.direction=n.direction,a.opacity=n.opacity,a.paddingLeft=g2(n.linePadding,n,e.C),a.paddingRight=g2(n.linePadding,n,e.C),a.textCombineUpright=n.textCombineUpright,a.textShadow=n.textShadow,n.backgroundImage)a.backgroundImage="url('"+n.backgroundImage+"')",a.backgroundRepeat="no-repeat",a.backgroundSize="contain",a.backgroundPosition="center",n.backgroundColor&&(a.backgroundColor=n.backgroundColor),a.width="100%",a.height="100%";else{if(n.nestedCues.length)var g=t;else g=document.createElement("span"),t.appendChild(g);n.border&&(g.style.border=n.border),i||((t=yN(r,function(v){return v.backgroundColor}))?g.style.backgroundColor=t:p&&(g.style.backgroundColor="rgba(0, 0, 0, 0.8)")),p&&(g.textContent=p)}l&&!r[r.length-1].isContainer?a.display="inline":(a.display="flex",a.flexDirection="column",a.alignItems="center",n.textAlign=="left"||n.textAlign=="start"?(a.width="100%",a.alignItems="start"):(n.textAlign=="right"||n.textAlign=="end")&&(a.width="100%",a.alignItems="end"),a.justifyContent=n.displayAlign=="before"?"flex-start":n.displayAlign=="center"?"center":"flex-end"),u||(a.margin="0"),a.fontFamily=n.fontFamily,a.fontWeight=n.fontWeight.toString(),a.fontStyle=n.fontStyle,a.letterSpacing=n.letterSpacing,a.fontSize=g2(n.fontSize,n,e.C,e.u?e.u.fontScaleFactor:1),r=n.line,r!=null&&(u=n.lineInterpretation,u==Xp&&(u=1,l=16,e.m&&1>e.m&&(l=32),r=0>r?100+r/l*100:r/l*100),u==1&&(a.position="absolute",n.writingMode==Gu?(a.width="100%",n.lineAlign==Ku?a.top=r+"%":n.lineAlign=="end"&&(a.bottom=100-r+"%")):n.writingMode=="vertical-lr"?(a.height="100%",n.lineAlign==Ku?a.left=r+"%":n.lineAlign=="end"&&(a.right=100-r+"%")):(a.height="100%",n.lineAlign==Ku?a.right=r+"%":n.lineAlign=="end"&&(a.left=100-r+"%")))),a.lineHeight=n.lineHeight,e=mN(n),e=="line-left"?(a.cssFloat="left",n.position!==null&&(a.position="absolute",n.writingMode==Gu?(a.left=n.position+"%",a.width="auto"):a.top=n.position+"%")):e=="line-right"?(a.cssFloat="right",n.position!==null&&(a.position="absolute",n.writingMode==Gu?(a.right=100-n.position+"%",a.width="auto"):a.bottom=n.position+"%")):n.position!==null&&n.position!=50&&(a.position="absolute",n.writingMode==Gu?(a.left=n.position+"%",a.width="auto"):a.top=n.position+"%"),a.textAlign=n.textAlign,a.textDecoration=n.textDecoration.join(" "),a.writingMode=n.writingMode,"writingMode"in document.documentElement.style&&a.writingMode==n.writingMode||(a.webkitWritingMode=n.writingMode),n.size&&(n.writingMode==Gu?a.width=n.size+"%":a.height=n.size+"%")}function g2(e,t,n,r){r=r===void 0?1:r;var i=(i=new RegExp(/(\d*\.?\d+)([a-z]+|%+)/).exec(e))?{value:Number(i[1]),unit:i[2]}:null;if(!i)return e;switch(e=i.unit,r*=i.value,e){case"%":return r/100*n.clientHeight/t.cellResolution.rows+"px";case"c":return n.clientHeight*r/t.cellResolution.rows+"px";default:return r+e}}function yN(e,t){for(var n=e.length-1;0<=n;n--){var r=t(e[n]);if(r||r===0)return r}return null}Ee("shaka.text.UITextDisplayer",xr),xr.prototype.enableTextDisplayer=xr.prototype.enableTextDisplayer,xr.prototype.setTextLanguage=xr.prototype.setTextLanguage,xr.prototype.setTextVisibility=xr.prototype.setTextVisibility,xr.prototype.isTextVisible=xr.prototype.isTextVisible,xr.prototype.remove=xr.prototype.remove,xr.prototype.destroy=xr.prototype.destroy,xr.prototype.append=xr.prototype.append,xr.prototype.configure=xr.prototype.configure;function bN(e,t){function n(a){for(var u=a,l=w(t),p=l.next();!p.done;p=l.next())p=p.value,p.end&&p.start<a&&(u+=p.end-p.start);return a=Math.floor(u/3600),l=Math.floor(u/60%60),p=Math.floor(u%60),u=Math.floor(1e3*u%1e3),(10>a?"0":"")+a+":"+(10>l?"0":"")+l+":"+(10>p?"0":"")+p+"."+(100>u?10>u?"00":"0":"")+u}var r=f2(e);e=`WEBVTT

`,r=w(r);for(var i=r.next();!i.done;i=r.next())i=i.value,e+=n(i.startTime)+" --> "+n(i.endTime)+function(a){var u=[];switch(a.textAlign){case"left":u.push("align:left");break;case"right":u.push("align:right");break;case to:u.push("align:middle");break;case"start":u.push("align:start");break;case"end":u.push("align:end")}switch(a.writingMode){case"vertical-lr":u.push("vertical:lr");break;case"vertical-rl":u.push("vertical:rl")}return u.length?" "+u.join(" "):""}(i)+`
`,e+=i.payload+`

`;return e}Ee("shaka.text.WebVttGenerator",function(){});function m2(e,t){this.h=e,this.g=t,this.i=void 0,this.u=!1,this.F=!0,this.l=this.B=!1,this.o=this.m=void 0,this.A=0,this.G=!1,this.C=new Ce,this.j=null}m2.prototype.setMediaElement=function(e){this.j=e,TN(this)},m2.prototype.configure=function(e){this.g=e};function wN(e){e.u=!1,e.F=!0,e.B=!1,e.l=!1,e.m=0,e.o=0,e.A=0,e.G=!1,e.j=null,e.C.Qa()}function xN(e,t){e.l=t,e.l?e.i==Km?e.i=Wm:e.i==Xm&&(e.i=Ym):e.i==Wm?e.i=Km:e.i==Ym&&(e.i=Xm)}function SN(e,t){if(e.g&&e.g.enabled&&e.g.version==kA&&e.j&&e.j.autoplay){var n=e.j.play();n&&n.then(function(){e.A=t}).catch(function(){e.A=0})}}function kN(e,t,n){try{if(!e.g.enabled)return t;var r=v2(e);e:{switch(n.toLowerCase()){case"audio/mp4":case"audio/webm":case"audio/ogg":case"audio/mpeg":case"audio/aac":case"audio/flac":case"audio/wav":var i=zm;break e;case"video/webm":case"video/mp4":case"video/mpeg":case"video/mp2t":i=qm;break e;case"application/x-mpegurl":case"application/vnd.apple.mpegurl":case"application/dash+xml":case"video/vnd.mpeg.dash.mpd":case"application/vnd.ms-sstr+xml":i=SA;break e}i=void 0}r.ot=i,r.su=!0;var a=$m(r);return y2(t,a)}catch(u){return $t("CMCD_SRC_ERROR","Could not generate src CMCD data.",u),t}}function TN(e){e.C.ma(e.j,"play",function(){e.m||(e.m=Date.now())}),e.C.ma(e.j,"playing",function(){e.o||(e.o=Date.now())})}function v2(e){return e.g.sessionId||(e.g.sessionId=d.crypto.randomUUID()),{v:e.g.version,sf:e.i,sid:e.g.sessionId,cid:e.g.contentId,mtp:e.h.getBandwidthEstimate()/1e3}}function Zc(e,t,n){n=n===void 0?{}:n;var r=r===void 0?e.g.useHeaders:r;if(e.g.enabled){Object.assign(n,v2(e)),n.pr=e.h.gb();var i=n.ot===Hm||n.ot===qm;if(e.B&&i&&(n.bs=!0,n.su=!0,e.B=!1),n.su==null&&(n.su=e.F),n.v===kA&&(e.h.U()&&(n.ltc=e.h.Zd()),i=!e.G&&e.o&&e.m?e.o-(e.A||e.m):void 0,i!=null&&(n.msd=i,e.G=!0)),e=AN(e,n),r)r=MN(e),Object.keys(r).length&&Object.assign(t.headers,r);else{var a=$m(e);a&&(t.uris=t.uris.map(function(u){return y2(u,a)}))}}}function AN(e,t){var n=e.g.includeKeys;return n.length?Object.keys(t).reduce(function(r,i){return n.includes(i)&&(r[i]=t[i]),r},{}):t}function EN(e){if(e.type===0)return _N;if(e=e.stream){var t=e.type;if(t=="video")return e.codecs&&e.codecs.includes(",")?qm:Hm;if(t=="audio")return zm;if(t=="text")return e.mimeType==="application/mp4"?Gm:b2}}function CN(e,t){if(t=e.h.Fb()[t],!t.length)return NaN;var n=e.h.getCurrentTime();return(e=t.find(function(r){return r.start<=n&&r.end>=n}))?1e3*(e.end-n):NaN}function xA(e,t){if(t=e.h.Fb()[t],!t.length)return 0;var n=e.h.getCurrentTime();return(e=t.find(function(r){return r.start<=n&&r.end>=n}))?1e3*(e.end-n):0}function IN(e,t){var n=e.h.Rb();if(!n.length)return NaN;e=n[0],n=w(n);for(var r=n.next();!r.done;r=n.next())r=r.value,r.type==="variant"&&r.bandwidth>e.bandwidth&&(e=r);switch(t){case Hm:return e.videoBandwidth||NaN;case zm:return e.audioBandwidth||NaN;default:return e.bandwidth}}function $m(e){function t(y){return 100*n(y/100)}function n(y){return Math.round(y)}function r(y){return!Number.isNaN(y)&&y!=null&&y!==""&&y!==!1}var i=[],a={br:n,d:n,bl:t,dl:t,mtp:t,nor:function(y){return encodeURIComponent(y)},rtp:t,tb:n},u=Object.keys(e||{}).sort();u=w(u);for(var l=u.next();!l.done;l=u.next()){l=l.value;var p=e[l];if(r(p)&&(l!=="v"||p!==1)&&(l!="pr"||p!==1)){var g=a[l];g&&(p=g(p)),g=typeof p;var v=void 0;v=g==="string"&&l!=="ot"&&l!=="sf"&&l!=="st"?l+"="+JSON.stringify(p):g==="boolean"?l:g==="symbol"?l+"="+p.description:l+"="+p,i.push(v)}}return i.join(",")}function MN(e){var t=Object.keys(e),n={},r=["Object","Request","Session","Status"],i=[{},{},{},{}],a={br:0,d:0,ot:0,tb:0,bl:1,dl:1,mtp:1,nor:1,nrr:1,su:1,ltc:1,cid:2,pr:2,sf:2,sid:2,st:2,v:2,msd:2,bs:3,rtp:3};t=w(t);for(var u=t.next();!u.done;u=t.next())u=u.value,i[a[u]!=null?a[u]:1][u]=e[u];for(e=0;e<i.length;e++)(a=$m(i[e]))&&(n["CMCD-"+r[e]]=a);return n}function y2(e,t){return!t||e.includes("offline:")?e:(e=new ee(e),e.g.set("CMCD",t),e.toString())}var SA="m",zm="a",Hm="v",qm="av",_N="i",b2="c",Gm="tt",kA=2,Km="d",Wm="ld",Xm="h",Ym="lh";Ee("shaka.util.CmcdManager.StreamingFormat",{DASH:Km,hk:Wm,HLS:Xm,ik:Ym,wk:"s",OTHER:"o"});function Gi(e){this.h=e,this.g=null}f=Gi.prototype,f.configure=function(e){this.h=e},f.Ug=function(){return this.h.enabled&&this.h.applyMaximumSuggestedBitrate&&this.g&&this.g.has(EA)?1e3*this.g.get(EA):null},f.Sg=function(){return this.h.enabled&&this.g&&this.g.has(AA)?1e3*this.g.get(AA):null},f.Ci=function(){return this.h.enabled&&this.g&&this.g.has(CA)?this.g.get(CA):null},f.Di=function(){return this.h.enabled&&this.g&&this.g.has(IA)?this.g.get(IA):null},f.getBandwidthEstimate=function(e){var t=this.Sg();if(!t)return e;var n=this.h.estimatedThroughputWeightRatio;return 0<n&&1>=n?e*(1-n)+t*n:e};function TA(e){return e?e.toLowerCase()==="false"?!1:/^[-0-9]/.test(e)?parseInt(e,10):e.replace(/["]+/g,""):!0}Ee("shaka.util.CmsdManager",Gi),Gi.prototype.getBandwidthEstimate=Gi.prototype.getBandwidthEstimate,Gi.prototype.getRoundTripTime=Gi.prototype.Di,Gi.prototype.getResponseDelay=Gi.prototype.Ci,Gi.prototype.getEstimatedThroughput=Gi.prototype.Sg,Gi.prototype.getMaxBitrate=Gi.prototype.Ug;var AA="etp",EA="mb",CA="rd",IA="rtt";function MA(){this.g=null,this.h=[]}function w2(e,t){return P(function(n){if(n.g==1)return e.g?T(n,new Promise(function(r){return e.h.push(r)}),2):n.s(2);e.g=t,ae(n)})}MA.prototype.release=function(){0<this.h.length?this.h.shift()():this.g=null};function le(e,t,n){t=t===void 0?null:t,Xt.call(this);var r=this;this.m=ev,this.h=null,this.ue=t,this.oa=!1,this.Qe=new Ce,this.zd=new Ce,this.l=new Ce,this.Na=new Ce,this.Sb=new Ce,this.G=this.I=this.C=this.F=null,this.Te=0,this.Z=new MA,this.Y=this.Pb=this.T=this.i=this.Qb=this.H=this.j=this.xd=this.O=this.yg=this.fa=this.L=this.Ga=this.Aa=this.yd=this.M=this.pa=this.K=this.La=null,this.sa=!1,this.Fa=this.o=null,this.We=1e9,this.Oe=[],this.Ve=-1,this.g=Ho(this),this.Xe=pA(),this.P=null,this.Ue=-1,this.Ma=null,this.ka={width:1/0,height:1/0},this.te=new Cb(this.g,this.ka,null),this.Ee=[],this.A=null,this.W=this.g.adaptationSetCriteriaFactory(),this.W.configure({language:this.g.preferredAudioLanguage,role:this.g.preferredVariantRole,channelCount:this.g.preferredAudioChannelCount,Sc:this.g.preferredVideoHdrLevel,spatialAudio:this.g.preferSpatialAudio,videoLayout:this.g.preferredVideoLayout,Kc:this.g.preferredAudioLabel,fd:this.g.preferredVideoLabel,codecSwitchingStrategy:this.g.mediaSource.codecSwitchingStrategy,audioCodec:""}),this.Tb=this.g.preferredTextLanguage,this.Hd=this.g.preferredTextRole,this.Fd=this.g.preferForcedSubs,this.Cd=[],n&&n(this),this.L=qN(this),this.fa=new Gi(this.g.cmsd),this.F=jA(this),this.F.kg(this.g.streaming.forceHTTP),this.F.lg(this.g.streaming.forceHTTPS),this.F.o=this.g.streaming.minBytesForProgressEvents,this.Ub=this.ea=this.u=null,this.Ze=!1,this.Ye=new kt(function(){return P(function(i){if(i.g==1)return r.ea?T(i,r.Lb(r.Ub,!0),3):i.s(0);if(i.g!=4)return T(i,r.load(r.ea),4);r.Ze?r.Ub.pause():r.Ub.play(),r.ea=null,r.Ze=!1,ae(i)})}),tv&&(this.u=tv(),this.u.configure(this.g.ads),this.Sb.D(this.u,"ad-content-pause-requested",function(i){var a;return P(function(u){if(u.g==1)return r.Ye.stop(),r.ea?u.s(0):(r.Ub=r.h,r.Ze=r.Uc(),a=i.saveLivePosition||!1,T(u,r.Lg(!0,a),3));r.ea=u.h,ae(u)})}),this.Sb.D(this.u,"ad-content-resume-requested",function(i){if(i=i.offset||0,r.ea){var a=r.ea;a.B&&i&&(a.B+=i)}r.Ye.da(.1)}),this.Sb.D(this.u,"ad-content-attach-requested",function(){return P(function(i){return r.h||!r.Ub?i.s(0):T(i,r.Lb(r.Ub,!0),0)})})),this.Qe.D(d,"online",function(){I2(r),r.eg()}),this.xe=new kt(function(){for(var i=Date.now()/1e3,a=!1,u=!0,l=w(r.i.variants),p=l.next();!p.done;p=l.next())p=p.value,0<p.disabledUntilTime&&p.disabledUntilTime<=i&&(p.disabledUntilTime=0,a=!0),0<p.disabledUntilTime&&(u=!1);u&&r.xe.stop(),a&&td(r,!1,void 0,!1,!1)}),this.ya=null,e&&(ut("Player w/ mediaElement","Please migrate from initializing Player with a mediaElement; use the attach method instead."),this.Lb(e,!0)),this.B=null}Te(le,Xt);function Jm(e){e.O!=null&&(n5(e.O),e.O.release(),e.O=null)}function DN(e,t,n){n||t.lcevc.enabled?(Jm(e),e.O==null&&(e.O=new Bp(e.h,e.yg,t.lcevc,n),e.I&&(e.I.I=e.O))):Jm(e)}function on(e,t){return new Ae(e,t)}f=le.prototype,f.destroy=function(){var e=this,t;return P(function(n){switch(n.g){case 1:return e.m==fa?n.return():(Jm(e),t=e.detach(),e.m=fa,T(n,t,2));case 2:return T(n,e.pf(),3);case 3:if(e.Qe&&(e.Qe.release(),e.Qe=null),e.zd&&(e.zd.release(),e.zd=null),e.l&&(e.l.release(),e.l=null),e.Na&&(e.Na.release(),e.Na=null),e.Sb&&(e.Sb.release(),e.Sb=null),e.Fa=null,e.g=null,e.A=null,e.ue=null,e.L=null,e.fa=null,!e.F){n.s(4);break}return T(n,e.F.destroy(),5);case 5:e.F=null;case 4:e.o&&(e.o.release(),e.o=null),Xt.prototype.release.call(e),ae(n)}})};function _A(e,t){sE.set(e,t)}function ed(e,t){e.dispatchEvent(on("onstatechange",new Map().set("state",t)))}f.Lb=function(e,t){t=t===void 0?!0:t;var n=this,r,i,a;return P(function(u){switch(u.g){case 1:if(n.m==fa)throw new $(2,7,7e3);if(r=n.h&&n.h==e,!n.h||n.h==e){u.s(2);break}return T(u,n.detach(),2);case 2:return T(u,x2(n,"attach"),4);case 4:if(u.h)return u.return();if(me(u,5,6),r||(ed(n,"attach"),i=function(){var l=M2(n,!1);l&&nd(n,l)},n.zd.D(e,"error",i),n.h=e,n.L&&n.L.setMediaElement(e)),!t||!Ja()||n.I){u.s(6);break}return T(u,S2(n),6);case 6:Se(u),n.Z.release(),te(u,0);break;case 5:return a=W(u),T(u,n.detach(),10);case 10:throw a}})},f.Vh=function(e){this.yg=e},f.detach=function(e){e=e===void 0?!1:e;var t=this;return P(function(n){if(n.g==1){if(t.m==fa)throw new $(2,7,7e3);return T(n,t.kc(!1,e),2)}if(n.g!=3)return T(n,x2(t,"detach"),3);if(n.h)return n.return();try{t.h&&(t.zd.Qa(),t.h=null),ed(t,"detach"),t.u&&!e&&t.u.release()}finally{t.Z.release()}ae(n)})};function x2(e,t){var n;return P(function(r){return r.g==1?(n=++e.Te,T(r,w2(e.Z,t),2)):n!=e.Te?(e.Z.release(),r.return(!0)):r.return(!1)})}f.kc=function(e,t){e=e===void 0?!0:e,t=t===void 0?!1:t;var n=this,r,i,a,u,l,p,g,v,y,x;return P(function(S){switch(S.g){case 1:return n.m!=fa&&(n.m=ev),T(S,x2(n,"unload"),2);case 2:return S.h?S.return():(be(S,3),n.sa=!1,ed(n,"unload"),Jm(n),r=n.Cd.map(function(k){return k()}),n.Cd=[],T(S,Promise.all(r),5));case 5:if(n.dispatchEvent(on("unloading")),n.yd&&(n.yd.release(),n.yd=null),n.Aa&&(n.Aa.release(),n.Aa=null),n.Ga&&(n.Ga.release(),n.Ga=null),n.h&&(n.l.Qa(),n.Na.Qa()),n.xe.stop(),n.La&&(n.La.release(),n.La=null),n.pa&&(n.pa.stop(),n.pa=null),!n.H){S.s(6);break}return T(S,n.H.stop(),7);case 7:n.H=null,n.Qb=null;case 6:if(!n.o){S.s(8);break}return T(S,n.o.stop(),8);case 8:if(!n.j){S.s(10);break}return T(S,n.j.destroy(),11);case 11:n.j=null;case 10:if(n.K&&(n.K.release(),n.K=null),n.G&&(n.G.release(),n.G=null),d.shakaMediaKeysPolyfill!=="webkit"||!n.C){S.s(12);break}return T(S,n.C.destroy(),13);case 13:n.C=null;case 12:if(!n.I){S.s(14);break}return T(S,n.I.destroy(),15);case 15:n.I=null;case 14:if(n.u&&!t&&n.u.onAssetUnload(),n.ea&&!t&&(n.ea.destroy(),n.ea=null),t||n.Ye.stop(),n.L&&wN(n.L),n.fa&&(n.fa.g=null),!n.B){S.s(16);break}return T(S,n.B.destroy(),17);case 17:n.B=null;case 16:if(n.h&&(Fs(n.h),n.h.src&&(n.h.removeAttribute("src"),n.h.load())),!n.C){S.s(18);break}return T(S,n.C.destroy(),19);case 19:n.C=null;case 18:if(n.ya&&n.T!=n.ya.Qc()&&(n.ya.u||n.ya.destroy(),n.ya=null),n.T=null,n.Pb=null,n.M=null,n.i){for(i=w(n.i.variants),a=i.next();!a.done;a=i.next())for(u=a.value,l=w([u.audio,u.video]),p=l.next();!p.done;p=l.next())(g=p.value)&&g.segmentIndex&&g.segmentIndex.release();for(v=w(n.i.textStreams),y=v.next();!y.done;y=v.next())x=y.value,x.segmentIndex&&x.segmentIndex.release()}n.g&&n.g.streaming.clearDecodingCache&&(im.clear(),yc.clear()),n.i=null,n.A=new Vm,n.Se=null,n.Ma=null,n.P=null,n.Ue=-1,n.Oe=[],n.Ve=-1,n.F&&n.F.Hg(),E2(n);case 3:Se(S),n.Z.release(),te(S,4);break;case 4:if(e&&Ja()&&!n.I&&n.h)return T(S,S2(n),0);S.s(0)}})},f.Kj=function(e){this.Y=e},f.load=function(e,t,n){t=t===void 0?null:t;var r=this,i,a,u,l,p,g,v,y,x,S,k,C,E;return P(function(I){switch(I.g){case 1:if(r.m==fa)throw new $(2,7,7e3);if(i=null,a="",e instanceof qi){if(e.u)throw new $(2,7,7006);i=e,a=i.Qc()||""}else a=e||"";return T(I,w2(r.Z,"load"),2);case 2:if(r.Z.release(),!r.h)throw new $(2,7,7002);if(!r.T){I.s(3);break}return r.T=a,T(I,r.kc(!1),3);case 3:if(u=++r.Te,l=function(){return P(function(_){if(_.g==1)return r.Te==u?_.s(0):i?T(_,i.destroy(),3):_.s(3);throw new $(2,7,7e3)})},p=function(_,F){return P(function(B){switch(B.g){case 1:return be(B,2),T(B,w2(r.Z,F),4);case 4:return T(B,l(),5);case 5:return T(B,_(),6);case 6:return T(B,l(),7);case 7:i&&r.g&&(i.g=r.g);case 2:Se(B),r.Z.release(),te(B,0)}})},me(I,5,6),t==null&&i&&(t=i.getStartTime()),r.Y=t,r.sa=!1,r.dispatchEvent(on("loading")),i){n=i.Y,I.s(8);break}if(n){I.s(8);break}return T(I,p(function(){return P(function(_){if(_.g==1)return T(_,RA(r,a),2);n=_.h,ae(_)})},"guessMimeType_"),8);case 8:if(g=!!i,i){hA(i,r),r.A=i.getStats(),I.s(11);break}return T(I,PA(r,a,t,n,!0),12);case 12:(i=I.h)?(i.A=!1,hA(i,r),r.A=i.getStats(),i.start(),i.m.catch(function(){})):r.A=new Vm;case 11:return v=!i,y=Date.now()/1e3,r.A=i?i.getStats():new Vm,r.T=a,r.Pb=n||null,r.Aa=new fh(function(){return r.Ra()}),v?T(I,p(function(){return P(function(_){return T(_,NN(r,n),0)})},"initializeSrcEqualsDrmInner_"),23):(r.Ga=new fh(function(){return r.Ra()}),T(I,p(function(){return P(function(_){if(_.g==1)return T(_,Promise.race([i.oa,i.m]),2);r.Qb=i.G;var F=i;F.pa=!0,r.H=F.l,r.i=i.Hf(),ae(_)})},"waitForFinish"),15));case 15:if(r.I){I.s(16);break}return T(I,p(function(){return P(function(_){return T(_,S2(r),0)})},"initializeMediaSourceEngineInner_"),16);case 16:return r.i&&r.i.textStreams.length&&(r.B.enableTextDisplayer?r.B.enableTextDisplayer():ut("Text displayer w/ enableTextDisplayer",'Text displayer should have a "enableTextDisplayer" method!')),T(I,p(function(){return P(function(_){return T(_,i.m,0)})},"waitForFinish"),18);case 18:if(r.g=i.getConfiguration(),r.te=i.F,r.H&&r.H.setMediaElement&&r.h&&r.H.setMediaElement(r.h),r.yd=oN(i),r.xd=i.Ga,(x=i.o)&&(r.W=x),g&&r.h&&r.h.nodeName==="AUDIO"&&(PN(r),r.configure("manifest.disableVideo",!0)),i.i){I.s(19);break}return T(I,p(function(){return P(function(_){return T(_,fA(i,r.h),0)})},"drmEngine_.init"),19);case 19:return r.C=sN(i),T(I,p(function(){return P(function(_){return T(_,r.C.Lb(r.h),0)})},"drmEngine_.attach"),21);case 21:return!(S=i.C)||r.Fa&&r.Fa==S||(r.o=aN(i),r.Fa=i.C,typeof r.o.setMediaElement!="function"&&(ut("AbrManager w/o setMediaElement","Please use an AbrManager with setMediaElement function."),r.o.setMediaElement=function(){}),typeof r.o.setCmsdManager!="function"&&(ut("AbrManager w/o setCmsdManager","Please use an AbrManager with setCmsdManager function."),r.o.setCmsdManager=function(){}),typeof r.o.trySuggestStreams!="function"&&(ut("AbrManager w/o trySuggestStreams","Please use an AbrManager with trySuggestStreams function."),r.o.trySuggestStreams=function(){})),k=uN(i),C=i.K,T(I,p(function(){return P(function(_){return T(_,RN(r,y,C,k),0)})},"loadInner_"),22);case 22:iN(i),r.Pb&&cr()&&cb(r.Pb)&&QR(r.I,r.T,r.Pb),I.s(14);break;case 23:return T(I,p(function(){return P(function(_){return T(_,UN(r,y,n),0)})},"srcEqualsInner_"),14);case 14:r.dispatchEvent(on("loaded"));case 6:if(Se(I),!i){I.s(25);break}return T(I,i.destroy(),25);case 25:r.ya=null,te(I,0);break;case 5:if(E=W(I),!E||E.code==7e3){I.s(27);break}return T(I,r.kc(!1),27);case 27:throw E}})};function PN(e){for(var t=w(e.i.variants),n=t.next();!n.done;n=t.next())n=n.value,n.video&&(n.video.closeSegmentIndex(),n.video=null),n.bandwidth=n.audio&&n.audio.bandwidth?n.audio.bandwidth:0;e.i.variants=e.i.variants.filter(function(r){return r.audio})}f.Gj=function(e,t){e=e===void 0?!0:e,t=t===void 0?!1:t;var n=this,r;return P(function(i){return i.g==1?T(i,DA(n),2):i.g!=3?(r=i.h,T(i,n.kc(e,t),3)):i.return(r)})},f.Lg=function(e,t){e=e===void 0?!1:e,t=t===void 0?!1:t;var n=this,r;return P(function(i){return i.g==1?T(i,DA(n,t),2):i.g!=3?(r=i.h,T(i,n.detach(e),3)):i.return(r)})};function DA(e,t){t=t===void 0?!1:t;var n,r;return P(function(i){if(i.g==1)return n=null,e.i&&e.H&&e.Qb&&e.T?(r=e.h.currentTime,e.U()&&!t&&(r=null),T(i,LA(e,e.T,r,e.Pb,!0,!1,!1),3)):i.s(2);if(i.g!=2){n=i.h,e.Ee.push(n),e.H&&e.H.setMediaElement&&e.H.setMediaElement(null);var a=n,u=e.H,l=e.Qb;a.h=e.i,a.l=u,a.G=l,a=n,u=e.Fa,a.j=e.o,a.C=u,n.o=e.W,n.start(),e.i=null,e.H=null,e.Qb=null,e.o=null,e.Fa=null}return i.return(n)})}f.preload=function(e,t,n){t=t===void 0?null:t;var r=this,i;return P(function(a){return a.g==1?T(a,PA(r,e,t,n),2):((i=a.h)?i.start():nd(r,new $(2,7,7005)),a.return(i))})},f.pf=function(){var e=this,t,n,r,i;return P(function(a){for(t=[],n=w(e.Ee),r=n.next();!r.done;r=n.next())i=r.value,i.u||t.push(i.destroy());return e.Ee=[],T(a,Promise.all(t),0)})};function PA(e,t,n,r,i){i=i===void 0?!1:i;var a,u,l;return P(function(p){return p.g==1?r?p.s(2):T(p,RA(e,t),3):(p.g!=2&&(r=p.h),LN(e,r)?p.return(null):(a=!1,u=!0,i&&(e.o&&e.Fa==e.g.abrFactory&&(u=!1),e.h&&e.h.nodeName==="AUDIO"&&(a=!0)),l=LA(e,t,n,r||null,!i,a,u),l=i?l.then(function(g){return g.A=!1,g}):l.then(function(g){return e.Ee.push(g),g}),p.return(l)))})}function LA(e,t,n,r,i,a,u){i=i===void 0?!0:i,a=a===void 0?!1:a,u=u===void 0?!0:u;var l,p,g,v,y,x,S,k,C,E,I,_,F,B;return P(function(q){return q.g==1?(l=null,p=Na(e.g),a&&(p.manifest.disableVideo=!0),g=function(){return l.T&&l.u?null:l},v=function(){return g()?g().getConfiguration():e.g},e.ka.width!=1/0||e.ka.height!=1/0||e.g.ignoreHardwareResolution?q.s(2):T(q,Q3(),3)):(q.g!=2&&(y=q.h,e.ka.width=y.width,e.ka.height=y.height),x=new Cb(p,e.ka,null),S={networkingEngine:e.F,filter:function(O){var N,H;return P(function(z){if(z.g==1)return T(z,f4(x,O),2);if(z.g!=4)return N=z.h,N?(H=on("trackschanged"),T(z,Promise.resolve(),4)):z.s(0);l.dispatchEvent(H),ae(z)})},makeTextStreamsForClosedCaptions:function(O){return WN(e,O)},onTimelineRegionAdded:function(O){Wb(l.H,O)},onEvent:function(O){return l.dispatchEvent(O)},onError:function(O){return l.onError(O)},isLowLatencyMode:function(){return v().streaming.lowLatencyMode},updateDuration:function(){e.j&&l.T&&e.j.updateDuration()},newDrmInfo:function(O){var N=l.i,H=N?N.h:null;H&&N.A&&Ib(x,H.keySystem,O)},onManifestUpdated:function(){var O=new Map().set("isLive",e.U());l.dispatchEvent(on("manifestupdated",O)),xh(l,!1,function(){e.u&&e.u.onManifestUpdated(e.U())})},getBandwidthEstimate:function(){return e.o.getBandwidthEstimate()},onMetadata:function(O,N,H,z){var Y=O;O=="com.apple.hls.interstitial"&&(Y="com.apple.quicktime.HLS",O={startTime:N,endTime:H,values:z},e.u)&&e.u.onHLSInterstitialMetadata(e,e.h,O),z=w(z),O=z.next();for(var K={};!O.done;K={Zf:void 0},O=z.next())K.Zf=O.value,K.Zf.name!="ID"&&xh(l,!1,function(J){return function(){k2(e,N,H,Y,J.Zf)}}(K))},disableStream:function(O){return e.disableStream(O,e.g.streaming.maxDisabledTime)},addFont:function(O,N){return e.addFont(O,N)}},k=new fh(function(){return e.Ra()}),k.addEventListener("regionadd",function(O){var N=O.region;Ih(e,"timelineregionadded",N,l),xh(l,!1,function(){e.u&&(e.u.onDashTimedMetadata(N),e.u.onDASHInterstitialMetadata(e,e.h,N))})}),C=null,p.streaming.observeQualityChanges&&(C=new Em(function(){return e.Fb()}),C.addEventListener("qualitychange",function(O){rE(e,O.quality,O.position)}),C.addEventListener("audiotrackchange",function(O){rE(e,O.quality,O.position,!0)})),E=!0,I={Xb:e.F,onError:function(O){return l.onError(O)},pe:function(O){xh(l,!0,function(){e:{var N=O,H=on("keystatuschanged");e.dispatchEvent(H);var z=Object.keys(N);z.length==1&&z[0]==""&&(z=["00"],N={"00":N[""]}),H=z.length==1&&z[0]=="00";var Y=!1;if(z.length){z=e.keySystem();for(var K=Qu(e.g.drm.clearKeys),J=w(e.i.variants),ie=J.next();!ie.done;ie=J.next()){ie=ie.value;var ne=[];ie.audio&&ne.push(ie.audio),ie.video&&ne.push(ie.video),ne=w(ne);for(var ue=ne.next();!ue.done;ue=ne.next()){var oe=ue.value;if(ue=ie.allowedByKeySystem,oe.keyIds.size)if(oe.drmInfos.length&&!K.size){oe=w(oe.drmInfos);for(var pe=oe.next();!pe.done;pe=oe.next())if(pe=pe.value,pe.keyIds.size&&pe.keySystem==z){ie.allowedByKeySystem=!0,pe=w(pe.keyIds);for(var xe=pe.next();!xe.done;xe=pe.next())xe=xe.value,((xe=N[H?"00":xe])||e.C.F)&&(ie.allowedByKeySystem=ie.allowedByKeySystem&&!!xe&&!Mb.includes(xe))}}else for(ie.allowedByKeySystem=!0,oe=w(oe.keyIds),pe=oe.next();!pe.done;pe=oe.next())pe=pe.value,((pe=N[H?"00":pe])||e.C.F)&&(ie.allowedByKeySystem=ie.allowedByKeySystem&&!!pe&&!Mb.includes(pe));ue!=ie.allowedByKeySystem&&(Y=!0)}}}if(Y&&(Qr(e),!ul(e)))break e;(N=e.j.l)&&!N.allowedByKeySystem&&td(e)}})},onExpirationUpdated:function(O,N){var H=on("expirationupdated");l.dispatchEvent(H),(H=l.l)&&H.onExpirationUpdated&&H.onExpirationUpdated(O,N)},onEvent:function(O){l.dispatchEvent(O),O.type=="drmsessionupdate"&&E&&(E=!1,O=Date.now()/1e3-l.ya,(e.A||l.getStats()).j=O,e.O&&n5(e.O))}},_=jA(e,g),q5(e.F,_),F=function(){return e.Lc(I)},B={config:p,$i:S,kj:k,jj:C,Lc:F,Zi:x,networkingEngine:_,Uh:i,Th:u},l=new qi(t,r,n,B),q.return(l))})}function RA(e,t){var n,r;return P(function(i){return i.g==1?(n=e.g.manifest.retryParameters,T(i,sl(t,e.F,n),2)):(r=i.h,r=="application/x-mpegurl"&&cr()&&(r="application/vnd.apple.mpegurl"),i.return(r))})}function LN(e,t){if(!Ja())return!0;if(t){if((e.h||J3()).canPlayType(t)=="")return!1;if(!Ja()||!jc.has(t))return!0;if(cb(t))return cr()&&(e.g.drm.servers["com.apple.fps"]||e.g.drm.servers["com.apple.fps.1_0"])?e.g.streaming.useNativeHlsForFairPlay:e.g.streaming.preferNativeHls;if(t==="application/dash+xml"||t==="video/vnd.mpeg.dash.mpd")return e.g.streaming.preferNativeDash}return!1}function NA(e){var t=e.g.textDisplayFactory;t!==e.Se&&(e.B=t(),e.B.configure?e.B.configure(e.g.textDisplayer):ut("Text displayer w/ configure",'Text displayer should have a "configure" method!'),e.Se=t,e.B.setTextVisibility(e.oa))}function S2(e){var t,n,r;return P(function(i){if(i.g==1)return ed(e,"media-source"),e.h.removeAttribute("src"),Fs(e.h),NA(e),t=HN(e.h,e.B,{si:function(){return e.keySystem()},onMetadata:function(a,u,l){a=w(a);for(var p=a.next();!p.done;p=a.next())if(p=p.value,p.data&&typeof p.cueTime=="number"&&p.frames){var g=p.cueTime+u,v=l;v&&g>v&&(v=g);for(var y=w(p.frames),x=y.next();!x.done;x=y.next())k2(e,g,v,"org.id3",x.value);e.u&&e.u.onHlsTimedMetadata(p,g)}},ej:function(a){e.Ga&&Wb(e.Ga,{schemeIdUri:a.schemeIdUri,startTime:a.startTime,endTime:a.endTime,id:String(a.id),emsg:a})},onEvent:function(a){return e.dispatchEvent(a)},gj:function(){e.H&&e.H.update&&e.H.update()}},e.O),t.configure(e.g.mediaSource),n=e.g.manifest,r=n.segmentRelativeVttTiming,t.Ea=r,T(i,t.G,2);e.I=t,ae(i)})}function UA(e,t,n){function r(){return C2(e)}e.l.D(t,"playing",r),e.l.D(t,"pause",r),e.l.D(t,"ended",r),e.l.D(t,"ratechange",function(){var i=e.h.playbackRate;i!=0&&(e.K&&(e.K.set(i),e.m==Dr&&e.o.playbackRateChanged(i),XA(e,i)),i=on("ratechange"),e.dispatchEvent(i))}),t.remote&&(e.l.D(t.remote,"connect",function(){return Qr(e)}),e.l.D(t.remote,"connecting",function(){return Qr(e)}),e.l.D(t.remote,"disconnect",function(){return P(function(i){if(i.g==1)return e.j&&t.remote.state=="disconnected"?T(i,Rm(e.j),2):i.s(2);Qr(e),ae(i)})})),t.audioTracks&&(e.l.D(t.audioTracks,"addtrack",function(){return Qr(e)}),e.l.D(t.audioTracks,"removetrack",function(){return Qr(e)}),e.l.D(t.audioTracks,"change",function(){return Qr(e)})),t.textTracks&&(e.l.D(t.textTracks,"addtrack",function(i){if(i.track)switch(i=i.track,i.kind){case"metadata":FN(e,i);break;case"chapters":BN(e,i);break;default:Qr(e)}}),e.l.D(t.textTracks,"removetrack",function(){return Qr(e)}),e.l.D(t.textTracks,"change",function(){return Qr(e)}),e.g.streaming.crossBoundaryStrategy!=="keep"&&(e.l.D(t,"waiting",function(){e.j&&o2(e.j)}),e.l.D(t,"timeupdate",function(){e.j&&o2(e.j)}))),t.preload!="none"&&e.l.ma(t,"loadedmetadata",function(){e.A.C=Date.now()/1e3-n})}function RN(e,t,n,r){var i,a,u,l,p,g,v,y,x,S,k,C,E,I,_,F,B,q,O,N,H,z,Y,K,J,ie;return P(function(ne){switch(ne.g){case 1:for(ed(e,"load"),i=e.h,e.K=new hh({$d:function(){return i.playbackRate},sc:function(){return i.defaultPlaybackRate},mg:function(ue){i.playbackRate=ue},gh:function(ue){i.currentTime+=ue}}),UA(e,i,t),a=!1,u=w(e.i.variants),l=u.next();!l.done;l=u.next())p=l.value,(g=p.video&&p.video.dependencyStream)&&(a=r5(g));DN(e,e.g,a),e.Tb=e.g.preferredTextLanguage,e.Hd=e.g.preferredTextRole,e.Fd=e.g.preferForcedSubs,_2(e.i.presentationTimeline,e.g.playRangeStart,e.g.playRangeEnd),e.o.init(function(ue,oe,pe){e.i&&e.j&&ue!=e.j.l&&Eh(e,ue,!0,oe===void 0?!1:oe,pe===void 0?0:pe)}),e.o.setMediaElement(i),e.o.setCmsdManager(e.fa),e.j=GN(e),e.j.configure(e.g.streaming),e.m=Dr,e.dispatchEvent(on("streaming")),v=n;case 2:for((x=e.j.l)||v||(v=ul(e)?e.o.chooseVariant():null),S=[],y=x||v,k=w([y.video,y.audio]),C=k.next();!C.done;C=k.next())(E=C.value)&&!E.segmentIndex&&(S.push(E.createSegmentIndex()),E.dependencyStream&&S.push(E.dependencyStream.createSegmentIndex()));if(!(0<S.length)){ne.s(4);break}return T(ne,Promise.all(S),4);case 4:if(!y||y.disabledUntilTime!=0){ne.s(2);break}if(e.H&&e.H.onInitialVariantChosen&&e.H.onInitialVariantChosen(y),e.i.isLowLatency&&(e.g.streaming.lowLatencyMode?e.configure(e.Xe):Be("Low-latency live stream detected, but low-latency streaming mode is not enabled in Shaka Player. Set streaming.lowLatencyMode configuration to true, and see https://bit.ly/3clctcj for details.")),e.L&&(xN(e.L,e.i.isLowLatency&&e.g.streaming.lowLatencyMode),SN(e.L,1e3*t)),_2(e.i.presentationTimeline,e.g.playRangeStart,e.g.playRangeEnd),I9(e.j,e.g.playRangeStart,e.g.playRangeEnd),I=function(ue){e.G=VN(e,ue),e.La=$N(e,ue),FA(e,i,!1)},e.g.streaming.startAtSegmentBoundary||(_=e.Y,_==null&&e.i.startTime&&(_=e.i.startTime),I(_)),x){ne.s(7);break}if(!e.g.streaming.startAtSegmentBoundary){ne.s(8);break}return F=e.i.presentationTimeline,B=e.Y||e.h.currentTime,e.Y==null&&e.i.startTime&&(B=e.i.startTime),q=F.Hb(),O=F.ob(),B<q?B=q:B>O&&(B=O),T(ne,XN(v,B),9);case 9:N=ne.h,I(N);case 8:Eh(e,v,!0,!1,0);case 7:return e.G.ready(),H=e.vc().find(function(ue){return ue.active}),H||((z=Pc(e.i.textStreams,e.Tb,e.Hd,e.Fd)[0]||null)&&d2(e.A.h,z,!0),v&&(z?(j5(v.audio,z,e.g)&&(e.oa=!0),e.oa&&e.B.setTextVisibility(!0),tE(e)):e.oa=!1),z&&(e.g.streaming.alwaysStreamText||e.Pf())&&(_m(e.j,z),Ch(e))),T(ne,e.j.start(r),10);case 10:e.g.abr.enabled&&(e.o.enable(),nE(e)),Qr(e),ul(e),e.i.variants.some(function(ue){return ue.primary}),((Y=e.U())&&(e.g.streaming.liveSync&&e.g.streaming.liveSync.enabled||e.i.serviceDescription||e.g.streaming.liveSync.panicMode)||e.g.streaming.vodDynamicPlaybackRate)&&(K=function(){return YA(e)},e.l.D(i,"timeupdate",K)),Y||(J=function(){return Qm(e)},e.l.D(i,"timeupdate",J),Qm(e),e.i.nextUrl&&(0<e.g.streaming.preloadNextUrlWindow&&(ie=function(){var ue;return P(function(oe){if(oe.g==1)return ue=e.Ra().end-e.h.currentTime,isNaN(ue)||!(ue<=e.g.streaming.preloadNextUrlWindow)?oe.s(0):(e.l.Ja(i,"timeupdate",ie),T(oe,e.preload(e.i.nextUrl),4));e.ya=oe.h,ae(oe)})},e.l.D(i,"timeupdate",ie)),e.l.D(i,"ended",function(){e.load(e.ya||e.i.nextUrl)}))),e.u&&e.u.onManifestUpdated(Y),e.sa=!0,ae(ne)}})}function NN(e,t){var n,r,i,a,u;return P(function(l){return l.g==1?(n=$n,r=Date.now()/1e3,i=!0,e.C=e.Lc({Xb:e.F,onError:function(p){nd(e,p)},pe:function(){},onExpirationUpdated:function(){var p=on("expirationupdated");e.dispatchEvent(p)},onEvent:function(p){e.dispatchEvent(p),p.type=="drmsessionupdate"&&i&&(i=!1,e.A.j=Date.now()/1e3-r)}}),e.C.configure(e.g.drm),a={id:0,language:"und",disabledUntilTime:0,primary:!1,audio:null,video:null,bandwidth:100,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]},u={id:0,originalId:null,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:null,mimeType:t?ci(t):"",codecs:t?di(t):"",encrypted:!0,drmInfos:[],keyIds:new Set,language:"und",originalLanguage:null,label:null,type:n.la,primary:!1,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!1,fastSwitching:!1,fullMimeTypes:new Set,isAudioMuxedInVideo:!1,baseOriginalId:null},u.fullMimeTypes.add(Dn(u.mimeType,u.codecs)),t.startsWith("audio/")?(u.type=n.V,a.audio=u):a.video=u,e.C.Z=!0,T(l,Z5(e.C,[a],[]),2)):T(l,e.C.Lb(e.h),0)})}function UN(e,t,n){var r,i,a,u,l,p,g,v,y,x,S,k;return P(function(C){switch(C.g){case 1:if(ed(e,"src-equals"),r=e.h,e.G=new Y4(r),i=!1,e.Cd.push(function(){i=!0}),e.Y!=null&&e.G.af(e.Y),e.La=zN(e,e.Y||0),e.K=new hh({$d:function(){return r.playbackRate},sc:function(){return r.defaultPlaybackRate},mg:function(E){r.playbackRate=E},gh:function(E){r.currentTime+=E}}),FA(e,r,!0),r.textTracks&&(NA(e),a=function(){var E=Ah(e).find(function(I){return I.mode!=="disabled"});E&&(E.mode="showing")},u=function(){var E=Ah(e).find(function(I){return I.mode!=="disabled"});E&&(E.mode="hidden")},e.l.D(r,"enterpictureinpicture",function(){return a()}),e.l.D(r,"leavepictureinpicture",function(){return u()}),r.remote?(e.l.D(r.remote,"connect",function(){return u()}),e.l.D(r.remote,"connecting",function(){return u()}),e.l.D(r.remote,"disconnect",function(){return u()})):"webkitCurrentPlaybackTargetIsWireless"in r&&e.l.D(r,"webkitcurrentplaybacktargetiswirelesschanged",function(){return u()}),l=r,l.webkitSupportsFullscreen&&e.l.D(l,"webkitpresentationmodechanged",function(){l.webkitPresentationMode!="inline"?a():u()})),UA(e,r,t),p=kN(e.L,e.T,n),!p.includes("#t=")&&(0<e.g.playRangeStart||isFinite(e.g.playRangeEnd))&&(p+="#t=",0<e.g.playRangeStart&&(p+=e.g.playRangeStart),isFinite(e.g.playRangeEnd)&&(p+=","+e.g.playRangeEnd)),!e.I){C.s(2);break}return T(C,e.I.destroy(),3);case 3:e.I=null;case 2:return Fs(r),r.src=p,(La()||Io())&&r.load(),r.preload!="none"&&!r.autoplay&&cb(n)&&cr()&&r.load(),e.m=Ci,e.dispatchEvent(on("streaming")),g=new Wt,Kc(r,HTMLMediaElement.HAVE_METADATA,e.l,function(){e.G.ready(),g.resolve()}),v=function(){return new Promise(function(E){var I=new kt(E);e.l.D(r.textTracks,"change",function(){return I.da(.5)}),I.da(.5)})},Kc(r,HTMLMediaElement.HAVE_CURRENT_DATA,e.l,function(){var E,I,_,F,B;return P(function(q){if(q.g==1)return T(q,v(),2);if(i)return q.return();for(ON(e),E=Ah(e),E.some(function(O){return O.mode==="showing"})&&(e.oa=!0,e.B.setTextVisibility(!0)),E.length&&(e.B.enableTextDisplayer?e.B.enableTextDisplayer():ut("Text displayer w/ enableTextDisplayer",'Text displayer should have a "enableTextDisplayer" method!')),I=!1,_=w(E),F=_.next();!F.done;F=_.next())B=F.value,B.mode!=="disabled"&&(I?(B.mode="disabled",Be("Found more than one enabled text track, disabling it",B)):(qA(e,B),I=!0));jN(e),ae(q)})}),r.error?g.reject(M2(e)):r.preload=="none"&&(Be('With <video preload="none">, the browser will not load anything until play() is called. We are unable to measure load latency in a meaningful way, and we cannot provide track info yet. Please do not use preload="none" with Shaka Player.'),g.resolve()),e.l.ma(r,"error",function(){g.reject(M2(e))}),T(C,Jp(e.g.streaming.loadTimeout,g),4);case 4:((y=e.U())&&(e.g.streaming.liveSync&&e.g.streaming.liveSync.enabled||e.g.streaming.liveSync.panicMode)||e.g.streaming.vodDynamicPlaybackRate)&&(x=function(){return YA(e)},e.l.D(r,"timeupdate",x)),y||(S=function(){return Qm(e)},e.l.D(r,"timeupdate",S),Qm(e)),e.u&&(e.u.onManifestUpdated(y),y&&(k=e.Ra().end,e.l.D(r,"progress",function(){var E=e.Ra().end;k!=E&&(e.u.onManifestUpdated(e.U()),k=E)}))),e.sa=!0,ae(C)}})}function ON(e){var t=e.g.preferredAudioLanguage;t!=""&&e.sh(t,e.g.preferredVariantRole)}function jN(e){var t=e.g.preferredTextLanguage;t!=""&&e.hg(t,e.g.preferredTextRole,e.g.preferForcedSubs)}function FN(e,t){if(t.kind=="metadata"){t.mode="hidden",e.l.D(t,"cuechange",function(){if(t.activeCues)for(var r=w(t.activeCues),i=r.next();!i.done;i=r.next())i=i.value,k2(e,i.startTime,i.endTime,i.type,i.value),e.u&&e.u.onCueMetadataChange(i.value);if(t.cues){r=[],i=w(t.cues);for(var a=i.next(),u={};!a.done;u={bc:void 0},a=i.next())u.bc=a.value,u.bc.type=="com.apple.quicktime.HLS"&&u.bc.startTime!=null&&(a=r.find(function(l){return function(p){return p.startTime==l.bc.startTime&&p.endTime==l.bc.endTime}}(u)),a||(a={startTime:u.bc.startTime,endTime:u.bc.endTime,values:[]},r.push(a)),a.values.push(u.bc.value));for(r=w(r),i=r.next();!i.done;i=r.next())i=i.value,i.values.some(function(l){return l.key=="X-ASSET-URI"||l.key=="X-ASSET-LIST"})&&e.u&&(i.values.push({key:"CUE",description:"",data:i.startTime!=0||e.U()?"ONCE":"ONCE,PRE",mimeType:null,pictureType:null}),e.u.onHLSInterstitialMetadata(e,e.h,i))}});var n=new kt(function(){var r=KN(e);r=w(r);for(var i=r.next();!i.done;i=r.next())i.value.mode="hidden"}).sb().da(.5);e.Cd.push(function(){n.stop()})}}function OA(e,t){t=new Map().set("startTime",t.startTime).set("endTime",t.endTime).set("metadataType",t.schemeIdUri).set("payload",t.payload),e.dispatchEvent(on("metadata",t))}function k2(e,t,n,r,i){e.Aa&&(t={schemeIdUri:r,startTime:t,endTime:n||1/0,id:"",payload:i},t.id=JSON.stringify(t),Wb(e.Aa,t))}function BN(e,t){if(t&&t.kind=="chapters"){t.mode="hidden";var n=new kt(function(){t.mode="hidden"}).sb().da(.5);e.Cd.push(function(){n.stop()})}}f.oj=function(){for(var e=this.Z;e.g;)e.release()},f.Lc=function(e){return new dm(e)};function jA(e,t){function n(i){t()?t().dispatchEvent(i):e.dispatchEvent(i)}function r(i){t()?xh(t(),!0,i):i()}return t||(t=function(){return null}),new an(function(i,a,u,l){var p=t()?t().j:e.o;p&&p.segmentDownloaded(i,a,u,l)},function(i,a,u){a=new Map().set("headers",i).set("request",a).set("requestType",u),n(on("downloadheadersreceived",a)),r(function(){if(e.fa){var l=e.fa;if(l.h.enabled){var p=i["cmsd-static"];if(p)try{var g=new Map,v=p.split(",");for(p=0;p<v.length;p++){var y=v[p].split("=");g.set(y[0],TA(y[1]))}}catch{}if(g=i["cmsd-dynamic"]){try{var x=new Map,S=g.split(";");for(g=1;g<S.length;g++){var k=S[g].split("=");x.set(k[0],TA(k[1]))}var C=x}catch{C=null}C&&(l.g=C)}}}})},function(i,a){i=new Map().set("request",i).set("response",a),n(on("downloadcompleted",i))},function(i,a,u,l){i=new Map().set("request",i).set("error",a).set("httpResponseCode",u).set("aborted",l),n(on("downloadfailed",i))},function(i,a,u){r(function(){var l=e.L,p=u;if(p=p===void 0?{}:p,l.g.enabled)if(a.method==="HEAD")Zc(l,a);else switch(i){case 0:try{if(l.g.enabled){if(p.type){e:{switch(p.type){case 4:var g=l.l?Wm:Km;break e;case 3:case 2:g=l.l?Ym:Xm;break e;case 5:g="s";break e}g=void 0}l.i=g}Zc(l,a,{ot:SA,su:!l.u})}}catch(ne){$t("CMCD_MANIFEST_ERROR","Could not generate manifest CMCD data.",ne)}break;case ha:try{if(l.g.enabled){var v=p.segment;g=0,v&&(g=v.endTime-v.startTime);var y={d:1e3*g,st:l.h.U()?"l":"v"};y.ot=EN(p);var x=y.ot===Hm||y.ot===zm||y.ot===qm||y.ot===Gm,S=p.stream;if(S){var k=l.h.gb();if(x&&(y.bl=CN(l,S.type),y.ot!==Gm)){var C=xA(l,S.type);y.dl=k?C/Math.abs(k):C}if(S.bandwidth&&(y.br=S.bandwidth/1e3),S.segmentIndex&&v){var E=S.segmentIndex.Gb(v.endTime,!0,0>k);if(E){var I=E.next().value;if(I&&I!=v){if(!kc(v.N(),I.N())){var _=I.N()[0],F=a.uris[0],B=new URL(_),q=new URL(F);if(B.origin!==q.origin)var O=_;else{for(var N=B.pathname.split("/").slice(1),H=q.pathname.split("/").slice(1,-1);N[0]===H[0];)N.shift(),H.shift();for(;H.length;)H.shift(),N.unshift("..");O=N.join("/")}y.nor=O}if((I.Sa||I.wa)&&(v.Sa!=I.Sa||v.wa!=I.wa)){var z=I.Sa+"-";I.wa&&(z+=I.wa),y.nrr=z}}}var Y=l.h.gb()||1,K=xA(l,S.type)||500,J=S.bandwidth,ie=J?J*(v.endTime-v.startTime)/1e3/(K/Y/1e3)*l.g.rtpSafetyFactor:NaN;isNaN(ie)||(y.rtp=ie)}}x&&y.ot!==Gm&&(y.tb=IN(l,y.ot)/1e3),Zc(l,a,y)}}catch(ne){$t("CMCD_SEGMENT_ERROR","Could not generate segment CMCD data.",ne)}break;case 2:case 5:case 6:Zc(l,a,{ot:"k"});break;case 4:Zc(l,a,{ot:"o"})}})},function(i,a,u,l){(i=t()?t().l:e.H)&&i.banLocation&&i.banLocation(l)},function(i,a){if(a.data){a=a.data.byteLength;var u=t()?t().getStats():e.A;u&&(u.mc=isNaN(u.mc)?a:u.mc+a,i===0&&(u.bh=a))}})}function VN(e,t){return new J4(e.h,e.i,e.g.streaming,t,function(){e.La&&tA(e.La,!0),e.j&&e.j.Fc(),e.M&&no(e)},function(n){return e.dispatchEvent(n)})}function $N(e,t){var n=e.U()||0<t;t=new ol(e.yd,n),t.addEventListener("enter",function(a){Ih(e,"timelineregionenter",a.region)}),t.addEventListener("exit",function(a){Ih(e,"timelineregionexit",a.region)}),t.addEventListener("skip",function(a){var u=a.region;a.seeking||(Ih(e,"timelineregionenter",u),Ih(e,"timelineregionexit",u))});var r=new ol(e.Aa,n);r.addEventListener("enter",function(a){OA(e,a.region)}),n=new ol(e.Ga,n),n.addEventListener("enter",function(a){a=new Map().set("detail",a.region.emsg),e.dispatchEvent(on("emsg",a))});var i=new Kb(e.h);return i.g.add(t),i.g.add(r),i.g.add(n),e.xd&&i.g.add(e.xd),i}function zN(e,t){t=new ol(e.Aa,0<t),t.addEventListener("enter",function(r){OA(e,r.region)});var n=new Kb(e.h);return n.g.add(t),n}function FA(e,t,n){e.M=new CR,e.M.g=Oc,BA(e),E2(e),e.pa=new kt(function(){no(e)}),e.g.streaming.rebufferingGoal&&e.pa.ua(.25),e.l.D(t,"waiting",function(){return no(e)}),e.l.D(t,"canplaythrough",function(){return no(e)}),e.l.D(t,"playing",function(){return no(e)}),e.l.D(t,"seeked",function(){return no(e)}),n&&(e.l.D(t,"stalled",function(){return no(e)}),e.l.D(t,"progress",function(){return no(e)}),e.l.D(t,"timeupdate",function(){return no(e)}))}function BA(e){var t=e.g.streaming.rebufferingGoal;e.M.i.set(ah,Math.min(.5,t/2)).set(Oc,t)}function no(e){switch(e.m){case Ci:if(e.Uc())var t=!0;else{var n=Db(e.h.buffered);t=n!=null&&n>=e.h.duration-1}break;case Dr:e:if(e.Uc()||rl(e.I))t=!0;else{if(e.i.presentationTimeline.U()){n=e.i.presentationTimeline.cc();var r=Db(e.h.buffered);if(r!=null&&r>=n){t=!0;break e}}t=!1}break;default:t=!1}r=M4(e.h.buffered,e.h.currentTime),n=e.M;var i=t,a=n.i.get(n.g);t=n.g,r=i||r>=a&&0<r?ah:Oc,n.g=r,(t=t!=r)&&r===ah&&(n.h=Date.now()),t&&E2(e)}function HN(e,t,n,r){return new U4(e,t,n,r)}function qN(e){return new m2({getBandwidthEstimate:function(){return e.o?e.o.getBandwidthEstimate():NaN},Fb:function(){return e.Fb()},getCurrentTime:function(){return e.h?e.h.currentTime:0},gb:function(){return e.gb()},xb:function(){return e.xb()},Rb:function(){return e.Rb()},U:function(){return e.U()},Zd:function(){return e.Zd()}},e.g.cmcd)}function GN(e){return new sA(e.i,{Rc:function(){return e.G?e.G.Od():0},getBandwidthEstimate:function(){return e.o.getBandwidthEstimate()},gb:function(){return e.gb()},video:e.h,aa:e.I,Xb:e.F,onError:function(t){return nd(e,t)},onEvent:function(t){return e.dispatchEvent(t)},qe:function(t,n,r){var i=t.startTime;if(t=t.endTime,n=n.type,n!=wt){if(e.G){e.G.ih();var a=Bb(e.I,n);!e.U()&&e.h.paused&&!e.h.seeking&&a!=null&&0<a&&e.G.Od()<a&&e.G.af(a)}no(e)}r=new Map().set("start",i).set("end",t).set("contentType",n).set("isMuxed",r),e.dispatchEvent(on("segmentappended",r))},fj:function(t,n){(n=n.Wc)&&e.xd&&b9(e.xd,n,t)},Fg:function(t,n){var r=e.C;if(r.g.parseInbandPsshEnabled&&!r.F&&["audio","video"].includes(t)){t=new kb(Ye(n)),n=0;for(var i=w(t.data),a=i.next();!a.done;a=i.next())n+=a.value.length;if(n==0)r=Promise.resolve();else{for(n=new Uint8Array(n),i=0,t=w(t.data),a=t.next();!a.done;a=t.next())a=a.value,n.set(a,i),i+=a.length;nh(r,"cenc",n),r=r.m}}else r=Promise.resolve();return r},disableStream:function(t,n){return e.disableStream(t,n)}})}f.configure=function(e,t){if(arguments.length==2&&typeof e=="string"&&(e=Um(e,t)),e.streaming&&"forceTransmuxTS"in e.streaming&&(ut("streaming.forceTransmuxTS configuration","Please Use mediaSource.forceTransmux instead."),e.mediaSource.mediaSource=e.streaming.forceTransmuxTS,delete e.streaming.forceTransmuxTS),e.streaming&&"forceTransmux"in e.streaming&&(ut("streaming.forceTransmux configuration","Please Use mediaSource.forceTransmux instead."),e.mediaSource.mediaSource=e.streaming.forceTransmux,delete e.streaming.forceTransmux),e.streaming&&"useNativeHlsOnSafari"in e.streaming&&(ut("streaming.useNativeHlsOnSafari configuration","Please Use streaming.useNativeHlsForFairPlay or streaming.preferNativeHls instead."),e.streaming.preferNativeHls=e.streaming.useNativeHlsOnSafari&&cr(),delete e.streaming.useNativeHlsOnSafari),e.streaming&&typeof e.streaming.liveSync=="boolean"){ut("streaming.liveSync","Please Use streaming.liveSync.enabled instead.");var n=e.streaming.liveSync;e.streaming.liveSync={},e.streaming.liveSync.enabled=n}if(e.streaming&&!(e.streaming.liveSync&&"targetLatency"in e.streaming.liveSync)&&("liveSyncMinLatency"in e.streaming||"liveSyncMaxLatency"in e.streaming)){n=e.streaming.liveSyncMinLatency||0;var r=Math.abs((e.streaming.liveSyncMaxLatency||1)-n)/2;e.streaming.liveSync=e.streaming.liveSync||{},e.streaming.liveSync.targetLatency=n+r,e.streaming.liveSync.targetLatencyTolerance=r}if(e.streaming&&"liveSyncMaxLatency"in e.streaming&&(ut("streaming.liveSyncMaxLatency","Please Use streaming.liveSync.targetLatency and streaming.liveSync.targetLatencyTolerance instead. Or, set the values in your DASH manifest"),delete e.streaming.liveSyncMaxLatency),e.streaming&&"liveSyncMinLatency"in e.streaming&&(ut("streaming.liveSyncMinLatency","Please Use streaming.liveSync.targetLatency and streaming.liveSync.targetLatencyTolerance instead. Or, set the values in your DASH manifest"),delete e.streaming.liveSyncMinLatency),e.streaming&&"liveSyncTargetLatency"in e.streaming&&(ut("streaming.liveSyncTargetLatency","Please Use streaming.liveSync.targetLatency instead."),e.streaming.liveSync=e.streaming.liveSync||{},e.streaming.liveSync.targetLatency=e.streaming.liveSyncTargetLatency,delete e.streaming.liveSyncTargetLatency),e.streaming&&"liveSyncTargetLatencyTolerance"in e.streaming&&(ut("streaming.liveSyncTargetLatencyTolerance","Please Use streaming.liveSync.targetLatencyTolerance instead."),e.streaming.liveSync=e.streaming.liveSync||{},e.streaming.liveSync.targetLatencyTolerance=e.streaming.liveSyncTargetLatencyTolerance,delete e.streaming.liveSyncTargetLatencyTolerance),e.streaming&&"liveSyncPlaybackRate"in e.streaming&&(ut("streaming.liveSyncPlaybackRate","Please Use streaming.liveSync.maxPlaybackRate instead."),e.streaming.liveSync=e.streaming.liveSync||{},e.streaming.liveSync.maxPlaybackRate=e.streaming.liveSyncPlaybackRate,delete e.streaming.liveSyncPlaybackRate),e.streaming&&"liveSyncMinPlaybackRate"in e.streaming&&(ut("streaming.liveSyncMinPlaybackRate","Please Use streaming.liveSync.minPlaybackRate instead."),e.streaming.liveSync=e.streaming.liveSync||{},e.streaming.liveSync.minPlaybackRate=e.streaming.liveSyncMinPlaybackRate,delete e.streaming.liveSyncMinPlaybackRate),e.streaming&&"liveSyncPanicMode"in e.streaming&&(ut("streaming.liveSyncPanicMode","Please Use streaming.liveSync.panicMode instead."),e.streaming.liveSync=e.streaming.liveSync||{},e.streaming.liveSync.panicMode=e.streaming.liveSyncPanicMode,delete e.streaming.liveSyncPanicMode),e.streaming&&"liveSyncPanicThreshold"in e.streaming&&(ut("streaming.liveSyncPanicThreshold","Please Use streaming.liveSync.panicThreshold instead."),e.streaming.liveSync=e.streaming.liveSync||{},e.streaming.liveSync.panicThreshold=e.streaming.liveSyncPanicThreshold,delete e.streaming.liveSyncPanicThreshold),e.mediaSource&&"sourceBufferExtraFeatures"in e.mediaSource){ut("mediaSource.sourceBufferExtraFeatures configuration","Please Use mediaSource.addExtraFeaturesToSourceBuffer() instead.");var i=e.mediaSource.sourceBufferExtraFeatures;e.mediaSource.addExtraFeaturesToSourceBuffer=function(){return i},delete e.mediaSource.sourceBufferExtraFeatures}if(e.manifest&&e.manifest.hls&&"useSafariBehaviorForLive"in e.manifest.hls&&(ut("manifest.hls.useSafariBehaviorForLive configuration","Please Use liveSync config to keep on live Edge instead."),delete e.manifest.hls.useSafariBehaviorForLive),e.streaming&&"parsePrftBox"in e.streaming&&(ut("streaming.parsePrftBox configuration","Now fired without needing a configuration."),delete e.streaming.parsePrftBox),e.manifest&&e.manifest.dash&&"enableAudioGroups"in e.manifest.dash&&(ut("manifest.dash.enableAudioGroups configuration","It is now enabled by default and cannot be disabled."),delete e.manifest.dash.enableAudioGroups),e.streaming&&"dispatchAllEmsgBoxes"in e.streaming&&(ut("streaming.dispatchAllEmsgBoxes configuration","Please Use mediaSource.dispatchAllEmsgBoxes instead."),e.mediaSource.dispatchAllEmsgBoxes=e.streaming.dispatchAllEmsgBoxes,delete e.streaming.dispatchAllEmsgBoxes),e.streaming&&"autoLowLatencyMode"in e.streaming&&(ut("streaming.autoLowLatencyMode configuration","Please Use streaming.lowLatencyMode instead."),e.streaming.lowLatencyMode=e.streaming.autoLowLatencyMode,delete e.streaming.autoLowLatencyMode),e.manifest&&e.manifest.dash&&"ignoreSupplementalCodecs"in e.manifest.dash&&(ut("manifest.dash.ignoreSupplementalCodecs configuration","Please Use manifest.ignoreSupplementalCodecs instead."),e.manifest.ignoreSupplementalCodecs=e.manifest.dash.ignoreSupplementalCodecs,delete e.manifest.dash.ignoreSupplementalCodecs),e.manifest&&e.manifest.hls&&"ignoreSupplementalCodecs"in e.manifest.hls&&(ut("manifest.hls.ignoreSupplementalCodecs configuration","Please Use manifest.ignoreSupplementalCodecs instead."),e.manifest.ignoreSupplementalCodecs=e.manifest.hls.ignoreSupplementalCodecs,delete e.manifest.hls.ignoreSupplementalCodecs),e.manifest&&e.manifest.dash&&"updatePeriod"in e.manifest.dash&&(ut("manifest.dash.updatePeriod configuration","Please Use manifest.updatePeriod instead."),e.manifest.updatePeriod=e.manifest.dash.updatePeriod,delete e.manifest.dash.updatePeriod),e.manifest&&e.manifest.hls&&"updatePeriod"in e.manifest.hls&&(ut("manifest.hls.updatePeriod configuration","Please Use manifest.updatePeriod instead."),e.manifest.updatePeriod=e.manifest.hls.updatePeriod,delete e.manifest.hls.updatePeriod),e.manifest&&e.manifest.dash&&"ignoreDrmInfo"in e.manifest.dash&&(ut("manifest.dash.ignoreDrmInfo configuration","Please Use manifest.ignoreDrmInfo instead."),e.manifest.ignoreDrmInfo=e.manifest.dash.ignoreDrmInfo,delete e.manifest.dash.ignoreDrmInfo),e.drm&&e.drm.advanced){n=!1;for(var a in e.drm.advanced){var u=e.drm.advanced[a];r=u.videoRobustness,u=u.audioRobustness,"videoRobustness"in e.drm.advanced[a]&&!Array.isArray(e.drm.advanced[a].videoRobustness)&&(e.drm.advanced[a].videoRobustness=[r],n=!0),"audioRobustness"in e.drm.advanced[a]&&!Array.isArray(e.drm.advanced[a].audioRobustness)&&(e.drm.advanced[a].audioRobustness=[u],n=!0)}n&&ut("AdvancedDrmConfiguration's videoRobustness and audioRobustness","These properties are no longer strings but array of strings, please update your usage of these properties.")}return e.streaming&&"crossBoundaryStrategy"in e.streaming&&e.streaming.crossBoundaryStrategy!="keep"&&(e.streaming.inaccurateManifestTolerance=0),a=Bs(this.g,e,Ho(this)),VA(this),a},f.ci=function(e){this.Xe=e};function VA(e){if(e.te=new Cb(e.g,e.ka,e.C),e.H){var t=Na(e.g.manifest);e.h&&e.h.nodeName==="AUDIO"&&(t.disableVideo=!0),e.H.configure(t)}if(e.C&&e.C.configure(e.g.drm),e.j){e.j.configure(e.g.streaming);try{e.m!=fa&&m4(e.te,e.i)&&Qr(e)}catch(i){nd(e,i)}e.o&&ul(e),t=e.j.l,!t||t.allowedByApplication&&t.allowedByKeySystem||td(e)}if(e.F&&(e.F.kg(e.g.streaming.forceHTTP),e.F.lg(e.g.streaming.forceHTTPS),e.F.o=e.g.streaming.minBytesForProgressEvents),e.I&&(e.I.configure(e.g.mediaSource),e.I.Ea=e.g.manifest.segmentRelativeVttTiming),e.B)if(t=e.g.textDisplayFactory,e.Se!=t){var n=e.B;if(e.B=t(),e.B.configure?e.B.configure(e.g.textDisplayer):ut("Text displayer w/ configure",'Text displayer should have a "configure" method!'),e.B.setTextLanguage||ut("Text displayer w/ setTextLanguage",'Text displayer should have a "setTextLanguage" method!'),e.B.setTextVisibility(n.isTextVisible()),n.destroy(),e.I){n=e.I;var r=e.B;n.ea=r,n.h&&(n.h.j=r)}e.Se=t,e.j&&(t=e.j,(n=t.i.get(wt))&&Wc(t,n.stream,!0,0,!0))}else e.B.configure&&e.B.configure(e.g.textDisplayer);e.o&&(e.o.configure(e.g.abr),e.g.abr.enabled?e.o.enable():e.o.disable(),nE(e)),e.M&&BA(e),e.pa&&(e.g.streaming.rebufferingGoal?e.pa.ua(.25):e.pa.stop()),e.i&&_2(e.i.presentationTimeline,e.g.playRangeStart,e.g.playRangeEnd),e.u&&e.u.configure(e.g.ads),e.L&&e.L.configure(e.g.cmcd),e.fa&&e.fa.configure(e.g.cmsd)}f.getConfiguration=function(){var e=Ho(this);return Bs(e,this.g,Ho(this)),e},f.ki=function(){return this.Xe},f.Vg=function(){var e=Ho(this);return Bs(e,this.g,Ho(this)),cA(this.g,Ho(this))},f.Qg=function(){if(this.h){var e=this.h.buffered.length;e=e?this.h.buffered.end(e-1):0;var t=this.getConfiguration().streaming.bufferingGoal;if(t=Math.min(this.h.currentTime+t,this.Ra().end),e>=t)return 1;if(!(e<=this.h.currentTime)&&e<t)return(e-this.h.currentTime)/(t-this.h.currentTime)}return 0},f.sj=function(){for(var e in this.g)delete this.g[e];Bs(this.g,Ho(this),Ho(this)),VA(this)},f.ti=function(){return this.m},f.Tg=function(){return this.i?this.i.type:null},f.xi=function(){return this.h},f.xb=function(){return this.F},f.Qc=function(){return this.T},f.Pg=function(){return this.u?this.u:null},f.U=function(){return this.i&&!this.Pa()?this.i.presentationTimeline.U():this.h&&this.h.src?this.h.duration==1/0:!1},f.yc=function(){return this.i?this.i.presentationTimeline.yc():!1},f.Qi=function(){if(this.i&&!this.Pa()){var e=this.i.variants;return e.length?!e[0].video:!1}return this.h&&this.h.src?this.h.videoTracks?this.h.videoTracks.length==0:this.h.videoHeight==0:!1},f.Ra=function(){if(this.i&&!this.Pa()){if(!this.sa&&this.i.type=="HLS")return{start:0,end:0};var e=this.i.presentationTimeline;return{start:e.Hb(),end:e.ob()}}if(this.h&&this.h.src&&(e=this.h.seekable)&&e.length){var t=this.g?this.g.playRangeStart:0;t=Math.max(e.start(0),t);var n=this.g?this.g.playRangeEnd:1/0;return e=Math.min(e.end(e.length-1),n),{start:t,end:e}}return{start:0,end:0}},f.Ni=function(){this.U()&&(this.h.currentTime=this.Ra().end)},f.Ri=function(){return this.sa},f.keySystem=function(){var e=this.drmInfo();return e?e.keySystem:""},f.drmInfo=function(){return this.C?this.C.h:null},f.pd=function(){return this.C?this.C.pd():1/0},f.Gf=function(){return this.C?this.C.Gf():[]},f.Yd=function(){return this.C?this.C.Yd():{}},f.Of=function(){return this.M?this.M.g==Oc:!1},f.gb=function(){return this.h?this.K?this.K.i:1:0},f.Md=function(e,t){t=t===void 0?!0:t,e==0?Be("A trick play rate of 0 is unsupported!"):(this.K.set(e),this.m==Dr&&(this.o.playbackRateChanged(e),Zb(this.j,t&&1<Math.abs(e))),XA(this,e))},f.gd=function(){var e=this.K.sc();this.m==Ci&&this.K.set(e),this.m==Dr&&(this.K.set(e),this.o.playbackRateChanged(e),Zb(this.j,!1)),this.Na.Qa()},f.Rb=function(){if(this.i&&!this.Pa()){for(var e=this.j?this.j.l:null,t=[],n=0,r=w(this.i.variants),i=r.next();!i.done;i=r.next())if(i=i.value,th(i)){var a=Xu(i);a.active=i==e,a.active||n==1||e==null||i.video!=e.video||i.audio!=e.audio||(a.active=!0),a.active&&n++,t.push(a)}return t}return this.h&&this.h.audioTracks?Array.from(this.h.audioTracks).map(function(u){return vb(u)}):[]},f.vc=function(){if(this.i&&!this.Pa()){for(var e=this.j?this.j.u:null,t=[],n=w(this.i.textStreams),r=n.next();!r.done;r=n.next()){r=r.value;var i=eh(r);i.active=r==e,t.push(i)}return t}return this.h&&this.h.src&&this.h.textTracks?Ah(this).map(function(a){return L5(a)}):[]},f.pi=function(){var e=this.Oe;return this.i&&(e=this.i.imageStreams),e.map(function(t){return gb(t)})},f.fi=function(e){var t=this,n,r;return P(function(i){return i.g==1?T(i,zA(t,e),2):(n=i.h,n?(r=[],n.segmentIndex.Eb(function(a){var u=$A(a.tilesLayout||n.tilesLayout);if(u){u=u.rows*u.oc;for(var l=a.j-a.startTime,p=0;p<u;p++){var g=HA(n,a.startTime+l*p/u);g&&r.push(g)}}}),n.closeSegmentIndex&&n.closeSegmentIndex(),i.return(r)):i.return(null))})};function $A(e){return e&&(e=/(\d+)x(\d+)/.exec(e))?{oc:parseInt(e[1],10),rows:parseInt(e[2],10)}:null}f.Hi=function(e,t){var n=this,r;return P(function(i){return i.g==1?T(i,zA(n,e),2):(r=i.h)?i.return(HA(r,t)):i.return(null)})};function zA(e,t){var n,r;return P(function(i){return i.g==1?e.m!=Dr&&e.m!=Ci||(n=e.Oe,e.i&&(n=e.i.imageStreams),r=n[0],!r)?i.return(null):(t!=null&&(r=n.find(function(a){return a.id==t})),r?r.segmentIndex?i.s(2):T(i,r.createSegmentIndex(),2):i.return(null)):i.return(r)})}function HA(e,t){var n=e.segmentIndex.find(t);if(n==null)return null;n=e.segmentIndex.get(n);var r=$A(n.tilesLayout||e.tilesLayout);if(!r)return null;var i=e.width||0,a=e.height||0,u=i/r.oc,l=a/r.rows,p=r.oc*r.rows,g=n.j-n.startTime;g=n.B||g/p;var v=n.startTime,y=0,x=0;return 1<p&&(t=Math.floor((t-n.startTime)/g),v=n.startTime+t*g,y=t%r.oc*u,x=Math.floor(t/r.oc)*l),t=!1,(r=n.thumbnailSprite)&&(t=!0,l=r.height,y=r.positionX,x=r.positionY,u=r.width),{segment:n,imageHeight:a,imageWidth:i,height:l,positionX:y,positionY:x,startTime:v,duration:g,uris:n.N(),width:u,sprite:t,mimeType:n.mimeType||e.mimeType,codecs:n.codecs||e.codecs}}f.th=function(e){function t(){var r=n.i.textStreams.find(function(i){return i.id==e.id});r&&r!=n.j.u&&(d2(n.A.h,r,!1),_m(n.j,r),Zm(n),Ch(n),n.Tb=r.language)}var n=this;this.i&&this.G&&(t(),!this.Pa())||function(){if(n.h&&n.h.textTracks){var r=Ah(n),i=r.find(function(a){return a.mode!=="disabled"});(r=r.find(function(a){return mb(a)===e.id}))&&(i!==r&&(i&&(i.mode="disabled",n.l.Ja(i,"cuechange"),n.B.remove(0,1/0)),r&&qA(n,r)),Zm(n),Ch(n))}}()};function qA(e,t){e.l.D(t,"cuechange",function(){e.B.remove(0,Math.max(0,e.h.currentTime-e.g.streaming.bufferBehind));var n={periodStart:0,segmentStart:0,segmentEnd:e.h.duration,vttOffset:0},r=[],i=Array.from(t.activeCues||[]);i=w(i);for(var a=i.next();!a.done;a=i.next()){if(a=a.value,a.endTime===1/0||a.endTime<a.startTime)a=null;else{var u=new un(a.startTime,a.endTime,a.text);u.line=typeof a.line=="number"?a.line:null,a.lineAlign&&(u.lineAlign=a.lineAlign),u.lineInterpretation=a.snapToLines?Xp:1,u.position=typeof a.position=="number"?a.position:null,a.positionAlign&&(u.positionAlign=a.positionAlign),u.size=a.size,u.textAlign=a.align,a.vertical==="lr"?u.writingMode="vertical-lr":a.vertical==="rl"&&(u.writingMode="vertical-rl"),a.region&&(u.region.id=a.region.id,u.region.height=a.region.lines,u.region.heightUnits=2,u.region.regionAnchorX=a.region.regionAnchorX,u.region.regionAnchorY=a.region.regionAnchorY,u.region.scroll=a.region.scroll,u.region.viewportAnchorX=a.region.viewportAnchorX,u.region.viewportAnchorY=a.region.viewportAnchorY,u.region.viewportAnchorUnits=li,u.region.width=a.region.width,u.region.widthUnits=li),Jg(u),a=u}a&&((u=e.g.mediaSource.modifyCueCallback)&&u(a,null,n),r.push(a))}e.B.append(r)}),t.mode=document.pictureInPictureElement?"showing":"hidden"}f.Be=function(e,t,n){function r(){var a=i.i.variants.find(function(l){return l.id==e.id});if(a&&th(a)){var u=i.j.l;i.g.abr.enabled&&(u.video!=a.video||u.audio&&a.audio&&u.audio.language==a.audio.language&&u.audio.channelsCount==a.audio.channelsCount&&u.audio.label==a.audio.label)&&Be("Changing tracks while abr manager is enabled will likely result in the selected track being overridden. Consider disabling abr before calling selectVariantTrack()."),i.Pa()?Eh(i,a,!1,!1,0):Eh(i,a,!1,t||!1,n||0),i.W.configure({language:a.language,role:a.audio&&a.audio.roles&&a.audio.roles[0]||"",channelCount:a.audio&&a.audio.channelsCount?a.audio.channelsCount:0,Sc:a.video&&a.video.hdr?a.video.hdr:"",spatialAudio:a.audio&&a.audio.spatialAudio?a.audio.spatialAudio:!1,videoLayout:a.video&&a.video.videoLayout?a.video.videoLayout:"",Kc:a.audio&&a.audio.label?a.audio.label:"",fd:"",codecSwitchingStrategy:i.g.mediaSource.codecSwitchingStrategy,audioCodec:a.audio&&a.audio.codecs?a.audio.codecs:""}),ul(i)}}var i=this;t=t===void 0?!1:t,n=n===void 0?0:n,!(this.i&&this.G&&(r(),!this.Pa()))&&function(){if(i.h&&i.h.audioTracks){var a=Array.from(i.h.audioTracks);a=w(a);for(var u=a.next();!u.done;u=a.next())if(u=u.value,mb(u)==e.id){JA(i,u);break}}}()},f.xj=function(e,t){t=t===void 0?0:t;var n=this.Rb();if(n.length){var r=n.find(function(i){return i.active});r&&(n=n.find(function(i){return i.videoId===r.videoId&&i.language==e.language&&i.label==e.label&&i.audioMimeType==e.mimeType&&i.audioCodec==e.codecs&&i.primary==e.primary&&kc(i.audioRoles,e.roles)&&i.accessibilityPurpose==e.accessibilityPurpose&&i.channelsCount==e.channelsCount&&i.audioSamplingRate==e.audioSamplingRate&&i.spatialAudio==e.spatialAudio}))&&!n.active&&this.Be(n,!0,t)}},f.getAudioTracks=function(){var e=this.Rb();if(!e.length)return[];var t=e.find(function(i){return i.active});if(!t)return[];var n=e;if(this.m==Dr&&(n=e.filter(function(i){return i.originalVideoId===t.originalVideoId&&i.audioCodec})),!n.length)return[];e=new Set,n=w(n);for(var r=n.next();!r.done;r=n.next())r=r.value,e.add({active:r.active,language:r.language,label:r.label,mimeType:r.audioMimeType,codecs:r.audioCodec,primary:r.primary,roles:r.audioRoles||[],accessibilityPurpose:r.accessibilityPurpose,channelsCount:r.channelsCount,audioSamplingRate:r.audioSamplingRate,spatialAudio:r.spatialAudio,originalLanguage:r.originalLanguage});return e.size?Array.from(e):[]},f.hi=function(){return aE(this.Rb())},f.Fi=function(){return aE(this.vc())},f.gi=function(){return Array.from(iE(this.Rb()))},f.Ei=function(){return Array.from(iE(this.vc()))},f.sh=function(e,t,n,r,i,a,u){function l(){function g(k,C){return k.video||C.video?k.video&&C.video?Math.abs((k.video.height||0)-(C.video.height||0))+Math.abs((k.video.width||0)-(C.video.width||0)):1/0:0}p.W=p.g.adaptationSetCriteriaFactory(),p.W.configure({language:e,role:t||"",channelCount:n||0,Sc:"",spatialAudio:a||!1,videoLayout:"",Kc:u||"",fd:"",codecSwitchingStrategy:p.g.mediaSource.codecSwitchingStrategy,audioCodec:i||""});var v=p.j.l,y=p.W.create(p.i.variants),x=null;y=w(y.values());for(var S=y.next();!S.done;S=y.next())S=S.value,th(S)&&(!x||g(x,v)>g(S,v))&&(x=S);x!=v&&(x?(v=Xu(x),p.Be(v,!0,r||0)):td(p))}var p=this;n=n===void 0?0:n,r=r===void 0?0:r,i=i===void 0?"":i,a=a===void 0?!1:a,u=u===void 0?"":u,!(this.i&&this.G&&(l(),!this.Pa()))&&function(){if(p.h&&p.h.audioTracks){var g=Pc(p.Rb(),e,t||"",!1)[0];g&&p.Be(g)}}()},f.hg=function(e,t,n){function r(){i.Tb=e,i.Hd=t||"",i.Fd=n||!1;var a=Pc(i.i.textStreams,i.Tb,i.Hd,i.Fd)[0]||null;a&&a!=i.j.u&&(d2(i.A.h,a,!1),i.g.streaming.alwaysStreamText||i.Pf())&&(_m(i.j,a),Zm(i),Ch(i))}var i=this;n=n===void 0?!1:n,!(this.i&&this.G&&(r(),!this.Pa()))&&function(){var a=Pc(i.vc(),e,t||"",n||!1)[0];a&&i.th(a)}()},f.yj=function(e,t,n){function r(){for(var a=null,u=w(i.i.variants),l=u.next();!l.done;l=u.next())if(l=l.value,l.audio.label==e){a=l;break}a!=null&&(i.W=i.g.adaptationSetCriteriaFactory(),i.W.configure({language:a.language,role:"",channelCount:0,Sc:"",spatialAudio:!1,videoLayout:"",fd:"",Kc:e,codecSwitchingStrategy:i.g.mediaSource.codecSwitchingStrategy,audioCodec:""}),td(i,t,n))}var i=this;t=t===void 0?!0:t,n=n===void 0?0:n,!(this.i&&this.G&&(r(),!this.Pa()))&&function(){if(i.h&&i.h.audioTracks){var a=Array.from(i.h.audioTracks),u=null;a=w(a);for(var l=a.next();!l.done;l=a.next())l=l.value,l.label==e&&(u=l);u&&JA(i,u)}}()},f.Pf=function(){var e=this.oa;return this.B?this.B.isTextVisible():e},f.Rg=function(){return this.h&&this.h.currentSrc&&this.h.textTracks?GA(this).map(function(e){return L5(e)}):[]},f.ji=function(e){if(!this.h||!this.h.currentSrc||!this.h.textTracks)return[];var t=Jt(e),n=GA(this).filter(function(l){return Jt(l.language)==t});if(!n||!n.length)return[];e=[];var r=new Set;n=w(n);for(var i=n.next();!i.done;i=n.next())if((i=i.value)&&i.cues){i=w(i.cues);for(var a=i.next();!a.done;a=i.next()){var u=a.value;(a=u.id)&&a!=""||(a=u.startTime+"-"+u.endTime+"-"+u.text),u={id:a,title:u.text,startTime:u.startTime,endTime:u.endTime},r.has(a)||(e.push(u),r.add(a))}}return e};function Ah(e){return Array.from(e.h.textTracks).filter(function(t){return t.kind!="metadata"&&t.kind!="chapters"&&t.label!="Shaka Player TextTrack"})}function KN(e){return Array.from(e.h.textTracks).filter(function(t){return t.kind=="metadata"})}function GA(e){return Array.from(e.h.textTracks).filter(function(t){return t.kind=="chapters"})}f.zh=function(e){e=!!e,this.oa!=e&&(this.oa=e,this.m==Dr?(this.B.setTextVisibility(e),this.g.streaming.alwaysStreamText||(e?this.j.u||(e=Pc(this.i.textStreams,this.Tb,this.Hd,this.Fd),0<e.length&&(_m(this.j,e[0]),Zm(this),Ch(this))):_9(this.j))):this.h&&this.h.src&&this.h.textTracks&&this.B.setTextVisibility(e),tE(this))},f.yi=function(){if(this.G)var e=this.G.Od();else{if(this.Y==null)return new Date;e=this.Y}if(this.i&&!this.Pa()){var t=this.i.presentationTimeline;return new Date(1e3*((t.m||t.i)+e))}return this.h&&this.h.getStartDate?(t=this.h.getStartDate(),isNaN(t.getTime())?null:new Date(t.getTime()+1e3*e)):null},f.Wg=function(){if(this.i&&!this.Pa()){var e=this.i.presentationTimeline;return new Date(1e3*(e.m||e.i))}return this.h&&this.h.getStartDate?(e=this.h.getStartDate(),isNaN(e.getTime())?null:e):null},f.ae=function(){return this.U()&&this.i?this.i.presentationTimeline.ae():null},f.Fb=function(){if(this.m==Dr)return this.I.Fb();var e={total:[],audio:[],video:[],text:[]};return this.m==Ci&&(e.total=Bo(this.h.buffered)),e},f.Zd=function(){if(!this.h||!this.h.currentTime)return null;var e=this.Wg().getTime()+1e3*this.h.currentTime;return Math.floor(Date.now()-e)},f.getStats=function(){if(this.m!=Dr&&this.m!=Ci)return{width:NaN,height:NaN,streamBandwidth:NaN,decodedFrames:NaN,droppedFrames:NaN,corruptedFrames:NaN,stallsDetected:NaN,gapsJumped:NaN,estimatedBandwidth:NaN,completionPercent:NaN,loadLatency:NaN,manifestTimeSeconds:NaN,drmTimeSeconds:NaN,playTime:NaN,pauseTime:NaN,bufferingTime:NaN,licenseTime:NaN,liveLatency:NaN,maxSegmentDuration:NaN,manifestSizeBytes:NaN,bytesDownloaded:NaN,nonFatalErrorCount:NaN,manifestPeriodCount:NaN,manifestGapCount:NaN,switchHistory:[],stateHistory:[]};C2(this);var e=this.h,t=e.currentTime/e.duration;if(!isNaN(t)&&!this.U()){var n=this.A;t=Math.round(100*t),n.i=isNaN(n.i)?t:Math.max(n.i,t)}if(this.G&&(this.A.P=this.G.zg(),this.A.T=this.G.Ag()),e.getVideoPlaybackQuality){n=e.getVideoPlaybackQuality(),t=this.A;var r=Number(n.totalVideoFrames);t.O=Number(n.droppedVideoFrames),t.M=r,this.A.L=Number(n.corruptedVideoFrames)}if(this.C?(n=this.C,n=n.H?n.H:NaN):n=NaN,this.A.o=n,this.m==Dr){if(n=this.j.l,t=this.j.u,n){r=this.K?this.K.i:1;var i=r*n.bandwidth;t&&t.bandwidth&&(i+=r*t.bandwidth),this.A.A=i}n&&n.video&&(t=this.A,r=n.video.height||NaN,t.m=n.video.width||NaN,t.l=r),this.U()&&(n=this.Zd()||0,this.A.B=n/1e3),this.i&&(this.A.G=this.i.periodCount,this.A.F=this.i.gapCount,this.i.presentationTimeline&&(this.A.I=this.i.presentationTimeline.h)),n=this.o.getBandwidthEstimate(),this.A.u=n}this.m==Ci&&(n=this.A,n.mc=isNaN(n.mc)?NaN:n.mc+NaN,n=this.A,t=e.videoHeight||NaN,n.m=e.videoWidth||NaN,n.l=t);var a=this.A;e=a.m,n=a.l,t=a.A,r=a.M,i=a.O;var u=a.L,l=a.T,p=a.P,g=a.u,v=a.i,y=a.C,x=a.H,S=a.j,k=c2(a.g,"playing"),C=c2(a.g,"paused"),E=c2(a.g,"buffering"),I=a.o,_=a.B,F=a.I,B=a.bh,q=a.mc,O=a.K,N=a.G,H=a.F,z=nN(a.g),Y=[];a=w(a.h.g);for(var K=a.next();!K.done;K=a.next())K=K.value,Y.push({timestamp:K.timestamp,id:K.id,type:K.type,fromAdaptation:K.fromAdaptation,bandwidth:K.bandwidth});return{width:e,height:n,streamBandwidth:t,decodedFrames:r,droppedFrames:i,corruptedFrames:u,stallsDetected:l,gapsJumped:p,estimatedBandwidth:g,completionPercent:v,loadLatency:y,manifestTimeSeconds:x,drmTimeSeconds:S,playTime:k,pauseTime:C,bufferingTime:E,licenseTime:I,liveLatency:_,maxSegmentDuration:F,manifestSizeBytes:B,bytesDownloaded:q,nonFatalErrorCount:O,manifestPeriodCount:N,manifestGapCount:H,stateHistory:z,switchHistory:Y}},f.Rh=function(e,t,n,r,i,a,u){u=u===void 0?!1:u;var l=this,p,g,v,y,x,S,k,C,E,I,_,F,B;return P(function(q){switch(q.g){case 1:if(l.m!=Dr&&l.m!=Ci)throw new $(1,7,7004);if(n!="subtitles"&&n!="captions"&&Be("Using a kind value different of `subtitles` or `captions` can cause unwanted issues."),r){q.s(2);break}return T(q,T2(l,e),3);case 3:r=q.h;case 2:if(p=[],l.u&&(p=l.u.getCuePoints()),l.m!=Ci){q.s(4);break}return u&&(n="forced"),T(q,KA(l,e,t,n,r,a||"",p),5);case 5:if(g=Jt(t),v=l.vc(),y=v.find(function(O){return Jt(O.language)==g&&O.label==(a||"")&&O.kind==n}))return Qr(l),q.return(y);throw new $(1,2,2012);case 4:if(x=$n,S=l.Ra(),k=S.end-S.start,l.i&&(k=l.i.presentationTimeline.getDuration()),k==1/0)throw new $(1,4,4033);if(!p.length){q.s(6);break}return T(q,A2(l,e,l.F,l.g.streaming.retryParameters),7);case 7:C=q.h,E=WA(l,C,r,p),I=new Blob([E],{type:"text/vtt"}),e=zb(I),r="text/vtt";case 6:if(_={id:l.We++,originalId:null,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:Am(0,k,[e]),mimeType:r||"",codecs:i||"",kind:n,encrypted:!1,drmInfos:[],keyIds:new Set,language:t,originalLanguage:t,label:a||null,type:x.za,primary:!1,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:null,roles:[],forced:!!u,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!0,fastSwitching:!1,fullMimeTypes:new Set([Dn(r||"",i||"")]),isAudioMuxedInVideo:!1,baseOriginalId:null},F=Dn(_.mimeType,_.codecs),B=_c(F),!B)throw new $(2,2,2014,r);return l.i.textStreams.push(_),Qr(l),q.return(eh(_))}})},f.Sh=function(e,t){var n=this,r,i,a,u,l,p,g,v,y,x,S,k,C,E,I,_,F,B;return P(function(q){switch(q.g){case 1:if(n.m!=Dr&&n.m!=Ci)throw new $(1,7,7004);if(t){q.s(2);break}return T(q,T2(n,e),3);case 3:t=q.h;case 2:if(t!="text/vtt")throw new $(1,2,2017,e);if(r=$n,i=n.Ra(),a=i.end-i.start,n.i&&(a=n.i.presentationTimeline.getDuration()),a==1/0)throw new $(1,4,4045);return T(q,A2(n,e,n.F,n.g.streaming.retryParameters),4);case 4:if(u=q.h,l=em(t),!l)throw new $(2,2,2014,t);for(p=l(),g={periodStart:0,segmentStart:0,segmentEnd:a,vttOffset:0},v=Ye(u),y=p.parseMedia(v,g,e,[]),x=[],S=w(y),k=S.next(),C={};!k.done;C={Ne:void 0,Mc:void 0},k=S.next())C.Mc=k.value,C.Ne=null,E=function(O){return function(){return O.Ne==null&&(O.Ne=Qn([e],[O.Mc.payload])),O.Ne||[]}}(C),I=new Ge(C.Mc.startTime,C.Mc.endTime,E,0,null,null,0,0,1/0),C.Mc.payload.includes("#xywh")&&(_=C.Mc.payload.split("#xywh=")[1].split(","),_.length===4&&I.De({height:parseInt(_[3],10),positionX:parseInt(_[0],10),positionY:parseInt(_[1],10),width:parseInt(_[2],10)})),x.push(I);if(F=t,!x.length){q.s(5);break}return T(q,sl(x[0].N()[0],n.F,n.g.manifest.retryParameters),6);case 6:F=q.h;case 5:return B={id:n.We++,originalId:null,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new Ft(x),mimeType:F||"",codecs:"",kind:"",encrypted:!1,drmInfos:[],keyIds:new Set,language:"und",originalLanguage:null,label:null,type:r.$e,primary:!1,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,tilesLayout:"1x1",accessibilityPurpose:null,external:!0,fastSwitching:!1,fullMimeTypes:new Set([Dn(F||"","")]),isAudioMuxedInVideo:!1,baseOriginalId:null},n.m==Ci?n.Oe.push(B):n.i.imageStreams.push(B),Qr(n),q.return(gb(B))}})},f.Qh=function(e,t,n){var r=this,i,a,u,l;return P(function(p){switch(p.g){case 1:if(r.m!=Dr&&r.m!=Ci)throw new $(1,7,7004);if(n){p.s(2);break}return T(p,T2(r,e),3);case 3:n=p.h;case 2:return i=[],r.u&&(i=r.u.getCuePoints()),T(p,KA(r,e,t,"chapters",n,"",i),4);case 4:if(a=p.h,u=r.Rg(),l=u.find(function(g){return g.language==t}),!l){p.s(5);break}return T(p,new Promise(function(g,v){r.l.ma(a,"load",g),r.l.ma(a,"error",function(){v(new $(1,2,2015))})}),6);case 6:return Qr(r),p.return(l);case 5:throw new $(1,2,2012)}})};function T2(e,t){var n;return P(function(r){switch(r.g){case 1:return me(r,2),T(r,sl(t,e.F,e.g.streaming.retryParameters),4);case 4:n=r.h,V(r,3);break;case 2:W(r);case 3:if(n)return r.return(n);throw new $(1,2,2011,t)}})}function KA(e,t,n,r,i,a,u){var l,p,g,v;return P(function(y){if(y.g==1)return i!="text/vtt"||u.length?T(y,A2(e,t,e.F,e.g.streaming.retryParameters),3):y.s(2);y.g!=2&&(l=y.h,p=WA(e,l,i,u),g=new Blob([p],{type:"text/vtt"}),t=zb(g),i="text/vtt"),v=document.createElement("track");var x=e.L,S=t;try{if(x.g.enabled){var k=v2(x);k.ot=b2,k.su=!0;var C=$m(k),E=y2(S,C)}else E=S}catch(I){$t("CMCD_TEXT_TRACK_ERROR","Could not generate text track CMCD data.",I),E=S}return v.src=E,v.label=a,v.kind=r,v.srclang=n,e.h.getAttribute("crossorigin")||e.h.setAttribute("crossorigin","anonymous"),e.h.appendChild(v),y.return(v)})}function A2(e,t,n,r){var i,a,u;return P(function(l){if(l.g==1){i=ha,a=qn([t],r),a.method="GET";var p=e.L;try{p.g.enabled&&Zc(p,a,{ot:b2,su:!0})}catch(g){$t("CMCD_TEXT_ERROR","Could not generate text CMCD data.",g)}return T(l,n.request(i,a).promise,2)}return u=l.h,l.return(u.data)})}function WA(e,t,n,r){var i=em(n);if(i)return n=i(),e={periodStart:0,segmentStart:0,segmentEnd:e.h.duration,vttOffset:0},t=Ye(t),t=n.parseMedia(t,e,null,[]),bN(t,r);throw new $(2,2,2014,n)}f.Dj=function(e,t){this.ka.width=e,this.ka.height=t},f.eg=function(e){if(this.m==Dr){var t=this.j;if(e=e===void 0?.1:e,t.m.g)t=!1;else if(t.B)t=!1;else{for(var n=w(t.i.values()),r=n.next();!r.done;r=n.next())r=r.value,!r.sd||r.Da||r.kb||(r.sd=!1,jr(t,r,e));t=!0}}else t=!1;return t},f.Hf=function(){return Be("Shaka Player's internal Manifest structure is NOT covered by semantic versioning compatibility guarantees.  It may change at any time!  Please consider filing a feature request for whatever you use getManifest() for."),this.i},f.ui=function(){return this.Qb},f.ni=function(){var e={video:null,audio:null,text:null};if(this.m!=Dr)return e;var t=this.j.l,n=this.h.currentTime;t=w([t.video,t.audio,this.j.u]);for(var r=t.next();!r.done;r=t.next())if((r=r.value)&&r.segmentIndex){var i=r.segmentIndex.find(n);i=r.segmentIndex.get(i),i={codecs:i.codecs||r.codecs,mimeType:i.mimeType||r.mimeType,bandwidth:i.bandwidth||r.bandwidth},r.type=="video"?(i.width=r.width,i.height=r.height,e.video=i):r.type=="audio"?e.audio=i:r.type==wt&&(e.text=i)}return e};function Ho(e){var t=Jc();return t.streaming.failureCallback=function(n){if(e.U()){var r=null;n.code==1001||n.code==1002?(r=1,e.g.streaming.lowLatencyMode&&(r=.1)):n.code==1003&&(r=.1),r!=null&&(n.severity=1,e.eg(r))}},t.textDisplayFactory=function(){return!e.ue||cr()&&!document.fullscreenEnabled?"addTextTrack"in e.h?new br(e.h,"Shaka Player TextTrack"):new wr:new xr(e.h,e.ue)},t}f.Ch=function(e){this.ue=e};function WN(e,t){for(var n=new Set,r=w(t.textStreams),i=r.next();!i.done;i=r.next())i=i.value,i.mimeType!="application/cea-608"&&i.mimeType!="application/cea-708"||n.add(i.originalId);for(r=w(t.variants),i=r.next();!i.done;i=r.next())if((i=i.value.video)&&i.closedCaptions){for(var a=w(i.closedCaptions.keys()),u=a.next();!u.done;u=a.next())if(u=u.value,!n.has(u)){var l=u.startsWith("CC")?"application/cea-608":"application/cea-708",p=new kn,g=i.closedCaptions.get(u);l={id:e.We++,originalId:u,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:p,mimeType:l,codecs:"",kind:"caption",encrypted:!1,drmInfos:[],keyIds:new Set,language:g,originalLanguage:g,label:null,type:wt,primary:!1,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:null,roles:i.roles,forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!1,fastSwitching:!1,fullMimeTypes:new Set([Dn(l,"")]),isAudioMuxedInVideo:!1,baseOriginalId:null},t.textStreams.push(l),n.add(u)}}}function XN(e,t){var n,r,i,a,u;return P(function(l){return l.g==1?(n=e.audio,r=e.video,i=function(p,g){var v,y,x;return P(function(S){return S.g==1?p?p.segmentIndex?S.s(2):T(S,p.createSegmentIndex(),2):S.return(null):(y=(v=p.segmentIndex.Gb(g))?v.next().value:null,y?(x=y.startTime,S.return(x)):S.return(null))})},T(l,i(n,t),2)):l.g!=3?(a=l.h,T(l,i(r,t),3)):(u=l.h,u!=null&&a!=null?l.return(Math.max(u,a)):u!=null?l.return(u):a!=null?l.return(a):l.return(t))})}function E2(e){var t=e.Of();if(e.A&&e.M&&e.G){if(e.g.streaming.rebufferingGoal==0){var n=e.K;n.j=!1,Gb(n)}else n=e.K,n.j=t,Gb(n);if(e.L&&(n=e.L,t||n.u||(n.u=!0),n.u&&t&&(n.B=!0),n.F=t),C2(e),n=e.g.streaming.liveSync.dynamicTargetLatency.maxAttempts,e.g.streaming.liveSync.dynamicTargetLatency.enabled&&t&&e.Ue<n){n=e.g.streaming.liveSync.dynamicTargetLatency.maxLatency;var r=e.g.streaming.liveSync.targetLatencyTolerance,i=e.g.streaming.liveSync.dynamicTargetLatency.rebufferIncrement;e.P&&(e.P=Math.min(e.P+ ++e.Ue*i,n-r))}}t=new Map().set("buffering",t),e.dispatchEvent(on("buffering",t))}function XA(e,t){e.Na.Qa(),e.U()&&e.Na.D(e.h,"timeupdate",function(){var n=e.h.currentTime,r=e.Ra(),i=e.g.streaming.safeSeekOffset;0<t?Math.floor(n)>=Math.floor(r.end)&&e.gd():Math.floor(n)<=Math.floor(r.start+i)&&e.gd()})}function C2(e){if(e.A&&e.M){var t=e.A.g,n="playing";e.M.g==Oc?n="buffering":e.Uc()?n="ended":e.h.paused&&(n="paused");var r=n;if(t.g==null)t.g={timestamp:Date.now()/1e3,state:r,duration:0},t=!0;else{var i=Date.now()/1e3;t.g.duration=i-t.g.timestamp,t.g.state==r?t=!1:(t.h.push(t.g),t.g={timestamp:i,state:r,duration:0},t=!0)}t&&(n=new Map().set("newstate",n),e.dispatchEvent(on("statechanged",n)))}}function YA(e){var t=e.h.playbackRate,n=e.U();if(e.g.streaming.vodDynamicPlaybackRate&&!n){var r=e.g.streaming.vodDynamicPlaybackRateLowBufferRate,i=e.Qg();i<=e.g.streaming.vodDynamicPlaybackRateBufferRatio?t!=r&&e.Md(r,!1):i==1&&t!==e.K.sc()&&e.gd()}if(n&&(n=e.Ra(),Number.isFinite(n.end)&&!(e.h.currentTime<n.start||e.h.paused))){r=e.g.streaming.liveSync.targetLatencyTolerance,i=e.g.streaming.liveSync.dynamicTargetLatency.enabled;var a=e.g.streaming.liveSync.dynamicTargetLatency.stabilityThreshold;if(e.g.streaming.liveSync&&e.g.streaming.liveSync.enabled)var u=e.g.streaming.liveSync.targetLatency,l=u+r,p=Math.max(0,u-r),g=e.g.streaming.liveSync.maxPlaybackRate,v=e.g.streaming.liveSync.minPlaybackRate;else e.i&&e.i.serviceDescription&&(u=e.i.serviceDescription.targetLatency,e.i.serviceDescription.targetLatency!=null?l=e.i.serviceDescription.targetLatency+r:e.i.serviceDescription.maxLatency!=null&&(l=e.i.serviceDescription.maxLatency),e.i.serviceDescription.targetLatency!=null?p=Math.max(0,e.i.serviceDescription.targetLatency-r):e.i.serviceDescription.minLatency!=null&&(p=e.i.serviceDescription.minLatency),g=e.i.serviceDescription.maxPlaybackRate||e.g.streaming.liveSync.maxPlaybackRate,v=e.i.serviceDescription.minPlaybackRate||e.g.streaming.liveSync.minPlaybackRate);e.P||typeof u!="number"||(e.P=u);var y=e.g.streaming.liveSync.dynamicTargetLatency.maxAttempts;i&&e.Ma&&e.P!==null&&typeof u=="number"&&e.Ue<y&&Date.now()-e.Ma>1e3*a&&(a=e.g.streaming.liveSync.dynamicTargetLatency.minLatency,e.P=Math.max(e.P-(u-a)/2,a+r),e.Ma=Date.now()),i&&e.P!==null&&(l=e.P+r,p=e.P-r),u=n.end-e.h.currentTime,r=0,e.m==Ci&&(i=e.h.buffered,0<i.length&&(r=i.end(i.length-1),r=Math.max(g,r-n.end))),n=e.g.streaming.liveSync.panicMode,i=1e3*e.g.streaming.liveSync.panicThreshold,a=Date.now()-e.M.h,n&&!v&&(v=e.g.streaming.liveSync.minPlaybackRate),n&&v&&a<=i?t!=v&&e.Md(v,!1):l!=null&&g&&u-r>l?(t!=g&&e.Md(g,!1),e.Ma=null):p!=null&&v&&u-r<p?(t!=v&&e.Md(v,!1),e.Ma=null):t!==e.K.sc()&&(e.gd(),e.Ma=Date.now())}}function Qm(e){if(e.h){var t=function(i,a){var u=u===void 0?Number.EPSILON:u;if(i===a)u=!0;else{var l=Math.abs(i-a);u=l<=u?!0:u!==Number.EPSILON?Math.abs(l-u)<=Number.EPSILON:!1}return(u||a>i)&&e.Ve<i?(e.Ve=i,!0):!1},n=e.Ra();if(n=n.end-n.start,n=0<n?e.h.currentTime/n:0,!isNaN(n)){if(n*=100,t(0,n))var r=on("started");else t(25,n)?r=on("firstquartile"):t(50,n)?r=on("midpoint"):t(75,n)?r=on("thirdquartile"):(t(100,n)&&(r=on("complete")),e.g&&e.g.playRangeEnd!=1/0&&e.Uc()&&e.h.pause());r&&e.dispatchEvent(r)}}}function ul(e){try{v4(e.te,e.i)}catch(n){return nd(e,n),!1}var t=rm(e.i.variants);return t=e.W.create(t),e.o.setVariants(Array.from(t.values())),!0}function td(e,t,n,r,i){t=t===void 0?!0:t,n=n===void 0?0:n,r=r===void 0?!1:r,i=i===void 0?!0:i;var a;(a=ul(e)?e.o.chooseVariant():null)&&Eh(e,a,i,t,n,r)}function Eh(e,t,n,r,i,a){a=a===void 0?!1:a;var u=e.j.l;if(t==u)r&&uA(e.j,t,r,i,!0);else{var l=e.A.h;if(l.h!=t&&(l.h=t,l.g.push({timestamp:Date.now()/1e3,id:t.id,type:"variant",fromAdaptation:n,bandwidth:t.bandwidth})),uA(e.j,t,r,i,a,n),r=null,u&&(r=Xu(u)),u=Xu(t),u.active=!0,e.O&&(i=e.O,t=t.video)){switch(t.dependencyStream&&(t=t.dependencyStream),a=0,l=-1,t.mimeType){case"video/webm":a=1;break;case"video/mp4":a=2}switch(e.Tg()){case"DASH":l=1;break;case"HLS":l=0}i.g&&(i.g.setLevelSwitching(t.id,!0),i.g.setContainerFormat(a),i.j||i.g.setStreamingFormat(l))}n?(n=new Map().set("oldTrack",r).set("newTrack",u),n=on("adaptation",n),ll(e,n)):QA(e,r,u),ZA(e,r,u)}}function JA(e,t){var n=Array.from(e.h.audioTracks).find(function(r){return r.enabled});t.enabled=!0,n&&(t.id!==n.id&&(n.enabled=!1),n=vb(n),t=vb(t),QA(e,n,t),ZA(e,n,t))}function Qr(e){var t=on("trackschanged");ll(e,t),eE(e)}function QA(e,t,n){t=new Map().set("oldTrack",t).set("newTrack",n),t=on("variantchanged",t),ll(e,t)}function ZA(e,t,n){var r=!1;t&&t.audioId==n.audioId&&t.audioGroupId==n.audioGroupId||(r=!0),r&&eE(e)}function eE(e){var t=on("audiotrackschanged");ll(e,t)}function Zm(e){var t=on("textchanged");ll(e,t)}function tE(e){var t=on("texttrackvisibility");ll(e,t)}function nE(e){e.g.abr.enabled||I2(e);var t=new Map().set("newStatus",e.g.abr.enabled);ll(e,on("abrstatuschanged",t))}function Ch(e){var t=e.vc().find(function(n){return n.active});t&&e.B&&e.B.setTextLanguage&&e.B.setTextLanguage(t.language)}function I2(e,t){if(t=t===void 0?!0:t,e.m==Dr){e.xe.stop();for(var n=w(e.i.variants),r=n.next();!r.done;r=n.next())r.value.disabledUntilTime=0;t&&ul(e)}}f.disableStream=function(e,t){if(!this.g.abr.enabled||this.m===fa||!navigator.onLine||t==0||!this.i)return!1;if(this.i.variants.some(function(l){var p=l[e.type];return p&&p.id!==e.id&&!l.disabledUntilTime?e.type=="audio"?e.language===p.language:!0:!1})){for(var n=!1,r=!1,i=w(this.i.variants),a=i.next();!a.done;a=i.next()){a=a.value;var u=a[e.type];u&&(u.id===e.id?(a.disabledUntilTime=Date.now()/1e3+t,n=!0):u.trickModeVideo&&u.trickModeVideo.id==e.id&&(r=!0))}return!n&&r?!1:(this.xe.ua(1),t=this.Fb().video.reduce(function(l,p){return l+p.end-p.start},0),td(this,!1,t,!0,!1),!0)}return!1};function nd(e,t){var n,r,i,a;return P(function(u){switch(u.g){case 1:if(e.m==fa)return u.return();if(t.severity===1&&e.A.K++,n=!0,!(e.sa&&e.i&&e.j)||t.code!=3016&&t.code!=3014&&t.code!=3015&&t.code!=3018){u.s(2);break}return cr()&&t.code==3016?u.return():(me(u,3),T(u,Rm(e.j),5));case 5:r=u.h,n=!r,r&&(i=on("mediasourcerecovered"),e.dispatchEvent(i)),V(u,2);break;case 3:W(u),n=!0;case 2:if(!n)return u.return();t.severity===2&&I2(e,!1),a=on("error",new Map().set("detail",t)),e.dispatchEvent(a),a.defaultPrevented&&(t.handled=!0),ae(u)}})}f.addFont=function(e,t){var n,r,i,a,u;return P(function(l){if(l.g==1)return"fonts"in document&&"FontFace"in d?T(l,document.fonts.ready,3):l.s(0);if(!("entries"in document.fonts))return l.return();for(n=function(p){p=p.entries();for(var g=[],v=p.next();v.done===!1;)g.push(v.value),v=p.next();return g},r=w(n(document.fonts)),i=r.next();!i.done;i=r.next())if(a=i.value,a.family==e&&a.display=="swap")return l.return();u=new FontFace(e,"url("+t+")",{display:"swap"}),document.fonts.add(u),ae(l)})};function Ih(e,t,n,r){r=r===void 0?e:r,e=new Map().set("detail",{schemeIdUri:n.schemeIdUri,value:n.value,startTime:n.startTime,endTime:n.endTime,id:n.id,timescale:n.timescale,eventElement:n.eventElement,eventNode:n.eventNode}),r.dispatchEvent(on(t,e))}function rE(e,t,n,r){r=r===void 0?!1:r,t=new Map().set("mediaQuality",{bandwidth:t.bandwidth,audioSamplingRate:t.audioSamplingRate,codecs:t.codecs,contentType:t.contentType,frameRate:t.frameRate,height:t.height,mimeType:t.mimeType,channelsCount:t.channelsCount,pixelAspectRatio:t.pixelAspectRatio,width:t.width,label:t.label,roles:t.roles,language:t.language}).set("position",n),e.dispatchEvent(on(r?"audiotrackchanged":"mediaqualitychanged",t))}function M2(e,t){if(t=t===void 0?!0:t,!e.h.error)return t?new $(2,3,3016):null;var n=e.h.error.code;return!t&&n==1?null:((t=e.h.error.msExtendedCode)&&(0>t&&(t+=Math.pow(2,32)),t=t.toString(16)),new $(2,3,3016,n,t,e.h.error.message))}function _2(e,t,n){0<t&&(e.U()||e.Bh(t)),t=e.getDuration(),n<t&&(e.U()||e.bb(n))}function ll(e,t){P(function(n){if(n.g==1)return T(n,Promise.resolve(),2);e.m!=fa&&e.dispatchEvent(t),ae(n)})}function iE(e){var t=new Set;e=w(e);for(var n=e.next();!n.done;n=e.next())n=n.value,n.language?t.add(Jt(n.language)):t.add("und");return t}function aE(e){var t=new Map,n=new Map;e=w(e);for(var r=e.next();!r.done;r=e.next()){r=r.value;var i="und",a=[];r.language&&(i=Jt(r.language)),r.type=="variant"?a=r.audioRoles:a=r.roles,a&&a.length||(a=[""]),t.has(i)||t.set(i,new Set),a=w(a);for(var u=a.next();!u.done;u=a.next())u=u.value,t.get(i).add(u),r.label&&(n.has(i)||n.set(i,new Map),n.get(i).set(u,r.label))}var l=[];return t.forEach(function(p,g){p=w(p);for(var v=p.next();!v.done;v=p.next()){v=v.value;var y=null;n.has(g)&&n.get(g).has(v)&&(y=n.get(g).get(v)),l.push({language:g,role:v,label:y})}}),l}f.Pa=function(){return this.h&&this.h.remote?this.h.remote.state!="disconnected":!1},f.Uc=function(){return!this.h||this.h.ended?!0:this.sa&&!this.U()&&this.h.currentTime>=this.Ra().end},Ee("shaka.Player",le),le.prototype.isEnded=le.prototype.Uc,le.prototype.isRemotePlayback=le.prototype.Pa,le.prototype.addFont=le.prototype.addFont,le.prototype.setVideoContainer=le.prototype.Ch,le.prototype.getFetchedPlaybackInfo=le.prototype.ni,le.prototype.getManifestParserFactory=le.prototype.ui,le.prototype.getManifest=le.prototype.Hf,le.prototype.retryStreaming=le.prototype.eg,le.prototype.setMaxHardwareResolution=le.prototype.Dj,le.prototype.addChaptersTrack=le.prototype.Qh,le.prototype.addThumbnailsTrack=le.prototype.Sh,le.prototype.addTextTrackAsync=le.prototype.Rh,le.prototype.getStats=le.prototype.getStats,le.prototype.getBufferedInfo=le.prototype.Fb,le.prototype.getSegmentAvailabilityDuration=le.prototype.ae,le.prototype.getPresentationStartTimeAsDate=le.prototype.Wg,le.prototype.getPlayheadTimeAsDate=le.prototype.yi,le.prototype.setTextTrackVisibility=le.prototype.zh,le.prototype.getChapters=le.prototype.ji,le.prototype.getChaptersTracks=le.prototype.Rg,le.prototype.isTextTrackVisible=le.prototype.Pf,le.prototype.selectVariantsByLabel=le.prototype.yj,le.prototype.selectTextLanguage=le.prototype.hg,le.prototype.selectAudioLanguage=le.prototype.sh,le.prototype.getTextLanguages=le.prototype.Ei,le.prototype.getAudioLanguages=le.prototype.gi,le.prototype.getTextLanguagesAndRoles=le.prototype.Fi,le.prototype.getAudioLanguagesAndRoles=le.prototype.hi,le.prototype.getAudioTracks=le.prototype.getAudioTracks,le.prototype.selectAudioTrack=le.prototype.xj,le.prototype.selectVariantTrack=le.prototype.Be,le.prototype.selectTextTrack=le.prototype.th,le.prototype.getThumbnails=le.prototype.Hi,le.prototype.getAllThumbnails=le.prototype.fi,le.prototype.getImageTracks=le.prototype.pi,le.prototype.getTextTracks=le.prototype.vc,le.prototype.getVariantTracks=le.prototype.Rb,le.prototype.cancelTrickPlay=le.prototype.gd,le.prototype.trickPlay=le.prototype.Md,le.prototype.getPlaybackRate=le.prototype.gb,le.prototype.isBuffering=le.prototype.Of,le.prototype.getKeyStatuses=le.prototype.Yd,le.prototype.getActiveSessionsMetadata=le.prototype.Gf,le.prototype.getExpiration=le.prototype.pd,le.prototype.drmInfo=le.prototype.drmInfo,le.prototype.keySystem=le.prototype.keySystem,le.prototype.isFullyLoaded=le.prototype.Ri,le.prototype.goToLive=le.prototype.Ni,le.prototype.seekRange=le.prototype.Ra,le.prototype.isAudioOnly=le.prototype.Qi,le.prototype.isInProgress=le.prototype.yc,le.prototype.isLive=le.prototype.U,le.prototype.getAdManager=le.prototype.Pg,le.prototype.getAssetUri=le.prototype.Qc,le.prototype.getNetworkingEngine=le.prototype.xb,le.prototype.getMediaElement=le.prototype.xi,le.prototype.getManifestType=le.prototype.Tg,le.prototype.getLoadMode=le.prototype.ti,le.prototype.resetConfiguration=le.prototype.sj,le.prototype.getBufferFullness=le.prototype.Qg,le.prototype.getNonDefaultConfiguration=le.prototype.Vg,le.prototype.getConfigurationForLowLatency=le.prototype.ki,le.prototype.getConfiguration=le.prototype.getConfiguration,le.prototype.configurationForLowLatency=le.prototype.ci,le.prototype.configure=le.prototype.configure,le.prototype.releaseAllMutexes=le.prototype.oj,le.prototype.destroyAllPreloads=le.prototype.pf,le.prototype.preload=le.prototype.preload,le.prototype.detachAndSavePreload=le.prototype.Lg,le.prototype.unloadAndSavePreload=le.prototype.Gj,le.prototype.load=le.prototype.load,le.prototype.updateStartTime=le.prototype.Kj,le.prototype.unload=le.prototype.kc,le.prototype.detach=le.prototype.detach,le.prototype.attachCanvas=le.prototype.Vh,le.prototype.attach=le.prototype.Lb,le.probeSupport=function(e){e=e===void 0?!0:e;var t,n,r,i,a,u;return P(function(l){switch(l.g){case 1:if(t={},!e){l.s(2);break}return T(l,bR(),3);case 3:t=l.h;case 2:return n=IR(),r=e9(),T(l,Q3(),4);case 4:return i=l.h,a={manifest:n,media:r,drm:t,hardwareResolution:i},u=sE,u.forEach(function(p,g){a[g]=p()}),l.return(a)}})},le.isBrowserSupported=function(){return d.Promise||Be("A Promise implementation or polyfill is required"),d.Promise&&d.Uint8Array&&Array.prototype.forEach&&!Rn("Trident/")?Ja()?!0:Op("application/x-mpegurl"):!1},le.setAdManagerFactory=function(e){tv=e},le.registerSupportPlugin=_A,le.prototype.destroy=le.prototype.destroy;var fa=0,ev=1,Dr=2,Ci=3;le.LoadMode={DESTROYED:fa,NOT_LOADED:ev,MEDIA_SOURCE:Dr,SRC_EQUALS:Ci},le.version="v4.14.6";var oE=["4","14"];Ur=new function(e){this.g=e,this.i=Ti,this.h=sa}(new rn(Number(oE[0]),Number(oE[1])));var sE=new Map,tv=null;function uE(){this.g=[],this.i=this.m=this.l=this.j=this.h=0}function YN(e){return e.g.length?e.g.reduce(function(t,n){return t+n},0)/e.g.length:0}function Je(e,t,n){var r=this;this.g=e,this.h=t,this.j=n,this.i=!1,this.l=this.h.getVolume(),this.m=new Ce,this.m.D(this.h,google.ima.AdEvent.Type.PAUSED,function(){r.i=!0}),this.m.D(this.h,google.ima.AdEvent.Type.RESUMED,function(){r.i=!1})}f=Je.prototype,f.needsSkipUI=function(){return!1},f.isClientRendering=function(){return!0},f.hasCustomClick=function(){return!0},f.isUsingAnotherMediaElement=function(){return!0},f.getDuration=function(){return this.g.getDuration()},f.getMinSuggestedDuration=function(){return this.g.getMinSuggestedDuration()},f.getRemainingTime=function(){return this.h.getRemainingTime()},f.isPaused=function(){return this.i},f.isSkippable=function(){return 0<=this.g.getSkipTimeOffset()},f.getTimeUntilSkippable=function(){var e=this.g.getSkipTimeOffset();return e=this.getRemainingTime()-e,Math.max(e,0)},f.canSkipNow=function(){return this.h.getAdSkippableState()},f.skip=function(){return this.h.skip()},f.pause=function(){return this.h.pause()},f.play=function(){return this.h.resume()},f.getVolume=function(){return this.h.getVolume()},f.setVolume=function(e){return this.j.volume=e,this.h.setVolume(e)},f.isMuted=function(){return this.h.getVolume()==0},f.isLinear=function(){return this.g.isLinear()},f.resize=function(e,t){var n=!1,r=this.j;document.fullscreenEnabled?n=!!document.fullscreenElement:r.webkitSupportsFullscreen&&(n=r.webkitDisplayingFullscreen),this.h.resize(e,t,n?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)},f.setMuted=function(e){(this.j.muted=e)?(this.l=this.getVolume(),this.h.setVolume(0)):this.h.setVolume(this.l)},f.getSequenceLength=function(){var e=this.g.getAdPodInfo();return e==null?1:e.getTotalAds()},f.getPositionInSequence=function(){var e=this.g.getAdPodInfo();return e==null?1:e.getAdPosition()},f.getTitle=function(){return this.g.getTitle()},f.getDescription=function(){return this.g.getDescription()},f.getVastMediaBitrate=function(){return this.g.getVastMediaBitrate()},f.getVastMediaHeight=function(){return this.g.getVastMediaHeight()},f.getVastMediaWidth=function(){return this.g.getVastMediaWidth()},f.getAdId=function(){return this.g.getAdId()},f.getCreativeAdId=function(){return this.g.getCreativeAdId()},f.getAdvertiserName=function(){return this.g.getAdvertiserName()},f.getMediaUrl=function(){return this.g.getMediaUrl()},f.getTimeOffset=function(){var e=this.g.getAdPodInfo();return e==null?0:e.getTimeOffset()},f.getPodIndex=function(){var e=this.g.getAdPodInfo();return e==null?0:e.getPodIndex()},f.release=function(){this.h=this.g=null},Ee("shaka.ads.ClientSideAd",Je),Je.prototype.release=Je.prototype.release,Je.prototype.getPodIndex=Je.prototype.getPodIndex,Je.prototype.getTimeOffset=Je.prototype.getTimeOffset,Je.prototype.getMediaUrl=Je.prototype.getMediaUrl,Je.prototype.getAdvertiserName=Je.prototype.getAdvertiserName,Je.prototype.getCreativeAdId=Je.prototype.getCreativeAdId,Je.prototype.getAdId=Je.prototype.getAdId,Je.prototype.getVastMediaWidth=Je.prototype.getVastMediaWidth,Je.prototype.getVastMediaHeight=Je.prototype.getVastMediaHeight,Je.prototype.getVastMediaBitrate=Je.prototype.getVastMediaBitrate,Je.prototype.getDescription=Je.prototype.getDescription,Je.prototype.getTitle=Je.prototype.getTitle,Je.prototype.getPositionInSequence=Je.prototype.getPositionInSequence,Je.prototype.getSequenceLength=Je.prototype.getSequenceLength,Je.prototype.setMuted=Je.prototype.setMuted,Je.prototype.resize=Je.prototype.resize,Je.prototype.isLinear=Je.prototype.isLinear,Je.prototype.isMuted=Je.prototype.isMuted,Je.prototype.setVolume=Je.prototype.setVolume,Je.prototype.getVolume=Je.prototype.getVolume,Je.prototype.play=Je.prototype.play,Je.prototype.pause=Je.prototype.pause,Je.prototype.skip=Je.prototype.skip,Je.prototype.canSkipNow=Je.prototype.canSkipNow,Je.prototype.getTimeUntilSkippable=Je.prototype.getTimeUntilSkippable,Je.prototype.isSkippable=Je.prototype.isSkippable,Je.prototype.isPaused=Je.prototype.isPaused,Je.prototype.getRemainingTime=Je.prototype.getRemainingTime,Je.prototype.getMinSuggestedDuration=Je.prototype.getMinSuggestedDuration,Je.prototype.getDuration=Je.prototype.getDuration,Je.prototype.isUsingAnotherMediaElement=Je.prototype.isUsingAnotherMediaElement,Je.prototype.hasCustomClick=Je.prototype.hasCustomClick,Je.prototype.isClientRendering=Je.prototype.isClientRendering,Je.prototype.needsSkipUI=Je.prototype.needsSkipUI;function fn(){}function lE(e,t){var n=[];e=w(Gt(e,"Ad"));for(var r=e.next();!r.done;r=e.next())if((r=Nn(r.value,"InLine"))&&(r=Nn(r,"Creatives"))){r=w(Gt(r,"Creative"));for(var i=r.next();!i.done;i=r.next()){i=i.value;var a=Nn(i,"Linear");if(a&&JN(n,t,a),i=Nn(i,"NonLinearAds")){i=Gt(i,"NonLinear"),i=w(i);for(var u=i.next();!u.done;u=i.next())e:{a=n;var l=t,p=u.value,g=Nn(p,"StaticResource");if(g)u=g.attributes.creativeType;else{if(g=Nn(p,"HTMLResource"),!g)break e;u="text/html"}if(g=Ei(g)){u==="text/html"&&(g="data:text/html;charset=UTF-8,"+encodeURIComponent(g));var v=st(p,"width",Or)||st(p,"expandedWidth",Or),y=st(p,"height",Or)||st(p,"expandedHeight",Or);if(v||y){var x=null;(p=p.attributes.minSuggestedDuration)&&(x=Ec(p)),p=0,l!=null&&(p=l),a.push({id:null,groupId:null,startTime:p,endTime:null,uri:g,mimeType:u,isSkippable:!1,skipOffset:null,skipFor:null,canJump:!1,resumeOffset:0,playoutLimit:x,once:!0,pre:l==null,post:l==1/0,timelineRange:!1,loop:!1,overlay:{viewport:{x:0,y:0},topLeft:{x:0,y:0},size:{x:v||0,y:y||0}},displayOnBackground:!1,currentVideo:null,background:null})}}}}}}return n}function JN(e,t,n){var r=0;t!=null&&(r=t);var i=null;if(n.attributes.skipoffset&&(i=Ec(n.attributes.skipoffset),isNaN(i)&&(i=null)),n=Nn(n,"MediaFiles")){var a=Gt(n,"MediaFile");for(n=a,a=a.filter(function(l){return l.attributes.delivery=="streaming"}),a.length&&(n=a),n=n.sort(function(l,p){return(parseInt(p.attributes.height,10)||0)-(parseInt(l.attributes.height,10)||0)}),n=w(n),a=n.next();!a.done;a=n.next())if(a=a.value,!a.attributes.apiFramework){var u=Ei(a);if(u){e.push({id:null,groupId:null,startTime:r,endTime:null,uri:u,mimeType:a.attributes.type||null,isSkippable:i!=null,skipOffset:i,skipFor:null,canJump:!1,resumeOffset:0,playoutLimit:null,once:!0,pre:t==null,post:t==1/0,timelineRange:!1,loop:!1,overlay:null,displayOnBackground:!1,currentVideo:null,background:null});break}}}}Ee("shaka.ads.Utils",fn),fn.ADS_LOADED="ads-loaded",fn.AD_STARTED="ad-started",fn.AD_FIRST_QUARTILE="ad-first-quartile",fn.AD_MIDPOINT="ad-midpoint",fn.AD_THIRD_QUARTILE="ad-third-quartile",fn.AD_COMPLETE="ad-complete",fn.AD_STOPPED="ad-stopped",fn.AD_SKIPPED="ad-skipped",fn.AD_VOLUME_CHANGED="ad-volume-changed",fn.AD_MUTED="ad-muted",fn.AD_PAUSED="ad-paused",fn.AD_RESUMED="ad-resumed",fn.AD_SKIP_STATE_CHANGED="ad-skip-state-changed",fn.CUEPOINTS_CHANGED="ad-cue-points-changed",fn.IMA_AD_MANAGER_LOADED="ima-ad-manager-loaded",fn.IMA_STREAM_MANAGER_LOADED="ima-stream-manager-loaded",fn.AD_CLICKED="ad-clicked",fn.AD_PROGRESS="ad-progress",fn.AD_BUFFERING="ad-buffering",fn.AD_IMPRESSION="ad-impression",fn.AD_DURATION_CHANGED="ad-duration-changed",fn.AD_CLOSED="ad-closed",fn.AD_LOADED="ad-loaded",fn.ALL_ADS_COMPLETED="all-ads-completed",fn.AD_LINEAR_CHANGED="ad-linear-changed",fn.AD_METADATA="ad-metadata",fn.AD_RECOVERABLE_ERROR="ad-recoverable-error",fn.AD_ERROR="ad-error",fn.AD_BREAK_READY="ad-break-ready",fn.AD_INTERACTION="ad-interaction",fn.AD_CONTENT_PAUSE_REQUESTED="ad-content-pause-requested",fn.AD_CONTENT_RESUME_REQUESTED="ad-content-resume-requested",fn.AD_CONTENT_ATTACH_REQUESTED="ad-content-attach-requested";function nv(e,t,n,r,i){var a=this;this.u=e,this.i=t,this.F=!1,this.A=this.o=null,this.G=NaN,this.l=i,this.j=null,this.h=new Ce,google.ima.settings.setLocale(n),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(!0),this.C=new google.ima.AdDisplayContainer(this.u,this.i),this.C.initialize(),this.m=new google.ima.AdsLoader(this.C),this.m.getSettings().setPlayerType("shaka-player"),this.m.getSettings().setPlayerVersion("v4.14.6"),this.g=null,this.B=r||new google.ima.AdsRenderingSettings,this.h.D(this.m,google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,function(u){QN(a,u)}),this.h.D(this.m,google.ima.AdErrorEvent.Type.AD_ERROR,function(u){cE(a,u)}),this.h.D(this.i,"ended",function(){a.m.contentComplete()}),this.h.ma(this.i,"play",function(){a.F=!0})}nv.prototype.configure=function(e){this.o=e},nv.prototype.stop=function(){this.g&&this.g.stop(),this.u&&Fs(this.u)},nv.prototype.release=function(){this.stop(),this.A&&this.A.disconnect(),this.h&&this.h.release(),this.g&&this.g.destroy(),this.m.destroy(),this.C.destroy()};function cE(e,t){t.getError(),t=new Map().set("originalEvent",t),e.l(new Ae("ad-error",t)),iv(e,null),e.l(new Ae("ad-cue-points-changed",new Map().set("cuepoints",[])))}function QN(e,t){if(e.l(new Ae("ads-loaded",new Map().set("loadTime",Date.now()/1e3-e.G))),e.o.customPlayheadTracker){var n={currentTime:e.i.currentTime};e.g=t.getAdsManager(n,e.B),e.i.muted?e.g.setVolume(0):e.g.setVolume(e.i.volume),e.h.D(e.i,"timeupdate",function(){e.i.duration&&(n.currentTime=e.i.currentTime)}),e.h.D(e.i,"volumechange",function(){e.j&&(e.j.setVolume(e.i.volume),e.i.muted&&e.j.setMuted(!0))})}else e.g=t.getAdsManager(e.i,e.B);e.l(new Ae("ima-ad-manager-loaded",new Map().set("imaAdManager",e.g)));var r=e.g.getCuePoints();if(r.length){t=[],r=w(r);for(var i=r.next();!i.done;i=r.next())t.push({start:i.value,end:null});e.l(new Ae("ad-cue-points-changed",new Map().set("cuepoints",t)))}ZN(e);try{e.g.init(e.i.offsetWidth,e.i.offsetHeight,rv(e)?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL),e.h.D(e.i,"loadeddata",function(){e.g.resize(e.i.offsetWidth,e.i.offsetHeight,rv(e)?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)}),"ResizeObserver"in d?(e.A=new ResizeObserver(function(){e.g.resize(e.i.offsetWidth,e.i.offsetHeight,rv(e)?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)}),e.A.observe(e.i)):e.h.D(document,"fullscreenchange",function(){e.g.resize(e.i.offsetWidth,e.i.offsetHeight,rv(e)?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)}),e.F||e.o.skipPlayDetection?e.g.start():e.h.ma(e.i,"play",function(){e.F=!0,e.g.start()})}catch{iv(e,null)}}function rv(e){return document.fullscreenEnabled?!!document.fullscreenElement:(e=e.i,e.webkitSupportsFullscreen?e.webkitDisplayingFullscreen:!1)}function ZN(e){function t(n,r){n=new Map().set("originalEvent",n),e.l(new Ae(r,n))}e.h.D(e.g,google.ima.AdErrorEvent.Type.AD_ERROR,function(n){cE(e,n)}),e.h.D(e.g,google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,function(n){dE(e,n)}),e.h.D(e.g,google.ima.AdEvent.Type.STARTED,function(n){dE(e,n)}),e.h.D(e.g,google.ima.AdEvent.Type.FIRST_QUARTILE,function(n){t(n,"ad-first-quartile")}),e.h.D(e.g,google.ima.AdEvent.Type.MIDPOINT,function(n){t(n,"ad-midpoint")}),e.h.D(e.g,google.ima.AdEvent.Type.THIRD_QUARTILE,function(n){t(n,"ad-third-quartile")}),e.h.D(e.g,google.ima.AdEvent.Type.COMPLETE,function(n){t(n,"ad-complete")}),e.h.D(e.g,google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,function(n){iv(e,n)}),e.h.D(e.g,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,function(n){iv(e,n)}),e.h.D(e.g,google.ima.AdEvent.Type.SKIPPED,function(n){t(n,"ad-skipped")}),e.h.D(e.g,google.ima.AdEvent.Type.VOLUME_CHANGED,function(n){t(n,"ad-volume-changed")}),e.h.D(e.g,google.ima.AdEvent.Type.VOLUME_MUTED,function(n){t(n,"ad-muted")}),e.h.D(e.g,google.ima.AdEvent.Type.PAUSED,function(n){e.j&&(e.j.i=!0,t(n,"ad-paused"))}),e.h.D(e.g,google.ima.AdEvent.Type.RESUMED,function(n){e.j&&(e.j.i=!1,t(n,"ad-resumed"))}),e.h.D(e.g,google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,function(n){e.j&&t(n,"ad-skip-state-changed")}),e.h.D(e.g,google.ima.AdEvent.Type.CLICK,function(n){t(n,"ad-clicked")}),e.h.D(e.g,google.ima.AdEvent.Type.AD_PROGRESS,function(n){t(n,"ad-progress")}),e.h.D(e.g,google.ima.AdEvent.Type.AD_BUFFERING,function(n){t(n,"ad-buffering")}),e.h.D(e.g,google.ima.AdEvent.Type.IMPRESSION,function(n){t(n,"ad-impression")}),e.h.D(e.g,google.ima.AdEvent.Type.DURATION_CHANGE,function(n){t(n,"ad-duration-changed")}),e.h.D(e.g,google.ima.AdEvent.Type.USER_CLOSE,function(n){t(n,"ad-closed")}),e.h.D(e.g,google.ima.AdEvent.Type.LOADED,function(n){t(n,"ad-loaded")}),e.h.D(e.g,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,function(n){t(n,"all-ads-completed")}),e.h.D(e.g,google.ima.AdEvent.Type.LINEAR_CHANGED,function(n){t(n,"ad-linear-changed")}),e.h.D(e.g,google.ima.AdEvent.Type.AD_METADATA,function(n){t(n,"ad-metadata")}),e.h.D(e.g,google.ima.AdEvent.Type.LOG,function(n){t(n,"ad-recoverable-error")}),e.h.D(e.g,google.ima.AdEvent.Type.AD_BREAK_READY,function(n){t(n,"ad-break-ready")}),e.h.D(e.g,google.ima.AdEvent.Type.INTERACTION,function(n){t(n,"ad-interaction")})}function dE(e,t){var n=t.getAd();n?(e.j=new Je(n,e.g,e.i),t.type!=google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED||e.o.supportsMultipleMediaElements||e.l(new Ae("ad-content-pause-requested")),t=new Map().set("ad",e.j).set("sdkAdObject",n).set("originalEvent",t),e.l(new Ae("ad-started",t)),e.j.isLinear()&&(e.u.setAttribute("ad-active","true"),e.o.customPlayheadTracker||e.i.pause(),e.i.muted?(t=e.j,t.l=e.i.volume,t.h.setVolume(0)):e.j.setVolume(e.i.volume))):Be("The IMA SDK fired a "+t.type+" event with no associated ad. Unable to play ad!")}function iv(e,t){t&&t.type==google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED&&!e.o.supportsMultipleMediaElements&&e.l(new Ae("ad-content-resume-requested")),e.l(new Ae("ad-stopped",new Map().set("originalEvent",t))),e.j&&e.j.isLinear()&&(e.u.removeAttribute("ad-active"),e.o.customPlayheadTracker||e.i.ended||e.i.play())}function Qe(e,t,n,r,i,a){this.g=e,this.i=t,this.j=(this.h=t.isSkippable)?t.skipOffset||0:t.skipOffset,this.l=t.skipFor,this.A=n,this.o=r,this.m=i,this.u=a,this.B=t.overlay}f=Qe.prototype,f.needsSkipUI=function(){return!0},f.isClientRendering=function(){return!0},f.hasCustomClick=function(){return!1},f.isUsingAnotherMediaElement=function(){return this.u},f.getDuration=function(){var e=this.g.duration;return isNaN(e)?-1:e},f.getMinSuggestedDuration=function(){return this.getDuration()},f.getRemainingTime=function(){var e=this.g.duration;return isNaN(e)?-1:e-this.g.currentTime},f.isPaused=function(){return this.g.paused},f.isSkippable=function(){return this.h&&this.l!=null?this.getDuration()-this.getRemainingTime()<this.j+this.l:this.h},f.getTimeUntilSkippable=function(){if(this.isSkippable()){var e=this.getRemainingTime()+this.j-this.getDuration();return Math.max(e,0)}return Math.max(this.getRemainingTime(),0)},f.canSkipNow=function(){return this.h&&this.getTimeUntilSkippable()==0},f.skip=function(){this.canSkipNow()&&this.A()},f.pause=function(){return this.g.pause()},f.play=function(){return this.g.play()},f.getVolume=function(){return this.g.volume},f.setVolume=function(e){this.g.volume=e},f.isMuted=function(){return this.g.muted},f.isLinear=function(){return this.B==null},f.resize=function(){},f.setMuted=function(e){this.g.muted=e},f.getSequenceLength=function(){return this.o},f.getPositionInSequence=function(){return this.m},f.getTitle=function(){return""},f.getDescription=function(){return""},f.getVastMediaBitrate=function(){return 0},f.getVastMediaHeight=function(){return 0},f.getVastMediaWidth=function(){return 0},f.getAdId=function(){return this.i.id||""},f.getCreativeAdId=function(){return""},f.getAdvertiserName=function(){return""},f.getMediaUrl=function(){return this.i.uri},f.getTimeOffset=function(){return 0},f.getPodIndex=function(){return 0},f.release=function(){this.g=null},Ee("shaka.ads.InterstitialAd",Qe),Qe.prototype.release=Qe.prototype.release,Qe.prototype.getPodIndex=Qe.prototype.getPodIndex,Qe.prototype.getTimeOffset=Qe.prototype.getTimeOffset,Qe.prototype.getMediaUrl=Qe.prototype.getMediaUrl,Qe.prototype.getAdvertiserName=Qe.prototype.getAdvertiserName,Qe.prototype.getCreativeAdId=Qe.prototype.getCreativeAdId,Qe.prototype.getAdId=Qe.prototype.getAdId,Qe.prototype.getVastMediaWidth=Qe.prototype.getVastMediaWidth,Qe.prototype.getVastMediaHeight=Qe.prototype.getVastMediaHeight,Qe.prototype.getVastMediaBitrate=Qe.prototype.getVastMediaBitrate,Qe.prototype.getDescription=Qe.prototype.getDescription,Qe.prototype.getTitle=Qe.prototype.getTitle,Qe.prototype.getPositionInSequence=Qe.prototype.getPositionInSequence,Qe.prototype.getSequenceLength=Qe.prototype.getSequenceLength,Qe.prototype.setMuted=Qe.prototype.setMuted,Qe.prototype.resize=Qe.prototype.resize,Qe.prototype.isLinear=Qe.prototype.isLinear,Qe.prototype.isMuted=Qe.prototype.isMuted,Qe.prototype.setVolume=Qe.prototype.setVolume,Qe.prototype.getVolume=Qe.prototype.getVolume,Qe.prototype.play=Qe.prototype.play,Qe.prototype.pause=Qe.prototype.pause,Qe.prototype.skip=Qe.prototype.skip,Qe.prototype.canSkipNow=Qe.prototype.canSkipNow,Qe.prototype.getTimeUntilSkippable=Qe.prototype.getTimeUntilSkippable,Qe.prototype.isSkippable=Qe.prototype.isSkippable,Qe.prototype.isPaused=Qe.prototype.isPaused,Qe.prototype.getRemainingTime=Qe.prototype.getRemainingTime,Qe.prototype.getMinSuggestedDuration=Qe.prototype.getMinSuggestedDuration,Qe.prototype.getDuration=Qe.prototype.getDuration,Qe.prototype.isUsingAnotherMediaElement=Qe.prototype.isUsingAnotherMediaElement,Qe.prototype.hasCustomClick=Qe.prototype.hasCustomClick,Qe.prototype.isClientRendering=Qe.prototype.isClientRendering,Qe.prototype.needsSkipUI=Qe.prototype.needsSkipUI;function Ze(e,t,n){this.g=e,this.j=t,this.h=n,this.i=e.overlay==null}f=Ze.prototype,f.needsSkipUI=function(){return!0},f.isClientRendering=function(){return!0},f.hasCustomClick=function(){return!1},f.isUsingAnotherMediaElement=function(){return!1},f.getDuration=function(){return-1},f.getMinSuggestedDuration=function(){return this.getDuration()},f.getRemainingTime=function(){return-1},f.isPaused=function(){return!1},f.isSkippable=function(){return!1},f.getTimeUntilSkippable=function(){return 0},f.canSkipNow=function(){return!1},f.skip=function(){},f.pause=function(){},f.play=function(){},f.getVolume=function(){return 1},f.setVolume=function(){},f.isMuted=function(){return!1},f.isLinear=function(){return this.i},f.resize=function(){},f.setMuted=function(){},f.getSequenceLength=function(){return this.j},f.getPositionInSequence=function(){return this.h},f.getTitle=function(){return""},f.getDescription=function(){return""},f.getVastMediaBitrate=function(){return 0},f.getVastMediaHeight=function(){return 0},f.getVastMediaWidth=function(){return 0},f.getAdId=function(){return this.g.id||""},f.getCreativeAdId=function(){return""},f.getAdvertiserName=function(){return""},f.getMediaUrl=function(){return this.g.uri},f.getTimeOffset=function(){return 0},f.getPodIndex=function(){return 0},f.release=function(){},Ee("shaka.ads.InterstitialStaticAd",Ze),Ze.prototype.release=Ze.prototype.release,Ze.prototype.getPodIndex=Ze.prototype.getPodIndex,Ze.prototype.getTimeOffset=Ze.prototype.getTimeOffset,Ze.prototype.getMediaUrl=Ze.prototype.getMediaUrl,Ze.prototype.getAdvertiserName=Ze.prototype.getAdvertiserName,Ze.prototype.getCreativeAdId=Ze.prototype.getCreativeAdId,Ze.prototype.getAdId=Ze.prototype.getAdId,Ze.prototype.getVastMediaWidth=Ze.prototype.getVastMediaWidth,Ze.prototype.getVastMediaHeight=Ze.prototype.getVastMediaHeight,Ze.prototype.getVastMediaBitrate=Ze.prototype.getVastMediaBitrate,Ze.prototype.getDescription=Ze.prototype.getDescription,Ze.prototype.getTitle=Ze.prototype.getTitle,Ze.prototype.getPositionInSequence=Ze.prototype.getPositionInSequence,Ze.prototype.getSequenceLength=Ze.prototype.getSequenceLength,Ze.prototype.setMuted=Ze.prototype.setMuted,Ze.prototype.resize=Ze.prototype.resize,Ze.prototype.isLinear=Ze.prototype.isLinear,Ze.prototype.isMuted=Ze.prototype.isMuted,Ze.prototype.setVolume=Ze.prototype.setVolume,Ze.prototype.getVolume=Ze.prototype.getVolume,Ze.prototype.play=Ze.prototype.play,Ze.prototype.pause=Ze.prototype.pause,Ze.prototype.skip=Ze.prototype.skip,Ze.prototype.canSkipNow=Ze.prototype.canSkipNow,Ze.prototype.getTimeUntilSkippable=Ze.prototype.getTimeUntilSkippable,Ze.prototype.isSkippable=Ze.prototype.isSkippable,Ze.prototype.isPaused=Ze.prototype.isPaused,Ze.prototype.getRemainingTime=Ze.prototype.getRemainingTime,Ze.prototype.getMinSuggestedDuration=Ze.prototype.getMinSuggestedDuration,Ze.prototype.getDuration=Ze.prototype.getDuration,Ze.prototype.isUsingAnotherMediaElement=Ze.prototype.isUsingAnotherMediaElement,Ze.prototype.hasCustomClick=Ze.prototype.hasCustomClick,Ze.prototype.isClientRendering=Ze.prototype.isClientRendering,Ze.prototype.needsSkipUI=Ze.prototype.needsSkipUI;function pE(e,t,n,r){var i=this;this.T=null,this.A=e,this.H=t,this.g=n,this.F=null,this.B=!0,this.h=this.g,this.i=r,this.W=new Set,this.G=new Set,this.C=new Map,this.L=new Map,this.j=new le,R2(this),this.I=new Ce,this.l=new Ce,this.K=!1,this.ea=this.m=this.u=this.o=null,this.fa=!1,this.O=-1,this.Z=function(){if(!i.K&&i.o&&!i.H.Pa()){i.o=i.g.currentTime,i.u&&!i.u.pre&&!i.u.post&&i.o<i.u.startTime&&(i.u=null);var a=_h(i);a&&av(i,a,1,1,Date.now())}},this.Y=function(){if(!(i.K||i.o||i.H.Pa())){i.o=i.g.currentTime;var a=_h(i,!0);a&&av(i,a,1,1,Date.now())}},this.P=new kt(this.Z),this.M=new kt(function(){var a,u,l,p,g,v,y,x,S,k,C;return P(function(E){switch(E.g){case 1:if(!i.G.size||i.o==null){E.s(0);break}if(a=i.H.m,a==fa||a==ev)return E.return();u=!1,l=Array.from(i.G),p=i.H.Ra(),g=w(l),v=g.next();case 3:if(v.done){E.s(5);break}if(y=v.value,y==i.u){E.s(4);break}if(x=y.endTime||y.startTime,!(1<=p.start-x)){S=y.startTime-i.o,0<S&&10>=S&&(!i.C.has(y)&&fE(y)&&i.C.set(y,i.j.preload(y.uri,null,y.mimeType||void 0)),gE(i,y)),E.s(4);break}if(!i.C.has(y)){E.s(7);break}return T(E,i.C.get(y),8);case 8:(k=E.h)&&k.destroy(),i.C.delete(y);case 7:mE(i,y),C=JSON.stringify(y),i.W.has(C)&&i.W.delete(C),i.G.delete(y),D2(i),y.overlay||(u=!0);case 4:v=g.next(),E.s(3);break;case 5:u&&ov(i),ae(E)}})})}f=pE.prototype,f.configure=function(e){this.T=e,P2(this)};function eU(e){if(!e.fa&&e.G.size){if(e.I.D(e.g,"playing",e.Y),e.I.D(e.g,"timeupdate",e.Y),e.I.D(e.g,"ended",e.Z),"requestVideoFrameCallback"in e.g&&!B1()){var t=e.g,n=function(){e.O!=-1&&(e.Z(),e.O!=-1&&(e.O=t.requestVideoFrameCallback(n)))};e.O=t.requestVideoFrameCallback(n)}else e.P.ua(.025);e.M&&e.M.ua(1),e.fa=!0}}function D2(e){e.fa&&!e.G.size&&(e.I.Ja(e.g,"playing",e.Y),e.I.Ja(e.g,"timeupdate",e.Y),e.I.Ja(e.g,"ended",e.Z),e.O!=-1&&(e.g.cancelVideoFrameCallback(e.O),e.O=-1),e.P&&e.P.stop(),e.M&&e.M.stop(),e.fa=!1)}function P2(e){if(e.A&&e.T&&!e.K){var t=e.T.supportsMultipleMediaElements,n=e.g;n.webkitSupportsFullscreen&&n.webkitDisplayingFullscreen&&(t=!1),e.B==t&&(e.B=!t,e.B?(e.h=e.g,e.F&&(e.F.parentElement&&e.A.removeChild(e.F),e.F=null)):(e.F||(t=document.createElement(e.g.tagName),t.autoplay=!0,t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.width="100%",t.style.height="100%",t.style.display="none",t.setAttribute("playsinline",""),e.F=t),e.h=e.F))}}f.stop=function(){if(this.l&&this.l.Qa(),this.W.clear(),this.G.clear(),this.j.pf(),this.C.size){var e=Array.from(this.C.values());e=w(e);for(var t=e.next();!t.done;t=e.next())(t=t.value)&&t.then(function(n){n&&n.destroy()})}if(this.C.clear(),this.L.size)for(e=Array.from(this.L.keys()),e=w(e),t=e.next();!t.done;t=e.next())mE(this,t.value);this.L.clear(),this.j.detach(),this.K=!1,this.u=this.o=null,this.B=!0,this.h=this.g,this.F=null,L2(this),D2(this),this.A&&Fs(this.A),this.m&&(this.m.stop(),this.m=null)},f.release=function(){this.stop(),this.I&&this.I.release(),this.l&&this.l.release(),this.P&&(this.P.stop(),this.P=null),this.M&&(this.M.stop(),this.M=null),this.j.destroy()},f.If=function(){return this.j};function tU(e,t){var n;P(function(r){if(r.g==1)return R2(e),T(r,aU(e,t),2);n=r.h,n.length?Mh(e,n):Be("Unsupported HLS interstitial",t),ae(r)})}function nU(e,t){var n=Nn(t.eventNode,"OverlayEvent"),r=n.attributes.uri,i=n.attributes.mimeType,a=n.attributes.loop=="true",u=st(n,"z",Or);if(r&&u!=0){var l={viewport:{x:1920,y:1080},topLeft:{x:0,y:0},size:{x:1920,y:1080}},p=Nn(n,"Viewport"),g=Nn(n,"TopLeft"),v=Nn(n,"Size");if(p&&g&&v){if(l=st(p,"x",Or),l==null||(p=st(p,"y",Or),p==null))return;var y=st(g,"x",Or);if(y==null||(g=st(g,"y",Or),g==null))return;var x=st(v,"x",Or);if(x==null||(v=st(v,"y",Or),v==null))return;l={viewport:{x:l,y:p},topLeft:{x:y,y:g},size:{x,y:v}}}v=Nn(n,"SqueezeCurrent"),n=null,v&&(v=st(v,"percentage",qp))&&(n={viewport:{x:1920,y:1080},topLeft:{x:0,y:0},size:{x:1920*v,y:1080*v}}),Mh(e,[{id:t.id,groupId:null,startTime:t.startTime,endTime:t.endTime,uri:r,mimeType:i,isSkippable:!1,skipOffset:null,skipFor:null,canJump:!0,resumeOffset:null,playoutLimit:null,once:!1,pre:!1,post:!1,timelineRange:!0,loop:a,overlay:l,displayOnBackground:u==-1,currentVideo:n,background:null}])}}f.addAdUrlInterstitial=function(e){var t=this,n,r,i,a,u,l,p,g,v;return P(function(y){switch(y.g){case 1:return n={type:12},T(y,N2(t,e,n),2);case 2:if(r=y.h,i=Hp(r,"VAST,vmap:VMAP"),!i)throw new $(2,10,10007);if(a=[],i.tagName=="VAST"){a=lE(i,t.o),y.s(3);break}if(i.tagName!="vmap:VMAP"){y.s(3);break}for(var x=[],S=w(Gt(i,"vmap:AdBreak")),k=S.next();!k.done;k=S.next()){var C=k.value,E=C.attributes.timeOffset;E&&(k=null,E=="start"?k=0:E=="end"?k=1/0:k=Ec(E),(C=Nn(C,"vmap:AdSource"))&&(C=Nn(C,"vmap:AdTagURI"))&&(C=jn(C))&&x.push({time:k,uri:C}))}u=w(x),l=u.next();case 5:if(l.done){y.s(3);break}return p=l.value,T(y,N2(t,p.uri,n),8);case 8:if(g=y.h,v=Hp(g,"VAST"),!v)throw new $(2,10,10007);a.push.apply(a,j(lE(v,p.time))),l=u.next(),y.s(5);break;case 3:Mh(t,a),ae(y)}})};function Mh(e,t){var n,r,i,a,u,l,p,g;P(function(v){switch(v.g){case 1:n=!1,r=w(t),i=r.next();case 2:if(i.done){v.s(4);break}if(a=i.value,!a.uri){Be("Missing URL in interstitial",a),v.s(3);break}if(a.mimeType){v.s(5);break}return me(v,6),u=e.j.xb(),T(v,sl(a.uri,u,e.H.getConfiguration().streaming.retryParameters),8);case 8:a.mimeType=v.h,V(v,5);break;case 6:W(v);case 5:if(l=a.id||JSON.stringify(a),e.W.has(l)){v.s(3);break}a.loop&&!a.overlay&&Be("Loop is only supported in overlay interstitials",a),a.overlay||(n=!0),e.W.add(l),e.G.add(a),p=!1,a.pre&&e.o==null?p=!0:a.startTime!=0||a.canJump?e.o!=null&&(g=a.startTime-e.o,0<g&&10>=g&&(p=!0)):p=!0,p&&(!e.C.has(a)&&fE(a)&&e.C.set(a,e.j.preload(a.uri,null,a.mimeType||void 0)),gE(e,a));case 3:i=r.next(),v.s(2);break;case 4:n&&ov(e),eU(e),ae(v)}})}function _h(e,t,n){t=t===void 0?!1:t,n=n===void 0?null:n;var r=0,i=null;if(e.G.size&&e.o!=null){var a=e.g.ended,u=Array.from(e.G).sort(function(v,y){return y.startTime-v.startTime}),l=u;for(l=t?u.filter(function(v){return v.pre}):a?u.filter(function(v){return v.post}):u.filter(function(v){return!v.pre&&!v.post}),u=w(l),l=u.next();!l.done;l=u.next()){l=l.value;var p=!1;if(t)p=l.pre;else if(a)p=l.post;else if(!l.pre&&!l.post){var g=e.o-Math.round(1e3*l.startTime)/1e3;0<g&&(1>=g||!l.canJump)&&(p=!(n==null&&e.u&&!e.u.pre&&!e.u.post&&e.u.startTime>=l.startTime))}p&&(!e.u||l.startTime>=e.u.startTime)&&(r==(n||0)?i=l:i&&!l.canJump&&.001<Math.round(1e3*l.startTime)/1e3-Math.round(1e3*i.startTime)/1e3&&(i=l,r=0),r++)}}return i}function av(e,t,n,r,i,a){a=a===void 0?0:a,e.u=t,P2(e),!e.h.parentElement&&e.A&&e.A.appendChild(e.h),r==1&&n==1&&(n=Array.from(e.G).filter(function(u){return t.pre?u.pre==t.pre:t.post?u.post==t.post:.001>Math.abs(u.startTime-t.startTime)}).length),t.once&&(a++,e.G.delete(t),D2(e),t.overlay||ov(e)),t.mimeType&&(t.mimeType.startsWith("image/")||t.mimeType==="text/html")?t.overlay?rU(e,t,n,r,a):Be("Unsupported interstitial",t):e.B&&t.overlay?Be("Unsupported interstitial",t):iU(e,t,n,r,i,a)}function rU(e,t,n,r,i){function a(){e.m&&(e.m.stop(),e.m=null),e.A.removeChild(p),L2(e,t),e.i(new Ae("ad-stopped"));var x=_h(e,t.pre,r-i);x?(e.l.Qa(),av(e,x,n,++r,Date.now(),i)):e.K=!1}var u=t.overlay,l=t.mimeType=="text/html"?"iframe":"img",p=document.createElement(l);p.style.objectFit="contain",p.style.position="absolute",p.style.border="none",hE(e,t),e.i(new Ae("ad-started",new Map().set("ad",new Ze(t,n,r)))),l=="iframe"?p.src=t.uri:(p.src=t.uri,p.onerror=function(x){e.i(new Ae("ad-error",new Map().set("originalEvent",x))),a()});var g=u.viewport,v=u.topLeft;u=u.size,g.x==0&&g.y==0?(p.width=t.overlay.size.x,p.height=t.overlay.size.y,p.style.bottom="10%",p.style.left="0",p.style.right="0",p.style.width="100%",t.overlay.size.y||l!="iframe"||(p.style.height="auto")):(p.style.height=u.y/g.y*100+"%",p.style.left=v.x/g.x*100+"%",p.style.top=v.y/g.y*100+"%",p.style.width=u.x/g.x*100+"%"),e.A.appendChild(p);var y=Date.now();e.m&&e.m.stop(),e.m=new kt(function(){t.playoutLimit&&(Date.now()-y)/1e3>t.playoutLimit?(e.i(new Ae("ad-complete")),a()):t.endTime&&e.g.currentTime>t.endTime?(e.i(new Ae("ad-complete")),a()):e.g.currentTime<t.startTime&&(e.i(new Ae("ad-skipped")),a())}),t.playoutLimit&&!t.endTime?e.m.da(t.playoutLimit):t.endTime&&e.m.ua(.025),e.l.D(e.g,"seeked",function(){var x=e.g.currentTime;(x<t.startTime||t.endTime&&x>t.endTime)&&(e.m&&e.m.stop(),e.i(new Ae("ad-skipped")),a())})}function iU(e,t,n,r,i,a){var u,l,p,g,v,y,x,S,k,C,E,I,_,F,B,q,O;P(function(N){switch(N.g){case 1:if(u=Date.now(),e.K=!0,!e.B||r!=1){N.s(2);break}return e.i(new Ae("ad-content-pause-requested",new Map().set("saveLivePosition",!0))),l=new Wt,p=function(H){return P(function(z){if(z.g==1)return H.state!="detach"?z.s(0):B1()?T(z,new Promise(function(Y){return new kt(Y).da(.1)}),3):z.s(3);l.resolve(),e.l.Ja(e.H,"onstatechange",p),ae(z)})},e.l.D(e.H,"onstatechange",p),T(N,l,2);case 2:return hE(e,t),e.B||(e.h.style.display="",t.overlay?(e.h.loop=t.loop,g=t.overlay.viewport,v=t.overlay.topLeft,y=t.overlay.size,e.h.style.height=y.y/g.y*100+"%",e.h.style.left=v.x/g.x*100+"%",e.h.style.top=v.y/g.y*100+"%",e.h.style.width=y.x/g.x*100+"%"):(e.g.pause(),t.resumeOffset!=null&&t.resumeOffset!=0&&(e.g.currentTime+=t.resumeOffset),e.h.loop=!1,e.h.style.height="100%",e.h.style.left="0",e.h.style.top="0",e.h.style.width="100%")),x=!1,S=function(){if(!e.B&&!t.overlay&&t.resumeOffset==null)if(t.timelineRange&&t.endTime&&t.endTime!=1/0)e.g.currentTime!=t.endTime&&(e.g.currentTime=t.endTime);else{var H=Date.now();e.g.currentTime+=(H-i)/1e3,i=H}},k=function(H){var z,Y;return P(function(K){if(K.g==1){if(S(),z=_h(e,t.pre,r-a),H&&t.groupId)for(;z&&z.groupId==t.groupId;)r++,z=_h(e,t.pre,r-a);return e.m&&(!t.groupId||z&&z.groupId!=t.groupId)&&(e.m.stop(),e.m=null),L2(e,t),z&&!z.overlay?K.s(2):(t.post&&(e.o=null,e.u=null),e.B?T(K,e.j.detach(),4):T(K,e.j.kc(),4))}K.g!=2&&(e.B&&(Y=t.resumeOffset,Y==null&&(Y=t.timelineRange&&t.endTime&&t.endTime!=1/0?t.endTime-(e.o||0):(Date.now()-i)/1e3),e.i(new Ae("ad-content-resume-requested",new Map().set("offset",Y)))),e.i(new Ae("ad-stopped")),e.l.Qa(),e.K=!1,e.B?ov(e):(e.h.style.display="none",S(),e.g.ended||e.g.play())),P2(e),z&&(e.i(new Ae("ad-stopped")),e.l.Qa(),av(e,z,n,++r,i,a)),ae(K)})},C=function(H){return P(function(z){return x?z.return():(x=!0,e.i(new Ae("ad-error",new Map().set("originalEvent",H))),T(z,k(!1),0))})},E=function(){return P(function(H){if(H.g==1)return x?H.return():(x=!0,T(H,k(!1),2));e.i(new Ae("ad-complete")),ae(H)})},e.ea=function(){return P(function(H){return x?H.return():(x=!0,e.i(new Ae("ad-skipped")),T(H,k(!0),0))})},I=new Qe(e.h,t,e.ea,n,r,!e.B),e.B||(I.setMuted(e.g.muted),I.setVolume(e.g.volume)),e.i(new Ae("ad-started",new Map().set("ad",I))),(_=I.canSkipNow())&&e.i(new Ae("ad-skip-state-changed")),e.l.ma(e.j,"error",C),e.l.D(e.h,"timeupdate",function(){if(e.h.duration){var H=I.canSkipNow();_!=H&&0<I.getRemainingTime()&&0<I.getDuration()&&e.i(new Ae("ad-skip-state-changed")),_=H}}),e.l.ma(e.j,"firstquartile",function(){S(),e.i(new Ae("ad-first-quartile"))}),e.l.ma(e.j,"midpoint",function(){S(),e.i(new Ae("ad-midpoint"))}),e.l.ma(e.j,"thirdquartile",function(){S(),e.i(new Ae("ad-third-quartile"))}),e.l.ma(e.j,"complete",E),e.l.D(e.h,"play",function(){e.i(new Ae("ad-resumed"))}),e.l.D(e.h,"pause",function(){var H=e.j.getConfiguration();e.h.currentTime>=H.playRangeEnd?E():e.i(new Ae("ad-paused"))}),e.l.D(e.h,"volumechange",function(){e.h.muted?e.i(new Ae("ad-muted")):e.i(new Ae("ad-volume-changed"))}),me(N,4),R2(e),t.startTime&&t.endTime&&t.endTime!=1/0&&t.startTime!=t.endTime&&(F=t.endTime-t.startTime,0<F&&e.j.configure("playRangeEnd",F)),t.playoutLimit&&!e.m&&(e.m=new kt(function(){e.ea()}).da(t.playoutLimit),e.j.configure("playRangeEnd",t.playoutLimit)),T(N,e.j.Lb(e.h),6);case 6:return e.C.has(t)?T(N,e.C.get(t),10):T(N,e.j.load(t.uri,null,t.mimeType||void 0),8);case 10:return B=N.h,e.C.delete(t),B?T(N,e.j.load(B),8):T(N,e.j.load(t.uri,null,t.mimeType||void 0),8);case 8:e.h.play(),q=(Date.now()-u)/1e3,e.i(new Ae("ads-loaded",new Map().set("loadTime",q))),e.B&&e.g.play(),t.overlay&&(e.l.D(e.g,"seeking",function(){var H=e.g.currentTime-t.startTime;.1<Math.abs(H-e.h.currentTime)&&(e.h.currentTime=H)}),e.l.D(e.g,"seeked",function(){var H=e.g.currentTime;(H<t.startTime||t.endTime&&H>t.endTime)&&e.ea()})),V(N,0);break;case 4:if(O=W(N),!e.K)return N.return();C(O),ae(N)}})}function hE(e,t){if(t.displayOnBackground&&(e.g.style.zIndex="1"),t.currentVideo!=null){var n=t.currentVideo;e.g.style.transformOrigin="top left";var r=!0,i=[],a=n.topLeft.x/n.viewport.x*100;0<a&&100>=a&&(i.push("translateX("+a+"%)"),r=!1),a=n.topLeft.y/n.viewport.y*100,0<a&&100>=a&&(i.push("translateY("+a+"%)"),r=!1),a=n.size.x/n.viewport.x,1>a&&i.push("scaleX("+a+")"),n=n.size.y/n.viewport.y,1>a&&i.push("scaleY("+n+")"),i.length&&(e.g.style.transform=i.join(" ")),r&&(e.g.style.transition="transform 250ms")}e.A&&(e.A.style.pointerEvents="none",t.background&&(e.A.style.background=t.background)),e.F&&(e.F.style.background=t.overlay?"":"rgb(0, 0, 0)")}function L2(e,t){(!t||t.displayOnBackground)&&(e.g.style.zIndex=""),t&&t.currentVideo==null||(e.g.style.transformOrigin="",e.g.style.transition="",e.g.style.transform=""),e.A&&(e.A.style.pointerEvents="",!t||t.background)&&(e.A.style.background=""),e.F&&(e.F.style.background="")}function aU(e,t){var n,r,i,a,u,l,p,g,v,y,x,S,k,C,E,I,_,F,B,q,O,N,H,z,Y,K,J,ie,ne,ue,oe,pe,xe,tt,je,Vt,Tt,ft,vt,Rt,dt,Et;return P(function(at){switch(at.g){case 1:if(n=[],!t||(r=t.values.find(function(pt){return pt.key=="X-ASSET-URI"}),i=t.values.find(function(pt){return pt.key=="X-ASSET-LIST"}),!r&&!i))return at.return(n);if(a=null,(u=t.values.find(function(pt){return pt.key=="ID"}))&&(a=u.data),l=a==null?Math.floor(10*t.startTime)/10:t.startTime,(p=t.endTime)&&t.endTime!=1/0&&typeof t.endTime=="number"&&(p=a==null?Math.floor(10*t.endTime)/10:t.endTime),g=t.values.find(function(pt){return pt.key=="X-RESTRICT"}),y=v=!0,g&&g.data&&(x=g.data,v=!x.includes("SKIP"),y=!x.includes("JUMP")),S=v?0:null,(k=t.values.find(function(pt){return pt.key=="X-ENABLE-SKIP-AFTER"}))&&(C=k.data,S=parseFloat(C),isNaN(S)&&(S=v?0:null)),E=null,(I=t.values.find(function(pt){return pt.key=="X-ENABLE-SKIP-FOR"}))&&(_=I.data,E=parseFloat(_),isNaN(S)&&(E=null)),F=null,(B=t.values.find(function(pt){return pt.key=="X-RESUME-OFFSET"}))&&(q=B.data,F=parseFloat(q),isNaN(F)&&(F=null)),O=null,(N=t.values.find(function(pt){return pt.key=="X-PLAYOUT-LIMIT"}))&&(H=N.data,O=parseFloat(H),isNaN(O)&&(O=null)),K=Y=z=!1,(J=t.values.find(function(pt){return pt.key=="CUE"}))&&(ie=J.data,z=ie.includes("ONCE"),Y=ie.includes("PRE"),K=ie.includes("POST")),ne=!1,(ue=t.values.find(function(pt){return pt.key=="X-TIMELINE-OCCUPIES"}))?(oe=ue.data,ne=oe.includes("RANGE")):!B&&e.H.U()&&(ne=!Y&&!K),r){if(pe=r.data,!pe)return at.return(n);n.push({id:a,groupId:null,startTime:l,endTime:p,uri:pe,mimeType:null,isSkippable:v,skipOffset:S,skipFor:E,canJump:y,resumeOffset:F,playoutLimit:O,once:z,pre:Y,post:K,timelineRange:ne,loop:!1,overlay:null,displayOnBackground:!1,currentVideo:null,background:null}),at.s(2);break}if(!i){at.s(2);break}return xe=i.data,xe?(me(at,4),tt={type:11},T(at,N2(e,xe,tt),6)):at.return(n);case 6:for(je=at.h,Vt=yn(je),Tt=JSON.parse(Vt),(ft=Tt["SKIP-CONTROL"])&&(vt=ft["ENABLE-SKIP-AFTER"],typeof vt=="number"&&(S=parseFloat(vt),isNaN(vt)&&(S=v?0:null)),Rt=ft["ENABLE-SKIP-FOR"],typeof Rt=="number"&&(E=parseFloat(Rt),isNaN(Rt)&&(E=null))),dt=0;dt<Tt.ASSETS.length;dt++)Et=Tt.ASSETS[dt],Et.URI&&n.push({id:a+"_shaka_asset_"+dt,groupId:a,startTime:l,endTime:p,uri:Et.URI,mimeType:null,isSkippable:v,skipOffset:S,skipFor:E,canJump:y,resumeOffset:F,playoutLimit:O,once:z,pre:Y,post:K,timelineRange:ne,loop:!1,overlay:null,displayOnBackground:!1,currentVideo:null,background:null});V(at,2);break;case 4:W(at);case 2:return at.return(n)}})}function ov(e){for(var t=[],n=w(e.G),r=n.next(),i={};!r.done;i={$b:void 0},r=n.next())r=r.value,r.overlay||(i.$b={start:r.startTime,end:null},r.pre?(i.$b.start=0,i.$b.end=null):r.post?(i.$b.start=-1,i.$b.end=null):r.timelineRange&&(i.$b.end=r.endTime),t.find(function(a){return function(u){return a.$b.start==u.start&&a.$b.end==u.end}}(i))||t.push(i.$b));e.i(new Ae("ad-cue-points-changed",new Map().set("cuepoints",t)))}function R2(e){e.j.configure(e.H.Vg()),e.j.configure("ads.disableHLSInterstitial",!0),e.j.configure("ads.disableDASHInterstitial",!0),e.j.configure("playRangeEnd",1/0),q5(e.H.xb(),e.j.xb())}function N2(e,t,n){var r,i,a;return P(function(u){return u.g==1?(r=qn([t],Oa()),i=e.H.xb().request(7,r,n),T(u,i.promise,2)):(a=u.h,u.return(a.data))})}function fE(e){return(e=e.mimeType)?!e.startsWith("image/")&&e!=="text/html":!0}function gE(e,t){if(!(e.L.has(t)||e.T&&!e.T.allowPreloadOnDomElements)){var n=function(a){var u=document.createElement("link");return u.rel="preload",u.href=a,u.as="image",document.head.appendChild(u),u},r=[];if(t.background){var i=t.background.match(/url\(('|")?([^'"()]+)('|")\)?/);i&&r.push(n(i[2]))}t.mimeType.startsWith("image/")&&r.push(n(t.uri)),e.L.set(t,r)}}function mE(e,t){if(e.L.has(t)){var n=e.L.get(t);n=w(n);for(var r=n.next();!r.done;r=n.next())r=r.value,r.parentNode.removeChild(r);e.L.delete(t)}}function We(e,t,n,r,i){this.h=e,this.j=Ec(this.h.skipOffset),this.g=i,this.i=t,this.l=n,this.o=r,this.m=!1}f=We.prototype,f.needsSkipUI=function(){return!0},f.isClientRendering=function(){return!1},f.hasCustomClick=function(){return!1},f.isUsingAnotherMediaElement=function(){return!1},f.getDuration=function(){return this.h.durationInSeconds},f.getMinSuggestedDuration=function(){return this.getDuration()},f.getRemainingTime=function(){return this.h.startTimeInSeconds+this.h.durationInSeconds-this.g.currentTime},f.isPaused=function(){return this.g.paused},f.isSkippable=function(){return typeof this.j=="number"},f.getTimeUntilSkippable=function(){if(typeof this.j!="number")return this.getRemainingTime();var e=this.getRemainingTime()+this.j-this.getDuration();return Math.max(e,0)},f.canSkipNow=function(){return this.getTimeUntilSkippable()==0},f.skip=function(){this.m=!0,this.g.currentTime+=this.getRemainingTime()},f.pause=function(){return this.g.pause()},f.play=function(){return this.g.play()},f.getVolume=function(){return this.g.volume},f.setVolume=function(e){this.g.volume=e},f.isMuted=function(){return this.g.muted},f.isLinear=function(){return this.o},f.resize=function(){},f.setMuted=function(e){this.g.muted=e},f.getSequenceLength=function(){return this.l?this.l:1},f.getPositionInSequence=function(){return this.i?this.i:1},f.getTitle=function(){return this.h.adTitle},f.getDescription=function(){return""},f.getVastMediaBitrate=function(){return 0},f.getVastMediaHeight=function(){return 0},f.getVastMediaWidth=function(){return 0},f.getAdId=function(){return this.h.adId},f.getCreativeAdId=function(){return this.h.creativeId},f.getAdvertiserName=function(){return""},f.getMediaUrl=function(){return null},f.getTimeOffset=function(){return 0},f.getPodIndex=function(){return 0},f.release=function(){this.l=this.i=this.g=this.h=null},Ee("shaka.ads.MediaTailorAd",We),We.prototype.release=We.prototype.release,We.prototype.getPodIndex=We.prototype.getPodIndex,We.prototype.getTimeOffset=We.prototype.getTimeOffset,We.prototype.getMediaUrl=We.prototype.getMediaUrl,We.prototype.getAdvertiserName=We.prototype.getAdvertiserName,We.prototype.getCreativeAdId=We.prototype.getCreativeAdId,We.prototype.getAdId=We.prototype.getAdId,We.prototype.getVastMediaWidth=We.prototype.getVastMediaWidth,We.prototype.getVastMediaHeight=We.prototype.getVastMediaHeight,We.prototype.getVastMediaBitrate=We.prototype.getVastMediaBitrate,We.prototype.getDescription=We.prototype.getDescription,We.prototype.getTitle=We.prototype.getTitle,We.prototype.getPositionInSequence=We.prototype.getPositionInSequence,We.prototype.getSequenceLength=We.prototype.getSequenceLength,We.prototype.setMuted=We.prototype.setMuted,We.prototype.resize=We.prototype.resize,We.prototype.isLinear=We.prototype.isLinear,We.prototype.isMuted=We.prototype.isMuted,We.prototype.setVolume=We.prototype.setVolume,We.prototype.getVolume=We.prototype.getVolume,We.prototype.play=We.prototype.play,We.prototype.pause=We.prototype.pause,We.prototype.skip=We.prototype.skip,We.prototype.canSkipNow=We.prototype.canSkipNow,We.prototype.getTimeUntilSkippable=We.prototype.getTimeUntilSkippable,We.prototype.isSkippable=We.prototype.isSkippable,We.prototype.isPaused=We.prototype.isPaused,We.prototype.getRemainingTime=We.prototype.getRemainingTime,We.prototype.getMinSuggestedDuration=We.prototype.getMinSuggestedDuration,We.prototype.getDuration=We.prototype.getDuration,We.prototype.isUsingAnotherMediaElement=We.prototype.isUsingAnotherMediaElement,We.prototype.hasCustomClick=We.prototype.hasCustomClick,We.prototype.isClientRendering=We.prototype.isClientRendering,We.prototype.needsSkipUI=We.prototype.needsSkipUI;function Dh(e,t,n,r){this.B=e,this.K=t,this.h=n,this.l=null,this.P=NaN,this.i=r,this.I=!1,this.A=null,this.j=[],this.M=[],this.L=this.C=this.g=null,this.F=new Map,this.m=[],this.u=[],this.G="",this.O=!0,this.H="",this.o=new Ce}Dh.prototype.stop=function(){for(var e=w(this.m),t=e.next();!t.done;t=e.next())t=t.value,this.o.Ja(t.target,t.type,t.listener);rd(this),this.m=[],this.u=[],this.G="",this.O=!0,this.H="",this.A=null,this.j=[],this.M=[],this.F.clear()},Dh.prototype.release=function(){this.stop(),this.o&&this.o.release()},Dh.prototype.onManifestUpdated=function(e){this.I=e,this.G!=""&&(sU(this,this.G,this.O),this.O=!1)},Dh.prototype.getCuePoints=function(){for(var e=[],t=w(this.j),n=t.next();!n.done;n=t.next()){n=w(n.value.ads);for(var r=n.next();!r.done;r=n.next())r=r.value,e.push({start:r.startTimeInSeconds,end:r.startTimeInSeconds+r.durationInSeconds})}return e};function oU(e,t,n){var r,i,a,u,l,p,g,v,y,x,S,k;P(function(C){if(C.g==1)return r={type:7},i=qn([t],Oa()),i.method="POST",n&&(a=JSON.stringify(n),i.body=la(a)),u=e.K.request(7,i,r),me(C,2),T(C,u.promise,4);if(C.g!=2){if(l=C.h,p=yn(l.data),g=JSON.parse(p),g.manifestUrl&&g.trackingUrl)v=new ee(t),y=new ee(g.trackingUrl),e.G=v.resolve(y).toString(),x=Date.now()/1e3,S=x-e.P,e.i(new Ae("ads-loaded",new Map().set("loadTime",S))),k=new ee(g.manifestUrl),e.l.resolve(v.resolve(k).toString()),e.l=null;else throw Error("Insufficient data from MediaTailor.");return V(C,0)}if(W(C),!e.H.length)return e.l.reject("MediaTailor request returned an error and there was no backup asset uri provided."),e.l=null,C.return();e.l.resolve(e.H),e.l=null,ae(C)})}function sU(e,t,n){var r,i,a,u,l,p,g,v,y,x,S,k,C,E,I,_;P(function(F){if(F.g==1)return r={type:8},i=qn([t],Oa()),a=e.K.request(7,i,r),me(F,2),T(F,a.promise,4);if(F.g!=2){if(u=F.h,l=[],p=yn(u.data),g=JSON.parse(p),0<g.avails.length){if(JSON.stringify(e.j)!=JSON.stringify(g.avails)){for(e.j=g.avails,v=w(e.j),y=v.next();!y.done;y=v.next())for(x=y.value,S=w(x.nonLinearAdsList),k=S.next();!k.done;k=S.next())for(C=k.value,E=w(C.nonLinearAdList),I=E.next();!I.done;I=E.next())_=I.value,uU(e,_);l=e.getCuePoints(),e.i(new Ae("ad-cue-points-changed",new Map().set("cuepoints",l)))}}else e.j.length&&e.i(new Ae("ad-cue-points-changed",new Map().set("cuepoints",l))),rd(e),e.j=[];return n&&(e.I||0<l.length)&&lU(e),V(F,0)}W(F),ae(F)})}function uU(e,t){var n,r,i,a,u,l,p,g;P(function(v){if(v.g==1)return!t.staticResource||(n=vE(t),e.F.get(n))?v.return():(r={type:9},i=qn([t.staticResource],Oa()),a=e.K.request(7,i,r),me(v,2),e.F.set(n,[]),T(v,a.promise,4));if(v.g!=2)return u=v.h,l=yn(u.data),p=JSON.parse(l),g=p.apps,e.F.set(n,g),V(v,0);W(v),e.F.delete(n),ae(v)})}function vE(e){return[e.adId,e.adParameters,e.adSystem,e.adTitle,e.creativeAdId,e.creativeId,e.creativeSequence,e.height,e.width,e.staticResource].join("")}function lU(e){bE(e),e.I||(yE(e),e.o.D(e.h,"seeked",function(){yE(e)}),e.o.D(e.h,"ended",function(){rd(e)})),e.o.D(e.h,"timeupdate",function(){bE(e)})}function yE(e){var t=e.h.currentTime;if(t!=0&&e.A==null){for(var n,r,i=w(e.j),a=i.next();!a.done;a=i.next()){a=a.value;for(var u=w(a.ads),l=u.next();!l.done;l=u.next())if(l=l.value,!r)l.startTimeInSeconds<t&&(r=l,n=a);else if(l.startTimeInSeconds<t&&l.startTimeInSeconds>r.startTimeInSeconds+r.durationInSeconds){r=l,n=a;break}}n&&r&&!e.M.includes(r.adId)&&(e.A=t,e.h.currentTime=n.startTimeInSeconds)}}function bE(e){if(e.h.duration&&(e.g||e.j.length)){var t=e.h.currentTime,n=!1;if(e.g){n=!0;var r=e.C,i=r.startTimeInSeconds+.5*r.durationInSeconds,a=r.startTimeInSeconds+.75*r.durationInSeconds;t>=r.startTimeInSeconds+.25*r.durationInSeconds&&!e.u.includes("firstQuartile")?(e.u.push("firstQuartile"),Fr(e,"firstQuartile")):t>=i&&!e.u.includes("midpoint")?(e.u.push("midpoint"),Fr(e,"midpoint")):t>=a&&!e.u.includes("thirdQuartile")&&(e.u.push("thirdQuartile"),Fr(e,"thirdQuartile")),r=e.g.getRemainingTime(),i=e.g.getDuration(),e.g.canSkipNow()&&0<r&&0<i&&Fr(e,"skipStateChanged"),0<i&&(0>=r||r>i)&&rd(e)}if(!e.g||!e.g.isLinear()){e:for(r=w(e.j),i=r.next();!i.done&&(i=i.value,!(e.g&&e.g.isLinear()));i=r.next())for(a=0;a<i.ads.length;a++){var u=i.ads[a],l=u.startTimeInSeconds+u.durationInSeconds;if(u.startTimeInSeconds<=t&&l>t){if(e.M.includes(u.adId)){if(e.h.ended)continue;e.h.currentTime=l;break e}rd(e),e.L=i,e.g=new We(u,a+1,i.ads.length,!0,e.h),e.C=u,a===0&&Fr(e,"breakStart"),wE(e);break}}if(!e.g){for(r=w(e.j),i=r.next();!i.done&&(i=i.value,!e.g);i=r.next())for(a=0;a<i.nonLinearAdsList.length;a++)if(u=i.nonLinearAdsList[a],u.nonLinearAdList.length){l=i.startTimeInSeconds;var p=e.F.get(vE(u.nonLinearAdList[0]));if(l<=t&&p&&p.length){rd(e),l=e,p=w(p);for(var g=p.next();!g.done;g=p.next())if(g=g.value,g.data.source.length){var v=document.createElement("img");v.src=g.data.source[0].url,v.style.top=(g.placeholder.top||0)+"%",v.style.height=100-(g.placeholder.top||0)+"%",v.style.left=(g.placeholder.left||0)+"%",v.style.maxWidth=100-(g.placeholder.left||0)+"%",v.style.objectFit="contain",v.style.position="absolute",l.B.appendChild(v)}e.L=i,e.g=new We(u,a+1,i.ads.length,!1,e.h),e.C=u,a===0&&Fr(e,"breakStart"),wE(e);break}}}n&&!e.g&&(t=e.h.currentTime,e.A&&e.A>t&&(e.h.currentTime=e.A),e.A=null)}}}function rd(e){if(e.g){for(;e.B.lastChild;)e.B.removeChild(e.B.firstChild);e.I||e.M.push(e.C.adId);var t=e.g.m;t!==void 0&&t?Fr(e,"skip"):Fr(e,"complete"),t=w(e.m);for(var n=t.next();!n.done;n=t.next())n=n.value,e.o.Ja(n.target,n.type,n.listener);e.m=[],e.u=[],t=e.g.getPositionInSequence(),n=e.g.getSequenceLength(),t===n&&Fr(e,"breakEnd"),e.g=null,e.C=null,e.L=null}}function wE(e){var t=!1;e.h.paused?t=!0:(Fr(e,"impression"),Fr(e,"start")),e.m.push({target:e.h,type:"volumechange",listener:function(){e.h.muted&&Fr(e,"mute")}}),e.m.push({target:e.h,type:"volumechange",listener:function(){e.h.muted||Fr(e,"unmute")}}),e.m.push({target:e.h,type:"play",listener:function(){t?(Fr(e,"impression"),Fr(e,"start"),t=!1):Fr(e,"resume")}}),e.m.push({target:e.h,type:"pause",listener:function(){Fr(e,"pause")}});for(var n=w(e.m),r=n.next();!r.done;r=n.next())r=r.value,e.o.D(r.target,r.type,r.listener)}function Fr(e,t){var n=e.C.trackingEvents.find(function(a){return a.eventType==t});if(n||(n=e.L.adBreakTrackingEvents.find(function(a){return a.eventType==t})),n){var r={type:10};n=w(n.beaconUrls);for(var i=n.next();!i.done;i=n.next())(i=i.value)&&i!=""&&(i=qn([i],Oa()),i.method="POST",e.K.request(7,i,r))}switch(t){case"impression":e.i(new Ae("ad-impression"));break;case"start":e.i(new Ae("ad-started",new Map().set("ad",e.g)));break;case"mute":e.i(new Ae("ad-muted"));break;case"unmute":e.i(new Ae("ad-volume-changed"));break;case"resume":e.i(new Ae("ad-resumed"));break;case"pause":e.i(new Ae("ad-paused"));break;case"firstQuartile":e.i(new Ae("ad-first-quartile"));break;case"midpoint":e.i(new Ae("ad-midpoint"));break;case"thirdQuartile":e.i(new Ae("ad-third-quartile"));break;case"complete":e.i(new Ae("ad-complete")),e.i(new Ae("ad-stopped"));break;case"skip":e.i(new Ae("ad-skipped")),e.i(new Ae("ad-stopped"));break;case"breakStart":e.B.setAttribute("ad-active","true");break;case"breakEnd":e.B.removeAttribute("ad-active");break;case"skipStateChanged":e.i(new Ae("ad-skip-state-changed"))}}function et(e,t){this.g=e,this.i=null,this.h=t}f=et.prototype,f.needsSkipUI=function(){return!0},f.isClientRendering=function(){return!1},f.hasCustomClick=function(){return!0},f.isUsingAnotherMediaElement=function(){return!1},f.getDuration=function(){return this.i?this.i.duration:-1},f.getMinSuggestedDuration=function(){return this.getDuration()},f.getRemainingTime=function(){return this.i?this.i.duration-this.i.currentTime:-1},f.isPaused=function(){return this.h.paused},f.isSkippable=function(){return this.g.isSkippable()},f.getTimeUntilSkippable=function(){var e=this.g.getSkipTimeOffset();return e=this.getRemainingTime()-e,Math.max(e,0)},f.canSkipNow=function(){return this.getTimeUntilSkippable()==0},f.skip=function(){this.h.currentTime+=this.getRemainingTime()},f.pause=function(){return this.h.pause()},f.play=function(){return this.h.play()},f.getVolume=function(){return this.h.volume},f.setVolume=function(e){this.h.volume=e},f.isMuted=function(){return this.h.muted},f.isLinear=function(){return!0},f.resize=function(){},f.setMuted=function(e){this.h.muted=e},f.getSequenceLength=function(){var e=this.g.getAdPodInfo();return e==null?1:e.getTotalAds()},f.getPositionInSequence=function(){var e=this.g.getAdPodInfo();return e==null?1:e.getAdPosition()},f.getTitle=function(){return this.g.getTitle()},f.getDescription=function(){return this.g.getDescription()},f.getVastMediaBitrate=function(){return 0},f.getVastMediaHeight=function(){return this.g.getVastMediaHeight()},f.getVastMediaWidth=function(){return this.g.getVastMediaWidth()},f.getAdId=function(){return this.g.getAdId()},f.getCreativeAdId=function(){return this.g.getCreativeAdId()},f.getAdvertiserName=function(){return this.g.getAdvertiserName()},f.getMediaUrl=function(){return null},f.getTimeOffset=function(){var e=this.g.getAdPodInfo();return e==null?0:e.getTimeOffset()},f.getPodIndex=function(){var e=this.g.getAdPodInfo();return e==null?0:e.getPodIndex()},f.release=function(){this.h=this.i=this.g=null},Ee("shaka.ads.ServerSideAd",et),et.prototype.release=et.prototype.release,et.prototype.getPodIndex=et.prototype.getPodIndex,et.prototype.getTimeOffset=et.prototype.getTimeOffset,et.prototype.getMediaUrl=et.prototype.getMediaUrl,et.prototype.getAdvertiserName=et.prototype.getAdvertiserName,et.prototype.getCreativeAdId=et.prototype.getCreativeAdId,et.prototype.getAdId=et.prototype.getAdId,et.prototype.getVastMediaWidth=et.prototype.getVastMediaWidth,et.prototype.getVastMediaHeight=et.prototype.getVastMediaHeight,et.prototype.getVastMediaBitrate=et.prototype.getVastMediaBitrate,et.prototype.getDescription=et.prototype.getDescription,et.prototype.getTitle=et.prototype.getTitle,et.prototype.getPositionInSequence=et.prototype.getPositionInSequence,et.prototype.getSequenceLength=et.prototype.getSequenceLength,et.prototype.setMuted=et.prototype.setMuted,et.prototype.resize=et.prototype.resize,et.prototype.isLinear=et.prototype.isLinear,et.prototype.isMuted=et.prototype.isMuted,et.prototype.setVolume=et.prototype.setVolume,et.prototype.getVolume=et.prototype.getVolume,et.prototype.play=et.prototype.play,et.prototype.pause=et.prototype.pause,et.prototype.skip=et.prototype.skip,et.prototype.canSkipNow=et.prototype.canSkipNow,et.prototype.getTimeUntilSkippable=et.prototype.getTimeUntilSkippable,et.prototype.isSkippable=et.prototype.isSkippable,et.prototype.isPaused=et.prototype.isPaused,et.prototype.getRemainingTime=et.prototype.getRemainingTime,et.prototype.getMinSuggestedDuration=et.prototype.getMinSuggestedDuration,et.prototype.getDuration=et.prototype.getDuration,et.prototype.isUsingAnotherMediaElement=et.prototype.isUsingAnotherMediaElement,et.prototype.hasCustomClick=et.prototype.hasCustomClick,et.prototype.isClientRendering=et.prototype.isClientRendering,et.prototype.needsSkipUI=et.prototype.needsSkipUI;function xE(e,t,n,r){var i=this;this.u=e,this.l=t,this.j=null,this.F=NaN,this.i=r,this.G=!1,this.A=this.m=this.o=null,this.B="",this.C=[],this.h=new Ce,e=new google.ima.dai.api.UiSettings,e.setLocale(n),this.g=new google.ima.dai.api.StreamManager(this.l,this.u,e),this.i(new Ae("ima-stream-manager-loaded",new Map().set("imaStreamManager",this.g))),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.LOADED,function(a){cU(i,a)}),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.ERROR,function(){i.B.length?i.j.resolve(i.B):i.j.reject("IMA Stream request returned an error and there was no backup asset uri provided."),i.j=null}),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED,function(){}),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.STARTED,function(a){a=a.getAd(),i.m=new et(a,i.l),i.A&&(i.m.i=i.A),i.i(new Ae("ad-started",new Map().set("ad",i.m))),i.u.setAttribute("ad-active","true")}),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED,function(){i.u.removeAttribute("ad-active");var a=i.l.currentTime;i.o&&i.o>a&&(i.l.currentTime=i.o,i.o=null)}),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.AD_PROGRESS,function(a){i.A=a.getStreamData().adProgressData,i.m&&(i.m.i=i.A)}),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.FIRST_QUARTILE,function(){i.i(new Ae("ad-first-quartile"))}),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.MIDPOINT,function(){i.i(new Ae("ad-midpoint"))}),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.THIRD_QUARTILE,function(){i.i(new Ae("ad-third-quartile"))}),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.COMPLETE,function(){i.i(new Ae("ad-complete")),i.i(new Ae("ad-stopped")),i.u.removeAttribute("ad-active"),i.m=null}),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.SKIPPED,function(){i.i(new Ae("ad-skipped")),i.i(new Ae("ad-stopped"))}),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.CUEPOINTS_CHANGED,function(a){var u=a.getStreamData();a=[],u=w(u.cuepoints);for(var l=u.next();!l.done;l=u.next())l=l.value,a.push({start:l.start,end:l.end});i.C=a,i.i(new Ae("ad-cue-points-changed",new Map().set("cuepoints",a)))})}f=xE.prototype,f.configure=function(){},f.stop=function(){this.B="",this.o=null,this.C=[]},f.release=function(){this.stop(),this.h&&this.h.release()},f.onCueMetadataChange=function(e){if(e.key&&e.data){var t={};t[e.key]=e.data,this.g.onTimedMetadata(t)}},f.getCuePoints=function(){return this.C};function cU(e,t){e.i(new Ae("ads-loaded",new Map().set("loadTime",Date.now()/1e3-e.F))),t=t.getStreamData().url,e.j.resolve(t),e.j=null,e.G||e.h.D(e.l,"seeked",function(){var n=e.l.currentTime;if(n!=0){e.g.streamTimeForContentTime(n);var r=e.g.previousCuePointForStreamTime(n);r&&!r.played&&(e.o=n,e.l.currentTime=r.start)}})}function Ue(){Xt.call(this),this.h=this.i=this.j=this.g=null,this.m=new uE,this.o=navigator.language,this.l=null}Te(Ue,Xt),f=Ue.prototype,f.setLocale=function(e){this.o=e},f.configure=function(e){this.l=e,this.g&&this.g.configure(this.l),this.j&&this.j.configure(this.l),this.h&&this.h.configure(this.l)},f.initInterstitial=function(e,t,n){var r=this;this.g&&this.g.release(),this.g=new pE(e,t,n,function(i){return sv(r,i)}),this.g.configure(this.l)},f.initClientSide=function(e,t,n){var r=this;if(!d.google||!google.ima||!google.ima.AdsLoader)throw new $(2,10,1e4);this.j&&this.j.release(),this.j=new nv(e,t,this.o,n,function(i){return sv(r,i)}),this.j.configure(this.l)},f.release=function(){this.g&&(this.g.release(),this.g=null),this.j&&(this.j.release(),this.j=null),this.i&&(this.i.release(),this.i=null),this.h&&(this.h.release(),this.h=null),Xt.prototype.release.call(this)},f.onAssetUnload=function(){this.g&&this.g.stop(),this.j&&this.j.stop(),this.i&&this.i.stop(),this.h&&this.h.stop(),this.dispatchEvent(new Ae("ad-stopped")),this.dispatchEvent(new Ae("ad-content-attach-requested")),this.m=new uE},f.requestClientSideAds=function(e){if(!this.j)throw new $(1,10,10001);var t=this.j;t.g&&t.g.destroy(),t.m&&t.m.contentComplete(),t.G=Date.now()/1e3,t.m.requestAds(e)},f.updateClientSideAdsRenderingSettings=function(e){if(!this.j)throw new $(1,10,10001);var t=this.j;t.B=e,t.g&&t.g.updateAdsRenderingSettings(t.B)},f.initMediaTailor=function(e,t,n){var r=this;this.i&&this.i.release(),this.i=new Dh(e,t,n,function(i){return sv(r,i)})},f.requestMediaTailorStream=function(e,t,n){if(!this.i)throw new $(1,10,10005);var r=this.i;return n=n===void 0?"":n,r.l?e=Promise.reject(new $(1,10,10004)):(r.l=new Wt,oU(r,e,t),r.H=n||"",r.P=Date.now()/1e3,e=r.l),e},f.addMediaTailorTrackingUrl=function(e){if(!this.i)throw new $(1,10,10005);var t=this.i;t.G=e,t.i(new Ae("ads-loaded",new Map().set("loadTime",0)))},f.initServerSide=function(e,t){var n=this;if(!d.google||!google.ima||!google.ima.dai)throw new $(2,10,10002);this.h&&this.h.release(),this.h=new xE(e,t,this.o,function(r){return sv(n,r)}),this.h.configure(this.l)},f.requestServerSideStream=function(e,t){if(t=t===void 0?"":t,!this.h)throw new $(1,10,10003);e.adTagParameters||(e.adTagParameters={});var n=e.adTagParameters;return(n.mpt||n.mpv)&&Be('You have attempted to set "mpt" and/or "mpv" parameters of the ad tag. Please note that those parameters are used for Shaka adoption tracking and will be overridden.'),e.adTagParameters.mpt="shaka-player",e.adTagParameters.mpv="v4.14.6",n=this.h,n.j?e=Promise.reject(new $(1,10,10004)):(e instanceof google.ima.dai.api.LiveStreamRequest&&(n.G=!0),n.j=new Wt,n.g.requestStream(e),n.B=t||"",n.F=Date.now()/1e3,e=n.j),e},f.replaceServerSideAdTagParameters=function(e){if(!this.h)throw new $(1,10,10003);(e.mpt||e.mpv)&&Be('You have attempted to set "mpt" and/or "mpv" parameters of the ad tag. Please note that those parameters are used for Shaka adoption tracking and will be overridden.'),e.mpt="Shaka Player",e.mpv="v4.14.6",this.h.g.replaceAdTagParameters(e)},f.getServerSideCuePoints=function(){return ut("AdManager.getServerSideCuePoints","Please use getCuePoints function."),this.getCuePoints()},f.getCuePoints=function(){var e=[];return this.h&&(e=e.concat(this.h.getCuePoints())),this.i&&(e=e.concat(this.i.getCuePoints())),e},f.getStats=function(){var e=this.m;return{loadTimes:e.g,averageLoadTime:YN(e),started:e.h,overlayAds:e.j,playedCompletely:e.l,skipped:e.m,errors:e.i}},f.onManifestUpdated=function(e){this.i&&this.i.onManifestUpdated(e)},f.onDashTimedMetadata=function(e){this.h&&e.schemeIdUri=="urn:google:dai:2018"&&this.h.g.processMetadata(e.schemeIdUri,e.eventNode?e.eventNode.attributes.messageData:null,e.startTime)},f.onHlsTimedMetadata=function(e,t){this.h&&this.h.g.processMetadata("ID3",e.data,t)},f.onCueMetadataChange=function(e){this.h&&this.h.onCueMetadataChange(e)},f.onHLSInterstitialMetadata=function(e,t,n){this.l&&this.l.disableHLSInterstitial||(this.g||this.initInterstitial(null,e,t),this.g&&tU(this.g,n))},f.onDASHInterstitialMetadata=function(e,t,n){if(!this.l||!this.l.disableDASHInterstitial){var r=n.schemeIdUri;if(r=="urn:mpeg:dash:event:alternativeMPD:insert:2025"||r=="urn:mpeg:dash:event:alternativeMPD:replace:2025"){if(this.g||this.initInterstitial(null,e,t),this.g&&(e=this.g,t=n.schemeIdUri=="urn:mpeg:dash:event:alternativeMPD:replace:2025",r=n.schemeIdUri=="urn:mpeg:dash:event:alternativeMPD:insert:2025",t||r)){for(var i=n.startTime,a=n.endTime,u=null,l=0,p,g=w(n.eventNode.children),v=g.next();!v.done;v=g.next())if(v=v.value,v.tagName=="AlternativeMPD"){if(v=v.attributes.uri){p=v;break}}else if(v.tagName=="InsertPresentation"||v.tagName=="ReplacePresentation"){var y=v.attributes.url;if(y){p=y,(g=st(v,"maxDuration",Or))&&(u=g/n.timescale),(g=st(v,"returnOffset",Or))&&(l=g/n.timescale),t&&l&&(a=i+l);break}}p&&Mh(e,[{id:n.id,groupId:null,startTime:i,endTime:a,uri:p,mimeType:null,isSkippable:!1,skipOffset:null,skipFor:null,canJump:!0,resumeOffset:r?l:null,playoutLimit:u,once:!1,pre:!1,post:!1,timelineRange:t&&!r,loop:!1,overlay:null,displayOnBackground:!1,currentVideo:null,background:null}])}}else(r=="urn:mpeg:dash:event:2012"||r=="urn:scte:dash:scte214-events")&&n.eventNode&&Nn(n.eventNode,"OverlayEvent")&&(this.g||this.initInterstitial(null,e,t),this.g&&nU(this.g,n))}},f.addCustomInterstitial=function(e){if(!this.g)throw new $(1,10,10006);Mh(this.g,[e])},f.addAdUrlInterstitial=function(e){if(!this.g)throw new $(1,10,10006);return this.g.addAdUrlInterstitial(e)},f.getInterstitialPlayer=function(){if(!this.g)throw new $(1,10,10006);return this.g.If()};function sv(e,t){if(t&&t.type)switch(t.type){case"ads-loaded":e.m.g.push(t.loadTime);break;case"ad-started":e.m.h++;var n=t.ad;n&&!n.isLinear()&&e.m.j++;break;case"ad-complete":e.m.l++;break;case"ad-skipped":e.m.m++;break;case"ad-error":e.m.i++}e.dispatchEvent(t)}Ee("shaka.ads.AdManager",Ue),Ue.prototype.getInterstitialPlayer=Ue.prototype.getInterstitialPlayer,Ue.prototype.addAdUrlInterstitial=Ue.prototype.addAdUrlInterstitial,Ue.prototype.addCustomInterstitial=Ue.prototype.addCustomInterstitial,Ue.prototype.onDASHInterstitialMetadata=Ue.prototype.onDASHInterstitialMetadata,Ue.prototype.onHLSInterstitialMetadata=Ue.prototype.onHLSInterstitialMetadata,Ue.prototype.onCueMetadataChange=Ue.prototype.onCueMetadataChange,Ue.prototype.onHlsTimedMetadata=Ue.prototype.onHlsTimedMetadata,Ue.prototype.onDashTimedMetadata=Ue.prototype.onDashTimedMetadata,Ue.prototype.onManifestUpdated=Ue.prototype.onManifestUpdated,Ue.prototype.getStats=Ue.prototype.getStats,Ue.prototype.getCuePoints=Ue.prototype.getCuePoints,Ue.prototype.getServerSideCuePoints=Ue.prototype.getServerSideCuePoints,Ue.prototype.replaceServerSideAdTagParameters=Ue.prototype.replaceServerSideAdTagParameters,Ue.prototype.requestServerSideStream=Ue.prototype.requestServerSideStream,Ue.prototype.initServerSide=Ue.prototype.initServerSide,Ue.prototype.addMediaTailorTrackingUrl=Ue.prototype.addMediaTailorTrackingUrl,Ue.prototype.requestMediaTailorStream=Ue.prototype.requestMediaTailorStream,Ue.prototype.initMediaTailor=Ue.prototype.initMediaTailor,Ue.prototype.updateClientSideAdsRenderingSettings=Ue.prototype.updateClientSideAdsRenderingSettings,Ue.prototype.requestClientSideAds=Ue.prototype.requestClientSideAds,Ue.prototype.onAssetUnload=Ue.prototype.onAssetUnload,Ue.prototype.release=Ue.prototype.release,Ue.prototype.initClientSide=Ue.prototype.initClientSide,Ue.prototype.initInterstitial=Ue.prototype.initInterstitial,Ue.prototype.configure=Ue.prototype.configure,Ue.prototype.setLocale=Ue.prototype.setLocale,Ue.ADS_LOADED="ads-loaded",Ue.AD_STARTED="ad-started",Ue.AD_FIRST_QUARTILE="ad-first-quartile",Ue.AD_MIDPOINT="ad-midpoint",Ue.AD_THIRD_QUARTILE="ad-third-quartile",Ue.AD_COMPLETE="ad-complete",Ue.AD_STOPPED="ad-stopped",Ue.AD_SKIPPED="ad-skipped",Ue.AD_VOLUME_CHANGED="ad-volume-changed",Ue.AD_MUTED="ad-muted",Ue.AD_PAUSED="ad-paused",Ue.AD_RESUMED="ad-resumed",Ue.AD_SKIP_STATE_CHANGED="ad-skip-state-changed",Ue.CUEPOINTS_CHANGED="ad-cue-points-changed",Ue.IMA_AD_MANAGER_LOADED="ima-ad-manager-loaded",Ue.IMA_STREAM_MANAGER_LOADED="ima-stream-manager-loaded",Ue.AD_CLICKED="ad-clicked",Ue.AD_PROGRESS="ad-progress",Ue.AD_BUFFERING="ad-buffering",Ue.AD_IMPRESSION="ad-impression",Ue.AD_DURATION_CHANGED="ad-duration-changed",Ue.AD_CLOSED="ad-closed",Ue.AD_LOADED="ad-loaded",Ue.ALL_ADS_COMPLETED="all-ads-completed",Ue.AD_LINEAR_CHANGED="ad-linear-changed",Ue.AD_METADATA="ad-metadata",Ue.AD_RECOVERABLE_ERROR="ad-recoverable-error",Ue.AD_ERROR="ad-error",Ue.AD_BREAK_READY="ad-break-ready",Ue.AD_INTERACTION="ad-interaction",Ue.AD_CONTENT_PAUSE_REQUESTED="ad-content-pause-requested",Ue.AD_CONTENT_RESUME_REQUESTED="ad-content-resume-requested",Ue.AD_CONTENT_ATTACH_REQUESTED="ad-content-attach-requested",tv=function(){return new Ue};function SE(e){return JSON.stringify(e,function(t,n){if(typeof n!="function"){if(n instanceof Event||n instanceof Ae){var r={};for(i in n)(t=n[i])&&typeof t=="object"?i=="detail"&&(r[i]=t):i in Event||(r[i]=t);return r}if(n instanceof Error){var i=new Set(["name","message","stack"]);for(r in n)i.add(r);for(r=w(Object.getOwnPropertyNames(n)),t=r.next();!t.done;t=r.next())i.add(t.value);for(r={},i=w(i),t=i.next();!t.done;t=i.next())t=t.value,r[t]=n[t];n={__type__:"Error",contents:r}}else if(n instanceof TimeRanges){for(i={__type__:"TimeRanges",length:n.length,start:[],end:[]},n=w(Bo(n)),r=n.next();!r.done;r=n.next())r=r.value,t=r.end,i.start.push(r.start),i.end.push(t);n=i}else n=ArrayBuffer.isView(n)&&n.BYTES_PER_ELEMENT===1?{__type__:"Uint8Array",entries:Array.from(n)}:typeof n=="number"?isNaN(n)?"NaN":isFinite(n)?n:0>n?"-Infinity":"Infinity":n;return n}})}function U2(e){return JSON.parse(e,function(t,n){if(n=="NaN")var r=NaN;else if(n=="-Infinity")r=-1/0;else if(n=="Infinity")r=1/0;else if(n&&typeof n=="object"&&n.__type__=="TimeRanges")r=dU(n);else if(n&&typeof n=="object"&&n.__type__=="Uint8Array")r=new Uint8Array(n.entries);else if(n&&typeof n=="object"&&n.__type__=="Error"){t=n.contents,n=Error(t.message);for(r in t)n[r]=t[r];r=n}else r=n;return r})}function dU(e){return{length:e.length,start:function(t){return e.start[t]},end:function(t){return e.end[t]}}}var kE="ended play playing pause pausing ratechange seeked seeking timeupdate volumechange".split(" "),pU="buffered currentTime duration ended loop muted paused playbackRate seeking videoHeight videoWidth volume".split(" "),O2=["loop","playbackRate"],hU=["pause","play"],j2=new Map().set("getAssetUri",2).set("getAudioLanguages",4).set("getAudioLanguagesAndRoles",4).set("getBufferFullness",1).set("getBufferedInfo",2).set("getExpiration",2).set("getKeyStatuses",2).set("getPlaybackRate",2).set("getTextLanguages",4).set("getTextLanguagesAndRoles",4).set("getImageTracks",2).set("getThumbnails",2).set("isAudioOnly",10).set("isBuffering",1).set("isInProgress",1).set("isLive",10).set("isTextTrackVisible",1).set("keySystem",10).set("seekRange",1).set("getLoadMode",10).set("getManifestType",10).set("isFullyLoaded",1).set("isEnded",1),F2=new Map().set("getConfiguration",4).set("getConfigurationForLowLatency",4).set("getStats",5).set("getAudioTracks",2).set("getTextTracks",2).set("getVariantTracks",2),TE=new Map().set("getPlayheadTimeAsDate",1).set("getPresentationStartTimeAsDate",20).set("getSegmentAvailabilityDuration",20),AE=[["getConfiguration","configure","getConfigurationForLowLatency","configurationForLowLatency"]],EE=[["isTextTrackVisible","setTextTrackVisibility"]],fU="addChaptersTrack addTextTrackAsync addThumbnailsTrack cancelTrickPlay configure configurationForLowLatency getChapters getChaptersTracks resetConfiguration retryStreaming selectAudioLanguage selectAudioTrack selectTextLanguage selectTextTrack selectVariantTrack selectVariantsByLabel setTextTrackVisibility trickPlay updateStartTime goToLive".split(" "),gU=["attach","attachCanvas","detach","load","unload"];function B2(e,t,n,r,i,a,u){var l=this;this.G=e,this.K=u,this.l=new kt(t),this.L=n,this.u=!1,this.A=r,this.F=i,this.M=a,this.i=this.m=!1,this.I="",this.o=null,this.B=function(){return V2(l)},this.C=function(p,g){switch(p=U2(g),p.type){case"event":var v=p.targetName,y=H5(p.event);l.A(v,y);break;case"update":v=p.update;for(y in v){p=l.g[y]||{};for(var x in v[y])p[x]=v[y][x]}l.u&&(l.L(),l.u=!1);break;case"asyncComplete":if(y=p.id,x=p.error,p=l.h.get(y),l.h.delete(y),p)if(x){y=new $(x.severity,x.category,x.code);for(v in x)y[v]=x[v];p.reject(y)}else p.resolve()}},this.g={video:{},player:{}},this.H=0,this.h=new Map,this.j=null,Lh.add(this)}f=B2.prototype,f.destroy=function(){return Lh.delete(this),$2(this),ga&&IE(this),this.l&&(this.l.stop(),this.l=null),this.F=this.A=null,this.i=this.m=!1,this.C=this.B=this.j=this.h=this.g=this.o=null,Promise.resolve()},f.qb=function(){return this.i},f.ag=function(){return this.I},f.init=function(){if(this.G.length)if(d.chrome&&chrome.cast&&chrome.cast.isAvailable){this.m=!0,this.l.sb();var e=new chrome.cast.SessionRequest(this.G,[],null,this.K,null);e=new chrome.cast.ApiConfig(e,function(t){for(var n=w(Lh),r=n.next();!r.done;r=n.next()){r=r.value;var i=t;r.j=new Wt,r.u=!0,uv(r,i)}},function(t){for(var n=w(Lh),r=n.next();!r.done;r=n.next())r=r.value,lv=t=="available",r.l.sb()},"origin_scoped"),chrome.cast.initialize(e,function(){},function(){}),lv&&this.l.da(vU),(e=ga)&&e.status!=chrome.cast.SessionStatus.STOPPED?(this.j=new Wt,this.u=!0,uv(this,e)):ga=null}else d.__onGCastApiAvailable!==ME&&(cv=d.__onGCastApiAvailable||null,d.__onGCastApiAvailable=ME)},f.ig=function(e){this.o=e,this.i&&Ph(this,{type:"appData",appData:this.o})},f.cast=function(){var e=this;return P(function(t){if(!e.m)throw new $(1,8,8e3);if(!lv)throw new $(1,8,8001);if(e.i)throw new $(1,8,8002);return e.j=new Wt,chrome.cast.requestSession(function(n){return uv(e,n)},function(n){return CE(e,n)}),T(t,e.j,0)})};function mU(e){e.i&&chrome.cast.requestSession(function(t){return uv(e,t)},function(t){return CE(e,t)})}f.Pc=function(){if(this.i){if($2(this),ga){IE(this);try{ga.stop(function(){},function(){})}catch{}ga=null}V2(this)}},f.get=function(e,t){var n=this;if(e=="video"){if(hU.includes(t))return function(){return n.oh.apply(n,[e,t].concat(j(Re.apply(0,arguments))))}}else if(e=="player"){if(TE.has(t)&&!this.get("player","isLive")())return function(){};if(fU.includes(t))return function(){return n.oh.apply(n,[e,t].concat(j(Re.apply(0,arguments))))};if(gU.includes(t))return function(){return n.pj.apply(n,[e,t].concat(j(Re.apply(0,arguments))))};if(j2.has(t)||F2.has(t))return function(){return n.g[e][t]}}return this.g[e][t]},f.set=function(e,t,n){this.g[e][t]=n,Ph(this,{type:"set",targetName:e,property:t,value:n})};function uv(e,t){var n=e.M();ga=t,t.addUpdateListener(e.B),t.addMessageListener("urn:x-cast:com.google.shaka.v2",e.C),V2(e),Ph(e,{type:"init",initState:n,appData:e.o}),e.j.resolve()}function CE(e,t){var n=8003;switch(t.code){case"cancel":n=8004;break;case"timeout":n=8005;break;case"receiver_unavailable":n=8006}e.j.reject(new $(2,8,n,t))}f.oh=function(e,t){Ph(this,{type:"call",targetName:e,methodName:t,args:Re.apply(2,arguments)})},f.pj=function(e,t){var n=Re.apply(2,arguments),r=new Wt,i=this.H.toString();this.H++,this.h.set(i,r);try{Ph(this,{type:"asyncCall",targetName:e,methodName:t,args:n,id:i})}catch(a){r.reject(a)}return r};function IE(e){var t=ga;t.removeUpdateListener(e.B),t.removeMessageListener("urn:x-cast:com.google.shaka.v2",e.C)}function V2(e){var t=ga?ga.status=="connected":!1;if(e.i&&!t){e.F();for(var n in e.g)e.g[n]={};$2(e)}e.i=t,e.I=t?ga.receiver.friendlyName:"",e.l.sb()}function $2(e){if(e.h)for(var t=w(e.h.keys()),n=t.next();!n.done;n=t.next()){n=n.value;var r=e.h.get(n);e.h.delete(n),r.reject(new $(1,7,7e3))}}function Ph(e,t){t=SE(t);var n=ga;try{n.sendMessage("urn:x-cast:com.google.shaka.v2",t,function(){},ce)}catch(r){throw t=new $(2,8,8005,r),n=new Ae("error",new Map().set("detail",t)),e.A("player",n),e.Pc(),t}}var vU=.02,lv=!1,ga=null,cv=null,Lh=new Set;function ME(e){if(cv?d.__onGCastApiAvailable=cv:delete d.__onGCastApiAvailable,cv=null,e)for(var t=w(Lh),n=t.next();!n.done;n=t.next())n.value.init();typeof d.__onGCastApiAvailable=="function"&&d.__onGCastApiAvailable(e)}function Fn(e,t,n,r){r=r===void 0?!1:r,Xt.call(this);var i=this;this.i=e,this.h=t,this.m=this.o=this.l=this.u=this.j=null,this.C=n,this.B=r,this.A=new Map,this.g=null,d.chrome?(this.g=new B2(n,function(){return PE(i)},function(){return LE(i)},function(a,u){return NE(i,a,u)},function(){return RE(i)},function(){return DE(i)},r),yU(this)):(this.j=this.i,this.u=this.h)}Te(Fn,Xt),f=Fn.prototype,f.destroy=function(e){return this.g&&e&&this.g.Pc(),this.m&&(this.m.release(),this.m=null),e=[],this.h&&(e.push(this.h.destroy()),this.h=null),this.g&&(e.push(this.g.destroy()),this.g=null),this.u=this.j=this.i=null,Xt.prototype.release.call(this),Promise.all(e)},f.Li=function(){return this.j},f.If=function(){return this.u},f.Xh=function(){return this.g?this.g.m&&lv:!1},f.qb=function(){return this.g?this.g.qb():!1},f.ag=function(){return this.g?this.g.ag():""},f.cast=function(){var e=this;return P(function(t){return t.g==1?e.g?T(t,e.g.cast(),2):t.return():e.h?T(t,e.h.kc(),0):t.return()})},f.ig=function(e){this.g&&this.g.ig(e)},f.Ej=function(){this.g&&mU(this.g)},f.Pc=function(){this.g&&this.g.Pc()},f.Yh=function(e,t){t=t===void 0?!1:t;var n=this;return P(function(r){if(r.g==1)return e==n.C&&t==n.B||(n.C=e,n.B=t,!n.g)?r.return():(n.g.Pc(),T(r,n.g.destroy(),2));n.g=null,n.g=new B2(e,function(){return PE(n)},function(){return LE(n)},function(i,a){return NE(n,i,a)},function(){return RE(n)},function(){return DE(n)},t),n.g.init(),ae(r)})};function yU(e){e.g.init(),e.m=new Ce;for(var t=w(kE),n=t.next();!n.done;n=t.next())e.m.D(e.i,n.value,function(a){e.g.qb()||(a=H5(a),e.l.dispatchEvent(a))});for(var r in om)e.m.D(e.h,om[r],function(a){e.g.qb()||e.o.dispatchEvent(a)});e.j={},t={};for(var i in e.i)t={wd:t.wd},t.wd=i,Object.defineProperty(e.j,t.wd,{configurable:!1,enumerable:!0,get:function(a){return function(){return wU(e,a.wd)}}(t),set:function(a){return function(u){var l=a.wd;e.g.qb()?e.g.set("video",l,u):e.i[l]=u}}(t)});e.u={},_E(e,function(a){Object.defineProperty(e.u,a,{configurable:!1,enumerable:!0,get:function(){return xU(e,a)}})}),bU(e),e.l=new Xt,e.l.Ge=e.j,e.o=new Xt,e.o.Ge=e.u}function bU(e){var t=new Map;_E(e,function(n,r){t.has(r)?(r=t.get(r),n.length<r.length?e.A.set(n,r):e.A.set(r,n)):t.set(r,n)})}function _E(e,t){function n(p){return p=="constructor"||typeof r[p]!="function"?!1:!i.has(p)}var r=e.h,i=new Set,a;for(a in r)n(a)&&(i.add(a),t(a,r[a]));for(e=Object.getPrototypeOf(r),a=Object.getPrototypeOf({});e&&e!=a;){for(var u=w(Object.getOwnPropertyNames(e)),l=u.next();!l.done;l=u.next())l=l.value,n(l)&&(i.add(l),t(l,r[l]));e=Object.getPrototypeOf(e)}}function DE(e){var t={video:{},player:{},playerAfterLoad:{},manifest:e.h.Qc(),startTime:null};e.i.pause();for(var n=w(O2),r=n.next();!r.done;r=n.next())r=r.value,t.video[r]=e.i[r];for(e.i.ended||(t.startTime=e.i.currentTime),n=w(AE),r=n.next();!r.done;r=n.next()){var i=r.value;r=i[1],i=e.h[i[0]](),t.player[r]=i}for(n=w(EE),r=n.next();!r.done;r=n.next())i=r.value,r=i[1],i=e.h[i[0]](),t.playerAfterLoad[r]=i;return t}function PE(e){var t=new Ae("caststatuschanged");e.dispatchEvent(t)}function LE(e){var t=new Ae(e.j.paused?"pause":"play");e.l.dispatchEvent(t)}function RE(e){for(var t=w(AE),n=t.next();!n.done;n=t.next()){var r=n.value;n=r[1],r=e.g.get("player",r[0])(),e.h[n](r)}var i=e.g.get("player","getAssetUri")();r=e.g.get("video","ended"),t=Promise.resolve();var a=e.i.autoplay;n=null,r||(n=e.g.get("video","currentTime"));var u;(r=e.g.get("player","getTextTracks")())&&r.length&&(u=r.find(function(g){return g.active}));var l=e.g.get("player","isTextTrackVisible")();i&&(e.i.autoplay=!1,t=e.h.load(i,n));var p={};for(n=w(O2),r=n.next();!r.done;r=n.next())r=r.value,p[r]=e.g.get("video",r);t.then(function(){if(e.i){for(var g=w(O2),v=g.next();!v.done;v=g.next())v=v.value,e.i[v]=p[v];for(g=w(EE),v=g.next();!v.done;v=g.next()){var y=v.value;v=y[1],y=e.g.get("player",y[0])(),e.h[v](y)}e.h.zh(l),u&&e.h.hg(u.language,u.roles,u.forced),e.i.autoplay=a,i&&e.i.play()}},function(g){g=new Map().set("detail",g),g=new Ae("error",g),e.h.dispatchEvent(g)})}function wU(e,t){if(t=="addEventListener")return function(r,i,a){return e.l.addEventListener(r,i,a)};if(t=="removeEventListener")return function(r,i,a){return e.l.removeEventListener(r,i,a)};if(e.g.qb()&&Object.keys(e.g.g.video).length==0){var n=e.i[t];if(typeof n!="function")return n}return e.g.qb()?e.g.get("video",t):(t=e.i[t],typeof t=="function"&&(t=t.bind(e.i)),t)}function xU(e,t){if(e.A.has(t)&&(t=e.A.get(t)),t=="addEventListener")return function(n,r,i){return e.o.addEventListener(n,r,i)};if(t=="removeEventListener")return function(n,r,i){return e.o.removeEventListener(n,r,i)};if(t=="getMediaElement")return function(){return e.j};if(t=="getSharedConfiguration")return e.g.get("player","getConfiguration");if(t=="getNetworkingEngine")return function(){return e.h.xb()};if(t=="getDrmEngine")return function(){return e.h.C};if(t=="getAdManager")return function(){return e.h.Pg()};if(t=="setVideoContainer")return function(n){return e.h.Ch(n)};if(e.g.qb()){if(t=="getManifest"||t=="drmInfo")return function(){return Be(t+"() does not work while casting!"),null};if(t=="attach"||t=="detach")return function(){return Be(t+"() does not work while casting!"),Promise.resolve()}}return e.g.qb()&&Object.keys(e.g.g.video).length==0&&(j2.has(t)||F2.has(t))||!e.g.qb()?e.h[t].bind(e.h):e.g.get("player",t)}function NE(e,t,n){e.g.qb()&&(t=="video"?e.l.dispatchEvent(n):t=="player"&&e.o.dispatchEvent(n))}Ee("shaka.cast.CastProxy",Fn),Fn.prototype.changeReceiverId=Fn.prototype.Yh,Fn.prototype.forceDisconnect=Fn.prototype.Pc,Fn.prototype.suggestDisconnect=Fn.prototype.Ej,Fn.prototype.setAppData=Fn.prototype.ig,Fn.prototype.cast=Fn.prototype.cast,Fn.prototype.receiverName=Fn.prototype.ag,Fn.prototype.isCasting=Fn.prototype.qb,Fn.prototype.canCast=Fn.prototype.Xh,Fn.prototype.getPlayer=Fn.prototype.If,Fn.prototype.getVideo=Fn.prototype.Li,Fn.prototype.destroy=Fn.prototype.destroy;function Sr(e,t,n,r){Xt.call(this);var i=this;this.g=e,this.h=t,this.j=new Ce,this.H={video:e,player:t},this.F=n||function(){},this.I=r||function(a){return a},this.i=null,this.G=!1,this.o=!0,this.m=0,this.B=!1,this.A=!0,this.u=this.l=null,this.C=new kt(function(){z2(i)}),SU(this)}Te(Sr,Xt),f=Sr.prototype,f.isConnected=function(){return this.G},f.Si=function(){return this.o},f.Bj=function(e){this.i=e},f.bi=function(){this.i=null},f.Cj=function(e){this.i||(this.i={metadataType:cast.receiver.media.MetadataType.GENERIC}),this.i.title=e},f.Aj=function(e){this.i||(this.i={metadataType:cast.receiver.media.MetadataType.GENERIC}),this.i.images=[{url:e}]},f.zj=function(e){this.i||(this.i={}),this.i.artist=e,this.i.metadataType=cast.receiver.media.MetadataType.MUSIC_TRACK},f.destroy=function(){var e=this,t,n;return P(function(r){if(r.g==1)return e.j&&(e.j.release(),e.j=null),t=[],e.h&&(t.push(e.h.destroy()),e.h=null),e.C&&(e.C.stop(),e.C=null),e.g=null,e.H=null,e.F=null,e.G=!1,e.o=!0,e.l=null,e.u=null,Xt.prototype.release.call(e),T(r,Promise.all(t),2);n=cast.receiver.CastReceiverManager.getInstance(),n.stop(),ae(r)})};function SU(e){var t=cast.receiver.CastReceiverManager.getInstance();t.onSenderConnected=function(){return UE(e)},t.onSenderDisconnected=function(){return UE(e)},t.onSystemVolumeChanged=function(){var i=cast.receiver.CastReceiverManager.getInstance().getSystemVolume();i&&qo(e,{type:"update",update:{video:{volume:i.level,muted:i.muted}}},e.l),qo(e,{type:"event",targetName:"video",event:{type:"volumechange"}},e.l)},e.u=t.getCastMessageBus("urn:x-cast:com.google.cast.media"),e.u.onMessage=function(i){return AU(e,i)},e.l=t.getCastMessageBus("urn:x-cast:com.google.shaka.v2"),e.l.onMessage=function(i){return TU(e,i)},t.start(),t=w(kE);for(var n=t.next();!n.done;n=t.next())e.j.D(e.g,n.value,function(i){return OE(e,"video",i)});for(var r in om)e.j.D(e.h,om[r],function(i){return OE(e,"player",i)});e.j.D(e.g,"loadeddata",function(){e.B=!0}),e.j.D(e.h,"loading",function(){e.o=!1,id(e)}),e.j.D(e.g,"playing",function(){e.o=!1,id(e)}),e.j.D(e.g,"pause",function(){id(e)}),e.j.D(e.h,"unloading",function(){e.o=!0,id(e)}),e.j.D(e.g,"ended",function(){new kt(function(){e.g&&e.g.ended&&(e.o=!0,id(e))}).da(CU)})}function UE(e){e.m=0,e.A=!0,e.G=cast.receiver.CastReceiverManager.getInstance().getSenders().length!=0,id(e)}function id(e){var t;P(function(n){if(n.g==1)return T(n,Promise.resolve(),2);if(!e.h)return n.return();t=new Ae("caststatuschanged"),e.dispatchEvent(t),jE(e)||Go(e),ae(n)})}function kU(e,t,n){var r,i,a,u,l,p,g,v,y,x;P(function(S){switch(S.g){case 1:for(r in t.player)i=t.player[r],e.h[r](i);return e.F(n),a=e.g.autoplay,t.manifest?(e.g.autoplay=!1,me(S,5),T(S,e.h.load(t.manifest,t.startTime),7)):T(S,Promise.resolve(),3);case 7:V(S,3);break;case 5:return u=W(S),l=new Map().set("detail",u),p=new Ae("error",l),e.h&&e.h.dispatchEvent(p),S.return();case 3:if(!e.h)return S.return();for(g in t.video)v=t.video[g],e.g[g]=v;for(y in t.playerAfterLoad)x=t.playerAfterLoad[y],e.h[y](x);e.g.autoplay=a,t.manifest&&(e.g.play(),Go(e)),ae(S)}})}function OE(e,t,n){e.h&&(z2(e),qo(e,{type:"event",targetName:t,event:n},e.l))}function z2(e){e.C.da(EU);for(var t={video:{},player:{}},n=w(pU),r=n.next();!r.done;r=n.next())r=r.value,t.video[r]=e.g[r];e.h.U()&&TE.forEach(function(i,a){e.m%i==0&&(t.player[a]=e.h[a]())}),j2.forEach(function(i,a){e.m%i==0&&(t.player[a]=e.h[a]())}),(n=cast.receiver.CastReceiverManager.getInstance().getSystemVolume())&&(t.video.volume=n.level,t.video.muted=n.muted),qo(e,{type:"update",update:t},e.l),F2.forEach(function(i,a){e.m%i==0&&(i={player:{}},i.player[a]=e.h[a](),qo(e,{type:"update",update:i},e.l))}),e.B&&(e.m+=1),jE(e)}function jE(e){return e.A&&(e.g.duration||e.h.U())?(H2(e),e.A=!1,!0):!1}function H2(e,t){var n={contentId:e.h.Qc(),streamType:e.h.U()?"LIVE":"BUFFERED",contentType:""};e.h.U()||(n.duration=e.g.duration),e.i&&(n.metadata=e.i),Go(e,t===void 0?0:t,n)}function TU(e,t){var n=U2(t.data);switch(n.type){case"init":e.m=0,e.B=!1,e.A=!0,kU(e,n.initState,n.appData),z2(e);break;case"appData":e.F(n.appData);break;case"set":var r=n.targetName,i=n.property;if(n=n.value,r=="video"){if(t=cast.receiver.CastReceiverManager.getInstance(),i=="volume"){t.setSystemVolumeLevel(n);break}else if(i=="muted"){t.setSystemVolumeMuted(n);break}}e.H[r][i]=n;break;case"call":r=e.H[n.targetName],r[n.methodName].apply(r,n.args);break;case"asyncCall":r=n.targetName,i=n.methodName,r=="player"&&i=="load"&&(e.m=0,e.B=!1);var a=n.id,u=t.senderId;t=e.H[r],n=t[i].apply(t,n.args),r=="player"&&i=="load"&&(n=n.then(function(){e.A=!0})),n.then(function(){return FE(e,u,a,null)},function(l){return FE(e,u,a,l)})}}function AU(e,t){var n=U2(t.data);switch(n.type){case"PLAY":e.g.play(),Go(e);break;case"PAUSE":e.g.pause(),Go(e);break;case"SEEK":t=n.currentTime;var r=n.resumeState;t!=null&&(e.g.currentTime=Number(t)),r&&r=="PLAYBACK_START"?(e.g.play(),Go(e)):r&&r=="PLAYBACK_PAUSE"&&(e.g.pause(),Go(e));break;case"STOP":e.h.kc().then(function(){e.h&&Go(e)});break;case"GET_STATUS":H2(e,Number(n.requestId));break;case"VOLUME":r=n.volume,t=r.level,r=r.muted;var i=e.g.volume,a=e.g.muted;t!=null&&(e.g.volume=Number(t)),r!=null&&(e.g.muted=r),i==e.g.volume&&a==e.g.muted||Go(e);break;case"LOAD":e.m=0,e.B=!1,e.A=!1,t=n.media,r=n.currentTime,i=e.I(t.contentId),a=n.autoplay||!0,e.F(t.customData),a&&(e.g.autoplay=!0),e.h.load(i,r).then(function(){e.h&&H2(e)}).catch(function(u){var l="LOAD_FAILED";u.category==7&&u.code==7e3&&(l="LOAD_CANCELLED"),qo(e,{requestId:Number(n.requestId),type:l},e.u)});break;default:qo(e,{requestId:Number(n.requestId),type:"INVALID_REQUEST",reason:"INVALID_COMMAND"},e.u)}}function FE(e,t,n,r){e.h&&qo(e,{type:"asyncComplete",id:n,error:r},e.l,t)}function qo(e,t,n,r){e.G&&(e=SE(t),r?n.getCastChannel(r).send(e):n.broadcast(e))}function Go(e,t,n){n=n===void 0?null:n;var r={mediaSessionId:0,playbackRate:e.g.playbackRate,playerState:e.o?IU:e.h.Of()?_U:e.g.paused?DU:MU,currentTime:e.g.currentTime,supportedMediaCommands:63,volume:{level:e.g.volume,muted:e.g.muted}};n&&(r.media=n),qo(e,{requestId:t===void 0?0:t,type:"MEDIA_STATUS",status:[r]},e.u)}Ee("shaka.cast.CastReceiver",Sr),Sr.prototype.destroy=Sr.prototype.destroy,Sr.prototype.setContentArtist=Sr.prototype.zj,Sr.prototype.setContentImage=Sr.prototype.Aj,Sr.prototype.setContentTitle=Sr.prototype.Cj,Sr.prototype.clearContentMetadata=Sr.prototype.bi,Sr.prototype.setContentMetadata=Sr.prototype.Bj,Sr.prototype.isIdle=Sr.prototype.Si,Sr.prototype.isConnected=Sr.prototype.isConnected;var EU=.5,CU=5,IU="IDLE",MU="PLAYING",_U="BUFFERING",DU="PAUSED";function BE(e,t,n,r,i){if(r>=i)return null;for(var a=-1,u=-1,l=0;l<n.length;l++)if(n[l].some(function(B){return B!=null&&B.g.trim()!=""})){a=l;break}for(l=n.length-1;0<=l;l--)if(n[l].some(function(B){return B!=null&&B.g.trim()!=""})){u=l;break}if(a===-1||u===-1)return null;for(var p=l=!1,g="white",v="black",y=q2(r,i,l,p,g,v);a<=u;a++){for(var x=n[a],S=-1,k=-1,C=0;C<x.length;C++)if(x[C]!=null&&x[C].g.trim()!==""){S=C;break}for(C=x.length-1;0<=C;C--)if(x[C]!=null&&x[C].g.trim()!==""){k=C;break}if(S===-1||k===-1)x=VE(r,i),e.nestedCues.push(x);else{for(;S<=k;S++)if(C=x[S]){var E=C.l,I=C.i,_=C.j,F=C.h;(E!=l||I!=p||_!=g||F!=v)&&(y.payload&&e.nestedCues.push(y),y=q2(r,i,E,I,_,F),l=E,p=I,g=_,v=F),y.payload+=C.g}else y.payload+=" ";y.payload&&e.nestedCues.push(y),a!==u&&(y=VE(r,i),e.nestedCues.push(y)),y=q2(r,i,l,p,g,v)}}return e.nestedCues.length?{cue:e,stream:t}:null}function q2(e,t,n,r,i,a){return e=new un(e,t,""),n&&e.textDecoration.push(Lo),r&&(e.fontStyle=Ic),e.color=i,e.backgroundColor=a,e}function VE(e,t){return e=new un(e,t,""),e.lineBreak=!0,e}function $E(e,t,n,r,i){this.g=e,this.l=t,this.i=n,this.h=r,this.j=i}function G2(e,t){this.i=[],this.g=1,this.h=0,this.C=e,this.B=t,this.j=this.m=!1,this.l="white",this.o="black",this.u=this.A=null,Rh(this)}function dv(e,t,n){var r="CC"+((e.C<<1|e.B)+1),i=new un(t,n,"");i.lineInterpretation=1;var a=qE.get(e.g);return a&&(i.line=a),e.u!=null&&e.A!=null&&(i.position=10+Math.min(70,10*e.u)+2.5*e.A),(t=BE(i,r,e.i,t,n))&&15<e.g+t.cue.nestedCues.length-3&&(a=qE.get(e.g+3-t.cue.nestedCues.length))&&(i.line=a),t}function Rh(e){Ko(e,0,15),e.g=1}function ad(e,t,n){if(!(32>n||127<n)){var r="";switch(t){case 0:r=HE.has(n)?HE.get(n):String.fromCharCode(n);break;case 1:r=PU.get(n);break;case 2:e.i[e.g].pop(),r=LU.get(n);break;case 3:e.i[e.g].pop(),r=RU.get(n)}r&&e.i[e.g].push(new $E(r,e.m,e.j,e.o,e.l))}}function zE(e,t,n,r){if(!(0>n||0>t))if(t>=n)for(--r;0<=r;r--)e.i[t+r]=e.i[n+r].map(function(a){return a});else for(var i=0;i<r;i++)e.i[t+i]=e.i[n+i].map(function(a){return a})}function Ko(e,t,n){for(var r=0;r<=n;r++)e.i[t+r]=[]}var HE=new Map([[39,"\u2019"],[42,"\xE1"],[92,"\xE9"],[92,"\xE9"],[94,"\xED"],[95,"\xF3"],[96,"\xFA"],[123,"\xE7"],[124,"\xF7"],[125,"\xD1"],[126,"\xF1"],[127,"\u2588"]]),PU=new Map([[48,"\xAE"],[49,"\xB0"],[50,"\xBD"],[51,"\xBF"],[52,"\u2122"],[53,"\xA2"],[54,"\xA3"],[55,"\u266A"],[56,"\xE0"],[57," "],[58,"\xE8"],[59,"\xE2"],[60,"\xEA"],[61,"\xEE"],[62,"\xF4"],[63,"\xFB"]]),LU=new Map([[32,"\xC1"],[33,"\xC9"],[34,"\xD3"],[35,"\xDA"],[36,"\xDC"],[37,"\xFC"],[38,"\u2018"],[39,"\xA1"],[40,"*"],[41,"'"],[42,"\u2500"],[43,"\xA9"],[44,"\u2120"],[45,"\xB7"],[46,"\u201C"],[47,"\u201D"],[48,"\xC0"],[49,"\xC2"],[50,"\xC7"],[51,"\xC8"],[52,"\xCA"],[53,"\xCB"],[54,"\xEB"],[55,"\xCE"],[56,"\xCF"],[57,"\xEF"],[58,"\xD4"],[59,"\xD9"],[60,"\xF9"],[61,"\xDB"],[62,"\xAB"],[63,"\xBB"]]),RU=new Map([[32,"\xC3"],[33,"\xE3"],[34,"\xCD"],[35,"\xCC"],[36,"\xEC"],[37,"\xD2"],[38,"\xF2"],[39,"\xD5"],[40,"\xF5"],[41,"{"],[42,"}"],[43,"\\"],[44,"^"],[45,"_"],[46,"|"],[47,"~"],[48,"\xC4"],[49,"\xE4"],[50,"\xD6"],[51,"\xF6"],[52,"\xDF"],[53,"\xA5"],[54,"\xA4"],[55,"\u2502"],[56,"\xC5"],[57,"\xE5"],[58,"\xD8"],[59,"\xF8"],[60,"\u250C"],[61,"\u2510"],[62,"\u2514"],[63,"\u2518"]]),qE=new Map([[1,10],[2,15.33],[3,20.66],[4,26],[5,31.33],[6,36.66],[7,42],[8,47.33],[9,52.66],[10,58],[11,63.33],[12,68.66],[13,74],[14,79.33],[15,84.66]]);function pv(e,t){this.h=0,this.o=new G2(e,t),this.i=new G2(e,t),this.g=this.j=new G2(e,t),this.l=0,this.m=null}function K2(e,t,n){e.g=e.i;var r=e.g,i=null;return e.h!==3&&e.h!==4&&(i=dv(r,e.l,n),n=e.i,n.g=0<n.h?n.h:0,Ko(n,0,15),n=e.j,n.g=0<n.h?n.h:0,Ko(n,0,15),r.g=15),e.h=3,r.h=t,i}function GE(e){e.h=1,e.g=e.j,e.g.h=0}function KE(e){$t("Cea608DataChannel","CEA-608 text mode entered, but is unsupported"),e.g=e.o,e.h=4}var NU="black green blue cyan red yellow magenta black".split(" "),WE="white green blue cyan red yellow magenta white_italics".split(" ");function W2(e,t){this.I=t,this.M=e,this.K=this.l=!1,this.m=this.o=this.G=this.L=this.H=0,this.F=2,this.i=[],this.g=this.h=this.j=0,this.C=this.A=!1,this.B="white",this.u="black",X2(this)}function X2(e){e.i=[];for(var t=0;16>t;t++)e.i.push(Y2())}function Y2(){for(var e=[],t=0;42>t;t++)e.push(null);return e}function $s(e,t){XE(e)&&(e.i[e.h][e.g]=new $E(t,e.C,e.A,e.u,e.B),e.g++)}function XE(e){var t=e.g<e.m&&0<=e.g;return e.h<e.o&&0<=e.h&&t}W2.prototype.isVisible=function(){return this.l};function UU(e){for(var t=0,n=1;16>n;n++,t++)e.i[t]=e.i[n];for(n=0;1>n;n++,t++)e.i[t]=Y2()}function cl(e,t,n){var r=new un(e.j,t,"");r.textAlign=e.F===0?"left":e.F===1?"right":to;var i=r.region;switch(e.I&&(i.id+="svc"+e.I),i.id+="win"+e.M,i.height=e.o,i.width=e.m,i.heightUnits=2,i.widthUnits=2,i.viewportAnchorX=e.H,i.viewportAnchorY=e.L,i.viewportAnchorUnits=e.K?li:2,e.G){case 0:i.regionAnchorX=0,i.regionAnchorY=0;break;case 1:i.regionAnchorX=50,i.regionAnchorY=0;break;case 2:i.regionAnchorX=100,i.regionAnchorY=0;break;case 3:i.regionAnchorX=0,i.regionAnchorY=50;break;case 4:i.regionAnchorX=50,i.regionAnchorY=50;break;case 5:i.regionAnchorX=100,i.regionAnchorY=50;break;case 6:i.regionAnchorX=0,i.regionAnchorY=100;break;case 7:i.regionAnchorX=50,i.regionAnchorY=100;break;case 8:i.regionAnchorX=100,i.regionAnchorY=100}return(n=BE(r,"svc"+n,e.i,e.j,t))&&(e.j=t),n}W2.prototype.display=function(){this.l=!0};function OU(){this.i=[],this.h=null,this.g=0}function jU(e,t){t.type===3?(e.g=2*(t.value&63)-1,e.h=[]):e.h&&(0<e.g&&(e.h.push(t),e.g--),e.g===0&&(e.i.push(new Nh(e.h)),e.h=null,e.g=0))}function Nh(e){this.g=0,this.h=e}Nh.prototype.ta=function(){return this.g<this.h.length},Nh.prototype.Ba=function(){return this.g};function Gn(e){if(!e.ta())throw new $(2,2,3e3);return e.h[e.g++]}Nh.prototype.skip=function(e){if(this.g+e>this.h.length)throw new $(2,2,3e3);this.g+=e},Nh.prototype.qh=function(e){if(0>this.g-e)throw new $(2,2,3e3);this.g-=e};function FU(e){this.i=e,this.h=[null,null,null,null,null,null,null,null],this.g=null}function BU(e,t,n,r){if(!e.g)return[];if(n==24)return n=Gn(t).value,r=Gn(t).value,n=function(a){return a.map(function(u){return("0"+(u&255).toString(16)).slice(-2)}).join("")}([n,r]),$s(e.g,String.fromCharCode(parseInt(n,16))),[];t=e.g;var i=null;switch(n){case 8:!XE(t)||0>=t.g&&0>=t.h||(0>=t.g?(t.g=t.m-1,t.h--):t.g--,t.i[t.h][t.g]=null);break;case 13:t.isVisible()&&(i=cl(t,r,e.i)),t.h+1>=t.o?UU(t):t.h++,t.g=0;break;case 14:t.isVisible()&&(i=cl(t,r,e.i)),t.i[t.h]=Y2(),t.g=0;break;case 12:t.isVisible()&&(i=cl(t,r,e.i)),X2(t),t.h=0,t.g=0}return i?[i]:[]}function VU(e,t,n,r){if(128<=n&&135>=n)r=n&7,e.h[r]&&(e.g=e.h[r]);else{if(n===136){n=Gn(t).value,t=[],n=w(Uh(e,n));for(var i=n.next();!i.done;i=n.next()){if(i=e.h[i.value],i.isVisible()){var a=cl(i,r,e.i);a&&t.push(a)}X2(i)}return t}if(n===137)for(t=Gn(t).value,t=w(Uh(e,t)),n=t.next();!n.done;n=t.next())n=e.h[n.value],n.isVisible()||(n.j=r),n.display();else{if(n===138){for(n=Gn(t).value,t=null,n=w(Uh(e,n)),i=n.next();!i.done;i=n.next())i=e.h[i.value],i.isVisible()&&(t=cl(i,r,e.i)),i.l=!1;return t?[t]:[]}if(n===139){for(n=Gn(t).value,t=null,n=w(Uh(e,n)),i=n.next();!i.done;i=n.next())i=e.h[i.value],i.isVisible()?t=cl(i,r,e.i):i.j=r,i.l=!i.l;return t?[t]:[]}if(n===140)return t=Gn(t).value,YE(e,t,r);if(n===143)return r=YE(e,255,r),JE(e),r;if(n===144)t.skip(1),r=Gn(t).value,e.g&&(e.g.A=0<(r&128),e.g.C=0<(r&64));else if(n===145)r=Gn(t).value,n=Gn(t).value,t.skip(1),e.g&&(t=QE((n&48)>>4,(n&12)>>2,n&3),e.g.B=QE((r&48)>>4,(r&12)>>2,r&3),e.g.u=t);else if(n===146)r=Gn(t).value,t=Gn(t).value,e.g&&(e=e.g,e.h=r&15,e.g=t&63);else if(n===151)t.skip(1),t.skip(1),r=Gn(t).value,t.skip(1),e.g&&(e.g.F=r&3);else if(152<=n&&159>=n){n=(n&15)-8,i=e.h[n]!==null,i||(a=new W2(n,e.i),a.j=r,e.h[n]=a),r=Gn(t).value,a=Gn(t).value;var u=Gn(t).value,l=Gn(t).value,p=Gn(t).value;t=Gn(t).value,i&&!(t&7)||(t=e.h[n],t.h=0,t.g=0,t.C=!1,t.A=!1,t.B="white",t.u="black"),t=e.h[n],t.l=0<(r&32),t.L=a&127,t.H=u,t.G=(l&240)>>4,t.K=0<(a&128),t.o=(l&15)+1,t.m=(p&63)+1,e.g=e.h[n]}}}return[]}function Uh(e,t){for(var n=[],r=0;8>r;r++)(t&1)===1&&e.h[r]&&n.push(r),t>>=1;return n}function YE(e,t,n){var r=[];t=w(Uh(e,t));for(var i=t.next();!i.done;i=t.next()){i=i.value;var a=e.h[i];a.isVisible()&&(a=cl(a,n,e.i))&&r.push(a),e.h[i]=null}return r}function JE(e){e.g=null,e.h=[null,null,null,null,null,null,null,null]}function QE(e,t,n){var r={0:0,1:0,2:1,3:1};return e=r[e],t=r[t],n=r[n],$U[e<<2|t<<1|n]}var ZE=new Map([[32," "],[33,"\xA0"],[37,"\u2026"],[42,"\u0160"],[44,"\u0152"],[48,"\u2588"],[49,"\u2018"],[50,"\u2019"],[51,"\u201C"],[52,"\u201D"],[53,"\u2022"],[57,"\u2122"],[58,"\u0161"],[60,"\u0153"],[61,"\u2120"],[63,"\u0178"],[118,"\u215B"],[119,"\u215C"],[120,"\u215D"],[121,"\u215E"],[122,"\u2502"],[123,"\u2510"],[124,"\u2514"],[125,"\u2500"],[126,"\u2518"],[127,"\u250C"]]),$U="black blue green cyan red magenta yellow white".split(" ");function od(){this.h=[],this.g=[],this.i=new OU,this.l=0,this.m=new Map([["CC1",new pv(0,0)],["CC2",new pv(0,1)],["CC3",new pv(1,0)],["CC4",new pv(1,1)]]),this.u=this.o=0,this.j=new Map,this.B=!0,this.A=new Set,J2(this)}od.prototype.clear=function(){this.l=0,this.h=[],this.g=[];var e=this.i;e.i=[],e.h=[],e.g=0,J2(this),e=w(this.j.values());for(var t=e.next();!t.done;t=e.next())JE(t.value)};function J2(e){e.o=0,e.u=0;for(var t=w(e.m.values()),n=t.next();!n.done;n=t.next())n=n.value,n.h=0,n.g=n.j,n.m=null,Rh(n.i),Rh(n.j),Rh(n.o);e.B=!0}od.prototype.extract=function(e,t){if(this.B){for(var n=w(this.m.values()),r=n.next();!r.done;r=n.next())r.value.l=t;this.B=!1}if(e=new ln(e,0),!(8>e.getLength())&&e.X()===181&&e.na()===49&&e.S()===1195456820&&e.X()===3&&(n=e.X(),(n&64)!==0))for(n&=31,e.skip(1),r=0;r<n;r++){var i=e.X(),a=(i&4)>>2,u=e.X(),l=e.X();a&&(i&=3,i===0||i===1?this.h.push({pts:t,type:i,mb:u,Mb:l,order:this.h.length}):(this.g.push({pts:t,type:i,value:u,order:this.g.length}),this.g.push({pts:t,type:2,value:l,order:this.g.length})))}},od.prototype.decode=function(){function e(i,a){return i.pts-a.pts||i.order-a.order}var t=[];this.h.sort(e),this.g.sort(e);for(var n=w(this.h),r=n.next();!r.done;r=n.next())(r=zU(this,r.value))&&t.push(r);for(n=w(this.g),r=n.next();!r.done;r=n.next())jU(this.i,r.value);for(n=w(this.i.i),r=n.next();!r.done;r=n.next())r=HU(this,r.value),t.push.apply(t,j(r));return this.i.i=[],this.h=[],this.g=[],t};function zU(e,t){var n=t.type;if((t.mb&112)===16){var r=t.mb>>3&1;n===0?e.o=r:e.u=r}if(r="CC"+((n<<1|(n?e.u:e.o))+1),n=e.m.get(r),t.mb===255&&t.Mb===255||!t.mb&&!t.Mb||!eC(t.mb)||!eC(t.Mb))return 45<=++e.l&&J2(e),null;e.l=0,t.mb&=127,t.Mb&=127;var i=t.mb;if(1<=i&&15>=i||!t.mb&&!t.Mb)return null;if(i=null,(t.mb&112)===16)e:{if(e.A.add(r),r=t.mb,e=t.Mb,n.m===(r<<8|e))n.m=null;else if(n.m=r<<8|e,(r&240)===16&&(e&192)===64){t=[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(r&7)<<1|e>>5&1],r="white",i=!1;var a=null,u=95<e?e-96:e-64;13>=u?r=WE[Math.floor(u/2)]:15>=u?i=!0:a=Math.floor((u-16)/2),e=(e&1)===1,n.h!==4&&(u=n.g,n.h===3&&t!==u.g&&(n=1+t-u.h,zE(u,n,1+u.g-u.h,u.h),Ko(u,0,n-1),Ko(u,t+1,15-t)),u.g=t,u.m=e,u.j=i,u.l=r,u.u=a,u.o="black")}else if((r&247)===17&&(e&240)===32)n.g.m=!1,n.g.j=!1,n.g.l="white",ad(n.g,0,32),r=!1,t=WE[(e&14)>>1],t==="white_italics"&&(t="white",r=!0),n.g.m=(e&1)===1,n.g.j=r,n.g.l=t;else if((r&247)===16&&(e&240)===32||(r&247)===23&&(e&255)===45)t="black",!(r&7)&&(t=NU[(e&14)>>1]),n.g.o=t;else if((r&247)===17&&(e&240)===48)ad(n.g,1,e);else if((r&246)===18&&(e&224)===32)ad(n.g,r&1?3:2,e);else{if((r&246)===20&&(e&240)===32){switch(e=t.pts,r=null,t.Mb){case 32:GE(n);break;case 33:n=n.g,n.i[n.g].pop();break;case 37:r=K2(n,2,e);break;case 38:r=K2(n,3,e);break;case 39:r=K2(n,4,e);break;case 40:ad(n.g,0,32);break;case 41:n.h=2,n.g=n.i,n.g.h=0,n.l=e;break;case 42:Rh(n.o),KE(n);break;case 43:KE(n);break;case 44:t=n.i,r=null,n.h!==4&&(r=dv(t,n.l,e)),Ko(t,0,15);break;case 45:t=n.g,n.h!==3?r=null:(r=dv(t,n.l,e),i=t.g-t.h+1,zE(t,i-1,i,t.h),Ko(t,0,i-1),Ko(t,t.g,15-t.g),n.l=e);break;case 46:Ko(n.j,0,15);break;case 47:t=null,n.h!==4&&(t=dv(n.i,n.l,e)),r=n.j,n.j=n.i,n.i=r,GE(n),n.l=e,r=t}i=r;break e}(r==23||r==31)&&33<=e&&35>=e&&(n.g.A=e-32)}i=null}else e=t.Mb,ad(n.g,0,t.mb),ad(n.g,0,e);return i}function HU(e,t){var n=[];try{for(;t.ta();){var r=Gn(t).value,i=(r&224)>>5,a=r&31;if(i===7&&a!=0&&(i=Gn(t).value&63),i!=0){e.A.add("svc"+i),e.j.has(i)||e.j.set(i,new FU(i));for(var u=e.j.get(i),l=t.Ba();t.Ba()-l<a;){i=u;var p=t,g=Gn(p),v=g.value,y=g.pts;if(v===16){var x=Gn(p);v=v<<16|x.value}if(0<=v&&31>=v)var S=BU(i,p,v,y);else if(128<=v&&159>=v)S=VU(i,p,v,y);else{if(4096<=v&&4127>=v)i=p,p=v&255,8<=p&&15>=p?i.skip(1):16<=p&&23>=p?i.skip(2):24<=p&&31>=p&&i.skip(3);else if(4224<=v&&4255>=v)i=p,p=v&255,128<=p&&135>=p?i.skip(4):136<=p&&143>=p&&i.skip(5);else if(32<=v&&127>=v)p=v,i.g&&(p===127?$s(i.g,"\u266A"):$s(i.g,String.fromCharCode(p)));else if(160<=v&&255>=v)i.g&&$s(i.g,String.fromCharCode(v));else if(4128<=v&&4223>=v){if(p=v&255,i.g)if(ZE.has(p)){var k=ZE.get(p);$s(i.g,k)}else $s(i.g,"_")}else 4256<=v&&4351>=v&&i.g&&((v&255)!=160?$s(i.g,"_"):$s(i.g,"[CC]"));S=[]}n.push.apply(n,j(S))}}}}catch(C){if(C instanceof $&&C.code===3e3)$t("CEA708_INVALID_DATA","Buffer read out of bounds / invalid CEA-708 Data.");else throw C}return n}function eC(e){for(var t=0;e;)t^=e&1,e>>=1;return t===1}od.prototype.getStreams=function(){return Array.from(this.A)},Ee("shaka.cea.CeaDecoder",od),Sc=function(){return new od};function tC(e){for(var t=[],n=e,r=e=0;r<n.length;)e==2&&n[r]==3?(e=0,n=[].concat(j(n)),n.splice(r,1),n=new Uint8Array(n)):n[r]==0?e++:e=0,r++;for(e=n,r=0;r<e.length;){for(n=0;e[r]==255;)n+=255,r++;n+=e[r++];for(var i=0;e[r]==255;)i+=255,r++;i+=e[r++],n==4&&t.push(e.subarray(r,r+i)),r+=i}return t}function hv(){this.j=new Map,this.i=this.h=0,this.g=Q2}hv.prototype.init=function(e){function t(a){a=a.name,fv.has(a)&&(n.g=fv.get(a))}var n=this,r=[],i=[];if(new Qt().box("moov",xt).box("mvex",xt).R("trex",function(a){var u=a.reader;u.skip(4),u.skip(4),a=u.S(),u=u.S(),n.h=a,n.i=u}).box("trak",xt).R("tkhd",function(a){var u=a.reader;a=a.version,a==1?(u.skip(8),u.skip(8)):(u.skip(4),u.skip(4));var l=u.S();a==1?u.skip(8):u.skip(4),u.skip(4),u.skip(8),u.skip(2),u.skip(2),u.skip(2),u.skip(2),u.skip(36),u.na(),u.na(),u.na(),u.na(),r.push(l)}).box("mdia",xt).R("mdhd",function(a){a=gm(a.reader,a.version),i.push(a.timescale)}).box("minf",xt).box("stbl",xt).R("stsd",Us).box("avc1",t).box("avc3",t).box("dvav",t).box("dva1",t).box("hev1",t).box("hvc1",t).box("dvh1",t).box("dvhe",t).box("vvc1",t).box("vvi1",t).box("dvc1",t).box("dvi1",t).box("encv",pi).box("sinf",xt).box("frma",function(a){a=w4(a.reader).codec,fv.has(a)&&(n.g=fv.get(a))}).parse(e,!0),!r.length||!i.length||r.length!=i.length)throw new $(2,2,2010);this.g==Q2&&Be("Unable to determine bitstream format for CEA parsing!"),r.forEach(function(a,u){n.j.set(a,i[u])})},hv.prototype.parse=function(e){var t=this;if(this.g==Q2)return[];var n=[],r=0,i=[];return new Qt().box("moof",function(a){r=a.start,i=[],xt(a)}).box("traf",function(a){i.push({baseMediaDecodeTime:null,ld:t.h,md:t.i,lh:[],timescale:9e4}),xt(a)}).R("trun",function(a){var u=i[i.length-1];a=mm(a.reader,a.version,a.flags),u.lh.push(a)}).R("tfhd",function(a){var u=i[i.length-1];a=hm(a.reader,a.flags),u.ld=a.ld||t.h,u.md=a.md||t.i,a=a.trackId,t.j.has(a)&&(u.timescale=t.j.get(a))}).R("tfdt",function(a){var u=i[i.length-1];a=fm(a.reader,a.version),u.baseMediaDecodeTime=a.baseMediaDecodeTime}).box("mdat",function(a){for(var u=r-a.start-8,l=a.reader.Ba(),p=w(i),g=p.next();!g.done;g=p.next()){if(g=g.value,g.baseMediaDecodeTime===null)throw Be("Unable to find base media decode time for CEA captions!"),new $(2,2,2010);a.reader.seek(l),qU(t,a.reader,g.baseMediaDecodeTime,g.timescale,g.ld,g.md,u,g.lh,n)}}).parse(e,!1),n};function qU(e,t,n,r,i,a,u,l,p){var g=0,v=a,y=l.map(function(k){return k.fg});for(y=[].concat.apply([],j(y)),y.length&&(v=y[0].sampleSize||a),t.skip(u+l[0].nf);t.ta();){u=t.S();var x=t.X(),S=null;switch(S=!1,l=1,e.g){case Oh:S=x&31,S=S==6;break;case jh:l=2,t.skip(1),S=x>>1&63,S=S==39||S==40;break;case Fh:l=2,t.skip(1),S=x>>1&63,S=S==23||S==24;break;default:return}if(S)for(x=0,g<y.length&&(x=y[g].ye||0),x=(n+x)/r,l=w(tC(t.Cb(u-l))),S=l.next();!S.done;S=l.next())p.push({packet:S.value,pts:x});else try{t.skip(u-l)}catch{break}v-=u+4,v==0&&(n=g<y.length?n+(y[g].gg||i):n+i,g++,g<y.length?v=y[g].sampleSize||a:v=a)}}Ee("shaka.cea.Mp4CeaParser",hv);var Q2=0,Oh=1,jh=2,Fh=3,fv=new Map().set("avc1",Oh).set("avc3",Oh).set("dvav",Oh).set("dva1",Oh).set("hev1",jh).set("hvc1",jh).set("dvh1",jh).set("dvhe",jh).set("vvc1",Fh).set("vvi1",Fh).set("dvc1",Fh).set("dvi1",Fh);W1("video/mp4",function(){return new hv});function gv(){this.g=null}gv.prototype.init=function(){},gv.prototype.parse=function(e){this.g?this.g.clearData():this.g=new hn;var t=[];if(e=Ye(e),!$c(e))return t;e=this.g.parse(e);var n=e.od(),r=e.be();switch(e=[],n.video){case"avc":e.push(6);break;case"hvc":e.push(39),e.push(40)}if(!e.length)return t;for(n=w(r),r=n.next();!r.done;r=n.next())if(r=r.value,e.includes(r.type)&&r.time!=null)for(var i=w(tC(r.data)),a=i.next();!a.done;a=i.next())t.push({packet:a.value,pts:r.time});return t},Ee("shaka.cea.TsCeaParser",gv),W1("video/mp2t",function(){return new gv});function GU(e){var t=0,n=pn(e),r=n.getUint32(t,!0);if(r!=e.byteLength)return[];e:{for(e=t+6,t=[];e<n.byteLength-1;){r=n.getUint16(e,!0),e+=2;var i=n.getUint16(e,!0);if(e+=2,i&1||i+e>n.byteLength){n=[];break e}var a=Ye(n,e,i);t.push({type:r,value:a}),e+=i}n=t}return n}function nC(e){return e=zi(jn(e)),e=GU(e).filter(function(t){return t.type===KU})[0],e?(e=Is(e.value,!0),(e=qu(e,"WRMHEADER"))?e:null):null}function mv(e){try{var t=nC(e);if(t)e:{for(var n=w(Ua(t,"DATA")),r=n.next();!r.done;r=n.next()){var i=r.value;if(i.children)for(var a=w(i.children),u=a.next();!u.done;u=a.next()){var l=u.value;if(l.tagName=="LA_URL"){var p=jn(l);break e}}}p=""}else p="";return p}catch{return""}}var KU=1;function rC(e,t,n){var r=YU(e),i=null;e=[];var a=[],u=null,l=new Set(r.map(function(g){return g.keyId}));l.delete(null);var p="cenc";if(1<l.size)throw new $(2,4,4010);if(!t){if(a=r.filter(function(g){return g.cd=="urn:mpeg:dash:sea:2012"}),1<a.length)throw new $(2,4,4050);a.length&&(u=QU(a[0])),(a=r.find(function(g){return g.cd=="urn:mpeg:dash:mp4protection:2011"}))&&a.encryptionScheme&&(p=a.encryptionScheme),a=r.filter(function(g){return g.cd=="urn:mpeg:dash:mp4protection:2011"?(i=g.init||i,!1):g.cd!="urn:mpeg:dash:sea:2012"}),a.length&&(e=XU(i,p,a,n,l),e.length==0&&(e=[Ms("",p,i)]))}if(r.length&&!u&&(t||!a.length))for(e=[],t=w(Object.values(n)),n=t.next();!n.done;n=t.next())n=n.value,n!="org.w3.clearkey"&&e.push(Ms(n,p,i));if(l=Array.from(l)[0]||null)for(p=w(e),t=p.next();!t.done;t=p.next())for(t=w(t.value.initData),n=t.next();!n.done;n=t.next())n.value.keyId=l;return{Jg:l,Pk:i,drmInfos:e,cf:u,Og:!0}}function WU(e,t,n,r){var i=rC(e,n,r);if(t.Og)e=t.drmInfos.length==1&&!t.drmInfos[0].keySystem,n=i.drmInfos.length==0,(t.drmInfos.length==0||e&&!n)&&(t.drmInfos=i.drmInfos),t.Og=!1;else if(0<i.drmInfos.length&&(t.drmInfos=t.drmInfos.filter(function(a){return i.drmInfos.some(function(u){return u.keySystem==a.keySystem})}),t.drmInfos.length==0))throw new $(2,4,4008);return i.Jg||t.Jg}function vv(e){var t=da(e.node,"https://dashif.org/CPS","Laurl");if(t&&(t=jn(t)))return t;if((t=da(e.node,"urn:microsoft:playready","pro"))&&jn(t))return mv(t);if((e=da(e.node,"urn:mpeg:cenc:2013","pssh"))&&(e=jn(e))){t=zi(e),e=8,t=pn(t);var n=t.getUint8(e);return e+=20,0<n&&(e+=4+16*t.getUint32(e)),e=Ye(t,e+4),e=qg(e),e=qu("<pro>"+e+"</pro>"),mv(e)}return""}function XU(e,t,n,r,i){var a=[];n=w(n);for(var u=n.next();!u.done;u=n.next()){u=u.value;var l=r[u.cd];if(l){var p;if((p=da(u.node,"urn:microsoft:playready","pro"))&&jn(p)){p=jn(p),p=zi(p);var g=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);p=[{initData:cm(p,g,new Set,0),initDataType:"cenc",keyId:u.keyId}]}else p=null;if(g=null,u.cd==="urn:uuid:e2719d58-a985-b3c9-781a-b030af78d30e"){g=u;var v=i;if(v.size==0)g=null;else{var y=new Uint8Array([16,119,239,236,192,178,77,2,172,227,60,30,82,226,251,75]),x=new Uint8Array([]);g=[{initData:cm(x,y,v,1),initDataType:"cenc",keyId:g.keyId}]}}p=Ms(l,t,u.init||e||p||g),(l=ZU.get(l))&&(p.licenseServerUri=l(u)),a.push(p)}}return a}function YU(e){var t=[];e=w(e);for(var n=e.next();!n.done;n=e.next())(n=JU(n.value))&&t.push(n);return t}function JU(e){var t=e.attributes.schemeIdUri,n=Do(e,"urn:mpeg:cenc:2013","default_KID"),r=l5(e,"urn:mpeg:cenc:2013","pssh").map(Ei),i=e.attributes.value;if(!t)return null;if(t=t.toLowerCase(),n&&(n=n.replace(/-/g,"").toLowerCase(),n.includes(" ")))throw new $(2,4,4009);var a=[];try{a=r.map(function(u){return{initDataType:"cenc",initData:zi(u),keyId:null}})}catch{throw new $(2,4,4007)}return{node:e,cd:t,keyId:n,init:0<a.length?a:null,encryptionScheme:i}}function QU(e){if(!d.crypto||!d.crypto.subtle)throw Be("Web Crypto API is not available to decrypt AES-128. (Web Crypto only exists in secure origins like https)"),new $(2,4,4042);var t=da(e.node,"urn:mpeg:dash:schema:sea:2012","SegmentEncryption");if(!t)throw new $(2,4,4051);if(t.attributes.schemeIdUri!="urn:mpeg:dash:sea:aes128-cbc:2013")throw new $(2,4,4051);if(t=da(e.node,"urn:mpeg:dash:schema:sea:2012","CryptoPeriod"),!t)throw new $(2,4,4051);if(e=t.attributes.IV,t=Kr(t.attributes.keyUriTemplate),!e||!t)throw new $(2,4,4051);if(e=Fu(e.substr(2)),e.byteLength!=16)throw new $(2,4,4048);return{Xi:t,iv:e}}var ZU=new Map().set("com.apple.fps",function(e){if(d.shakaMediaKeysPolyfill==="apple")throw new $(2,4,4054);return(e=da(e.node,"https://dashif.org/CPS","Laurl"))&&(e=jn(e))?e:""}).set("com.widevine.alpha",function(e){var t=da(e.node,"https://dashif.org/CPS","Laurl");return t&&(t=jn(t))?t:(e=da(e.node,"urn:microsoft","laurl"))&&Kr(e.attributes.licenseUrl)||""}).set("com.microsoft.playready",vv).set("com.microsoft.playready.recommendation",vv).set("com.microsoft.playready.software",vv).set("com.microsoft.playready.hardware",vv).set("org.w3.clearkey",function(e){var t=da(e.node,"https://dashif.org/CPS","Laurl");return t&&(t=jn(t))?t:(e=da(e.node,"http://dashif.org/guidelines/clearKey","Laurl"))&&e.attributes.Lic_type==="EME-1.0"&&e&&(e=jn(e))?e:""});function Bh(e,t,n,r,i,a){var u=new Map().set("RepresentationID",t).set("Number",n).set("SubNumber",r).set("Bandwidth",i).set("Time",a);return e.replace(/\$(RepresentationID|Number|SubNumber|Bandwidth|Time)?(?:%0([0-9]+)([diouxX]))?\$/g,function(l,p,g,v){if(l=="$$")return"$";var y=u.get(p);if(y==null)return l;switch(p=="RepresentationID"&&g&&(g=void 0),p=="Time"&&typeof y!="bigint"&&(.2<=Math.abs(y-Math.round(y))&&Be("Calculated $Time$ values must be close to integers"),y=Math.round(y)),v){case void 0:case"d":case"i":case"u":l=y.toString();break;case"o":l=y.toString(8);break;case"x":l=y.toString(16);break;case"X":l=y.toString(16).toUpperCase();break;default:l=y.toString()}return g=d.parseInt(g,10)||1,Array(Math.max(0,g-l.length)+1).join("0")+l})}function iC(e,t){var n=ma(e,t,"timescale"),r=1;n&&(r=Po(n)||1),n=ma(e,t,"duration");var i=(n=Po(n||""))?n/r:null,a=ma(e,t,"startNumber"),u=Number(ma(e,t,"presentationTimeOffset"))||0,l=_r(a||"");if((a==null||l==null)&&(l=1),a=null,t=sd(e,t,"SegmentTimeline")){t=Gt(t,"S"),a=r,e=e.ha.duration||1/0;for(var p=l,g=[],v=-u,y=0;y<t.length;++y){var x=t[y],S=t[y+1],k=st(x,"t",_r),C=st(x,"d",_r),E=st(x,"r",Or);if(x=st(x,"k",Or)||0,k!=null&&(k-=u),C){if(k=k??v,E=E||0,0>E)if(S){if(S=st(S,"t",_r),S==null||k>=S)break;E=Math.ceil((S-k)/C)-1}else{if(e==1/0||k/a>=e)break;E=Math.ceil((e*a-k)/C)-1}for(0<g.length&&k!=v&&(g[g.length-1].end=k/a),S=0;S<=E;++S)v=k+C,g.push({start:k/a,end:v/a,xg:k,Jb:x,wj:g.length+p}),k=v}}a=g}return{timescale:r,He:n,Wa:i,Ld:l,hc:u/r||0,wg:u,timeline:a}}function aC(e,t){return[t(e.J),t(e.ga),t(e.qa)].filter(Ns)}function ma(e,t,n){t=aC(e,t),e=null,t=w(t);for(var r=t.next();!r.done&&!(e=r.value.attributes[n]);r=t.next());return e}function sd(e,t,n){t=aC(e,t),e=null,t=w(t);for(var r=t.next();!r.done&&!(e=Nn(r.value,n));r=t.next());return e}function eO(e,t,n,r,i,a){for(var u=Do(e,"http://www.w3.org/1999/xlink","href"),l=Do(e,"http://www.w3.org/1999/xlink","actuate")||"onRequest",p=w(Object.keys(e.attributes)),g=p.next();!g.done;g=p.next()){g=g.value;var v=g.split(":"),y=Q1("http://www.w3.org/1999/xlink");v[0]==y&&delete e.attributes[g]}if(5<=a)return Yu(new $(2,4,4028));if(l!="onLoad")return Yu(new $(2,4,4027));var x=Qn([r],[u]);return i.request(0,qn(x,t)).Ha(function(S){if(S=Hp(S.data,e.tagName),!S)return Yu(new $(2,4,4001,u));for(e.children=[];S.children.length;){var k=S.children.shift();e.children.push(k)}k=w(Object.keys(S.attributes));for(var C=k.next();!C.done;C=k.next())C=C.value,e.attributes[C]=S.attributes[C];return yv(e,t,n,x[0],i,a+1)})}function yv(e,t,n,r,i,a){if(a=a===void 0?0:a,Do(e,"http://www.w3.org/1999/xlink","href")){var u=eO(e,t,n,r,i,a);return n&&(u=u.Ha(void 0,function(){return yv(e,t,n,r,i,a)})),u}u=[];for(var l=w(u5(e)),p=l.next(),g={};!p.done;g={hd:void 0},p=l.next())g.hd=p.value,Do(g.hd,"http://www.w3.org/1999/xlink","href")=="urn:mpeg:dash:resolve-to-zero:2013"?e.children=e.children.filter(function(v){return function(y){return y!==v.hd}}(g)):g.hd.tagName!="SegmentTimeline"&&u.push(yv(g.hd,t,n,r,i,a));return z5(u).Ha(function(){return e})}function tO(e,t,n,r,i,a,u){var l,p=new Qt().R("sidx",function(g){l=nO(t,r,i,a,u,n,g)});if(e&&p.parse(e),l)return l;throw new $(2,3,3004)}function nO(e,t,n,r,i,a,u){var l=[];u.reader.skip(4);var p=u.reader.S();if(p==0)throw new $(2,3,3005);if(u.version==0)var g=u.reader.S(),v=u.reader.S();else g=u.reader.bd(),v=u.reader.bd();u.reader.skip(2);var y=u.reader.na();for(e=e+u.size+v,v=0;v<y;v++){var x=u.reader.S(),S=(x&2147483648)>>>31;x&=2147483647;var k=u.reader.S();if(u.reader.skip(4),S==1)throw new $(2,3,3006);l.push(new Ge(g/p+n,(g+k)/p+n,function(){return a},e,e+x-1,t,n,r,i)),g+=k,e+=x}return u.parser.stop(),l}function zs(e){this.h=pn(e),this.g=new ln(this.h,0)}zs.prototype.ta=function(){return this.g.ta()};function Wo(e){var t=oC(e);if(7<t.length)throw new $(2,3,3002);var n=0;t=w(t);for(var r=t.next();!r.done;r=t.next())n=256*n+r.value;t=oC(e);e:{r=w(rO);for(var i=r.next();!i.done;i=r.next())if(si(t,new Uint8Array(i.value))){r=!0;break e}r=!1}if(r)t=e.h.byteLength-e.g.Ba();else{if(t.length==8&&t[1]&224)throw new $(2,3,3001);for(i=r=0;i<t.length;i++){var a=t[i];r=i==0?a&(1<<8-t.length)-1:256*r+a}t=r}return t=e.g.Ba()+t<=e.h.byteLength?t:e.h.byteLength-e.g.Ba(),r=pn(e.h,e.g.Ba(),t),e.g.skip(t),new iO(n,r)}function oC(e){var t=e.g.Ba(),n=e.g.X();if(n==0)throw new $(2,3,3002);return n=8-Math.floor(Math.log2(n)),e.g.skip(n-1),Ye(e.h,t,n)}var rO=[[255],[127,255],[63,255,255],[31,255,255,255],[15,255,255,255,255],[7,255,255,255,255,255],[3,255,255,255,255,255,255],[1,255,255,255,255,255,255,255]];function iO(e,t){this.id=e,this.g=t}function Z2(e){if(8<e.g.byteLength)throw new $(2,3,3002);if(e.g.byteLength==8&&e.g.getUint8(0)&224)throw new $(2,3,3001);for(var t=0,n=0;n<e.g.byteLength;n++){var r=e.g.getUint8(n);t=256*t+r}return t}function aO(e,t,n,r,i,a,u,l,p){function g(){return i}var v=[];e=new zs(e.g);for(var y=null,x=null;e.ta();){var S=Wo(e);if(S.id==187){var k=oO(S);k&&(S=n*k.Jj,k=t+k.nj,y!=null&&v.push(new Ge(y+u,S+u,g,x,k-1,a,u,l,p)),y=S,x=k)}}return y!=null&&v.push(new Ge(y+u,r+u,g,x,null,a,u,l,p)),v}function oO(e){var t=new zs(e.g);if(e=Wo(t),e.id!=179)throw new $(2,3,3013);if(e=Z2(e),t=Wo(t),t.id!=183)throw new $(2,3,3012);t=new zs(t.g);for(var n=0;t.ta();){var r=Wo(t);if(r.id==241){n=Z2(r);break}}return{Jj:e,nj:n}}function sC(e,t,n){if(t=sd(e,t,"Initialization"),!t)return null;var r=e.J.Ua(),i=t.attributes.sourceURL;i&&(r=Qn(r,[Kr(i)],e.vb())),i=0;var a=null;return(t=st(t,"range",Kg))&&(i=t.start,a=t.end),n=new Xr(function(){return r},i,a,dC(e),null,null,n,e.ga.encrypted),n.codecs=e.J.codecs,n.mimeType=e.J.mimeType,e.ha&&(n.g=e.ha.start+e.ha.duration),n}function sO(e,t,n){var r=Number(ma(e,ud,"presentationTimeOffset"))||0,i=ma(e,ud,"timescale"),a=1;i&&(a=Po(i)||1);var u=r/a||0,l=sC(e,ud,n);uO(e,l);var p=Hu(e);return{rc:function(){var g=sd(p,ud,"RepresentationIndex"),v=p.J.Ua();return g&&(g=Kr(g.attributes.sourceURL))&&(v=Qn(v,[g],p.vb())),g=lC(p),uC(p,t,l,v,g.start,g.end,u)}}}function uC(e,t,n,r,i,a,u){var l,p,g,v,y,x,S,k,C,E,I,_,F,B,q,O,N,H;return P(function(z){if(z.g==1)return l=e.presentationTimeline,p=!e.Ob||!e.ha.$g,g=e.ha.start,v=e.ha.duration,y=e.J.mimeType.split("/")[1],x=t,S=null,k=[x(r,i,a,!1),y=="webm"?x(n.N(),n.Sa,n.wa,!0):null],x=null,T(z,Promise.all(k),2);if(C=z.h,E=C[0],I=C[1]||null,_=null,F=g-u,B=g,q=v?g+v:1/0,y=="mp4")var Y=tO(E,i,r,n,F,B,q);else{Y=E;var K=new zs(I);if(Wo(K).id!=440786851)throw new $(2,3,3008);var J=Wo(K);if(J.id!=408125543)throw new $(2,3,3009);K=J.g.byteOffset,J=new zs(J.g);for(var ie=null;J.ta();){var ne=Wo(J);if(ne.id==357149030){ie=ne;break}}if(!ie)throw new $(2,3,3010);for(ie=new zs(ie.g),ne=1e6,J=null;ie.ta();){var ue=Wo(ie);if(ue.id==2807729)ne=Z2(ue);else if(ue.id==17545)if(ue.g.byteLength==4)J=ue.g.getFloat32(0);else if(ue.g.byteLength==8)J=ue.g.getFloat64(0);else throw new $(2,3,3003)}if(J==null)throw new $(2,3,3011);if(ie=ne/1e9,J*=ie,Y=Wo(new zs(Y)),Y.id!=475249515)throw new $(2,3,3007);Y=aO(Y,K,ie,J,r,n,F,B,q)}for(_=Y,O=w(_),N=O.next();!N.done;N=O.next())H=N.value,H.codecs=e.J.codecs,H.mimeType=e.J.mimeType,H.bandwidth=e.bandwidth;return l.Ed(_),S=new Ft(_),p&&S.Oc(B,q,!0),z.return(S)})}function ud(e){return e.dd}function lC(e){var t=sd(e,ud,"RepresentationIndex");return e=ma(e,ud,"indexRange"),e=Kg(e||""),t&&(e=st(t,"range",Kg,e)),e}function uO(e,t){if(cC(e,t),!lC(e))throw new $(2,4,4002)}function cC(e,t){var n=e.J.mimeType.split("/")[1];if(e.J.contentType!=wt&&n!="mp4"&&n!="webm")throw new $(2,4,4006);if(n=="webm"&&!t)throw new $(2,4,4005)}function dC(e){var t=e.J;return{bandwidth:e.bandwidth,audioSamplingRate:t.audioSamplingRate,codecs:t.codecs,contentType:t.contentType,frameRate:t.frameRate||null,height:t.height||null,mimeType:t.mimeType,channelsCount:t.oe,pixelAspectRatio:t.pixelAspectRatio||null,width:t.width||null,label:e.ga.label||null,roles:e.roles||null,language:e.ga.language||null}}function lO(e,t,n){var r=sC(e,pC,n),i=cO(e);if(!i.Wa&&!i.timeline&&1<i.Xc.length)throw new $(2,4,4002);if(!i.Wa&&!e.ha.duration&&!i.timeline&&i.Xc.length==1)throw new $(2,4,4002);if(i.timeline&&i.timeline.length==0)throw new $(2,4,4002);var a=null,u=null;e.qa.id&&e.J.id&&(u=t.get(e.qa.id+","+e.J.id))&&(a=u.segmentIndex);var l=dO(e.ha.start,e.ha.duration,e.J.Ua,i,r,n,e.J.mimeType,e.J.codecs,e.bandwidth,e.vb);return t=!a,a?a.Bd(l,e.presentationTimeline.pb()):a=new Ft(l),e.presentationTimeline.Ed(l),e.Ob&&e.ha.$g||a.Oc(e.ha.start,e.ha.duration?e.ha.start+e.ha.duration:1/0,t),u&&(u.segmentIndex=a),{rc:function(){return a&&a.getNumReferences()!=0||a.ke(l),Promise.resolve(a)}}}function pC(e){return e.Zb}function cO(e){var t=pO(e);e=iC(e,pC);var n=e.Ld;n==0&&(n=1);var r=0;return e.Wa?r=e.Wa*(n-1):e.timeline&&0<e.timeline.length&&(r=e.timeline[0].start),{Wa:e.Wa,startTime:r,Ld:n,hc:e.hc,timeline:e.timeline,Xc:t}}function dO(e,t,n,r,i,a,u,l,p,g){var v=r.Xc.length;r.timeline&&r.timeline.length!=r.Xc.length&&(v=Math.min(r.timeline.length,r.Xc.length));for(var y=e-r.hc,x=t?e+t:1/0,S=[],k=r.startTime,C={},E=0;E<v;C={Je:void 0,ze:void 0},E++){C.ze=r.Xc[E];var I=k;k=void 0,k=r.Wa!=null?I+r.Wa:r.timeline?r.timeline[E].end:I+t,C.Je=null,C=new Ge(e+I,e+k,function(_){return function(){return _.Je==null&&(_.Je=Qn(n(),[_.ze.cj],g())),_.Je}}(C),C.ze.start,C.ze.end,i,y,e,x,[],"",null,null,Fo,a),C.codecs=l,C.mimeType=u,C.bandwidth=p,S.push(C)}return S}function pO(e){return[e.J.Zb,e.ga.Zb,e.qa.Zb].filter(Ns).map(function(t){return Gt(t,"SegmentURL")}).reduce(function(t,n){return 0<t.length?t:n}).map(function(t){t.attributes.indexRange&&!e.Lf&&(e.Lf=!0);var n=Kr(t.attributes.media);return t=st(t,"mediaRange",Kg,{start:0,end:null}),{cj:n,start:t.start,end:t.end}})}function hC(e,t,n,r,i,a,u,l,p){p||e.J.de||(e.J.de=ma(e,Hs,"initialization"));var g=e.J.de?mO(e,u):null,v=hO(e);fO(v);var y=Hu(e);if(v.vd)return cC(e,g),{rc:function(){var C=Bh(v.vd,y.J.originalId,null,null,y.bandwidth||null,null);return C=Qn(y.J.Ua(),[C]),uC(y,t,g,C,0,null,v.hc)}};if(v.Wa)return r||e.ga.contentType==="image"||e.ga.contentType==="text"||(n=e.ha.start,r=e.qa.id,p=e.ha.duration,r=(r=r!=null&&a.get(r)||p)?n+r:1/0,e.presentationTimeline.Tf(v.Wa),e.presentationTimeline.jh(n,r)),{rc:function(){return gO(y,v,i,g,a,u,l,e.J.Ae)}};var x=null;r=r=null,e.qa.id&&e.J.id&&(r=e.qa.id+","+e.J.id,r=n.get(r))&&(x=r.segmentIndex);var S=e.ha.start,k=e.ha.duration?S+e.ha.duration:1/0;return x?(n=x,fC(n,v,S,k,g),n.Oa(e.presentationTimeline.pb())):x=new bv(v,e.J.originalId,e.bandwidth,e.J.Ua,e.vb,S,k,g,u,e.J.Ae),v.timeline&&e.ga.contentType!=="image"&&e.ga.contentType!=="text"&&e.presentationTimeline.kh(x.h?x.h.timeline:[],S),r&&e.Ob&&(r.segmentIndex=x),{rc:function(){return x instanceof bv&&x.getNumReferences()==0&&fC(x,v,S,k,g),Promise.resolve(x)}}}function Hs(e){return e.ic}function hO(e){var t=iC(e,Hs),n=ma(e,Hs,"media"),r=ma(e,Hs,"index"),i=ma(e,Hs,"k"),a=0;return i&&(a=parseInt(i,10)),{He:t.He,Wa:t.Wa,timescale:t.timescale,Ld:t.Ld,hc:t.hc,wg:t.wg,timeline:t.timeline,ec:n&&Kr(n),vd:r,mimeType:e.J.mimeType,codecs:e.J.codecs,bandwidth:e.bandwidth,dj:a}}function fO(e){var t=e.vd?1:0;if(t+=e.timeline?1:0,t+=e.Wa?1:0,t==0)throw new $(2,4,4002);if(t!=1&&(e.vd&&(e.timeline=null),e.He=null,e.Wa=null),!e.vd&&!e.ec)throw new $(2,4,4002)}function gO(e,t,n,r,i,a,u,l){function p(J){var ie=J-E,ne=ie*C,ue=t.He,oe=ie*ue;"BigInt"in d&&oe>Number.MAX_SAFE_INTEGER&&(oe=BigInt(ie)*BigInt(ue)),ne+=x,ie=ne+C,ue=Math.min(ie,v());var pe=[],xe=t.dj;if(xe)for(var tt=(ue-ne)/xe,je={},Vt=0;Vt<xe;je={Eh:void 0},Vt++){var Tt=ne+tt*Vt,ft=Tt+tt;je.Eh=Vt+1,je=new Ge(Tt,ft,function(vt){return function(){var Rt=Bh(I,F,J,vt.Eh,_,oe);return Qn(B(),[Rt],q())}}(je),0,null,r,O,x,v(),[],"",null,null,Fo,a),je.codecs=e.J.codecs,je.mimeType=e.J.mimeType,l==0?0<Vt&&je.Vc():Vt%l!=0&&je.Vc(),pe.push(je)}return ne=new Ge(ne,ue,function(){if(xe)return[];var vt=Bh(I,F,J,null,_,oe);return Qn(B(),[vt],q())},0,null,r,O,x,v(),pe,"",null,null,Fo,a,0<pe.length),ne.codecs=e.J.codecs,ne.mimeType=e.J.mimeType,ne.bandwidth=e.bandwidth,ne.j=ie,ne}function g(){var J=[Math.max(y.pb(),x),Math.min(y.cc(),v())].map(function(ie){return ie-x});return J=[Math.ceil(J[0]/C),Math.ceil(J[1]/C)-1],e.J.cb&&J[1]++,J.map(function(ie){return ie+E})}function v(){var J=S!=null&&i.get(S)||k;return J?x+J:1/0}var y=e.presentationTimeline,x=e.ha.start,S=e.qa.id,k=e.ha.duration,C=t.Wa,E=t.Ld,I=t.ec,_=e.bandwidth||null,F=e.J.id,B=e.J.Ua,q=e.vb,O=x-t.hc,N=g();n=e.Ob?Math.max(N[0],N[1]-n+1):N[0],u=u||N[1],N=[];for(var H=n;H<=u;++H){var z=p(H);N.push(z)}var Y=new Ft(N);if(N=y.cc()<v(),H=y.U(),N||H){var K=Math.max(n,u+1);n=C,e.J.cb&&(n=.1),Y.Ie(n,function(){var J=y.pb();Y.Oa(J);var ie=w(g());ie.next(),ie=ie.next().value;for(var ne=[];K<=ie;){var ue=p(K);ne.push(ue),K++}return J>v()&&!ne.length?null:ne})}return Promise.resolve(Y)}function mO(e,t){var n=e.J.de;if(n||(n=ma(e,Hs,"initialization")),!n)return null;n=Kr(n);var r=e.J.originalId,i=e.bandwidth||null,a=e.J.Ua,u=e.vb;return t=new Xr(function(){var l=Bh(n,r,null,null,i,null);return Qn(a(),[l],u())},0,null,dC(e),null,null,t,e.ga.encrypted),t.codecs=e.J.codecs,t.mimeType=e.J.mimeType,e.ha&&(t.g=e.ha.start+e.ha.duration),t}function bv(e,t,n,r,i,a,u,l,p,g){Ft.call(this,[]),this.h=e,this.F=t,this.B=n,this.C=r,this.H=i,this.j=a,this.l=u,this.u=l,this.A=p,this.G=g,ew(this)}Te(bv,Ft),f=bv.prototype,f.getNumReferences=function(){return this.h?this.h.timeline.length:0},f.release=function(){Ft.prototype.release.call(this),this.h=null},f.Oa=function(e){if(this.h){for(var t=0,n=this.h.timeline,r=0;r<n.length&&n[r].end+this.j<=e;r+=1)t+=1;0<t&&(this.h.timeline=n.slice(t),this.g.length>=t&&(this.g=this.g.slice(t)),this.i+=t,this.getNumReferences()===0&&this.release())}};function fC(e,t,n,r,i){if(vO(e,i),e.h){if(n=e.h.timeline,e.h.ec!==t.ec&&(e.h.ec=t.ec),n.length){var a=n[n.length-1];t=t.timeline.filter(function(u){return u.end>a.end})}else t=t.timeline.slice();0<t.length&&e.h.timeline.push.apply(e.h.timeline,j(t)),e.l!==r&&(e.l=r)}else e.h=t,e.j=n,e.l=r;ew(e)}function vO(e,t){if(e.u!==t){e.u=t,e=w(e.g);for(var n=e.next();!n.done;n=e.next())(n=n.value)&&C4(n,t)}}function ew(e){if(e.h&&!e.o){for(var t=[],n=w(e.h.timeline),r=n.next();!r.done;r=n.next())r=r.value,r.start>=e.l||0>=r.end||t.push(r);e.h.timeline=t,e.Oa(e.j)}}f.find=function(e){if(this.h&&this.h.timeline&&this.h.timeline.length&&e<this.h.timeline[0].start+this.j)return this.i;if(!this.h)return null;var t=this.h.timeline;if(e<this.j||e>=this.l)return null;for(var n=t.length-1,r=0;r<t.length;r++){var i=t[r],a=i.start+this.j;if(i=r<n?t[r+1].start+this.j:this.l===1/0?i.end+this.j:this.l,e>=a&&e<i)return r+this.i}return null},f.get=function(e){var t=this;if(e-=this.i,0>e||e>=this.getNumReferences()||!this.h)return null;var n=this.g[e];if(!n){var r=this.h.timeline[e],i=r.wj,a=r.xg+this.h.wg;n=this.j-this.h.hc;var u=this.j+r.end,l=u;e===this.getNumReferences()-1&&this.l!==1/0&&(l=this.l);for(var p=this.h.codecs,g=this.h.mimeType,v=this.h.bandwidth,y=[],x=(r.end-r.start)/r.Jb,S={},k=0;k<r.Jb;S={Ke:void 0,Fh:void 0},k++){var C=r.start+x*k,E=C+x;S.Fh=k+1,S.Ke=null,S=new Ge(this.j+C,this.j+E,function(I){return function(){return t.h?(I.Ke==null&&(I.Ke=gC(t.h.ec,t.F,i,t.B,a,I.Fh,t.C,t.H)),I.Ke):[]}}(S),0,null,this.u,n,this.j,this.l,[],"",null,null,Fo,this.A),S.codecs=p,S.mimeType=g,S.bandwidth=v,this.G==0?0<k&&S.Vc():k%this.G!=0&&S.Vc(),y.push(S)}n=new Ge(this.j+r.start,l,function(){return 0<r.Jb||!t.h?[]:gC(t.h.ec,t.F,i,t.B,a,null,t.C,t.H)},0,null,this.u,n,this.j,this.l,y,"",null,null,Fo,this.A,0<r.Jb),n.codecs=p,n.mimeType=g,n.j=u,n.bandwidth=v,this.g[e]=n}return n},f.Eb=function(e){ew(this);for(var t=0;t<this.getNumReferences();t++){var n=this.get(t+this.i);n&&e(n)}};function gC(e,t,n,r,i,a,u,l){return e=Bh(e,t,n,a,r||null,i),Qn(u(),[e],l()).map(function(p){return p.toString()})}function ld(e){this.o=null,this.A=e,this.G=new Rc,this.i=[],this.h=null,this.m=[],this.B=null,this.F=[],this.C=300,this.l=new Map,this.j=new Map,this.g=null,this.u="UNKNOWN"}ld.prototype.configure=function(e){this.o=e},ld.prototype.destroy=function(){return this.A=this.o=null,this.i=[],this.h=null,this.m=[],this.F=[],this.l.clear(),this.g!=null&&(this.g.stop(),this.g=null),this.G.destroy()},ld.prototype.setManifestType=function(e){this.u=e};function Vh(e,t){var n,r,i,a,u,l,p;return P(function(g){if(g.g==1)return n=Qn(e.i,[yO(e,t)]),r=qn(n,e.o.retryParameters),i=e.A.networkingEngine.request(8,r),Ju(e.G,i),me(g,2),T(g,i.promise,4);if(g.g!=2)return a=g.h,u=yn(a.data),l=JSON.parse(u),l.VERSION==1&&bO(e,l,a.uri),V(g,0);if((p=W(g))&&p.code==7001)return g.return();e.g!=null&&(e.g.stop(),e.g=null),e.g=new kt(function(){Vh(e,t)}),e.g.da(e.C),ae(g)})}function yO(e,t){if(!e.m.length)return t;t=new ee(t);var n=e.B||e.m[0],r=Math.round(e.A.getBandwidthEstimate()),i=t.g;return e.u=="DASH"?(i.add("_DASH_pathway",n),i.add("_DASH_throughput",String(r))):e.u=="HLS"&&(i.add("_HLS_pathway",n),i.add("_HLS_throughput",String(r))),Ou(i)&&St(t,i),t.toString()}function bO(e,t,n){e.g!=null&&(e.g.stop(),e.g=null);var r=t["RELOAD-URI"]||n;e.g=new kt(function(){Vh(e,r)}),(n=t.TTL)&&(e.C=n),e.g.da(e.C),e.m=t["PATHWAY-PRIORITY"]||[],e.F=t["PATHWAY-CLONES"]||[]}function cd(e,t,n,r){var i=e.l.get(t);i||(i=new Map),i.set(n,r),e.l.set(t,i)}ld.prototype.banLocation=function(e){this.j.set(e,Date.now()+6e4)};function $h(e,t,n){n=n===void 0?!1:n,t=e.l.get(t)||new Map;for(var r=[],i=w(e.m),a=i.next(),u={};!a.done;u={Zc:void 0},a=i.next())if(u.Zc=a.value,a=t.get(u.Zc))r.push({Yf:u.Zc,location:a});else if(a=e.F.find(function(p){return function(g){return g.ek==p.Zc}}(u))){var l=t.get(a["BASE-ID"]);l&&(a["URI-REPLACEMENT"].Oh?(l=new ee(l),qe(l,a["URI-REPLACEMENT"].Oh),r.push({Yf:u.Zc,location:l.toString()})):r.push({Yf:u.Zc,location:l}))}for(i=Date.now(),u=w(e.j.keys()),a=u.next();!a.done;a=u.next())a=a.value,l=e.j.get(a),i>l&&e.j.delete(a);if(r=r.filter(function(p){for(var g=w(e.j.keys()),v=g.next();!v.done;v=g.next())if(v.value.includes(new ee(p.location).nb))return!1;return!0}),r.length&&(e.B=r[0].Yf),r=r.map(function(p){return p.location}),!r.length&&e.h)for(i=w(e.h.split(",")),u=i.next();!u.done;u=i.next())(u=t.get(u.value))&&(e.B=e.h,r.push(u));if(!r.length)for(t=w(t.values()),i=t.next();!i.done;i=t.next())r.push(i.value);return n?r:Qn(e.i,r)}function Pr(){this.l=[],this.h=[],this.g=[],this.j=[],this.i=[],this.u=this.o=!1,this.m=new Set}f=Pr.prototype,f.release=function(){for(var e=w(this.h.concat(this.g,this.j,this.i)),t=e.next();!t.done;t=e.next())t=t.value,t.segmentIndex&&t.segmentIndex.release();this.h=[],this.g=[],this.j=[],this.i=[],this.l=[],this.u=this.o=!1,this.m.clear()},f.Ki=function(){return this.l},f.Jf=function(){return this.j.slice()},f.oi=function(){return this.i},f.Kg=function(e,t){if(e){if(e.type=="audio")for(var n=w(this.h),r=n.next();!r.done;r=n.next())r=r.value,r.matchedStreams=r.matchedStreams.filter(function(i){return i!==e});else if(e.type=="video")for(n=w(this.g),r=n.next();!r.done;r=n.next())r=r.value,r.matchedStreams=r.matchedStreams.filter(function(i){return i!==e}),r.trickModeVideo&&(r.trickModeVideo.matchedStreams=r.trickModeVideo.matchedStreams.filter(function(i){return i!==e})),r.dependencyStream&&(r.dependencyStream.matchedStreams=r.dependencyStream.matchedStreams.filter(function(i){return i!==e}));else if(e.type==wt)for(n=w(this.j),r=n.next();!r.done;r=n.next())r=r.value,r.matchedStreams=r.matchedStreams.filter(function(i){return i!==e});else if(e.type=="image")for(n=w(this.i),r=n.next();!r.done;r=n.next())r=r.value,r.matchedStreams=r.matchedStreams.filter(function(i){return i!==e});e.segmentIndex&&e.closeSegmentIndex(),this.m.delete(t)}};function mC(e,t){var n=[],r=[],i=[],a=[];e=w(e);for(var u=e.next();!u.done;u=e.next()){var l=u.value;u=new Map(l.audioStreams.map(function(y){return[iw(y),y]}));var p=new Map(l.videoStreams.map(function(y){return[rw(y),y]})),g=new Map(l.textStreams.map(function(y){return[qh(y),y]}));if(l=new Map(l.imageStreams.map(function(y){return[Gh(y),y]})),t){var v=SC(wt);g.set(qh(v),v),v=SC("image"),l.set(Gh(v),v)}n.push(u),r.push(p),i.push(g),a.push(l)}return{Dg:n,Mh:r,Ih:i,Yg:a}}f.gf=function(e,t,n){n=n===void 0?!1:n;var r=this,i,a,u,l,p,g,v,y,x,S,k,C,E,I,_,F,B,q,O,N,H,z,Y,K,J,ie,ne,ue,oe,pe,xe,tt;return P(function(je){if(je.g==1){if(i=$n,!t&&e.length==1)return a=mC(e,!1),u=a.Dg,l=a.Mh,p=a.Ih,g=a.Yg,r.h=Array.from(u[0].values()),r.g=Array.from(l[0].values()),r.j=Array.from(p[0].values()),r.i=Array.from(g[0].values()),je.s(2);for(v=n?r.m.size:0,y=-1,x=0;x<e.length;x++)S=e[x],r.m.has(S.id)||(r.m.add(S.id),y==-1&&(y=x));return y==-1?je.return():(k=mC(e,!0),C=k.Dg,E=k.Mh,I=k.Ih,_=k.Yg,T(je,Promise.all([qs(r,r.h,C,y,dd,Gs,v),qs(r,r.g,E,y,dd,Gs,v),qs(r,r.j,I,y,dd,Gs,v),qs(r,r.i,_,y,dd,Gs,v)]),2))}if(F=0,B=[],r.g.length&&r.h.length)for(K=w(r.h),J=K.next();!J.done;J=K.next())for(ie=J.value,ne=w(r.g),ue=ne.next();!ue.done;ue=ne.next())oe=ue.value,pe=U1(ie.drmInfos,oe.drmInfos),ie.drmInfos.length&&oe.drmInfos.length&&!pe.length||(xe=(ie.bandwidth||0)+(oe.bandwidth||0),ie.dependencyStream&&(xe+=ie.dependencyStream.bandwidth||0),oe.dependencyStream&&(xe+=oe.dependencyStream.bandwidth||0),tt=F++,B.push({id:tt,language:ie.language,disabledUntilTime:0,primary:ie.primary,audio:ie,video:oe,bandwidth:xe,drmInfos:pe,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]}));else for(q=r.g.length?r.g:r.h,O=w(q),N=O.next();!N.done;N=O.next())H=N.value,z=F++,Y=H.bandwidth||0,H.dependencyStream&&(Y+=H.dependencyStream.bandwidth||0),B.push({id:z,language:H.language,disabledUntilTime:0,primary:H.primary,audio:H.type==i.V?H:null,video:H.type==i.la?H:null,bandwidth:Y,drmInfos:H.drmInfos,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]});r.l=B,ae(je)})};function vC(e){var t,n,r,i,a,u,l,p,g,v,y,x,S,k,C,E,I,_,F,B,q,O,N,H,z,Y,K,J,ie,ne;return P(function(ue){switch(ue.g){case 1:if(t=$n,e.length==1)return ue.return(e[0]);for(n=e.map(function(oe){return new Map(oe.filter(function(pe){return pe.type===t.V}).map(function(pe){return[iw(pe),pe]}))}),r=e.map(function(oe){return new Map(oe.filter(function(pe){return pe.type===t.la}).map(function(pe){return[rw(pe),pe]}))}),i=e.map(function(oe){return new Map(oe.filter(function(pe){return pe.type===t.za}).map(function(pe){return[qh(pe),pe]}))}),a=e.map(function(oe){return new Map(oe.filter(function(pe){return pe.type===t.$e}).map(function(pe){return[Gh(pe),pe]}))}),u=w(i),l=u.next();!l.done;l=u.next())p=l.value,g=xC(t.za),p.set(qh(g),g);for(v=w(a),y=v.next();!y.done;y=v.next())x=y.value,S=xC(t.$e),x.set(Gh(S),S);return k=new Pr,T(ue,qs(k,[],n,0,wv,xv,0),2);case 2:return C=ue.h,T(ue,qs(k,[],r,0,wv,xv,0),3);case 3:return E=ue.h,T(ue,qs(k,[],i,0,wv,xv,0),4);case 4:return I=ue.h,T(ue,qs(k,[],a,0,wv,xv,0),5);case 5:if(_=ue.h,F=0,E.length&&C.length)for(H=w(C),z=H.next();!z.done;z=H.next())for(Y=z.value,K=w(E),J=K.next();!J.done;J=K.next())ie=J.value,ne=F++,ie.variantIds.push(ne),Y.variantIds.push(ne);else for(B=E.concat(C),q=w(B),O=q.next();!O.done;O=q.next())N=O.value,N.variantIds=[F++];return ue.return(E.concat(C).concat(I).concat(_))}})}function qs(e,t,n,r,i,a,u){var l,p,g,v,y,x,S,k,C,E,I,_,F,B,q,O,N,H,z;return P(function(Y){switch(Y.g){case 1:for(l=[],p=0;p<n.length;p++)p>=r?l.push(new Set(n[p].values())):l.push(new Set);g=w(t),v=g.next();case 2:if(v.done){Y.s(4);break}return y=v.value,T(Y,wO(e,y,n,r,a,l,u),5);case 5:if(x=Y.h,!x)throw new $(2,4,4037);v=g.next(),Y.s(2);break;case 4:for(S=w(l),k=S.next();!k.done;k=S.next())for(C=k.value,E=w(C),I=E.next();!I.done;I=E.next())_=I.value,(F=xO(e,_,n,i,a,l))&&t.push(F);for(B=w(l),q=B.next();!q.done;q=B.next())for(O=q.value,N=w(O),H=N.next(),z={};!H.done;z={ng:void 0},H=N.next())if(z.ng=H.value,!nw(z.ng)&&t.some(function(K){return function(J){return tw(e,K.ng,J)}}(z)))throw new $(2,4,4037);return Y.return(t)}})}function wO(e,t,n,r,i,a,u){return P(function(l){return l.g==1?(wC(e,n,t,0<u),t.matchedStreams?t.segmentIndex?T(l,yC(t,r+u),2):l.s(2):l.return(!1)):(bC(t,r,i,a,u),l.return(!0))})}function yC(e,t){var n,r,i,a,u,l;return P(function(p){if(p.g==1){for(n=[],r=e.matchedStreams,i=t;i<r.length;i++)a=r[i],n.push(a.createSegmentIndex()),a.trickModeVideo&&!a.trickModeVideo.segmentIndex&&n.push(a.trickModeVideo.createSegmentIndex()),a.dependencyStream&&!a.dependencyStream.segmentIndex&&n.push(a.dependencyStream.createSegmentIndex());return T(p,Promise.all(n),2)}if(e.segmentIndex instanceof kn)for(u=t;u<r.length;u++)l=r[u],l.segmentIndex&&e.segmentIndex.h.push(l.segmentIndex);ae(p)})}function xO(e,t,n,r,i,a){if(nw(t))return null;var u=r(t);return wC(e,n,u),u.createSegmentIndex&&(u.createSegmentIndex=function(){return P(function(l){return u.segmentIndex?l.s(0):(u.segmentIndex=new kn,T(l,yC(u,0),0))})}),!u.matchedStreams||!u.matchedStreams.length?null:(bC(u,0,i,a,0),u)}function bC(e,t,n,r,i){var a=e.matchedStreams;for(t+=i;t<a.length;t++){var u=a[t];n(e,u);var l=!0;if(e.type=="audio"&&Wu(e.language,u.language)==0&&(l=!1),l&&(r[t-i].delete(u),u.fullMimeTypes))for(u=w(u.fullMimeTypes.values()),l=u.next();!l.done;l=u.next())e.fullMimeTypes.add(l.value)}}function dd(e){var t=Object.assign({},e);return t.originalId=null,t.createSegmentIndex=function(){return Promise.resolve()},t.closeSegmentIndex=function(){if(t.segmentIndex&&(t.segmentIndex.release(),t.segmentIndex=null),t.matchedStreams)for(var n=w(t.matchedStreams),r=n.next();!r.done;r=n.next())r=r.value,r.segmentIndex&&(r.segmentIndex.release(),r.segmentIndex=null)},t.roles=t.roles.slice(),t.segmentIndex=null,t.emsgSchemeIdUris=[],t.keyIds=new Set(e.keyIds),t.closedCaptions=e.closedCaptions?new Map(e.closedCaptions):null,t.trickModeVideo=null,t.dependencyStream=null,t}function wv(e){var t=Object.assign({},e);return t.roles=t.roles.slice(),t.keyIds=new Set(e.keyIds),t.segments=[],t.variantIds=[],t.closedCaptions=e.closedCaptions?new Map(e.closedCaptions):null,t}function Gs(e,t){function n(u,l){u||(u=[]),l=w(l);for(var p=l.next();!p.done;p=l.next())p=p.value,u.includes(p)||u.push(p);return u}e.roles=n(e.roles,t.roles),t.emsgSchemeIdUris&&(e.emsgSchemeIdUris=n(e.emsgSchemeIdUris,t.emsgSchemeIdUris));for(var r=w(t.keyIds),i=r.next();!i.done;i=r.next())e.keyIds.add(i.value);if(e.originalId==null?e.originalId=t.originalId:(r=t.originalId||"")&&!e.originalId.endsWith(r)&&(e.originalId+=","+r),r=U1(e.drmInfos,t.drmInfos),t.drmInfos.length&&e.drmInfos.length&&!r.length)throw new $(2,4,4038);if(e.drmInfos=r,e.encrypted=e.encrypted||t.encrypted,t.closedCaptions)for(e.closedCaptions||(e.closedCaptions=new Map),r=w(t.closedCaptions),i=r.next();!i.done;i=r.next()){var a=w(i.value);i=a.next().value,a=a.next().value,e.closedCaptions.set(i,a)}e.bandwidth&&t.bandwidth&&(e.bandwidth=Math.max(e.bandwidth,t.bandwidth)),t.trickModeVideo?(e.trickModeVideo||(e.trickModeVideo=dd(t.trickModeVideo),e.trickModeVideo.matchedStreams=[],e.trickModeVideo.createSegmentIndex=function(){if(e.trickModeVideo.segmentIndex)return Promise.resolve();for(var u=new kn,l=w(e.trickModeVideo.matchedStreams),p=l.next();!p.done;p=l.next())u.h.push(p.value.segmentIndex);return e.trickModeVideo.segmentIndex=u,Promise.resolve()}),e.trickModeVideo.matchedStreams.push(t.trickModeVideo),Gs(e.trickModeVideo,t.trickModeVideo)):e.trickModeVideo&&(e.trickModeVideo.matchedStreams.push(t),Gs(e.trickModeVideo,t)),t.dependencyStream?(e.dependencyStream||(e.dependencyStream=dd(t.dependencyStream),e.dependencyStream.matchedStreams=[],e.dependencyStream.createSegmentIndex=function(){if(e.dependencyStream.segmentIndex)return Promise.resolve();for(var u=new kn,l=w(e.dependencyStream.matchedStreams),p=l.next();!p.done;p=l.next())u.h.push(p.value.segmentIndex);return e.dependencyStream.segmentIndex=u,Promise.resolve()}),e.dependencyStream.matchedStreams.push(t.dependencyStream),Gs(e.dependencyStream,t.dependencyStream)):e.dependencyStream&&(e.dependencyStream.matchedStreams.push(t),Gs(e.dependencyStream,t))}function xv(e,t){var n=e.roles;n||(n=[]);for(var r=w(t.roles),i=r.next();!i.done;i=r.next())i=i.value,n.includes(i)||n.push(i);for(e.roles=n,n=w(t.keyIds),r=n.next();!r.done;r=n.next())e.keyIds.add(r.value);if(e.encrypted=e.encrypted&&t.encrypted,e.segments.push.apply(e.segments,j(t.segments)),t.closedCaptions)for(e.closedCaptions||(e.closedCaptions=new Map),t=w(t.closedCaptions),n=t.next();!n.done;n=t.next())r=w(n.value),n=r.next().value,r=r.next().value,e.closedCaptions.set(n,r)}function wC(e,t,n,r){r=r!==void 0&&r?n.matchedStreams:[],t=w(t);for(var i=t.next();!i.done;i=t.next()){if(i=SO(e,i.value,n),!i)return;r.push(i)}n.matchedStreams=r}function SO(e,t,n){var r={audio:iw,video:rw,text:qh,image:Gh}[n.type],i=null,a=r(n);if(t.has(a))i=t.get(a);else{a={audio:function(g,v){return tw(e,g,v)},video:function(g,v){return tw(e,g,v)},text:kO,image:TO}[n.type];for(var u={audio:AO,video:EO,text:CO,image:IO}[n.type],l=w(t.values()),p=l.next();!p.done;p=l.next())p=p.value,!a(n,p)||n.fastSwitching!=p.fastSwitching||i&&!u(n,i,p)||(i=p)}return e.u&&!nw(i)&&t.delete(r(i)),i}function zh(e,t){return e.mimeType!=t.mimeType?!1:Sv(e.codecs)===Sv(t.codecs)}f.uh=function(e){this.o=e},f.Ah=function(e){this.u=e};function tw(e,t,n){return!(!zh(t,n)&&!e.o||t.drmInfos&&!W3(t.drmInfos,n.drmInfos))}function kO(e,t){return t.language?!(e.forced!==t.forced||Wu(e.language,t.language)==0||t.kind!=e.kind):!0}function TO(){return!0}function AO(e,t,n){var r=zh(e,t),i=zh(e,n);if(r&&!i)return!1;if(!r&&i||(r=Wu(e.language,t.language),i=Wu(e.language,n.language),i>r))return!0;if(i<r)return!1;if(t.label!==n.label){if(e.label===t.label)return!1;if(e.label===n.label)return!0}if(e.roles.length){if(r=t.roles.filter(function(a){return e.roles.includes(a)}),i=n.roles.filter(function(a){return e.roles.includes(a)}),i.length>r.length)return!0;if(i.length<r.length)return!1;if(n.roles.length!==t.roles.length)return n.roles.length<t.roles.length}else{if(!n.roles.length&&t.roles.length)return!0;if(n.roles.length&&!t.roles.length)return!1}return!t.primary&&n.primary?!0:t.primary&&!n.primary?!1:(r=Hh(e.channelsCount,t.channelsCount,n.channelsCount),r==Ba?!0:r==Xo?!1:(r=Hh(e.audioSamplingRate,t.audioSamplingRate,n.audioSamplingRate),r==Ba?!0:r==Xo?!1:!!(e.bandwidth&&kC(e.bandwidth,t.bandwidth,n.bandwidth)==Ba)))}function EO(e,t,n){var r=zh(e,t),i=zh(e,n);if(r&&!i)return!1;if(!r&&i||(r=Hh(e.width*e.height,t.width*t.height,n.width*n.height),r==Ba))return!0;if(r==Xo)return!1;if(e.frameRate){if(r=Hh(e.frameRate,t.frameRate,n.frameRate),r==Ba)return!0;if(r==Xo)return!1}return!!(e.bandwidth&&kC(e.bandwidth,t.bandwidth,n.bandwidth)==Ba)}function CO(e,t,n){var r=Wu(e.language,t.language),i=Wu(e.language,n.language);if(i>r)return!0;if(i<r)return!1;if(!t.primary&&n.primary)return!0;if(t.primary&&!n.primary)return!1;if(t.label!==n.label){if(e.label===t.label)return!1;if(e.label===n.label)return!0}if(e.roles.length){if(r=t.roles.filter(function(a){return e.roles.includes(a)}),i=n.roles.filter(function(a){return e.roles.includes(a)}),i.length>r.length)return!0;if(i.length<r.length)return!1}else{if(!n.roles.length&&t.roles.length)return!0;if(n.roles.length&&!t.roles.length)return!1}return!(n.mimeType!=e.mimeType||n.codecs!=e.codecs||t.mimeType==e.mimeType&&t.codecs==e.codecs)}function IO(e,t,n){return Hh(e.width*e.height,t.width*t.height,n.width*n.height)==Ba}function xC(e){return{id:0,originalId:"",groupId:null,primary:!1,type:e,mimeType:"",codecs:"",language:"",originalLanguage:null,label:null,width:null,height:null,encrypted:!1,keyIds:new Set,segments:[],variantIds:[],roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,external:!1,fastSwitching:!1,isAudioMuxedInVideo:!1,baseOriginalId:null}}function SC(e){return{id:0,originalId:"",groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new Ft([]),mimeType:"",codecs:"",encrypted:!1,drmInfos:[],keyIds:new Set,language:"",originalLanguage:null,label:null,type:e,primary:!1,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!1,fastSwitching:!1,fullMimeTypes:new Set,isAudioMuxedInVideo:!1,baseOriginalId:null}}function Hh(e,t,n){if(t==e&&e!=n)return Xo;if(n==e&&e!=t)return Ba;if(t>e){if(n<=e||n-e<t-e)return Ba;if(n-e>t-e)return Xo}else{if(n>e)return Xo;if(e-n<e-t)return Ba;if(e-n>e-t)return Xo}return TC}function kC(e,t,n){return t=Math.abs(e-t),e=Math.abs(e-n),e<t?Ba:t<e?Xo:TC}function nw(e){switch(e.type){case wt:return!e.language;case"image":return!e.tilesLayout;default:return!1}}function rw(e){return JSON.stringify([e.fastSwitching,e.width,e.frameRate,Sv(e.codecs),e.mimeType,e.label,e.roles,e.closedCaptions?Array.from(e.closedCaptions.entries()):null,e.bandwidth,e.dependencyStream?e.dependencyStream.baseOriginalId:null,Array.from(e.keyIds)])}function iw(e){return JSON.stringify([e.fastSwitching,e.channelsCount,e.language,e.bandwidth,e.label,Sv(e.codecs),e.mimeType,e.roles,e.audioSamplingRate,e.primary,e.dependencyStream?e.dependencyStream.baseOriginalId:null,Array.from(e.keyIds)])}function qh(e){return JSON.stringify([e.language,e.label,e.codecs,e.mimeType,e.bandwidth,e.roles])}function Gh(e){return JSON.stringify([e.width,e.codecs,e.mimeType])}function Sv(e){if(!aw.has(e)){var t=yr(e);aw.set(e,t)}return aw.get(e)}Ee("shaka.util.PeriodCombiner",Pr),Pr.prototype.setUseStreamOnce=Pr.prototype.Ah,Pr.prototype.setAllowMultiTypeVariants=Pr.prototype.uh,Pr.prototype.combinePeriods=Pr.prototype.gf,Pr.prototype.deleteStream=Pr.prototype.Kg,Pr.prototype.getImageStreams=Pr.prototype.oi,Pr.prototype.getTextStreams=Pr.prototype.Jf,Pr.prototype.getVariants=Pr.prototype.Ki;var Ba=1,TC=0,Xo=-1,aw=new Map;function MO(e,t){var n=new DOMParser,r=_O.value()(e);e=null;try{e=n.parseFromString(r,"text/xml")}catch{return null}if(n=e.documentElement,!n||n.getElementsByTagName("parsererror").length||n.tagName!=t)return null;if(!("createNodeIterator"in document))return n;for(t=document.createNodeIterator(e,NodeFilter.SHOW_ALL);e=t.nextNode();)if(e instanceof HTMLElement||e instanceof SVGElement)return null;return n}function AC(e,t){try{var n=Qa(e);return MO(n,t)}catch{return null}}var _O=new Np(function(){if(typeof trustedTypes<"u"){var e=trustedTypes.createPolicy("shaka-player#xml",{createHTML:function(t){return t}});return function(t){return e.createHTML(t)}}return function(t){return t}});function kv(){var e=this;this.j=this.g=null,this.A=[],this.i=null,this.pa=1,this.F=[],this.l={me:"",type:"",profiles:[],Wb:null,cb:0,Ua:null,Id:0},this.u=new Map,this.o=new Map,this.B=new Map,this.ka=new Map,this.m=new Pr,this.I=0,this.oa=new fe(5),this.K=new kt(function(){if(e.H&&!e.g.continueLoadingWhenPaused&&(e.G.Ja(e.H,"timeupdate"),e.H.paused)){e.G.ma(e.H,"timeupdate",function(){return PC(e)});return}PC(e)}),this.O=new Rc,this.M=null,this.C=[],this.Z=1/0,this.fa=!1,this.h=null,this.L=0,this.P=!1,this.G=new Ce,this.H=null,this.T=!1,this.Y="",this.ea=function(){return!1},this.W=[]}f=kv.prototype,f.configure=function(e,t){var n=this.j&&e.updatePeriod!=this.g.updatePeriod&&0<=e.updatePeriod;this.g=e,t&&(this.ea=t),n&&this.i&&this.i.presentationTimeline.U()&&this.K.sb(),this.h&&this.h.configure(this.g),this.m&&(this.m.uh(this.g.dash.multiTypeVariantsAllowed&&Bu()),this.m.Ah(this.g.dash.useStreamOnceInPeriodFlattening))},f.start=function(e,t){var n=this,r;return P(function(i){if(i.g==1)return n.fa=t.isLowLatencyMode(),n.A=[e],n.j=t,T(i,ow(n),2);if(r=i.h,n.j&&sw(n,r),!n.j)throw new $(2,7,7001);return i.return(n.i)})},f.stop=function(){for(var e=w(this.o.values()),t=e.next();!t.done;t=e.next())t=t.value,t.segmentIndex&&t.segmentIndex.release();return this.m&&this.m.release(),this.g=this.j=null,this.A=[],this.i=null,this.o.clear(),this.B.clear(),this.u.clear(),this.l={me:"",type:"",profiles:[],Wb:null,cb:0,Ua:null,Id:0},this.m=null,this.K!=null&&(this.K.stop(),this.K=null),this.h&&this.h.destroy(),this.G&&(this.G.release(),this.G=null),this.O.destroy()},f.update=function(){var e=this,t;return P(function(n){if(n.g==1)return me(n,2),T(n,ow(e),4);if(n.g!=2)return V(n,0);if(t=W(n),!e.j||!t)return n.return();e.j.onError(t),ae(n)})},f.onExpirationUpdated=function(){},f.onInitialVariantChosen=function(e){if(this.i&&this.i.presentationTimeline.U()){var t=e.video||e.audio;if(t&&t.segmentIndex){e=this.i.presentationTimeline.cc();var n=t.segmentIndex.find(e);n!=null&&(t=t.segmentIndex.get(n))&&(this.I=t.endTime-e,sw(this,0))}}},f.banLocation=function(e){this.h&&this.h.banLocation(e)},f.setMediaElement=function(e){this.H=e};function ow(e){var t,n,r,i,a,u,l,p,g,v,y;return P(function(x){return x.g==1?(t=4,n="MPD",r=GO(e),i=e.A,r.length?(i=r,n="Patch",t=6):1<e.A.length&&e.h&&(a=$h(e.h,"Location",!0),a.length&&(i=a)),u=qn(i,e.g.retryParameters),l=Date.now(),T(x,lw(e,u,0,{type:t}),2)):x.g!=3?(p=x.h,e.j?(p.uri&&p.uri!=p.originalUri&&!e.A.includes(p.uri)&&e.A.unshift(p.uri),g=new ee(p.uri),e.Y=g.g.toString(),T(x,DO(e,p.data,p.uri,n),3)):x.return(0)):(v=Date.now(),y=(v-l)/1e3,e.oa.sample(1,y),x.return(y))})}function DO(e,t,n,r){var i,a,u,l,p,g,v,y,x,S;return P(function(k){if(k.g==1){if(i=t,a=e.g.dash.manifestPreprocessor,u=Fm,a!=u){if(ut("manifest.dash.manifestPreprocessor configuration","Please Use manifest.dash.manifestPreprocessorTXml instead."),l=AC(i,r),!l)throw new $(2,4,4001,n);a(l),i=la(l.outerHTML)}if(p=Hp(i,r),!p)throw new $(2,4,4001,n);return g=e.g.dash.manifestPreprocessorTXml,v=Bm,g!=v&&g(p),r==="Patch"?k.return(PO(e,p)):e.g.dash.disableXlinkProcessing?k.return(EC(e,p,n)):(y=e.g.dash.xlinkFailGracefully,x=yv(p,e.g.retryParameters,y,n,e.j.networkingEngine),Ju(e.O,x),T(k,x.promise,2))}return S=k.h,k.return(EC(e,S,n))})}function EC(e,t,n){var r,i,a,u,l,p,g,v,y,x,S,k,C,E,I,_,F,B,q,O,N,H,z,Y,K,J,ie,ne,ue,oe,pe,xe,tt,je,Vt,Tt,ft,vt,Rt,dt,Et,at,pt,Zt,Wn,Sn,Tn,Bn,er,fl,Jo,Ws;return P(function(Zi){switch(Zi.g){case 1:for(e.h&&e.h.l.clear(),r=[n],i=[],a=new Map,u=Gt(t,"Location"),l=w(u),p=l.next();!p.done;p=l.next())g=p.value,v=g.attributes.serviceLocation,(y=Ei(g))&&(x=Qn(r,[y])[0],v&&(e.h?cd(e.h,"Location",v,x):a.set(v,x)),i.push(x));if(e.h?(S=$h(e.h,"Location",!0),0<S.length&&(r=e.A=S)):i.length&&(r=e.A=i),e.l.me=t.attributes.id||"",e.l.Id=st(t,"publishTime",_s)||0,e.F=Gt(t,"PatchLocation"),k=Promise.resolve(),(C=Nn(t,"ContentSteering"))&&e.j)for(E=C.attributes.defaultServiceLocation,e.h?(e.h.i=r,e.h.h=E):(e.h=new ld(e.j),e.h.configure(e.g),e.h.setManifestType("DASH"),e.h.i=r,e.h.h=E,(I=Ei(C))&&(st(C,"queryBeforeStart",Wg,!1)?k=Vh(e.h,I):Vh(e.h,I))),_=w(a.keys()),F=_.next();!F.done;F=_.next())B=F.value,q=a.get(B),cd(e.h,"Location",B,q);if(O=Gt(t,"BaseURL"),N=!1,e.h)for(H=w(O),z=H.next();!z.done;z=H.next())Y=z.value,K=Y.attributes.serviceLocation,J=Ei(Y),K&&J&&(cd(e.h,"BaseURL",K,J),N=!0);if(e.W=null,N&&e.h||(ie=O.map(Ei),e.W=Qn(r,ie)),ne=function(){return e.h&&N?$h(e.h,"BaseURL"):e.W?e.W:[]},e.l.Ua=ne,ue=0,O&&O.length&&(ue=st(O[0],"availabilityTimeOffset",qp)||0),e.l.cb=ue,e.I=st(t,"minimumUpdatePeriod",eo,-1),oe=st(t,"availabilityStartTime",_s),pe=st(t,"timeShiftBufferDepth",eo),xe=e.g.dash.ignoreSuggestedPresentationDelay,tt=null,xe||(tt=st(t,"suggestedPresentationDelay",eo)),je=e.g.dash.ignoreMaxSegmentDuration,Vt=null,je||(Vt=st(t,"maxSegmentDuration",eo)),Tt=t.attributes.type||"static",e.i&&e.i.presentationTimeline&&(e.T=e.i.presentationTimeline.U()&&Tt=="static"),e.l.type=Tt,e.i)for(ft=e.i.presentationTimeline,vt=ft.pb(),Rt=w(e.o.values()),dt=Rt.next();!dt.done;dt=Rt.next())Et=dt.value,Et.segmentIndex&&Et.segmentIndex.Oa(vt);else at=e.g.dash.ignoreMinBufferTime,pt=0,at||(pt=st(t,"minBufferTime",eo)||0),Zt=0,Zt=tt!=null?Math.min(tt,pe||1/0):0<e.g.defaultPresentationDelay?e.g.defaultPresentationDelay:Math.min(1.5*pt,pe||1/0),ft=new Ke(oe,Zt,e.g.dash.autoCorrectDrift);return ft.Gc(Tt=="static"),ft.U()&&!isNaN(e.g.availabilityWindowOverride)&&(pe=e.g.availabilityWindowOverride),pe==null&&(pe=1/0),ft.Ce(pe),Wn=t.attributes.profiles||"",e.l.profiles=Wn.split(","),Sn={Ob:Tt!="static",presentationTimeline:ft,qa:null,ha:null,ga:null,J:null,bandwidth:0,Lf:!1,cb:ue,Wb:null,profiles:Wn.split(","),roles:null,vb:function(){return""}},T(Zi,k,2);case 2:return e.L=0,Tn=_C(e,Sn,ne,t,!1),Bn=Tn.duration,er=Tn.periods,(Tt!="static"||e.T)&&Tn.Mg||ft.bb(Bn||1/0),e.P&&e.fa&&ft.vh(e.Z),ft.Tf(Vt||1),e.P&&e.fa&&(fl=tt??e.g.defaultPresentationDelay,ft.jg(fl)),e.i?(e.i.periodCount=er.length,e.i.gapCount=e.L,T(Zi,CC(e,er,!1),4)):T(Zi,e.m.gf(er,Sn.Ob),6);case 6:if(e.i={presentationTimeline:ft,variants:e.m.l,textStreams:e.m.Jf(),imageStreams:e.m.i,offlineSessionIds:[],sequenceMode:e.g.dash.sequenceMode,ignoreManifestTimestampsInSegmentsMode:!1,type:"DASH",serviceDescription:NO(t),nextUrl:UO(t),periodCount:er.length,gapCount:e.L,isLowLatency:e.P,startTime:null},!ft.Kh()){Zi.s(7);break}return Jo=Gt(t,"UTCTiming"),T(Zi,HO(e,ne,Jo),8);case 8:if(Ws=Zi.h,!e.j)return Zi.return();ft.wh(Ws);case 7:ft.ie();case 4:e.j.makeTextStreamsForClosedCaptions(e.i),OO(e),ae(Zi)}})}function CC(e,t,n){var r;return P(function(i){if(i.g==1)return T(i,e.m.gf(t,!0,n),2);e.i.variants=e.m.l,r=e.m.Jf(),0<r.length&&(e.i.textStreams=r),e.i.imageStreams=e.m.i,e.j.filter(e.i),ae(i)})}function PO(e,t){var n,r,i,a,u,l,p,g,v,y,x,S,k,C,E,I,_,F,B,q,O,N,H,z,Y,K,J;return P(function(ie){if(ie.g==1){if(n=t.attributes.mpdId,r=st(t,"originalPublishTime",_s),!n||n!==e.l.me||r!==e.l.Id)throw e.F=[],new $(1,4,4052);for(i=[],a=[],u=new Set,l=w(u5(t)),p=l.next();!p.done;p=l.next())if(g=p.value,v=Xg(g.attributes.sel||""),y=v[v.length-1],x=Ei(g)||"",y.name==="MPD")if(y.ac==="mediaPresentationDuration"){S=Ei(g)||"";var ne=eo(S);if(ne!=null){e.l.Wb=ne;for(var ue=w(e.u.values()),oe=ue.next();!oe.done;oe=ue.next())oe.value.Wb=ne}}else if(y.ac==="type"){for(e.i.presentationTimeline.Gc(x=="static"),e.l.type=x,ne=w(e.u.values()),ue=ne.next();!ue.done;ue=ne.next())ue.value.Ob=x=="dynamic";x=="static"&&(e.I=-1)}else y.ac==="publishTime"?e.l.Id=_s(x)||0:y.ac===null&&g.tagName==="add"&&a.push(g);else if(y.name==="PatchLocation")c5(e.F,g);else if(y.name==="Period")g.tagName==="add"?a.push(g):g.tagName==="remove"&&y.id&&RO(e,y.id);else if(y.name==="SegmentTemplate"){if(ue=Xg(g.attributes.sel||""),ne=ue[ue.length-1],ne.ac){ue=IC(e,ue),oe=Ei(g)||"";for(var pe=w(ue),xe=pe.next();!xe.done;xe=pe.next())xe=e.u.get(xe.value),p5(xe.J.ic,g.tagName,ne.ac,oe);ne=ue}else ne=[];for(k=ne,C=w(k),E=C.next();!E.done;E=C.next())I=E.value,u.add(I)}else if(y.name==="SegmentTimeline"||y.name==="S"){for(ne=Xg(g.attributes.sel||""),ne=IC(e,ne),ue=w(ne),oe=ue.next();!oe.done;oe=ue.next())oe=e.u.get(oe.value),oe=sd(oe,Hs,"SegmentTimeline"),pe=Gt(oe,"S"),c5(pe,g),oe.children=pe;for(_=ne,F=w(_),B=F.next();!B.done;B=F.next())q=B.value,u.add(q)}for(O=w(u),N=O.next();!N.done;N=O.next())H=N.value,MC(e,H);for(z=w(a),Y=z.next();!Y.done;Y=z.next())K=Y.value,i.push.apply(i,j(LO(e,K)));return i.length?(e.i.periodCount+=i.length,e.i.gapCount=e.L,T(ie,CC(e,i,!0),2)):ie.s(2)}e.l.type=="static"&&(J=e.l.Wb,e.i.presentationTimeline.bb(J||1/0)),ae(ie)})}function LO(e,t){return _C(e,{Ob:e.l.type=="dynamic",presentationTimeline:e.i.presentationTimeline,qa:null,ha:null,ga:null,J:null,bandwidth:0,Lf:!1,cb:e.l.cb,profiles:e.l.profiles,Wb:e.l.Wb,roles:null,vb:function(){return""}},e.l.Ua,t,!0).periods}function RO(e,t){e.i.periodCount--;for(var n=w(e.u.keys()),r=n.next();!r.done;r=n.next())if(r=r.value,r.startsWith(t)){var i=e.u.get(r);sd(i,Hs,"SegmentTimeline").children=[],MC(e,r),e.u.delete(r)}e.C=e.C.filter(function(a){return a!==t})}function IC(e,t){var n="",r="",i=-1,a="";t=w(t);for(var u=t.next();!u.done;u=t.next())u=u.value,u.name==="Period"?n=u.id:u.name==="AdaptationSet"?(r=u.id,u.position!==null&&(i=u.position)):u.name==="Representation"&&(a=u.id);if(t=[],a)t.push(n+","+a);else if(r)for(i=w(e.u.values()),e=i.next();!e.done;e=i.next())e=e.value,e.qa.id===n&&e.ga.id===r&&e.J.id&&t.push(n+","+e.J.id);else if(-1<i)for(r=w(e.u.values()),e=r.next();!e.done;e=r.next())e=e.value,e.qa.id===n&&e.ga.position===i&&e.J.id&&t.push(n+","+e.J.id);return t}function MC(e,t){var n=e.u.get(t),r=e.o.get(t);r.segmentIndex&&r.segmentIndex.Oa(e.i.presentationTimeline.pb());try{var i=hC(n,function(a,u,l,p){return RC(e,a,u,l,p)},e.o,!0,e.g.dash.initialSegmentLimit,e.ka,n.J.aesKey,null,!0);r.createSegmentIndex=function(){return P(function(a){if(a.g==1)return r.segmentIndex?a.s(0):T(a,i.rc(),3);r.segmentIndex=a.h,ae(a)})}}catch(a){if(t=n.J.contentType,t!=wt&&t!="application"&&t!="image"||a.code!=4002)throw a}}function NO(e){var t=Nn(e,"ServiceDescription");if(!t||(e=Nn(t,"Latency"),t=Nn(t,"PlaybackRate"),!e&&!t))return null;var n={};return e&&("target"in e.attributes&&(n.targetLatency=parseInt(e.attributes.target,10)/1e3),"max"in e.attributes&&(n.maxLatency=parseInt(e.attributes.max,10)/1e3),"min"in e.attributes&&(n.minLatency=parseInt(e.attributes.min,10)/1e3)),t&&("max"in t.attributes&&(n.maxPlaybackRate=parseFloat(t.attributes.max)),"min"in t.attributes&&(n.minPlaybackRate=parseFloat(t.attributes.min))),n}function UO(e){if(e=Gt(e,"SupplementalProperty"),!e.length)return null;e=w(e);for(var t=e.next();!t.done;t=e.next())if(t=t.value,t.attributes.schemeIdUri=="urn:mpeg:dash:chaining:2016")return t.attributes.value;return null}function _C(e,t,n,r,i){var a=t.Wb;a||(a=st(r,"mediaPresentationDuration",eo),e.l.Wb=a);var u=0;e.i&&e.i.presentationTimeline&&e.T&&(u=e.i.presentationTimeline.Hb());var l=[],p=u;r=Gt(r,"Period");for(var g=0;g<r.length;g++){var v=r[g],y=r[g+1],x=st(v,"start",eo,p),S=v.attributes.id,k=st(v,"duration",eo);x=g==0&&x==0&&e.T?u:x;var C=null;if(y){var E=st(y,"start",eo);E!=null&&(C=E-x+u)}else a!=null&&(C=a-x+u);if(E=D7,C&&k&&Math.abs(C-k)>E&&C>k&&e.L++,C==null&&(C=k),!(e.M!==null&&S!==null&&x!==null&&x<e.M)||e.C.includes(S)||g+1==r.length){if(x!==null&&(e.M===null||x>e.M)&&(e.M=x),p=jO(e,t,n,{start:x,duration:C,node:v,$g:C==null||!y}),l.push(p),t.qa.id&&C&&e.ka.set(t.qa.id,C),C==null){p=null;break}p=x+C}}if(i)for(t=w(l),n=t.next();!n.done;n=t.next())n=n.value.id,e.C.includes(n)||e.C.push(n);else e.C=l.map(function(I){return I.id});return a!=null?{periods:l,duration:a+u,Mg:!1}:{periods:l,duration:p,Mg:!0}}function OO(e){var t=Array.from(e.B.keys()).filter(function(l){return!e.C.includes(l)});t=w(t);for(var n=t.next();!n.done;n=t.next()){n=n.value;for(var r=!0,i=w(e.B.get(n)),a=i.next();!a.done;a=i.next()){a=a.value;var u=e.o.get(a);u&&(u.segmentIndex&&u.segmentIndex.getNumReferences()!=0?r=!1:(e.m&&e.m.Kg(u,n),e.o.delete(a)))}r&&e.B.delete(n)}}function jO(e,t,n,r){t.qa=uw(e,r.node,null,n),t.ha=r,t.qa.cb=t.cb,t.qa.id||(t.qa.id="__shaka_period_"+r.start);var i=Gt(r.node,"EventStream");n=t.presentationTimeline.pb(),i=w(i);for(var a=i.next();!a.done;a=i.next())qO(e,r.start,r.duration,a.value,n);for(n=Gt(r.node,"SupplementalProperty"),n=w(n),i=n.next();!i.done;i=n.next())i=i.value,i.attributes.schemeIdUri=="urn:mpeg:dash:urlparam:2014"&&(i=Av(e,i))&&(t.vb=i);if(n=Gt(r.node,"AdaptationSet").map(function(S,k){return DC(e,t,k,S)}).filter(Ns),t.Ob){i=[],a=w(n);for(var u=a.next();!u.done;u=a.next()){u=w(u.value.rj);for(var l=u.next();!l.done;l=u.next())i.push(l.value)}if(i.length!=new Set(i).size)throw new $(2,4,4018)}for(i=new Map,a=w(n),u=a.next();!u.done;u=a.next())for(u=w(u.value.ei),l=u.next();!l.done;l=u.next()){var p=w(l.value);l=p.next().value,p=p.next().value,i.set(l,p)}if(i.size)for(a=null,u=w(n),l=u.next();!l.done;l=u.next()){l=l.value,p=[];for(var g=w(l.streams),v=g.next(),y={};!v.done;y={og:void 0},v=g.next())if(y.og=v.value,i.has(y.og.originalId)){a||(a=Gt(r.node,"AdaptationSet").map(function(S,k){return DC(e,t,k,S)}).filter(Ns)),v=w(a);for(var x=v.next();!x.done;x=v.next())(x=x.value.streams.find(function(S){return function(k){return k.originalId==S.og.originalId}}(y)))&&(x.dependencyStream=i.get(x.originalId),p.push(x))}p.length&&l.streams.push.apply(l.streams,j(p))}if(r=n.filter(function(S){return!S.vg}),n=n.filter(function(S){return S.vg}),!e.g.disableIFrames){for(n=w(n),i=n.next();!i.done;i=n.next())for(i=i.value,a=i.vg.split(" "),u=w(r),l=u.next();!l.done;l=u.next())if(l=l.value,a.includes(l.id))for(l=w(l.streams),p=l.next();!p.done;p=l.next())U5(p.value,i.streams)}if(n=Tv(e.g.disableAudio,r,"audio"),i=Tv(e.g.disableVideo,r,"video"),a=Tv(e.g.disableText,r,wt),r=Tv(e.g.disableThumbnails,r,"image"),i.length===0&&n.length===0)throw new $(2,4,4004);return{id:t.qa.id,audioStreams:n,videoStreams:i,textStreams:a,imageStreams:r}}function Tv(e,t,n){return e||!t.length?[]:t.reduce(function(r,i){return i.contentType!=n||r.push.apply(r,j(i.streams)),r},[])}function DC(e,t,n,r){function i(J){var ie=J.attributes["dvb:fontFamily"];J=J.attributes["dvb:url"],ie&&J&&(J=Qn(t.ga.Ua(),[J],t.vb()),e.j.addFont(ie,J[0]))}function a(J){switch(J){case 1:case 5:case 6:case 7:return"srgb";case 9:return"rec2020";case 11:case 12:return"p3"}}function u(J){switch(J){case 1:case 6:case 13:case 14:case 15:return"SDR";case 16:return"PQ";case 18:return"HLG"}}t.ga=uw(e,r,t.qa,null),t.ga.position=n;var l=!1;n=Gt(r,"Role");var p=n.map(function(J){return J.attributes.value}).filter(Ns),g=void 0,v=t.ga.contentType==wt;v&&(g="subtitle"),n=w(n);for(var y=n.next();!y.done;y=n.next()){y=y.value;var x=y.attributes.schemeIdUri;if(x==null||x=="urn:mpeg:dash:role:2011")switch(y=y.attributes.value,y){case"main":l=!0;break;case"caption":case"subtitle":g=y}}var S=Gt(r,"EssentialProperty");n=null;var k=!1;y=null,x=!1,S=w(S);for(var C=S.next();!C.done;C=S.next()){C=C.value;var E=C.attributes.schemeIdUri;if(E=="http://dashif.org/guidelines/trickmode")n=C.attributes.value;else if(E=="urn:mpeg:mpegB:cicp:TransferCharacteristics")var I=u(parseInt(C.attributes.value,10));else if(E=="urn:mpeg:mpegB:cicp:ColourPrimaries")var _=a(parseInt(C.attributes.value,10));else E!="urn:mpeg:mpegB:cicp:MatrixCoefficients"&&(E=="urn:mpeg:dash:ssr:2023"&&e.g.dash.enableFastSwitching?k=!0:E=="urn:dvb:dash:fontdownload:2014"?i(C):E=="urn:mpeg:dash:urlparam:2014"&&(y=Av(e,C))||(x=!0))}if(x)return null;var F=null;for(x=Gt(r,"SupplementalProperty"),x=w(x),S=x.next();!S.done;S=x.next())S=S.value,C=S.attributes.schemeIdUri,C=="http://dashif.org/guidelines/last-segment-number"?F=parseInt(S.attributes.value,10)-1:C=="urn:mpeg:mpegB:cicp:TransferCharacteristics"?I=u(parseInt(S.attributes.value,10)):C=="urn:mpeg:mpegB:cicp:ColourPrimaries"?_=a(parseInt(S.attributes.value,10)):C=="urn:dvb:dash:fontdownload:2014"?i(S):C=="urn:mpeg:dash:urlparam:2014"&&(y=Av(e,S));y&&(t.vb=y),y=Gt(r,"Accessibility");var B=new Map,q;for(y=w(y),x=y.next();!x.done;x=y.next())if(S=x.value,x=S.attributes.schemeIdUri,S=S.attributes.value,x!="urn:scte:dash:cc:cea-608:2015"||e.g.disableText)if(x!="urn:scte:dash:cc:cea-708:2015"||e.g.disableText)x=="urn:mpeg:dash:role:2011"?S!=null&&(p.push(S),S=="captions"&&(g="caption")):x=="urn:tva:metadata:cs:AudioPurposeCS:2007"&&(S=="1"?q="visually impaired":S=="2"&&(q="hard of hearing"));else if(x=1,S!=null)for(S=w(S.split(";")),C=S.next();!C.done;C=S.next()){E=C.value;var O=C=void 0;E.includes("=")?(E=E.split("="),C="svc"+E[0],O=E[1].split(",")[0].split(":").pop()):(C="svc"+x,x++,O=E),B.set(C,Jt(O))}else B.set("svc1","und");else if(x=1,S!=null)for(S=S.split(";"),C=w(S),E=C.next();!E.done;E=C.next()){O=E.value;var N=E=void 0;O.includes("=")?(O=O.split("="),E=O[0].startsWith("CC")?O[0]:"CC"+O[0],N=O[1]||"und"):(E="CC"+x,S.length==2?x+=2:x++,N=O),B.set(E,Jt(N))}else B.set("CC1","und");y=Gt(r,"ContentProtection");var H=rC(y,e.g.ignoreDrmInfo,e.g.dash.keySystemsByURI);t.ga.encrypted=0<y.length;var z=Jt(t.ga.language||"und"),Y=t.ga.label,K=new Map;if(r=Gt(r,"Representation"),!e.g.ignoreSupplementalCodecs){for(y=[],x=w(r),S=x.next();!S.done;S=x.next())C=S.value,(S=Do(C,"urn:scte:dash:scte214-extensions","supplementalCodecs"))&&(C=Na(C),C.attributes.codecs=S.split(" ").join(","),C.attributes.id&&(C.attributes.supplementalId=C.attributes.id+"_supplementalCodecs"),y.push(C));r.push.apply(r,j(y))}if(y=r.map(function(J){var ie=FO(e,t,H,g,z,Y,l,p,B,J,q,F);return ie&&(ie.hdr=ie.hdr||I,ie.colorGamut=ie.colorGamut||_,ie.fastSwitching=k,J=J.attributes.dependencyId)?(ie.baseOriginalId=J,K.set(J,ie),null):ie}).filter(function(J){return!!J}),y.length==0&&K.size==0){if(n=t.ga.contentType=="image",e.g.dash.ignoreEmptyAdaptationSet||v||n)return null;throw new $(2,4,4003)}if(!t.ga.contentType||t.ga.contentType=="application")for(t.ga.contentType=NC(y[0].mimeType,y[0].codecs),v=w(y),x=v.next();!x.done;x=v.next())x.value.type=t.ga.contentType;for(v=t.ga.id||"__fake__"+e.pa++,x=w(y),S=x.next();!S.done;S=x.next()){for(S=S.value,C=w(H.drmInfos),E=C.next();!E.done;E=C.next())E=E.value,E.keyIds=E.keyIds&&S.keyIds?new Set([].concat(j(E.keyIds),j(S.keyIds))):E.keyIds||S.keyIds;S.groupId=v}return r=r.map(function(J){return J.attributes.supplementalId||J.attributes.id}).filter(Ns),{id:v,contentType:t.ga.contentType,language:z,Qk:l,streams:y,drmInfos:H.drmInfos,vg:n,rj:r,ei:K}}function Av(e,t){if((t=da(t,"urn:mpeg:dash:schema:urlparam:2014","UrlQueryInfo"))&&st(t,"useMPDUrlQuery",Wg,!1)){var n=t.attributes.queryTemplate;if(n)return function(){return n=="$querypart$"?e.Y:n.split("&").map(function(r){if(r=="$querypart$")return e.Y;var i=/\$query:(.*?)\$/g.exec(r);if(i&&i.length==2){i=i[1];var a=new Es(e.Y).get(i);if(a.length)return i+"="+a[0]}return r}).join("&")}}return null}function FO(e,t,n,r,i,a,u,l,p,g,v,y){t.J=uw(e,g,t.ga,null);var x=t.J.id;if(e.Z=Math.min(e.Z,t.J.cb),e.P=0<e.Z,!zO(t.J))return null;var S=t.ha.start;t.bandwidth=st(g,"bandwidth",Po)||0,t.roles=l;var k=Gt(g,"SupplementalProperty"),C=Gt(g,"EssentialProperty"),E=Gt(g,"ContentProtection");g=null;var I=C.find(function(ue){return ue.attributes.schemeIdUri=="urn:mpeg:dash:urlparam:2014"});(I||(I=k.find(function(ue){return ue.attributes.schemeIdUri=="urn:mpeg:dash:urlparam:2014"})))&&(g=Av(e,I)),g&&(t.vb=g),I=t.J.contentType,g=I==wt||I=="application",I=I=="image",E.length&&(t.ga.encrypted=!0);try{var _=void 0;if(n.cf){var F=t.J.Ua,B=t.vb,q=Qn(F(),[n.cf.Xi],B()),O=qn(q,e.g.retryParameters);_={bitsKey:128,blockCipherMode:"CBC",iv:n.cf.iv,firstMediaSequenceNumber:0,fetchKey:function(){var ue,oe,pe;return P(function(xe){if(xe.g==1)return T(xe,lw(e,O,6),2);if(xe.g!=3){if(ue=xe.h,!ue.data||ue.data.byteLength!=16)throw new $(2,4,4049);return oe={name:"AES-CBC"},pe=_,T(xe,d.crypto.subtle.importKey("raw",ue.data,oe,!0,["decrypt"]),3)}pe.cryptoKey=xe.h,_.fetchKey=void 0,ae(xe)})}}}if(t.J.aesKey=_,F=function(ue,oe,pe,xe){return RC(e,ue,oe,pe,xe)},t.J.dd)var N=sO(t,F,_);else if(t.J.Zb)N=lO(t,e.o,_);else if(t.J.ic)N=hC(t,F,e.o,!!e.i,e.g.dash.initialSegmentLimit,e.ka,_,y,!1);else{var H=t.ha.duration||0,z=t.J.Ua,Y=t.J.mimeType,K=t.J.codecs;N={rc:function(){var ue=Am(S,H,z());return ue.Eb(function(oe){oe.mimeType=Y,oe.codecs=K}),Promise.resolve(ue)}}}}catch(ue){if((g||I)&&ue.code==4002)return null;throw ue}y=WU(E,n,e.g.ignoreDrmInfo,e.g.dash.keySystemsByURI),y=new Set(y?[y]:[]),E=!1,k.some(function(ue){return ue.attributes.schemeIdUri=="tag:dolby.com,2018:dash:EC3_ExtensionType:2018"&&ue.attributes.value=="JOC"})&&(E=!0),k=!1,g&&(k=l.includes("forced_subtitle")||l.includes("forced-subtitle"));var J;if(I&&((C=C.find(function(ue){return["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"].includes(ue.attributes.schemeIdUri)}))&&(J=C.attributes.value),!J))return null;var ie;g=t.J.codecs,t.profiles.includes("http://dashif.org/guidelines/dash-if-uhd#hevc-hdr-pq10")&&(g.includes("hvc1.2.4.L153.B0")||g.includes("hev1.2.4.L153.B0"))&&(ie="PQ"),C=t.J.id?t.qa.id+","+t.J.id:"",e.F.length&&x&&e.u.set(t.qa.id+","+x,BO(t));var ne=C&&e.o.has(C)?e.o.get(C):{id:e.pa++,originalId:t.J.id,groupId:null,createSegmentIndex:function(){return Promise.resolve()},closeSegmentIndex:function(){ne.segmentIndex&&(ne.segmentIndex.release(),ne.segmentIndex=null)},segmentIndex:null,mimeType:t.J.mimeType,codecs:g,frameRate:t.J.frameRate,pixelAspectRatio:t.J.pixelAspectRatio,bandwidth:t.bandwidth,width:t.J.width,height:t.J.height,kind:r,encrypted:0<n.drmInfos.length,drmInfos:n.drmInfos,keyIds:y,language:i,originalLanguage:t.ga.language,label:a,type:t.ga.contentType,primary:u,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:t.J.emsgSchemeIdUris,roles:l,forced:k,channelsCount:t.J.oe,audioSamplingRate:t.J.audioSamplingRate,spatialAudio:E,closedCaptions:p,hdr:ie,colorGamut:void 0,videoLayout:void 0,tilesLayout:J,accessibilityPurpose:v,external:!1,fastSwitching:!1,fullMimeTypes:new Set([Dn(t.J.mimeType,t.J.codecs)]),isAudioMuxedInVideo:!1,baseOriginalId:null};return ne.createSegmentIndex=function(){var ue;return P(function(oe){if(oe.g==1)return ne.segmentIndex?oe.s(0):(ue=ne,T(oe,N.rc(),3));ue.segmentIndex=oe.h,ae(oe)})},C&&t.Ob&&!e.o.has(C)&&(t=t.qa.id||"",e.B.has(t)||e.B.set(t,[]),e.o.set(C,ne),e.B.get(t).push(C)),ne}function BO(e){function t(n){return n?(n=Hu(n),n.dd=null,n.Zb=null,n.ic=Z1(n.ic),n):null}return e=Hu(e),e.qa=t(e.qa),e.ga=t(e.ga),e.J=t(e.J),e.ha&&(e.ha=Hu(e.ha),e.ha.node=null),e}function PC(e){var t,n;return P(function(r){switch(r.g){case 1:return t=0,me(r,2),T(r,ow(e),4);case 4:t=r.h,V(r,3);break;case 2:if(n=W(r),e.j){if(e.g.raiseFatalErrorOnManifestUpdateRequestFailure)return e.j.onError(n),r.return();n.severity=1,e.j.onError(n)}case 3:if(!e.j)return r.return();e.j.onManifestUpdated(),sw(e,t),ae(r)}})}function sw(e,t){if(!(0>e.I)){var n=e.I;0<=e.g.updatePeriod&&(n=e.g.updatePeriod),e.K.da(Math.max(n-t,$e(e.oa)))}}function uw(e,t,n,r){n=n||{contentType:"",mimeType:"",codecs:"",emsgSchemeIdUris:[],frameRate:void 0,pixelAspectRatio:void 0,oe:null,audioSamplingRate:null,cb:0,Ae:0,encrypted:!1},r=r||n.Ua;var i=t.attributes.id,a=t.attributes.supplementalId,u=Gt(t,"BaseURL"),l,p=!1;if(e.h)for(var g=w(u),v=g.next();!v.done;v=g.next()){var y=v.value;v=y.attributes.serviceLocation,y=Ei(y),v&&y&&(cd(e.h,i,v,y),p=!0)}p&&e.h||(l=u.map(Ei)),g=t.attributes.contentType||n.contentType,v=t.attributes.mimeType||n.mimeType,y=Jb([t.attributes.codecs||n.codecs]).join(",");var x=st(t,"frameRate",R7)||n.frameRate,S=t.attributes.sar||n.pixelAspectRatio,k=VO(Gt(t,"InbandEventStream"),n.emsgSchemeIdUris),C=Gt(t,"AudioChannelConfiguration");C=$O(C)||n.oe;var E=st(t,"audioSamplingRate",_r)||n.audioSamplingRate;g||(g=NC(v,y));var I=Nn(t,"SegmentBase"),_=Nn(t,"SegmentTemplate"),F=I&&st(I,"availabilityTimeOffset",qp)||0,B=_&&st(_,"availabilityTimeOffset",qp)||0,q=u&&u.length&&st(u[0],"availabilityTimeOffset",qp)||0;F=n.cb+q+F+B,B=null,(q=Nn(t,"SegmentSequenceProperties"))&&(q=Nn(q,"SAP"))&&(B=st(q,"cadence",Or)),q=t.attributes.label;var O=Gt(t,"Label");return O&&O.length&&(O=O[0],jn(O)&&(q=jn(O))),{Ua:function(){return Qn(r(),u.length?e.h&&p?$h(e.h,i):l||[]:[])},dd:I||n.dd,Zb:Nn(t,"SegmentList")||n.Zb,ic:_||n.ic,width:st(t,"width",_r)||n.width,height:st(t,"height",_r)||n.height,contentType:g,mimeType:v,codecs:y,frameRate:x,pixelAspectRatio:S,emsgSchemeIdUris:k,id:a||i,originalId:i,language:t.attributes.lang,oe:C,audioSamplingRate:E,cb:F,de:null,Ae:B||n.Ae,label:q||null,encrypted:!1}}function VO(e,t){t=t.slice(),e=w(e);for(var n=e.next();!n.done;n=e.next())n=n.value.attributes.schemeIdUri,t.includes(n)||t.push(n);return t}function $O(e){e=w(e);for(var t=e.next();!t.done;t=e.next()){t=t.value;var n=t.attributes.schemeIdUri;if(n&&(t=t.attributes.value))switch(n){case"urn:mpeg:dash:outputChannelPositionList:2012":return t.trim().split(/ +/).length;case"urn:mpeg:dash:23003:3:audio_channel_configuration:2011":case"urn:dts:dash:audio_channel_configuration:2012":if(t=parseInt(t,10),!t)continue;return t;case"tag:dolby.com,2015:dash:audio_channel_configuration:2015":if(n=[2,1,2,2,2,2,1,2,2,1,1,1,1,2,1,1,2,2],t=parseInt(t,16),!t)continue;for(var r=0,i=0;i<n.length;i++)t&1<<i&&(r+=n[i]);if(r)return r;continue;case"tag:dolby.com,2014:dash:audio_channel_configuration:2011":case"urn:dolby:dash:audio_channel_configuration:2011":if(n=[1,1,1,1,1,2,2,1,1,2,2,2,1,2,1,1].reverse(),t=parseInt(t,16),!t)continue;for(i=r=0;i<n.length;i++)t&1<<i&&(r+=n[i]);if(r)return r;continue;case"urn:mpeg:mpegB:cicp:ChannelConfiguration":if(n=[0,1,2,3,4,5,6,8,2,3,4,7,8,24,8,12,10,12,14,12,14],(t=parseInt(t,10))&&0<t&&t<n.length)return n[t]}}return null}function zO(e){var t=e.dd?1:0;return t+=e.Zb?1:0,t+=e.ic?1:0,t==0?e.contentType==wt||e.contentType=="application":(t!=1&&(e.dd&&(e.Zb=null),e.ic=null),!0)}function LC(e,t,n,r){var i,a,u,l,p,g,v;return P(function(y){if(y.g==1)return i=[Kr(n)],a=Qn(t(),i),u=qn(a,e.g.retryParameters),u.method=r,l=e.j.networkingEngine.request(4,u,{isPreload:e.ea()}),Ju(e.O,l),T(y,l.promise,2);if(p=y.h,r=="HEAD"){if(!p.headers||!p.headers.date)return y.return(0);g=p.headers.date}else g=yn(p.data);return v=Date.parse(g),isNaN(v)?y.return(0):y.return(v-Date.now())})}function HO(e,t,n){var r,i,a,u,l,p,g,v;return P(function(y){switch(y.g){case 1:r=n.map(function(x){return{scheme:x.attributes.schemeIdUri,value:x.attributes.value}}),i=e.g.dash.clockSyncUri,!r.length&&i&&r.push({scheme:"urn:mpeg:dash:utc:http-head:2014",value:i}),a=w(r),u=a.next();case 2:if(u.done){y.s(4);break}switch(l=u.value,me(y,5),p=l.scheme,g=l.value,p){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":return y.s(7);case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":return y.s(8);case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":return v=Date.parse(g),y.return(isNaN(v)?0:v-Date.now());case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":Be("NTP UTCTiming scheme is not supported");break;default:Be("Unrecognized scheme in UTCTiming element",p)}y.s(9);break;case 7:return T(y,LC(e,t,g,"HEAD"),10);case 10:return y.return(y.h);case 8:return T(y,LC(e,t,g,"GET"),11);case 11:return y.return(y.h);case 9:V(y,3);break;case 5:W(y);case 3:u=a.next(),y.s(2);break;case 4:return Be("A UTCTiming element should always be given in live manifests! This content may not play on clients with bad clocks!"),y.return(0)}})}function qO(e,t,n,r,i){var a=r.attributes.schemeIdUri||"",u=r.attributes.value||"",l=st(r,"timescale",_r)||1,p=st(r,"presentationTimeOffset",_r)||0;r=w(Gt(r,"Event"));for(var g=r.next();!g.done;g=r.next()){g=g.value;var v=st(g,"presentationTime",_r)||0,y=st(g,"duration",_r)||0;v=Math.max((v-p)/l+t,t),y=v+y/l,n!=null&&(v=Math.min(v,t+n),y=Math.min(y,t+n)),y<i||(g={schemeIdUri:a,value:u,startTime:v,endTime:y,id:g.attributes.id||"",timescale:l,eventElement:h5(g),eventNode:Z1(g)},e.j.onTimelineRegionAdded(g))}}function RC(e,t,n,r,i){var a,u,l,p;return P(function(g){return g.g==1?(a=ha,u=i?0:1,l=vh(t,n,r,e.g.retryParameters),T(g,lw(e,l,a,{type:u}),2)):(p=g.h,g.return(p.data))})}function NC(e,t){return t=Dn(e,t),_c(t)?wt:e.split("/")[0]}function lw(e,t,n,r){return r||(r={}),r.isPreload=e.ea(),t=e.j.networkingEngine.request(n,t,r),Ju(e.O,t),t.promise}function GO(e){var t=e.l.Id;if(!e.l.me||!t||!e.F.length)return[];var n=Date.now()/1e3,r=e.F.filter(function(i){return i=_r(i.attributes.ttl),!i||t+i>n}).map(Ei).filter(Ns);return r.length?Qn(e.A,r):[]}Ee("shaka.dash.DashParser",kv),Zu("application/dash+xml",function(){return new kv}),Zu("video/vnd.mpeg.dash.mpd",function(){return new kv});function Ev(){}Ee("shaka.dependencies",Ev),Ev.has=function(e){return cw.has(e)},Ev.add=function(e,t){if(!OC[e])throw Error(e+" is not supported");e==UC?ut("mux.js","mux.js is no longer used in Shaka Player."):cw.set(e,function(){return t})};var UC="muxjs",OC={Rk:UC,ISOBoxer:"ISOBoxer"};Ev.Allowed=OC;var cw=new Map([["ISOBoxer",function(){return d.ISOBoxer}]]);function jC(e,t,n){this.type=e,this.ca=t,this.segments=n||null}function Cv(e,t,n,r){this.id=e,this.name=t,this.attributes=n,this.value=r===void 0?null:r}Cv.prototype.toString=function(e){function t(i){return i.name+"="+(isNaN(Number(i.value))?'"'+i.value+'"':i.value)}var n="#"+this.name,r=this.attributes?this.attributes.filter(function(i){return e?!e.has(i.name):!0}).map(t):[];return this.value&&r.unshift(this.value),0<r.length&&(n+=":"+r.join(",")),n};function FC(e,t){return t?e.toString():(t=new Set().add("AUDIO").add("VIDEO").add("SUBTITLES").add("PATHWAY-ID").add("GROUP-ID").add("URI"),e.toString(t))}function pd(e,t){return e=e.attributes.filter(function(n){return n.name==t}),e.length?e[0]:null}function Ve(e,t,n){return(e=pd(e,t))?e.value:n||null}function Kt(e,t){if(e=pd(e,t),!e)throw new $(2,4,4023,t);return e.value}function BC(e,t,n){n=n===void 0?[]:n,this.ca=t,this.g=e,this.Jb=n}function Iv(e,t){this.name=e,this.value=t}function Ki(e,t){return e.filter(function(n){return n.name==t})}function VC(e,t){return e.filter(function(n){return Kt(n,"TYPE")==t})}function ar(e,t){e=w(e);for(var n=e.next();!n.done;n=e.next())if(n=n.value,n.name===t)return n;return null}function hd(e,t,n){return n=n===void 0?0:n,(e=ar(e,t))?Number(e.value):n}function Ks(e,t,n){return t?$C(e,[t],n):[]}function $C(e,t,n){if(!t.length)return[];var r=t;return n&&n.size&&(r=t.map(function(i){return zC(i,n)})),Qn(e,r)}function zC(e,t){if(!t||!t.size)return e;e=String(e).replace(/%7B/g,"{").replace(/%7D/g,"}");var n=e.match(/{\$\w*}/g);if(n){n=w(n);for(var r=n.next();!r.done;r=n.next()){r=r.value;var i=r.slice(2,r.length-1),a=t.get(i);if(a)e=e.replace(r,a);else throw new $(2,4,4039,i)}}return e}function KO(){this.g=0}function dw(e,t){t=yn(t),t=t.replace(/\r\n|\r(?=[^\n]|$)/gm,`
`).trim();var n=t.split(/\n+/m);if(!/^#EXTM3U($|[ \t\n])/m.test(n[0]))throw new $(2,4,4015);t=0;for(var r=!0,i=w(n),a=i.next();!a.done;a=i.next())if(a=a.value,/^#(?!EXT)/m.test(a)||r)r=!1;else if(a=pw(e,a),--e.g,HC.includes(a.name)){t=1;break}else a.name=="EXT-X-STREAM-INF"&&(r=!0);for(i=[],r=!0,a=0;a<n.length;a++){var u=n[a],l=n[a+1];if(/^#(?!EXT)/m.test(u)||r)r=!1;else{if(u=pw(e,u),WO.includes(u.name)){if(t!=1)throw new $(2,4,4017);u=n.splice(a,n.length-a),n=[],r=[],a=[],l=null,u=w(u);for(var p=u.next();!p.done;p=u.next())p=p.value,/^(#EXT)/.test(p)?(p=pw(e,p),HC.includes(p.name)?i.push(p):p.name=="EXT-X-MAP"?l=p:p.name=="EXT-X-PART"?a.push(p):p.name=="EXT-X-PRELOAD-HINT"?Ve(p,"TYPE")=="PART"?a.push(p):Ve(p,"TYPE")=="MAP"&&(p.name="EXT-X-MAP",l=p):r.push(p)):/^#(?!EXT)/m.test(p)||(p=p.trim(),l&&r.push(l),n.push(new BC(p,r,a)),r=[],a=[]);return a.length&&(l&&r.push(l),n.push(new BC("",r,a))),new jC(t,i,n)}i.push(u),u.name=="EXT-X-STREAM-INF"&&(u.attributes.push(new Iv("URI",l)),r=!0)}}return new jC(t,i)}function pw(e,t){e=e.g++;var n=t.match(/^#(EXT[^:]*)(?::(.*))?$/);if(!n)throw new $(2,4,4016,t);t=n[1];var r=n[2];n=[];var i;if(r){r=new Tc(r);var a;(a=$u(r,/^([^,=]+)(?:,|$)/g))&&(i=a[1]);for(var u=/([^=]+)=(?:"([^"]*)"|([^",]*))(?:,|$)/g;a=$u(r,u);)n.push(new Iv(a[1],a[2]||a[3])),Ac(r)}return new Cv(e,t,n,i)}var HC="EXT-X-TARGETDURATION EXT-X-MEDIA-SEQUENCE EXT-X-DISCONTINUITY-SEQUENCE EXT-X-PLAYLIST-TYPE EXT-X-I-FRAMES-ONLY EXT-X-ENDLIST EXT-X-SERVER-CONTROL EXT-X-SKIP EXT-X-PART-INF EXT-X-DATERANGE".split(" "),WO="EXTINF EXT-X-BYTERANGE EXT-X-DISCONTINUITY EXT-X-PROGRAM-DATE-TIME EXT-X-KEY EXT-X-DATERANGE EXT-X-MAP EXT-X-GAP EXT-X-TILES".split(" ");function qC(){}function GC(e,t){try{var n=Mv(e);return Lc({uri:e,originalUri:e,data:n.data,headers:{"content-type":n.contentType},originalRequest:t})}catch(r){return Yu(r)}}function Mv(e){var t=e.split(":");if(2>t.length||t[0]!="data")throw new $(2,1,1004,e);if(t=t.slice(1).join(":").split(","),2>t.length)throw new $(2,1,1004,e);var n=t[0];e=d.decodeURIComponent(t.slice(1).join(",")),t=n.split(";"),n=t[0];var r=!1;1<t.length&&t[t.length-1]=="base64"&&(r=!0,t.pop());var i;return r?i=zi(e):i=la(e),{data:i,contentType:n}}Ee("shaka.net.DataUriPlugin",qC),qC.parse=GC,Oo("data",GC);function _v(){var e=this;this.g=this.h=null,this.F=1,this.A=new Map,this.I=new Map,this.M=new Map,this.M.set("video",new Map),this.M.set("audio",new Map),this.M.set(wt,new Map),this.M.set("image",new Map),this.Sb=new Map().set("com.apple.streamingkeydelivery",function(t,n,r){return yj(e,t,n,r)}).set("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",function(t){var n=Kt(t,"METHOD");if(["SAMPLE-AES","SAMPLE-AES-CTR"].includes(n)){var r="cenc";n=="SAMPLE-AES"&&(r="cbcs"),n=Kt(t,"URI"),n=Mv(n.split("?")[0]),n=Ye(n.data),r=Ms("com.widevine.alpha",r,[{initDataType:"cenc",initData:n}]),(t=Ve(t,"KEYID"))&&r.keyIds.add(t.toLowerCase().substr(2)),t=Promise.resolve(r)}else t=Promise.resolve(null);return t}).set("com.microsoft.playready",function(t){var n=Kt(t,"METHOD");if(["SAMPLE-AES","SAMPLE-AES-CTR"].includes(n)){var r="cenc";n=="SAMPLE-AES"&&(r="cbcs"),t=Kt(t,"URI"),t=Mv(t.split("?")[0]),t=Ye(t.data),n=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),n=cm(t,n,new Set,0),r=Ms("com.microsoft.playready",r,[{initDataType:"cenc",initData:n}]),(t=qu(["<PLAYREADY>",Mo(t),"</PLAYREADY>"].join(`
`)))&&(r.licenseServerUri=mv(t)),r=Promise.resolve(r)}else r=Promise.resolve(null);return r}).set("urn:uuid:3d5e6d35-9b9a-41e8-b843-dd3c6e72c42c",function(t){var n=Kt(t,"METHOD");if(["SAMPLE-AES","SAMPLE-AES-CTR"].includes(n)){var r="cenc";n=="SAMPLE-AES"&&(r="cbcs"),n=Kt(t,"URI"),n=Mv(n.split("?")[0]),n=Ye(n.data),r=Ms("com.huawei.wiseplay",r,[{initDataType:"cenc",initData:n}]),(t=Ve(t,"KEYID"))&&r.keyIds.add(t.toLowerCase().substr(2)),t=Promise.resolve(r)}else t=Promise.resolve(null);return t}),this.Na=new Set,this.i=new Map,this.l=null,this.C="",this.Ga=new KO,this.K=-1,this.ea=1/0,this.Z=this.Ub=this.Ma=!1,this.B=new kt(function(){if(e.W&&!e.g.continueLoadingWhenPaused&&(e.T.Ja(e.W,"timeupdate"),e.W.paused)){e.T.ma(e.W,"timeupdate",function(){return hI(e)});return}hI(e)}),this.Ea=Nv,this.m=null,this.La=0,this.o=1/0,this.Fa=this.Aa=this.P=0,this.Y=new Rc,this.G=new Map,this.H=new Map,this.sa=new Map,this.ka=new Map,this.L=new Map,this.oa=new Map,this.pa=new Map,this.Tb=this.fa=!1,this.Pb=new fe(5),this.j=null,this.O=!0,this.ya=new Set,this.T=new Ce,this.u=this.W=null,this.Qb=function(){return!1}}f=_v.prototype,f.configure=function(e,t){var n=this.h&&e.updatePeriod!=this.g.updatePeriod&&0<=e.updatePeriod;this.g=e,t&&(this.Qb=t),this.j&&this.j.configure(this.g),n&&this.m&&this.m.presentationTimeline.U()&&this.B.sb()},f.start=function(e,t){var n=this,r;return P(function(i){return i.g==1?(n.h=t,n.fa=t.isLowLatencyMode(),T(i,ww(n,[e]).promise,2)):i.g!=3?(r=i.h,n.C=r.uri,T(i,JO(n,r.data),3)):i.return(n.m)})},f.stop=function(){this.B&&(this.B.stop(),this.B=null);var e=[];return this.Y&&(e.push(this.Y.destroy()),this.Y=null),this.g=this.h=null,this.Na.clear(),this.m=null,this.i.clear(),this.I.clear(),this.H.clear(),this.A.clear(),this.sa.clear(),this.ka.clear(),this.L.clear(),this.oa.clear(),this.pa.clear(),this.ya.clear(),this.j&&this.j.destroy(),this.T&&(this.T.release(),this.T=null),Promise.all(e)},f.update=function(){var e=this,t,n,r,i,a,u,l,p,g,v,y,x;return P(function(S){if(S.g==1){if(!Br(e))return S.return();for(t=[],n=Array.from(e.i.values()),e.o=1/0,e.m.gapCount=0,r=n.filter(function(k){return k.stream.segmentIndex}),i=w(r),a=i.next();!a.done;a=i.next())u=a.value,t.push(XO(e,u));return T(S,Promise.all(t),2)}for(eI(e,r.map(function(k){return k.stream})),l=r.some(function(k){return k.rd==0}),r.length&&!l&&(p=kj,Lv(e,p.Ph),g=r.map(function(k){return k.Vb}),e.l.bb(Math.min.apply(Math,j(g))),e.h.updateDuration()),l&&fw(e),v=w(r),y=v.next();!y.done;y=v.next())x=y.value,x.stream.isAudioMuxedInVideo||!x.stream.segmentIndex||ja(x.stream.segmentIndex)||e.h.disableStream(x.stream);ae(S)})};function hw(e,t){return Br(e)?e.M.get(t.type):t.je}function XO(e,t){var n,r,i,a,u,l,p,g,v,y,x,S,k,C,E,I,_,F,B,q,O,N,H,z,Y,K,J,ie,ne,ue,oe,pe,xe,tt,je,Vt;return P(function(Tt){switch(Tt.g){case 1:if(t.stream.isAudioMuxedInVideo)return Tt.return();for(n=[],r=w(t.N()),i=r.next();!i.done;i=r.next())a=i.value,u=new ee(a),l=u.g,t.Td&&(0<=t.Ab&&l.add("_HLS_msn",String(t.Ab)),0<=t.Bb&&l.add("_HLS_part",String(t.Bb))),t.Ud&&l.add("_HLS_skip","YES"),Ou(l)&&St(u,bt(l.toString())),n.push(u.toString());return me(Tt,2),T(Tt,ww(e,n,!0).promise,4);case 4:p=Tt.h,V(Tt,3);break;case 2:throw g=W(Tt),e.h&&e.h.disableStream(t.stream),g;case 3:if(!t.stream.segmentIndex)return Tt.return();if(v=dw(e.Ga,p.data),v.type!=1)throw new $(2,4,4017);return y=p.uri,y==p.originalUri||t.N().includes(y)||t.ve.push(y),x=Ki(v.ca,"EXT-X-DEFINE"),S=gw(e,x,y),k=t.stream,C=hw(e,t),T(Tt,iI(e,v,k.mimeType,t.N,S),5);case 5:for(E=Tt.h,I=E.keyIds,_=E.drmInfos,F=E.encrypted,B=E.Bg,k.encrypted||!F||B||(k.encrypted=!0),q=function(ft,vt){return ft.size===vt.size&&[].concat(j(ft)).every(function(Rt){return vt.has(Rt)})},q(k.keyIds,I)||(k.keyIds=I,k.drmInfos=_,e.h.newDrmInfo(k)),O=cI(e,v,C,S,t.N,t.type),N=O.segments,(H=O.bandwidth)&&(k.bandwidth=H),z=Cm(k),Y=w(N),K=Y.next();!K.done;K=Y.next())J=K.value,J.$&&(J.$.Wc=z);k.segmentIndex.Bd(N,e.l.pb()),N.length&&(ie=hd(v.ca,"EXT-X-MEDIA-SEQUENCE",0),ue=(ne=ar(v.ca,"EXT-X-SKIP"))?Number(Ve(ne,"SKIPPED-SEGMENTS")):0,oe=nI(ie,N),pe=oe.Ab,xe=oe.Bb,t.Ab=pe+ue,t.Bb=xe,tt=C.get(ie),k.segmentIndex.Oa(tt)),(je=ja(k.segmentIndex))&&(t.Bc=je.startTime,Vt=N[N.length-1],t.Vb=Vt.endTime),ar(v.ca,"EXT-X-ENDLIST")&&(t.rd=!0),vw(e,v),yw(e,v.ca,k.type,S,t.N),ae(Tt)}})}f.onExpirationUpdated=function(){},f.onInitialVariantChosen=function(){},f.banLocation=function(e){this.j&&this.j.banLocation(e)},f.setMediaElement=function(e){this.W=e};function KC(e,t,n){n=n===void 0?!1:n;for(var r=e.K==-1,i=w(t),a=i.next();!a.done;a=i.next()){a=a.value;var u=a.stream.segmentIndex,l=hw(e,a);if(u=ja(u)){l=w(l);for(var p=l.next();!p.done;p=l.next()){p=w(p.value);var g=p.next().value;if(p.next().value==u.startTime){r&&(e.K=Math.max(e.K,g)),a.qf=g;break}}}}if(!(0>e.K))for(t=w(t),r=t.next();!r.done;r=t.next())r=r.value,(Kh(e,r.type)||n)&&(i=r.stream.segmentIndex)&&(a=e.K-r.qf,0<a&&(i.g.splice(0,a),i=ja(i))&&(i=-i.startTime,r.stream.segmentIndex.offset(i),WC(e,r,i)))}function YO(e,t){if(e.ea==1/0){t=w(t);for(var n=t.next();!n.done;n=t.next())n=ja(n.value.stream.segmentIndex),n!=null&&n.h!=null&&(e.ea=Math.min(e.ea,n.h))}if(t=e.ea,t!=1/0){n=w(e.i.values());for(var r=n.next();!r.done;r=n.next())if(r=r.value,!Kh(e,r.type)){var i=r.stream.segmentIndex;if(i!=null){var a=ja(i);if(a)if(a.h==null)it("Missing EXT-X-PROGRAM-DATE-TIME for stream",r.N(),"Expect AV sync issues!");else for(WC(e,r,a.h-t-a.startTime),r=w(i),i=r.next();!i.done;i=r.next())i.value.qg(t)}}}}function WC(e,t,n){if(!(.001>Math.abs(n))){t.Bc+=n,t.Vb+=n,e=hw(e,t);for(var r=w(e),i=r.next();!i.done;i=r.next()){var a=w(i.value);i=a.next().value,a=a.next().value,e.set(i,a+n)}t.N()}}function JO(e,t){var n,r,i,a,u,l,p,g,v,y,x,S,k,C,E,I,_,F,B,q,O,N,H,z,Y,K,J,ie,ne,ue,oe,pe,xe,tt,je,Vt,Tt,ft,vt,Rt,dt,Et;return P(function(at){switch(at.g){case 1:return n=$n,r=dw(e.Ga,t),i=Ki(r.ca,"EXT-X-DEFINE"),a=[],u=[],l=[],e.l=new Ke(null,0),e.l.Gc(!0),p=function(){return[e.C]},g=null,v=new Map,r.type==1?(e.O=!1,pe=Ki(r.ca,"EXT-X-DEFINE"),v=gw(e,pe,e.C),g=n.la,xe="",tt=new Map,T(at,tI(e,e.F++,v,r,p,"",g,xe,!0,"Media Playlist",null,tt,null,!1,null,!1),7)):(ZO(e,i),y=Ki(r.ca,"EXT-X-MEDIA"),x=Ki(r.ca,"EXT-X-STREAM-INF"),S=Ki(r.ca,"EXT-X-IMAGE-STREAM-INF"),k=Ki(r.ca,"EXT-X-I-FRAME-STREAM-INF"),C=Ki(r.ca,"EXT-X-SESSION-KEY"),E=Ki(r.ca,"EXT-X-SESSION-DATA"),I=Ki(r.ca,"EXT-X-CONTENT-STEERING"),tj(e,E),T(at,nj(e,I),4));case 4:if(!e.g.ignoreSupplementalCodecs){for(_=[],F=w(x),B=F.next(),q={};!B.done;q={Gh:void 0},B=F.next())O=B.value,(N=Ve(O,"SUPPLEMENTAL-CODECS"))&&(q.Gh=N.split(/\s*,\s*/).map(function(pt){return pt.split("/")[0]}),H=O.attributes.map(function(pt){return function(Zt){var Wn=Zt.name,Sn=Zt.value;return Wn=="CODECS"&&(Sn=pt.Gh.join(","),Zt=Zt.value.split(","),1<Zt.length&&(Zt=Wr("audio",Zt))&&(Sn+=","+Zt)),new Iv(Wn,Sn)}}(q)),_.push(new Cv(O.id,O.name,H,null)));for(x.push.apply(x,j(_)),z=[],Y=w(k),K=Y.next(),J={};!K.done;J={Hh:void 0},K=Y.next())ie=K.value,(ne=Ve(ie,"SUPPLEMENTAL-CODECS"))&&(J.Hh=ne.split(/\s*,\s*/).map(function(pt){return pt.split("/")[0]}),ue=ie.attributes.map(function(pt){return function(Zt){var Wn=Zt.name;return Zt=Zt.value,Wn=="CODECS"&&(Zt=pt.Hh.join(",")),new Iv(Wn,Zt)}}(J)),z.push(new Cv(ie.id,ie.name,ue,null)));k.push.apply(k,j(z))}return ej(e,x),cj(e,y),oe=oj(e,k),T(at,sj(e,x,C,y,p,e.A,oe),5);case 5:return a=at.h,u=rj(e,y),T(at,ij(e,S,k),6);case 6:l=at.h,at.s(3);break;case 7:je=at.h,e.i.set(e.C,je),je.stream&&(Vt=Cm(je.stream),je.stream.segmentIndex.Eb(function(pt){pt.$&&(pt.$.Wc=Vt)})),g=je.stream.type,a.push({id:0,language:Jt(xe||"und"),disabledUntilTime:0,primary:!0,audio:g=="audio"?je.stream:null,video:g=="video"?je.stream:null,bandwidth:je.stream.bandwidth||0,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]});case 3:if(!e.h)throw new $(2,7,7001);if(oI(e,r),r.type==1&&(Br(e)&&(sI(e,r),Tt=e.o,e.B.da(Tt)),ft=Array.from(e.i.values()),mw(e,ft),fw(e),yw(e,r.ca,g,v,p)),e.m={presentationTimeline:e.l,variants:a,textStreams:u,imageStreams:l,offlineSessionIds:[],sequenceMode:e.g.hls.sequenceMode,ignoreManifestTimestampsInSegmentsMode:e.g.hls.ignoreManifestTimestampsInSegmentsMode,type:"HLS",serviceDescription:null,nextUrl:null,periodCount:1,gapCount:0,isLowLatency:!1,startTime:e.u},e.Z||!e.g.hls.disableCodecGuessing){at.s(8);break}for(vt=[],Rt=w(e.m.variants),dt=Rt.next();!dt.done;dt=Rt.next())Et=dt.value,Et.audio&&Et.audio.codecs===""&&vt.push(Et.audio.createSegmentIndex()),Et.video&&Et.video.codecs===""&&vt.push(Et.video.createSegmentIndex());return T(at,Promise.all(vt),8);case 8:e.h.makeTextStreamsForClosedCaptions(e.m),ae(at)}})}function QO(e,t){var n,r,i,a,u,l,p,g,v,y,x,S,k,C,E,I,_,F;return P(function(B){if(B.g==1)return n=Mm(e.g.hls.mediaPlaylistFullMimeType),t.length?(r=dI(e,t),i=r.segment,a=r.segmentIndex,u=i.N(),l=u[0],p=new ee(l),g=p.ab.split(".").pop(),(v=xw.get(g))?B.return(Mm(v)):T(B,Promise.all([XC(e,i.$,0),XC(e,i,a)]),2)):B.return(n);if(y=B.h,x=y[0].mimeType,S=y[1].mimeType,k=y[0].data,C=y[1].data,E="mp4 mp4a m4s m4i m4a m4f cmfa mp4v m4v cmfv fmp4".split(" "),I=["audio/mp4","video/mp4","video/iso.segment"],$c(Ye(C))){var q=C,O=e.g.disableAudio,N=e.g.disableVideo,H=e.g.disableText,z=Ye(q),Y=new hn().parse(z),K=Y.od();z=Y.Kf();var J=[],ie=!1,ne=!1;if(!O)switch(K.audio){case"aac":case"aac-loas":Y.fb().length&&(J.push("mp4a.40.2"),ie=!0);break;case"mp3":Y.fb().length&&(J.push("mp4a.40.34"),ie=!0);break;case"ac3":Y.fb().length&&(J.push("ac-3"),ie=!0);break;case"ec3":Y.fb().length&&(J.push("ec-3"),ie=!0);break;case"opus":Y.fb().length&&(J.push("opus"),ie=!0)}if(!N)switch(K.video){case"avc":z.codec?J.push(z.codec):J.push("avc1.42E01E"),ne=!0;break;case"hvc":z.codec?J.push(z.codec):J.push("hvc1.1.6.L93.90"),ne=!0;break;case"av1":J.push("av01.0.01M.08"),ne=!0}if(J.length){if(O=ie&&!ne,N=new Map,ne&&!H){for(H=new Ai("video/mp2t"),H.i(q),q=w(H.j()),ne=q.next();!ne.done;ne=q.next())ne=ne.value,N.set(ne,ne);H.g()}z={type:O?"audio":"video",mimeType:"video/mp2t",codecs:J.join(", "),language:null,height:z.height,width:z.width,channelCount:null,sampleRate:null,closedCaptions:N,Nd:null,colorGamut:null,frameRate:z.frameRate}}else z=null;if(_=z)return B.return(_)}else if((E.includes(g)||I.includes(S)||x&&I.includes(x))&&(F=T9(k,C,e.g.disableText)))return B.return(F);return S?B.return(Mm(S)):x?B.return(Mm(x)):B.return(n)})}function XC(e,t,n){var r,i,a,u,l,p;return P(function(g){switch(g.g){case 1:return t?(r=ha,i=vh(t.N(),t.uc(),t.tc(),e.g.retryParameters),a=t instanceof Ge?1:0,T(g,Yo(e,i,r,{type:a}).promise,2)):g.return({mimeType:null,data:null});case 2:if(u=g.h,l=u.data,!t.aesKey){g.s(3);break}return T(g,Qb(l,t.aesKey,n),4);case 4:l=g.h;case 3:return t instanceof Ge?t.Kd(l,!0):t.Kd(l),(p=u.headers["content-type"])&&(p=p.split(";")[0].toLowerCase()),g.return({mimeType:p,data:l})}})}function fw(e){if(Br(e)){if(e.Ea==Uv){for(var t=1/0,n=1/0,r=w(e.i.values()),i=r.next();!i.done;i=r.next())i=i.value,i.stream.segmentIndex&&i.stream.type!="text"&&!i.stream.isAudioMuxedInVideo&&(t=Math.min(t,i.Vb),n=Math.min(n,i.Bc));t=t-n||0,isNaN(e.g.availabilityWindowOverride)||(t=e.g.availabilityWindowOverride),e.l.Ce(t)}}else e.l.bb(ZC(e));if(!e.l.u)for(t=w(e.i.values()),n=t.next();!n.done;n=t.next())n=n.value,!n.stream.segmentIndex||n.type!="audio"&&n.type!="video"||(n=ja(n.stream.segmentIndex))&&n.h&&e.l.xh(n.h);e.l.ie()}function ZO(e,t){var n=new ee(e.C).g;t=w(t);for(var r=t.next();!r.done;r=t.next()){var i=r.value;r=Ve(i,"NAME");var a=Ve(i,"VALUE");i=Ve(i,"QUERYPARAM"),r&&a&&(e.A.has(r)||e.A.set(r,a)),i&&(r=n.get(i)[0])&&!e.A.has(r)&&e.A.set(i,r)}}function gw(e,t,n){n=new ee(n).g;var r=new Map;t=w(t);for(var i=t.next();!i.done;i=t.next()){var a=i.value,u=Ve(a,"NAME"),l=Ve(a,"VALUE");i=Ve(a,"QUERYPARAM"),a=Ve(a,"IMPORT"),u&&l&&(r.has(u)||r.set(u,l)),i&&(u=n.get(i)[0])&&!r.has(u)&&r.set(i,u),a&&(i=e.A.get(a))&&r.set(a,i)}return r}function ej(e,t){t=w(t);for(var n=t.next();!n.done;n=t.next()){var r=n.value,i=Ve(r,"AUDIO");n=Ve(r,"VIDEO");var a=Ve(r,"SUBTITLES");if(r=YC(e,r),a){var u=Wr(wt,r);e.H.set(a,u),ca(r,u)}i&&(a=Wr("audio",r),a||(a=e.g.hls.defaultAudioCodec),e.H.set(i,a)),n&&(i=Wr("video",r),i||(i=e.g.hls.defaultVideoCodec),e.H.set(n,i))}}function tj(e,t){t=w(t);for(var n=t.next();!n.done;n=t.next()){var r=n.value,i=Ve(r,"DATA-ID");n=Ve(r,"URI");var a=Ve(r,"LANGUAGE");r=Ve(r,"VALUE"),i=new Map().set("id",i),n&&i.set("uri",Ks([e.C],n,e.A)[0]),a&&i.set("language",a),r&&i.set("value",r),n=new Ae("sessiondata",i),e.h&&e.h.onEvent(n)}}function nj(e,t){var n,r,i,a,u,l;return P(function(p){if(!e.h||!e.g)return p.return();for(r=w(t),i=r.next();!i.done;i=r.next())if(a=i.value,u=Ve(a,"PATHWAY-ID"),l=Ve(a,"SERVER-URI"),u&&l){e.j=new ld(e.h),e.j.configure(e.g),e.j.i=[e.C],e.j.setManifestType("HLS"),e.j.h=u,n=Vh(e.j,l);break}return T(p,n,0)})}function rj(e,t){var n=VC(t,"SUBTITLES");t=n.map(function(u){if(e.g.disableText)return null;try{return JC(e,[u],new Map).stream}catch(l){if(e.g.hls.ignoreTextStreamFailures)return null;throw l}}),n=w(n);for(var r=n.next();!r.done;r=n.next()){var i=Kt(r.value,"GROUP-ID");if((r=e.H.get(i))&&(i=e.I.get(i))){i=w(i);for(var a=i.next();!a.done;a=i.next())a=a.value,a.stream.codecs=r,a.stream.mimeType=bw(wt,r)||Pv(wt),dl(a.stream)}}return t.filter(function(u){return u})}function dl(e){var t=new Set([Dn(e.mimeType,e.codecs)]);e.segmentIndex&&e.segmentIndex.Eb(function(n){n.mimeType&&t.add(Dn(n.mimeType,e.codecs))}),e.fullMimeTypes=t}function ij(e,t,n){var r,i;return P(function(a){return a.g==1?(r=t.map(function(u){var l,p;return P(function(g){if(g.g==1)return e.g.disableThumbnails?g.return(null):(me(g,2),T(g,dj(e,u),4));if(g.g!=2)return l=g.h,g.return(l.stream);if(p=W(g),e.g.hls.ignoreImageStreamFailures)return g.return(null);throw p})}).concat(n.map(function(u){if(e.g.disableThumbnails)return null;try{var l=QC(e,u);return l.stream.type!=="image"?null:l.stream}catch(p){if(e.g.hls.ignoreImageStreamFailures)return null;throw p}})),T(a,Promise.all(r),2)):(i=a.h,a.return(i.filter(function(u){return u})))})}function aj(e,t,n){t=t.filter(function(l){var p=Ve(l,"URI")||"";return l=Ve(l,"TYPE"),l!="SUBTITLES"&&(p!=""||l=="AUDIO")});var r={};t=w(t);for(var i=t.next();!i.done;i=t.next()){i=i.value;var a=FC(i,!e.j);r[a]?r[a].push(i):r[a]=[i]}for(var u in r)JC(e,r[u],n,!1)}function oj(e,t){return t.map(function(n){return n=QC(e,n),n.stream.type!=="video"?null:n.stream}).filter(function(n){return n})}function sj(e,t,n,r,i,a,u){var l,p,g,v,y,x,S,k,C,E,I,_,F,B,q,O,N,H,z,Y,K,J,ie,ne,ue,oe,pe,xe,tt,je,Vt,Tt,ft,vt,Rt,dt;return P(function(Et){switch(Et.g){case 1:if(l=[],p=new Set,e.g.ignoreDrmInfo||!(0<n.length)){Et.s(2);break}g=w(n),v=g.next();case 3:if(v.done){Et.s(2);break}if(y=v.value,x=Kt(y,"METHOD"),S=Ve(y,"KEYFORMAT")||"identity",k=null,x=="NONE"){Et.s(4);break}if(Rv(x)){C=Ks(i(),Kt(y,"URI"),a),E=C.sort().join(""),e.L.has(E)||(I=qn(C,e.g.retryParameters),_=Yo(e,I,6).promise,e.L.set(E,_)),Et.s(4);break}if(S=="identity")return T(Et,fI(e,y,"",i,null,a),12);if(F=e.Sb.get(S),!F){B=null,Et.s(10);break}return T(Et,F(y,"",null),11);case 11:B=Et.h;case 10:k=B,Et.s(6);break;case 12:k=Et.h;case 6:if(k){if(k.keyIds)for(q=w(k.keyIds),O=q.next();!O.done;O=q.next())N=O.value,p.add(N);l.push(k)}case 4:v=g.next(),Et.s(3);break;case 2:for(H={},z=w(t),Y=z.next();!Y.done;Y=z.next())K=Y.value,J=FC(K,!e.j),H[J]?H[J].push(K):H[J]=[K];ie=[];for(ne in H)ue=H[ne],oe=ue[0],pe=Ve(oe,"FRAME-RATE"),xe=Number(Ve(oe,"AVERAGE-BANDWIDTH"))||Number(Kt(oe,"BANDWIDTH")),tt=Ve(oe,"RESOLUTION"),je=w(tt?tt.split("x"):[null,null]),Vt=je.next().value,Tt=je.next().value,ft=Ve(oe,"VIDEO-RANGE"),(vt=Ve(oe,"REQ-VIDEO-LAYOUT"))&&vt.includes(",")&&(Rt=vt.split(",").filter(function(at){return at=="CH-STEREO"||at=="CH-MONO"}),vt=Rt[0]),vt=vt||"CH-MONO",dt=uj(e,ue,r),ie.push.apply(ie,j(lj(e,dt.audio,dt.video,xe,Vt,Tt,pe,ft,vt,l,p,u)));return Et.return(ie.filter(function(at){return at!=null}))}})}function uj(e,t,n){for(var r={audio:[],video:[]},i=new Map,a=[],u=!1,l=!1,p=w(t),g=p.next();!g.done;g=p.next()){var v=g.value;g=Ve(v,"AUDIO");var y=Ve(v,"VIDEO"),x=g||y;x&&(a.includes(x)||a.push(x),(v=Ve(v,"PATHWAY-ID"))&&i.set(x,v),g?u=!0:y&&(l=!0))}a.length&&n.length&&(n=n.filter(function(k){return a.includes(Kt(k,"GROUP-ID"))}),aj(e,n,i)),n=(i=a.sort().join(","))&&e.I.has(i)?e.I.get(i):[],u?r.audio.push.apply(r.audio,j(n)):l&&r.video.push.apply(r.video,j(n)),u=!1;var S=t.map(function(k){return Kt(k,"URI")});return g=r.audio.find(function(k){return k&&k.N().find(function(C){return S.includes(C)})}),l=YC(e,t[0]),n=Wr("video",l),(p=Wr("audio",l))&&!n?(g="audio",u=0<r.audio.length):!r.audio.length&&!r.video.length&&p&&n?(g="video",l=[[n,p].join()]):r.audio.length&&g?(g="audio",u=!0):g=r.video.length&&!r.audio.length?"audio":"video",u||(e=pj(e,t,l,g),i&&(e.stream.groupId=i),r[e.stream.type]=[e]),r}function YC(e,t){return t=Ve(t,"CODECS")||"",e.Z=0<t.length,e.Z||e.g.hls.disableCodecGuessing||(t=[],e.g.disableVideo||t.push(e.g.hls.defaultVideoCodec),e.g.disableAudio||t.push(e.g.hls.defaultAudioCodec),t=t.join(",")),Jb(t.split(/\s*,\s*/))}function lj(e,t,n,r,i,a,u,l,p,g,v,y){for(var x=w(n),S=x.next();!S.done;S=x.next())pI(S.value.stream,i,a,u,l,p,null);for(i=e.g.disableAudio,(!t.length||i)&&(t=[null]),i=e.g.disableVideo,(!n.length||i)&&(n=[null]),i=[],t=w(t),a=t.next();!a.done;a=t.next())for(a=a.value,u=w(n),l=u.next();!l.done;l=u.next()){var k=l.value;(l=a?a.stream:null)&&(l.drmInfos=g,l.keyIds=v),(p=k?k.stream:null)&&(p.drmInfos=g,p.keyIds=v,e.g.disableIFrames||U5(p,y)),p&&!l&&(p.bandwidth=r),!p&&l&&(l.bandwidth=r),x=a?a.stream.drmInfos:null,S=k?k.stream.drmInfos:null,k=k?k.N().sort().join(","):"";var C=a?a.N().sort().join(","):"",E=[];l&&l.codecs&&E.push(l.codecs),p&&p.codecs&&E.push(p.codecs),k=[k,C,E.sort()].join("-"),l&&p&&!W3(x,S)||e.Na.has(k)||(l={id:e.F++,language:l?l.language:"und",disabledUntilTime:0,primary:!!l&&l.primary||!!p&&p.primary,audio:l,video:p,bandwidth:r,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]},i.push(l),e.Na.add(k))}return i}function cj(e,t){t=VC(t,"CLOSED-CAPTIONS"),e.O=t.length==0,t=w(t);for(var n=t.next();!n.done;n=t.next()){var r=n.value,i=Ve(r,"LANGUAGE");n=Jt(i||"und"),i||(i=Ve(r,"NAME"))&&(n=i),i=Kt(r,"GROUP-ID"),r=Kt(r,"INSTREAM-ID").replace("SERVICE","svc"),e.G.get(i)||e.G.set(i,new Map),e.G.get(i).set(r,n)}}function JC(e,t,n,r){r=r===void 0?!0:r;for(var i=[],a=[],u=new Map,l=w(t),p=l.next();!p.done;p=l.next()){var g=p.value;p=r?Kt(g,"URI"):Ve(g,"URI")||"shaka://hls-muxed",g=Kt(g,"GROUP-ID"),i.push(p),a.push(g),u.set(g,p)}if(r=a.sort().join(","),p=t[0],t="",l=Kt(p,"TYPE").toLowerCase(),l=="subtitles"&&(l=wt),l==wt)t=Ve(p,"CODECS")||"";else for(a=w(a),g=a.next();!g.done;g=a.next())if(g=g.value,e.H.has(g)){t=e.H.get(g);break}if(a=i.sort().join(","),e.i.has(a))return e.i.get(a);if(g=e.F++,e.j){u=w(u);for(var v=u.next();!v.done;v=u.next()){var y=w(v.value);v=y.next().value,y=y.next().value,(v=n.get(v))&&cd(e.j,g,v,y)}}n=Ve(p,"LANGUAGE"),u=Ve(p,"NAME"),v=Ve(p,"DEFAULT")=="YES",l=="audio"?y=(y=Ve(p,"CHANNELS"))?parseInt(y.split("/")[0],10):null:y=null;var x;l=="audio"&&(x=Ve(p,"CHANNELS"))?(x=x.split("/"),x=x.length!=2?!1:x[1]==="JOC"||x[1].includes("ATMOS")):x=!1;var S=Ve(p,"CHARACTERISTICS"),k=Ve(p,"FORCED")=="YES";return l=="audio"?p=(p=Ve(p,"SAMPLE-RATE"))?parseInt(p,10):null:p=null,i=Dv(e,g,i,t,l,n,v,u,y,null,S,k,p,x),i.stream&&(i.stream.groupId=r),e.I.has(r)?e.I.get(r).push(i):e.I.set(r,[i]),e.i.set(a,i),i}function dj(e,t){var n,r,i,a,u,l,p,g,v,y;return P(function(x){return x.g==1?(n=Kt(t,"URI"),r=Ve(t,"CODECS","jpeg")||"",e.i.has(n)?x.return(e.i.get(n)):(i=Ve(t,"LANGUAGE"),a=Ve(t,"NAME"),u=Ve(t,"CHARACTERISTICS"),l=Dv(e,e.F++,[n],r,"image",i,!1,a,null,null,u,!1,null,!1),(p=Ve(t,"RESOLUTION"))?T(x,l.stream.createSegmentIndex(),3):x.s(2))):(x.g!=2&&(g=ja(l.stream.segmentIndex),v=g.tilesLayout)&&(l.stream.width=Number(p.split("x")[0])*Number(v.split("x")[0]),l.stream.height=Number(p.split("x")[1])*Number(v.split("x")[1])),(y=Ve(t,"BANDWIDTH"))&&(l.stream.bandwidth=Number(y)),e.i.set(n,l),x.return(l))})}function QC(e,t){var n="video",r=Kt(t,"URI"),i=Ve(t,"CODECS")||"";if(i=="mjpg"&&(n="image"),e.i.has(r))return e.i.get(r);var a=Ve(t,"LANGUAGE"),u=Ve(t,"NAME"),l=Ve(t,"CHARACTERISTICS");return n=Dv(e,e.F++,[r],i,n,a,!1,u,null,null,l,!1,null,!1),i=Ve(t,"RESOLUTION"),a=w(i?i.split("x"):[null,null]),i=a.next().value,a=a.next().value,n.stream.width=Number(i)||void 0,n.stream.height=Number(a)||void 0,(t=Ve(t,"BANDWIDTH"))&&(n.stream.bandwidth=Number(t)),e.i.set(r,n),n}function pj(e,t,n,r){for(var i=e.F++,a=[],u=w(t),l=u.next();!l.done;l=u.next()){var p=l.value;l=Kt(p,"URI"),p=Ve(p,"PATHWAY-ID"),e.j&&p&&cd(e.j,i,p,l),a.push(l)}if(u=a.sort().join(",")+n.sort().join(","),e.i.has(u))return e.i.get(u);l=a.join(",");e:{if(t=Ve(t[0],"CLOSED-CAPTIONS"),r=="video"){if(e.g.disableText){e.O=!1,t=null;break e}if(t){if(t!="NONE"){t=e.G.get(t);break e}e.O=!1}else if(!t&&e.G.size)for(t=w(e.G.keys()).next();!t.done;){t=e.G.get(t.value);break e}}t=null}return n=xc(r,n),r=Dv(e,i,a,n,r,null,!1,l,null,t,null,!1,null,!1),e.i.set(u,r),r}function Dv(e,t,n,r,i,a,u,l,p,g,v,y,x,S){function k(B){var q,O,N,H,z,Y,K,J,ie,ne,ue,oe,pe,xe,tt,je,Vt,Tt,ft,vt,Rt,dt,Et;return P(function(at){switch(at.g){case 1:return q=$n,me(at,2),T(at,B.promise,4);case 4:if(O=at.h,B.aborted)return at.return();if(N=O.uri,N!=O.originalUri&&(H=I.N(),H.includes(N)||I.ve.push(N)),z=dw(e.Ga,O.data),z.type!=1)throw new $(2,4,4017);return Y=Ki(z.ca,"EXT-X-DEFINE"),K=gw(e,Y,N),J=!1,(!e.Z&&e.g.hls.disableCodecGuessing||e.O&&i==q.la&&!e.g.hls.disableClosedCaptionsDetection)&&0<z.segments.length&&(e.O=!1,J=!0),ie=!e.Z&&e.g.hls.disableCodecGuessing,ne=Br(e),T(at,tI(e,0,K,z,C,r,i,a,u,l,p,g,v,y,x,S,void 0,J,ie),5);case 5:if(ue=at.h,B.aborted)return at.return();if(oe=ue.stream,oI(e,z),Br(e)&&!ne&&sI(e,z),I.Bc=ue.Bc,I.Vb=ue.Vb,I.Ud=ue.Ud,I.Td=ue.Td,I.rd=ue.rd,I.je=ue.je,I.Ab=ue.Ab,I.Bb=ue.Bb,I.Rf=!0,E.segmentIndex=oe.segmentIndex,E.encrypted=oe.encrypted,E.drmInfos=oe.drmInfos,E.keyIds=oe.keyIds,E.mimeType=oe.mimeType,E.bandwidth=E.bandwidth||oe.bandwidth,E.codecs=E.codecs||oe.codecs,E.closedCaptions=E.closedCaptions||oe.closedCaptions,E.width=E.width||oe.width,E.height=E.height||oe.height,E.hdr=E.hdr||oe.hdr,E.colorGamut=E.colorGamut||oe.colorGamut,E.frameRate=E.frameRate||oe.frameRate,E.language=="und"&&oe.language!="und"&&(E.language=oe.language),E.language=E.language||oe.language,E.channelsCount=E.channelsCount||oe.channelsCount,E.audioSamplingRate=E.audioSamplingRate||oe.audioSamplingRate,dl(E),E.drmInfos.length&&e.h.newDrmInfo(E),pe=!1,(!g&&E.closedCaptions||g&&E.closedCaptions&&g.size!=E.closedCaptions.size)&&(pe=!0),e.m&&pe&&e.h.makeTextStreamsForClosedCaptions(e.m),i==q.la||i==q.V)for(xe=w(e.i.values()),tt=xe.next();!tt.done;tt=xe.next())je=tt.value,je.Rf||je.type!=i||(je.stream.mimeType=oe.mimeType,dl(je.stream));i==q.za&&(Vt=ja(oe.segmentIndex))&&Vt.$&&(E.mimeType="application/mp4",dl(E)),Tt=Cm(E),E.segmentIndex.Eb(function(pt){pt.$&&(pt.$.Wc=Tt)}),hj(e)&&(e.Ub?mw(e,[I]):(e.Ub=!0,ft=Array.from(e.i.values()),vt=ft.filter(function(pt){return pt.stream.segmentIndex}),mw(e,vt),fw(e),Rt=e.o,0<Rt&&e.B.da(Rt))),yw(e,z.ca,E.type,K,C),e.m&&(e.m.startTime=e.u),V(at,0);break;case 2:if(dt=W(at),E.closeSegmentIndex(),dt.code===7001)return at.return();if(Et=e.h.disableStream(E),!Et)throw dt;ae(at)}})}function C(){return e.j&&1<n.length?$h(e.j,t):I.ve.concat($C([e.C],n,e.A))}var E=rI(e,r,i,a,u,l,p,g,v,y,x,S);n.includes("shaka://hls-muxed")&&(E.isAudioMuxedInVideo=!0,E.mimeType="video/mp2t",dl(E));var I={stream:E,type:i,ve:[],Bc:0,Vb:0,je:new Map,Ud:!1,Td:!1,rd:!1,qf:-1,Ab:-1,Bb:-1,Rf:!1,N:C},_=null,F;return E.createSegmentIndex=function(){return _||(E.isAudioMuxedInVideo?(E.segmentIndex=new Ft([]),Promise.resolve()):(F=ww(e,I.N(),!0),_=new Promise(function(B){B(k(F))})))},E.closeSegmentIndex=function(){_&&!E.segmentIndex&&F.abort(),E.segmentIndex&&(E.segmentIndex.release(),E.segmentIndex=null),_=null},I}function ZC(e){var t=1/0;e=w(e.i.values());for(var n=e.next();!n.done;n=e.next())n=n.value,n.stream.segmentIndex&&n.stream.type!="text"&&!n.stream.isAudioMuxedInVideo&&(t=Math.min(t,n.Vb));return t}function eI(e,t){var n=[];t=w(t);for(var r=t.next();!r.done;r=t.next())r=r.value,r.segmentIndex&&r.segmentIndex.Eb(function(i){n.push(i)});e.l.Ed(n)}function mw(e,t){if(!Br(e))for(var n=ZC(e),r=w(t),i=r.next();!i.done;i=r.next())i.value.stream.segmentIndex.Oc(0,n);eI(e,t.map(function(a){return a.stream})),r=Array.from(e.i.values()).filter(function(a){return a.stream.segmentIndex}),n=r.some(function(a){return a.stream.type=="audio"}),i=r.some(function(a){return a.stream.type=="video"}),r=Br(e)&&!e.Ma,n=!Br(e)&&e.Ma&&!(n&&i),e.g.hls.ignoreManifestProgramDateTime||r||n?KC(e,t,r):(YO(e,t),0<e.g.hls.ignoreManifestProgramDateTimeForTypes.length&&KC(e,t))}function Kh(e,t){return e.g.hls.ignoreManifestProgramDateTime?!0:e.g.hls.ignoreManifestProgramDateTimeForTypes.includes(t)}function hj(e){if(!e.m)return!1;var t=[],n=[];e=w(e.m.variants);for(var r=e.next();!r.done;r=e.next())r=r.value,r.video&&t.push(r.video),r.audio&&n.push(r.audio);return!(0<t.length&&!t.some(function(i){return i.segmentIndex})||0<n.length&&!n.some(function(i){return i.segmentIndex}))}function tI(e,t,n,r,i,a,u,l,p,g,v,y,x,S,k,C,E,I,_){I=I===void 0?!0:I,_=_===void 0?!0:_;var F,B,q,O,N,H,z,Y,K,J,ie,ne,ue,oe,pe,xe,tt,je,Vt,Tt,ft,vt,Rt,dt,Et,at,pt,Zt,Wn;return P(function(Sn){switch(Sn.g){case 1:if(F=r.segments||[],B=F.every(function(Tn){return!!ar(Tn.ca,"EXT-X-GAP")}),!F.length||B)throw new $(2,4,4053);if(fj(e,r),Br(e)&&vw(e,r),q=Br(e)?e.M.get(u):new Map,O=cI(e,r,q,n,i,u),N=O.segments,H=O.bandwidth,ie=J=K=Y=z=null,!(0<N.length&&I)){Sn.s(2);break}return T(Sn,QO(e,N),3);case 3:ne=Sn.h,u=ne.type,l=ne.language,v=ne.channelCount,k=ne.sampleRate,e.g.disableText||(y=ne.closedCaptions),Y=ne.height,z=ne.width,K=ne.Nd,J=ne.colorGamut,ie=ne.frameRate,_&&(E=ne.mimeType,a=ne.codecs);case 2:if(E){Sn.s(4);break}return T(Sn,vj(e,u,a,N),5);case 5:E=Sn.h,u!=wt||a||E!="application/mp4"||!N[0]||N[0].$||(E="text/vtt");case 4:return T(Sn,iI(e,r,E,i,n),6);case 6:if(ue=Sn.h,oe=ue.drmInfos,pe=ue.keyIds,xe=ue.encrypted,tt=ue.Bg,xe&&!oe.length&&!tt)throw new $(2,4,4026);return je=rI(e,a,u,l,p,g,v,y,x,S,k,C),je.encrypted=xe&&!tt,je.drmInfos=oe,je.keyIds=pe,je.mimeType=E,H&&(je.bandwidth=H),dl(je),u=="video"&&(z||Y||K||J)&&pI(je,z,Y,ie,K,null,J),Br(e)&&vw(e,r),Vt=N[0].startTime,Tt=N[N.length-1],ft=Tt.endTime,vt=new Ft(N),je.segmentIndex=vt,dt=(Rt=ar(r.ca,"EXT-X-SERVER-CONTROL"))?pd(Rt,"CAN-SKIP-UNTIL")!=null:!1,Et=Rt?pd(Rt,"CAN-BLOCK-RELOAD")!=null:!1,at=hd(r.ca,"EXT-X-MEDIA-SEQUENCE",0),pt=nI(at,N),Zt=pt.Ab,Wn=pt.Bb,Sn.return({stream:je,type:u,ve:[],N:i,Bc:Vt,Vb:ft,Ud:dt,Td:Et,rd:!1,qf:-1,Ab:Zt,Bb:Wn,je:q,Rf:!1})}})}function nI(e,t){e=e+t.length-1;var n=-1;if(!t.length)return e++,{Ab:e,Bb:n};t=t[t.length-1];var r=t.g;return t.g.length?(n=r.length-1,r[r.length-1].isPreload()||(e++,n=0),{Ab:e,Bb:n}):(e++,t.m&&(n=0),{Ab:e,Bb:n})}function rI(e,t,n,r,i,a,u,l,p,g,v,y){var x=bw(n,t)||Pv(n),S=[];if(p){p=w(p.split(","));for(var k=p.next();!k.done;k=p.next())S.push(k.value)}return p=void 0,k=null,n==wt?p=S.includes("public.accessibility.transcribes-spoken-dialog")&&S.includes("public.accessibility.describes-music-and-sound")?"caption":"subtitle":S.includes("public.accessibility.describes-video")&&(k="visually impaired"),S.length||p!=="subtitle"||S.push("subtitle"),e={id:e.F++,originalId:a,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:null,mimeType:x,codecs:t,kind:n==wt?"subtitle":void 0,encrypted:!1,drmInfos:[],keyIds:new Set,language:Jt(r||"und"),originalLanguage:r,label:a,type:n,primary:i,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:null,frameRate:void 0,pixelAspectRatio:void 0,width:void 0,height:void 0,bandwidth:void 0,roles:S,forced:g,channelsCount:u,audioSamplingRate:v,spatialAudio:y,closedCaptions:l,hdr:void 0,colorGamut:void 0,videoLayout:void 0,tilesLayout:void 0,accessibilityPurpose:k,external:!1,fastSwitching:!1,fullMimeTypes:new Set,isAudioMuxedInVideo:!1,baseOriginalId:null},dl(e),e}function iI(e,t,n,r,i){var a,u,l,p,g,v,y,x,S,k,C,E,I,_,F,B,q,O,N,H,z,Y,K,J,ie,ne,ue,oe,pe;return P(function(xe){switch(xe.g){case 1:if(a=new Map,!e.g.ignoreDrmInfo&&t.segments){for(u=w(t.segments),l=u.next();!l.done;l=u.next())if(p=l.value,g=Ki(p.ca,"EXT-X-KEY"),v=null,g.length)for(v=uI(e,t,p.ca,r,i),y=w(g),x=y.next();!x.done;x=y.next())S=x.value,a.set(S,v)}C=k=!1,E=[],I=new Set,_=w(a),F=_.next();case 2:if(F.done){xe.s(4);break}if(B=F.value,q=w(B),O=q.next().value,N=q.next().value,H=O,z=N,Y=Kt(H,"METHOD"),Y=="NONE"){xe.s(3);break}if(k=!0,K=Ve(H,"KEYFORMAT")||"identity",J=null,Rv(Y)){C=!0,xe.s(3);break}if(K=="identity")return T(xe,fI(e,H,n,r,z,i),11);if(ie=e.Sb.get(K),!ie){ne=null,xe.s(9);break}return T(xe,ie(H,n,z),10);case 10:ne=xe.h;case 9:J=ne,xe.s(6);break;case 11:J=xe.h;case 6:if(J){if(J.keyIds)for(ue=w(J.keyIds),oe=ue.next();!oe.done;oe=ue.next())pe=oe.value,I.add(pe);E.push(J)}case 3:F=_.next(),xe.s(2);break;case 4:return xe.return({drmInfos:E,keyIds:I,encrypted:k,Bg:C})}})}function aI(e,t,n,r,i){if(!d.crypto||!d.crypto.subtle)throw Be("Web Crypto API is not available to decrypt AES. (Web Crypto only exists in secure origins like https)"),new $(2,4,4042);var a=0,u=Ve(t,"IV","");if(u){var l=Fu(u.substr(2));if(l.byteLength!=16)throw new $(2,4,4048)}else a=hd(n.ca,"EXT-X-MEDIA-SEQUENCE",0);var p=Ks(r(),Kt(t,"URI"),i),g=p.sort().join("");if(n=t.toString()+"-"+a+"-"+g,!e.ka.has(n)){var v={bitsKey:128,blockCipherMode:"CBC",iv:l,firstMediaSequenceNumber:a};switch(Kt(t,"METHOD")){case"AES-256":v.bitsKey=256;break;case"AES-256-CTR":v.bitsKey=256,v.blockCipherMode="CTR"}v.fetchKey=function(){var y,x,S,k;return P(function(C){if(C.g==1)return e.L.has(g)||(y=qn(p,e.g.retryParameters),x=Yo(e,y,6).promise,e.L.set(g,x)),T(C,e.L.get(g),2);if(C.g!=3){if(S=C.h,!S.data||S.data.byteLength!=v.bitsKey/8)throw new $(2,4,4049);return k={name:v.blockCipherMode=="CTR"?"AES-CTR":"AES-CBC",length:v.bitsKey},T(C,d.crypto.subtle.importKey("raw",S.data,k,!0,["decrypt"]),3)}v.cryptoKey=C.h,v.fetchKey=void 0,ae(C)})},e.ka.set(n,v)}return e.ka.get(n)}function oI(e,t){e.u==null&&(t=ar(t.ca,"EXT-X-START"))&&(e.u=Number(Kt(t,"TIME-OFFSET")))}function fj(e,t){var n=ar(t.ca,"EXT-X-PLAYLIST-TYPE");t=ar(t.ca,"EXT-X-ENDLIST"),t=n&&n.value=="VOD"||t,n=n&&n.value=="EVENT"&&!t,n=!t&&!n,t?Lv(e,Nv):n?Lv(e,Uv):Lv(e,vI)}function vw(e,t){var n=1/0,r=t.segments;if(r.length)for(var i=r.length-1;0<=i;){var a=ar(r[i].ca,"EXTINF");if(a){n=Number(a.value.split(",")[0]);break}i--}if(r=ar(t.ca,"EXT-X-TARGETDURATION"),!r)throw new $(2,4,4024,"EXT-X-TARGETDURATION");r=Number(r.value),(i=ar(t.ca,"EXT-X-PART-INF"))&&(e.P=Number(Kt(i,"PART-TARGET"))),t=ar(t.ca,"EXT-X-SERVER-CONTROL"),e.fa&&e.P?(e.o=e.Tb?5*e.P<=n?Math.min(e.P,e.o):Math.min(n,e.o):Math.min(e.P,e.o),e.Fa=t?Number(Kt(t,"PART-HOLD-BACK")):0):(e.o=Math.min(n,e.o),n=t?pd(t,"HOLD-BACK"):null,e.Aa=n?Number(n.value):0),e.La=Math.max(r,e.La)}function sI(e,t){var n=0;if(e.g.defaultPresentationDelay)n=e.g.defaultPresentationDelay;else if(e.Fa)n=e.Fa;else if(e.Aa)n=e.Aa;else{var r=t.segments.length,i=e.g.hls.liveSegmentsDelay;for(i>r-2&&(i=Math.max(1,r-2)),i=r-i;i<r;i++){var a=ar(t.segments[i].ca,"EXTINF");n=a?n+Math.ceil(Number(a.value.split(",")[0])):n+e.La}}e.u&&0>e.u&&(n=Math.min(-e.u,n),e.u+=n),e.l.yh(0),e.l.jg(n),e.l.Gc(!1)}function uI(e,t,n,r,i){var a=ar(n,"EXT-X-MAP");if(!a)return null;var u=Kt(a,"URI"),l=Ks(r(),u,i);if(u=[l.toString(),Ve(a,"BYTERANGE","")].join("-"),!e.sa.has(u)){var p=void 0,g=null,v=!1;n=w(n);for(var y=n.next();!y.done;y=n.next())y=y.value,y.name=="EXT-X-KEY"?(v=Kt(y,"METHOD"),Rv(v)&&y.id<a.id?(v=!1,p=aI(e,y,t,r,i)):v=v!="NONE"):y.name=="EXT-X-BYTERANGE"&&y.id<a.id&&(g=y);t=gj(l,a,g,p,v),e.sa.set(u,t)}return e.sa.get(u)}function gj(e,t,n,r,i){var a=0,u=null;return t=Ve(t,"BYTERANGE"),!t&&n&&(t=n.value),t&&(a=t.split("@"),u=Number(a[0]),a=Number(a[1]),u=a+u-1,r&&(n=u+1-a,n%16&&(u+=16-n%16))),new Xr(function(){return e},a,u,null,null,null,r,i)}function mj(e,t,n,r,i,a,u,l,p){function g(xe){xe=new ee(xe).ab.split(".").pop();var tt=Sw.get(u).get(xe);return tt||(tt=xw.get(xe)),tt}var v=r.ca,y=ar(v,"EXTINF"),x=0,S=0,k=null;r.Jb.length&&(e.m.isLowLatency=!0);var C=null;if(!e.g.hls.ignoreManifestProgramDateTime){var E=ar(v,"EXT-X-PROGRAM-DATE-TIME");E&&E.value&&(C=_s(E.value),e.Ma=!0)}var I=Fo;if(ar(v,"EXT-X-GAP")&&(e.m.gapCount++,I=2),!y){if(r.Jb.length==0)throw new $(2,4,4024,"EXTINF");if(!e.fa)return null}var _=[];E=!1;var F=null,B=!1,q=!1;if(e.fa&&r.Jb.length){x=t&&d.ReadableStream&&e.g.hls.allowLowLatencyByteRangeOptimization;for(var O=C,N={},H=0;H<r.Jb.length;N={Le:void 0,re:void 0},H++){var z=r.Jb[H],Y=H==0?n:_[_.length-1],K=H==0?i:Y.endTime,J=Number(Ve(z,"DURATION"))||e.P;if(J){var ie=K+J,ne=0,ue=null;if(z.name=="EXT-X-PRELOAD-HINT"?(ne=(ne=Ve(z,"BYTERANGE-START"))?Number(ne):0,(Y=Ve(z,"BYTERANGE-LENGTH"))?ue=ne+Number(Y)-1:ne&&(ue=Number.MAX_SAFE_INTEGER)):(ne=Ve(z,"BYTERANGE"),ue=w(lI(Y,ne)),ne=ue.next().value,ue=ue.next().value),N.re=Ve(z,"URI"),N.re){Y=Fo,Ve(z,"GAP")=="YES"&&(e.m.gapCount++,Y=2,B=!0),N.Le=null;var oe=function(xe){return function(){return xe.Le==null&&(xe.Le=Ks(l(),xe.re,a)),xe.Le}}(N);x&&0<=ne&&ue!=null&&(F=oe,E=!0),K=new Ge(K,ie,oe,ne,ue,t,0,0,1/0,[],"",null,O,Y,p),z.name=="EXT-X-PRELOAD-HINT"&&(K.Sf(),q=!0),Ve(z,"INDEPENDENT")!="YES"&&0<H&&K.Vc(),(N=g(N.re))&&(K.mimeType=N,mI.has(N)&&(K.$=null)),_.push(K),O&&(O+=J)}}}}if(y){if(y=Number(y.value.split(",")[0]),y==0)return null;x=i+y}else if(_.length)x=_[_.length-1].endTime;else return null;E&&(B||_[0].Sa!=0?(E=!1,F=null):_=[]),(y=ar(v,"EXT-X-BYTERANGE"))?(k=w(lI(n,y.value)),S=k.next().value,k=k.next().value):_.length&&(S=_[0].Sa,k=_[_.length-1].wa),n="",y=null,u=="image"&&(n="1x1",v=ar(v,"EXT-X-TILES"))&&(n=Kt(v,"LAYOUT"),(v=Ve(v,"DURATION"))&&(y=Number(v)));var pe=null;return t=new Ge(i,x,function(){return F?F():(pe==null&&(pe=Ks(l(),r.g,a)),pe||[])},S,k,t,0,0,1/0,_,n,y,C,I,p,0<_.length&&!!r.g),(i=g(r.g))&&(t.mimeType=i,mI.has(i)&&(t.$=null)),E&&(e.Tb=!0,t.dh(),q&&t.Sf()),t}function lI(e,t){var n=0,r=null;return t&&(n=t.split("@"),t=Number(n[0]),n=n[1]?Number(n[1]):e.wa+1,r=n+t-1),[n,r]}function yw(e,t,n,r,i){if(n=="video"||n=="audio"){var a=e.l.m;if(a&&!Kh(e,n))for(t=Ki(t,"EXT-X-DATERANGE"),t=t.filter(function(K){return pd(K,"START-DATE")!=null}).sort(function(K,J){return K=Kt(K,"START-DATE"),J=Kt(J,"START-DATE"),K<J?-1:K>J?1:0}),n=0;n<t.length;n++){var u=t[n];try{var l=Kt(u,"ID");if(!e.ya.has(l)){var p=Kt(u,"START-DATE"),g=_s(p);if(!isNaN(g)){var v=Math.max(0,g-a),y=null,x=Ve(u,"END-DATE");if(x){var S=_s(x);if(!isNaN(S)&&(y=S-a,0>y))continue}if(y==null){var k=Ve(u,"DURATION")||Ve(u,"PLANNED-DURATION");if(k){var C=parseFloat(k);if(isNaN(C)||(y=v+C),0>g-a+C)continue}}var E=Ve(u,"CLASS")||"com.apple.quicktime.HLS",I=Ve(u,"END-ON-NEXT")=="YES";if(y==null&&I){for(var _=n+1;_<t.length;_++){var F=Ve(t[_],"CLASS")||"com.apple.quicktime.HLS";if(E==F){var B=Kt(t[_],"START-DATE"),q=_s(B);if(!isNaN(q)&&q&&q>g){y=Math.max(0,q-a);break}}}if(y==null)continue}_=["CLASS","START-DATE","END-DATE","DURATION","END-ON-NEXT"];for(var O=[],N=w(u.attributes),H=N.next();!H.done;H=N.next()){var z=H.value;if(!_.includes(z.name)){var Y=zC(z.value,r);(z.name=="X-ASSET-URI"||z.name=="X-ASSET-LIST")&&(Y=Ks(i(),z.value,r)[0]),O.push({key:z.name,description:"",data:Y,mimeType:null,pictureType:null})}}1<O.length&&e.h.onMetadata(E,v,y,O),e.ya.add(l)}}}catch{}}}}function cI(e,t,n,r,i,a){var u=t.segments,l=void 0,p=hd(t.ca,"EXT-X-DISCONTINUITY-SEQUENCE",-1),g=hd(t.ca,"EXT-X-MEDIA-SEQUENCE",0),v=ar(t.ca,"EXT-X-SKIP"),y=v?Number(Ve(v,"SKIPPED-SEGMENTS")):0,x=g+y,S=0;Br(e)&&n.has(x)&&(S=n.get(x)),S===0&&e.Ea==Uv&&0<n.size&&!n.has(x)&&e.l.i!=null&&(S=e.l.pb());var k=[],C=null;v=[];for(var E=0;E<u.length;E++){var I=u[E],_=E==0?S:C.endTime;x=g+y+E,ar(I.ca,"EXT-X-DISCONTINUITY")&&(p++,C&&C.$&&(C.$.g=_));for(var F=w(I.ca),B=F.next();!B.done;B=F.next())B=B.value,B.name=="EXT-X-KEY"&&(Rv(Kt(B,"METHOD"))?l=aI(e,B,t,i,r):l=void 0);n.set(x,_),F=uI(e,t,I.ca,i,r),(_=mj(e,F,C,I,_,r,a,i,l))&&((C=hd(I.ca,"EXT-X-BITRATE"))?v.push({bitrate:C,duration:_.endTime-_.startTime}):v.length&&(C=v.pop(),C.duration+=_.endTime-_.startTime,v.push(C)),C=_,_.i=p,Kh(e,a)&&e.K!=null&&x<e.K||k.push(_))}if(t=void 0,v.length&&(t=v.reduce(function(q,O){return q+O.duration},0),t=Math.round(v.reduce(function(q,O){return q+O.bitrate*O.duration},0)/t*1e3)),v=k.some(function(q){return q.h!=null})){for(n={},r=0;r<k.length;n={Xd:void 0,Wd:void 0,Qd:void 0,Dc:void 0,Pd:void 0},r++)if(n.Dc=k[r],n.Dc.h==null)for(n.Wd=0,n.Xd=r,i=function(q){return function(){var O=k[q.Xd];if(O){if(O.h!=null)return O.h+q.Wd;q.Wd-=O.endTime-O.startTime,q.Xd+=1}return null}}(n),n.Pd=0,n.Qd=r,u=function(q){return function(){var O=k[q.Qd];if(O){if(O!=q.Dc&&(q.Pd+=O.endTime-O.startTime),O.h!=null)return O.h+q.Pd;--q.Qd}return null}}(n);n.Dc.h==null;)n.Dc.h=u(),n.Dc.h==null&&(n.Dc.h=i())}if(v)for(n=w(k),r=n.next();!r.done;r=n.next())for(i=r.value,r=i.h,i=w(i.g),u=i.next();!u.done;u=i.next())u=u.value,u.h=r,r+=u.endTime-u.startTime;if(n=e.ea,v&&n!=1/0&&!Kh(e,a))for(e=w(k),a=e.next();!a.done;a=e.next())a.value.qg(n);return{segments:k,bandwidth:t}}function bw(e,t){if(e==wt){if(t=="vtt"||t=="wvtt")return"text/vtt";if(t&&t!=="")return"application/mp4"}return e!="image"||t&&t!="jpeg"?e=="audio"&&t=="mp4a.40.34"?"audio/mpeg":t=="mjpg"?"application/mp4":null:"image/jpeg"}function Pv(e){return e==wt?"text/vtt":Sw.get(e).get("mp4")}function dI(e,t){e=Br(e)?Math.trunc((t.length-1)/2):0;for(var n=t[e];n.dc()==2&&e+1<t.length;)e++,n=t[e];return{segment:n,segmentIndex:e}}function vj(e,t,n,r){var i,a,u,l,p,g,v,y,x,S,k,C,E;return P(function(I){switch(I.g){case 1:return i=ha,a=dI(e,r),u=a.segment,u.status==2?I.return(Pv(t)):(l=u.N(),p=new ee(l[0]),g=p.ab.split(".").pop(),v=Sw.get(t),(y=v.get(g))||(y=xw.get(g))||(y=bw(t,n))?I.return(y):(S=1,k=qn(l,e.g.retryParameters),me(I,2),k.method="HEAD",T(I,Yo(e,k,i,{type:S}).promise,4)));case 4:C=I.h,x=C.headers["content-type"],V(I,3);break;case 2:if(E=W(I),!E||E.code!=1002&&E.code!=1001){I.s(3);break}return k.method="GET",e.g.hls.allowRangeRequestsToGuessMimeType&&(k.headers.Range="bytes=0-0"),T(I,Yo(e,k,i,{type:S}).promise,6);case 6:C=I.h,x=C.headers["content-type"];case 3:if(!x){I.s(7);break}if(y=x.toLowerCase().split(";")[0],y!="application/octet-stream"){I.s(8);break}if(C.data.byteLength){I.s(9);break}return k.method="GET",T(I,Yo(e,k,i,{type:S}).promise,10);case 10:C=I.h;case 9:$c(Ye(C.data))&&(y="video/mp2t");case 8:if(y!="application/octet-stream")return I.return(y);case 7:return I.return(Pv(t))}})}function pI(e,t,n,r,i,a,u){e&&(e.width=Number(t)||void 0,e.height=Number(n)||void 0,e.frameRate=Number(r)||void 0,e.hdr=i||void 0,e.videoLayout=a||void 0,e.colorGamut=u||void 0)}function ww(e,t,n){return Yo(e,qn(t,e.g.retryParameters),0,{type:n?2:3})}function hI(e){var t,n,r,i,a,u;return P(function(l){switch(l.g){case 1:return e.h?(me(l,2),t=Date.now(),T(l,e.update(),4)):l.return();case 4:n=Date.now(),Br(e)&&(r=(n-t)/1e3,e.Pb.sample(1,r),i=0<e.g.updatePeriod?e.g.updatePeriod:e.o,a=Math.max(0,i-$e(e.Pb)),e.B.da(a)),V(l,3);break;case 2:if(u=W(l),!e.h)return l.return();if(e.g.raiseFatalErrorOnManifestUpdateRequestFailure)return e.h.onError(u),l.return();u.severity=1,e.h.onError(u),e.B.da(.1);case 3:if(!e.h)return l.return();e.h.onManifestUpdated(),ae(l)}})}function Br(e){return e.Ea!=Nv}function Lv(e,t){e.Ea=t,e.l&&e.l.Gc(!Br(e)),Br(e)||e.B.stop()}function Yo(e,t,n,r){if(!e.Y)throw new $(2,7,7001);return r||(r={}),r.isPreload=e.Qb(),t=e.h.networkingEngine.request(n,t,r),Ju(e.Y,t),t}function Rv(e){return e=="AES-128"||e=="AES-256"||e=="AES-256-CTR"}function yj(e,t,n,r){var i,a,u,l,p,g;return P(function(v){if(v.g==1){if(n=="video/mp2t")throw new $(2,4,4040);if(d.shakaMediaKeysPolyfill==="apple")throw new $(2,4,4041);if(i=Kt(t,"METHOD"),a=["SAMPLE-AES","SAMPLE-AES-CTR"],!a.includes(i))return v.return(null);u="cenc",i=="SAMPLE-AES"&&(u="cbcs"),l=Kt(t,"URI"),p=Ms("com.apple.fps",u,[{initDataType:"sinf",initData:new Uint8Array(0),keyId:null}],l);var y=new ee(l).nb.replace(/-/g,"").toLowerCase();return(g=y.length===32&&/^[0-9a-f]+$/.test(y)?y:null)||!r?v.s(2):T(v,gI(e,r),3)}return v.g!=2&&(g=v.h),g&&p.keyIds.add(g),v.return(p)})}function fI(e,t,n,r,i,a){var u,l,p,g,v,y,x,S,k,C,E,I;return P(function(_){switch(_.g){case 1:if(n=="video/mp2t")throw new $(2,4,4040);if(d.shakaMediaKeysPolyfill==="apple")throw new $(2,4,4041);if(u=Kt(t,"METHOD"),l=["SAMPLE-AES","SAMPLE-AES-CTR"],!l.includes(u))return _.return(null);if(p=Ks(r(),Kt(t,"URI"),a),p[0].startsWith("data:text/plain;base64,")){g=_o(zi(p[0].split("data:text/plain;base64,").pop())),_.s(2);break}return v=p.sort().join(""),e.oa.has(v)||(y=qn(p,e.g.retryParameters),x=Yo(e,y,6).promise,e.oa.set(v,x)),T(_,e.oa.get(v),3);case 3:S=_.h,g=_o(S.data);case 2:if(k="00000000000000000000000000000000",!i){_.s(4);break}return T(_,gI(e,i),5);case 5:(C=_.h)&&(k=C);case 4:return E=new Map,E.set(k,g),I="cenc",u=="SAMPLE-AES"&&(I="cbcs"),_.return(e5(E,I))}})}function gI(e,t){var n,r,i,a;return P(function(u){return u.g==1?(n=null,e.pa.has(t)?(n=e.pa.get(t),u.s(2)):(r=vh(t.N(),t.uc(),t.tc(),e.g.retryParameters),i=ha,T(u,Yo(e,r,i,{type:0}).promise,3))):(u.g!=2&&(a=u.h,t.Kd(a.data),n=E9(a.data),e.pa.set(t,n)),u.return(n))})}Ee("shaka.hls.HlsParser",_v);var xw=new Map().set("aac","audio/aac").set("ac3","audio/ac3").set("ec3","audio/ec3").set("mp3","audio/mpeg"),bj=new Map().set("mp4","audio/mp4").set("mp4a","audio/mp4").set("m4s","audio/mp4").set("m4i","audio/mp4").set("m4a","audio/mp4").set("m4f","audio/mp4").set("cmfa","audio/mp4").set("ts","video/mp2t").set("tsa","video/mp2t"),wj=new Map().set("mp4","video/mp4").set("mp4v","video/mp4").set("m4s","video/mp4").set("m4i","video/mp4").set("m4v","video/mp4").set("m4f","video/mp4").set("cmfv","video/mp4").set("ts","video/mp2t").set("tsv","video/mp2t"),xj=new Map().set("mp4","application/mp4").set("m4s","application/mp4").set("m4i","application/mp4").set("m4f","application/mp4").set("cmft","application/mp4").set("vtt","text/vtt").set("webvtt","text/vtt").set("ttml","application/ttml+xml"),Sj=new Map().set("jpg","image/jpeg").set("png","image/png").set("svg","image/svg+xml").set("webp","image/webp").set("avif","image/avif"),Sw=new Map().set("audio",bj).set("video",wj).set("text",xj).set("image",Sj),mI=new Set(["video/mp2t"].concat(j(No))),Nv="VOD",vI="EVENT",Uv="LIVE",kj={Ph:Nv,Zj:vI,gk:Uv};Zu("application/x-mpegurl",function(){return new _v}),Zu("application/vnd.apple.mpegurl",function(){return new _v});function Ov(e){return mv(e)}var Tj=new Map().set("com.microsoft.playready",Ov).set("com.microsoft.playready.recommendation",Ov).set("com.microsoft.playready.software",Ov).set("com.microsoft.playready.hardware",Ov);function kw(){var e=this;this.h=this.g=null,this.l=[],this.j=null,this.u=1,this.i=null,this.C=new fe(5),this.o=new kt(function(){Aj(e)}),this.B=new Rc,this.m=new Map,this.A=function(){return!1}}f=kw.prototype,f.configure=function(e,t){this.g=e,t&&(this.A=t)},f.start=function(e,t){var n=this;return P(function(r){if(r.g==1)return n.l=[e],n.h=t,T(r,Tw(n),2);if(!n.h)throw new $(2,7,7001);return r.return(n.j)})};function Aj(e){var t;P(function(n){switch(n.g){case 1:return me(n,2),T(n,Tw(e),4);case 4:V(n,3);break;case 2:t=W(n),e.h&&(t.severity=1,e.h.onError(t));case 3:if(!e.h)return n.return();ae(n)}})}f.stop=function(){return this.g=this.h=null,this.l=[],this.j=null,this.o!=null&&(this.o.stop(),this.o=null),this.m.clear(),this.B.destroy()},f.update=function(){var e=this,t;return P(function(n){if(n.g==1)return me(n,2),T(n,Tw(e),4);if(n.g!=2)return V(n,0);if(t=W(n),!e.h||!t)return n.return();e.h.onError(t),ae(n)})},f.onExpirationUpdated=function(){},f.onInitialVariantChosen=function(){},f.banLocation=function(){},f.setMediaElement=function(){};function Tw(e){var t,n,r,i,a,u,l;return P(function(p){if(p.g==1)return t=qn(e.l,e.g.retryParameters),n=e.h.networkingEngine,r=Date.now(),i=n.request(0,t,{type:5,isPreload:e.A()}),Ju(e.B,i),T(p,i.promise,2);if(a=p.h,!e.h)return p.return();a.uri&&!e.l.includes(a.uri)&&e.l.unshift(a.uri);var g=a.uri,v=a.data,y=e.g.mss.manifestPreprocessor;if(y!=Fm){if(ut("manifest.mss.manifestPreprocessor configuration","Please Use manifest.mss.manifestPreprocessorTXml instead."),v=AC(v,"SmoothStreamingMedia"),!v)throw new $(2,4,4046,g);y(v),v=la(v.outerHTML)}var x=Hp(v,"SmoothStreamingMedia");if(!x)throw new $(2,4,4046,g);if(g=e.g.mss.manifestPreprocessorTXml,g!=Bm&&g(x),e.i||(e.i=new Ke(null,0)),g=st(x,"IsLive",Wg,!1))throw new $(2,4,4047);e.i.Gc(!g),y=st(x,"TimeScale",_r,1e7),v=st(x,"DVRWindowLength",_r),g&&(v===0||isNaN(v))&&(v=1/0);var S=st(x,"CanSeek",Wg,!1);v===0&&S&&(v=1/0),S=null,v&&0<v&&(S=v/y),g&&!isNaN(e.g.availabilityWindowOverride)&&(S=e.g.availabilityWindowOverride),S==null&&(S=1/0),e.i.Ce(S),v=st(x,"Duration",_r,1/0),g||e.i.bb(v/y),g={variants:[],textStreams:[],timescale:y,duration:v/y};var k;for(S=Gt(x,"Protection"),y=e.g.mss.keySystemsBySystemId,v=[],S=w(S),k=S.next();!k.done;k=S.next())v=v.concat(Gt(k.value,"ProtectionHeader"));if(v.length){for(S=[],k=0;k<v.length;k++){var C=v[k],E=C.attributes.SystemID.toLowerCase(),I=y[E];if(I){var _;e:{if(_=nC(C)){_=w(Ua(_,"DATA"));for(var F=_.next();!F.done;F=_.next())if(F=Nn(F.value,"KID")){_=zi(jn(F)),_=new Uint8Array([_[3],_[2],_[1],_[0],_[5],_[4],_[7],_[6]].concat(j(_.slice(8)))),_=_o(_);break e}}_=null}F=zi(jn(C)),E=Fu(E.replace(/-/g,"")),E=[{initData:cm(F,E,new Set,0),initDataType:"cenc",keyId:_}],E=Ms(I,"cenc",E),_&&E.keyIds.add(_),(I=Tj.get(I))&&(E.licenseServerUri=I(C)),S.push(E)}}y=S}else y=[];for(k=y,S=[],y=[],v=[],x=Gt(x,"StreamIndex"),x=w(x),C=x.next();!C.done;C=x.next()){C=C.value,I=Gt(C,"QualityLevel"),E=g.timescale,_=g.duration,F=Gt(C,"c");for(var B=[],q=0,O=0;O<F.length;++O){var N=F[O],H=F[O+1],z=st(N,"t",_r),Y=st(N,"d",_r);if(N=st(N,"r",Or),!Y)break;if(z=z??q,(N=N||0)&&N--,0>N)if(H){if(H=st(H,"t",_r),H==null||z>=H)break;N=Math.ceil((H-z)/Y)-1}else{if(_==1/0||z/E>=_)break;N=Math.ceil((_*E-z)/Y)-1}for(H=0;H<=N;++H)q=z+Y,B.push({start:z/E,end:q/E,xg:z}),z=q}for(E=B,I=w(I),_=I.next();!_.done;_=I.next())(_=Ej(e,C,_.value,E,k,g))&&(_.type!="audio"||e.g.disableAudio?_.type!="video"||e.g.disableVideo?_.type!=wt||e.g.disableText||v.push(_):y.push(_):S.push(_))}for(x=[],S=w(0<S.length?S:[null]),k=S.next();!k.done;k=S.next())for(k=k.value,C=w(0<y.length?y:[null]),B=C.next();!B.done;B=C.next())I=x,E=I.push,_=e,F=k,B=B.value,O=0,F&&F.bandwidth&&0<F.bandwidth&&(O+=F.bandwidth),B&&B.bandwidth&&0<B.bandwidth&&(O+=B.bandwidth),_={id:_.u++,language:F?F.language:"und",disabledUntilTime:0,primary:!!F&&F.primary||!!B&&B.primary,audio:F,video:B,bandwidth:O,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]},E.call(I,_);g.variants=x,g.textStreams=v,e.j?(e.j.variants=g.variants,e.j.textStreams=g.textStreams,e.h.filter(e.j)):(e.j={presentationTimeline:e.i,variants:g.variants,textStreams:g.textStreams,imageStreams:[],offlineSessionIds:[],sequenceMode:e.g.mss.sequenceMode,ignoreManifestTimestampsInSegmentsMode:!1,type:"MSS",serviceDescription:null,nextUrl:null,periodCount:1,gapCount:0,isLowLatency:!1,startTime:null},e.i.ie()),Promise.resolve(),u=Date.now(),l=(u-r)/1e3,e.C.sample(1,l),ae(p)})}function Ej(e,t,n,r,i,a){var u=t.attributes.Type;if(u!=="audio"&&u!=="video"&&u!=="text")return Be("Ignoring unrecognized type:",u),null;var l=t.attributes.Language,p=e.u++,g=st(n,"Bitrate",Po),v=st(n,"MaxWidth",Po),y=st(n,"MaxHeight",Po),x=st(n,"Channels",Po),S=st(n,"SamplingRate",Po),k=a.duration;r.length&&(k=r[r.length-1].end-r[0].start);var C=e.i.getDuration();e.i.bb(Math.min(k,C));var E={id:p,originalId:t.attributes.Name||String(p),groupId:null,createSegmentIndex:function(){return Promise.resolve()},closeSegmentIndex:function(){return Promise.resolve()},segmentIndex:null,mimeType:"",codecs:"",frameRate:void 0,pixelAspectRatio:void 0,bandwidth:g||0,width:v||void 0,height:y||void 0,kind:"",encrypted:0<i.length,drmInfos:i,keyIds:new Set,language:Jt(l||"und"),originalLanguage:l,label:"",type:"",primary:!1,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:[],roles:[],forced:!1,channelsCount:x,audioSamplingRate:S,spatialAudio:!1,closedCaptions:null,hdr:void 0,colorGamut:void 0,videoLayout:void 0,tilesLayout:void 0,matchedStreams:[],mssPrivateData:{duration:k,timescale:a.timescale,codecPrivateData:null},accessibilityPurpose:null,external:!1,fastSwitching:!1,fullMimeTypes:new Set,isAudioMuxedInVideo:!1,baseOriginalId:null};if((i=t.attributes.Subtype)&&((i=Pj.get(i))&&E.roles.push(i),i==="main"&&(E.primary=!0)),i=n.attributes.FourCC,(i===null||i==="")&&(i=t.attributes.FourCC),!i){if(u==="audio")i="AAC";else if(u==="video")return Be('FourCC is not defined whereas it is required for a QualityLevel element for a StreamIndex of type "video"'),null}if(!Dj.includes(i.toUpperCase()))return Be("Codec not supported:",i),null;switch(n=Cj(n,u,i,E),E.mssPrivateData.codecPrivateData=n,u){case"audio":if(!n)return Be("Quality unsupported without CodecPrivateData",u),null;E.type="audio",E.mimeType="mss/audio/mp4",E.codecs=Ij(i,n);break;case"video":if(!n)return Be("Quality unsupported without CodecPrivateData",u),null;E.type="video",E.mimeType="mss/video/mp4",E.codecs=Mj(n);break;case"text":E.type=wt,E.mimeType="application/mp4",(i==="TTML"||i==="DFXP")&&(E.codecs="stpp")}return E.fullMimeTypes.add(Dn(E.mimeType,E.codecs)),E.createSegmentIndex=function(){if(E.segmentIndex)return Promise.resolve();if(e.m.has(E.id))var I=e.m.get(E.id);else I=[],E.type=="video"&&(I=E.mssPrivateData.codecPrivateData.split("00000001").slice(1)),I={id:E.id,type:E.type,codecs:E.codecs,encrypted:E.encrypted,timescale:E.mssPrivateData.timescale,duration:E.mssPrivateData.duration,lb:I,ra:new Uint8Array([]),Ca:new Uint8Array([]),Ia:0,Ka:0,data:null,stream:E},I=Fc(new el([I])),e.m.set(E.id,I);return I=_j(e,new Xr(function(){return[]},0,null,Cm(E),E.mssPrivateData.timescale,I,null,E.encrypted),E,t,r),E.segmentIndex=new Ft(I),Promise.resolve()},E.closeSegmentIndex=function(){E.segmentIndex&&(E.segmentIndex.release(),E.segmentIndex=null)},E}function Cj(e,t,n,r){if(e=e.attributes.CodecPrivateData)return e;if(t!=="audio")return null;t=r.channelsCount||2,e=r.audioSamplingRate||44100;var i={96e3:0,88200:1,64e3:2,48e3:3,44100:4,32e3:5,24e3:6,22050:7,16e3:8,12e3:9,11025:10,8e3:11,7350:12};return r=i[e],n==="AACH"?(n=new Uint8Array(4),e=i[2*e],n[0]=40|r>>1,n[1]=r<<7|t<<3|e>>1,n[2]=e<<7|8,n[3]=0,t=new Uint16Array(2),t[0]=(n[0]<<8)+n[1],t[1]=(n[2]<<8)+n[3],t[0].toString(16)+t[1].toString(16)):(n=new Uint8Array(2),n[0]=16|r>>1,n[1]=r<<7|t<<3,t=new Uint16Array(1),t[0]=(n[0]<<8)+n[1],t[0].toString(16))}function Ij(e,t){var n=0;return e==="AACH"&&(n=5),t?n===0&&(n=(parseInt(t.substr(0,2),16)&248)>>3):(n=2,e==="AACH"&&(n=5)),"mp4a.40."+n}function Mj(e){var t=/00000001[0-9]7/.exec(e);return t.length&&e?"avc1."+e.substr(e.indexOf(t[0])+10,6):""}function _j(e,t,n,r,i){var a=r.attributes.Url.replace("{bitrate}",String(n.bandwidth));r=[],i=w(i);for(var u=i.next(),l={};!u.done;l={Fe:void 0},u=i.next())l.Fe=u.value,r.push(new Ge(l.Fe.start,l.Fe.end,function(p){return function(){return Qn(e.l,[a.replace("{start time}",String(p.Fe.xg))])}}(l),0,null,t,0,0,n.mssPrivateData.duration));return r}Ee("shaka.mss.MssParser",kw);var Dj="AAC AACL AACH AACP AVC1 H264 TTML DFXP".split(" "),Pj=new Map().set("CAPT","main").set("SUBT","alternate").set("DESC","main");Zu("application/vnd.ms-sstr+xml",function(){return new kw});function yI(e,t,n,r,i,a,u){if(200<=n&&299>=n&&n!=202||n==304)return{uri:i||r,originalUri:r,data:t,status:n,headers:e,fromCache:!!e["x-shaka-from-cache"],originalRequest:a};a=null;try{a=Qa(t)}catch{}throw new $(n==401||n==403?2:1,1,1001,r,n,a,e,u,i||r)}function Aw(){}function jv(e,t,n,r,i,a){var u=new Oj;Qu(t.headers).forEach(function(v,y){u.append(y,v)});var l=new Nj,p={Gg:!1,Jh:!1};if(e=Lj(e,t,n,{body:t.body||void 0,headers:u,method:t.method,signal:l.signal,credentials:t.allowCrossSiteCredentials?"include":void 0},p,r,i,t.streamDataCallback,a.minBytesForProgressEvents||0),e=new Pn(e,function(){return p.Gg=!0,l.abort(),Promise.resolve()}),t=t.retryParameters.timeout){var g=new kt(function(){p.Jh=!0,l.abort()});g.da(t/1e3),e.finally(function(){g.stop()})}return e}function Lj(e,t,n,r,i,a,u,l,p){var g,v,y,x,S,k,C,E,I,_,F,B,q,O;return P(function(N){switch(N.g){case 1:return g=Rj,v=Uj,x=new ArrayBuffer(0),k=S=0,C=Date.now(),me(N,2),T(N,g(e,r),4);case 4:if(y=N.h,u(bI(y.headers)),r.method=="HEAD"){N.s(5);break}return I=(E=y.headers.get("Content-Length"))?parseInt(E,10):0,y.body?(_=y.clone().body.getReader(),F=function(H){function z(){var Y,K,J,ie;return P(function(ne){switch(ne.g){case 1:return me(ne,2),T(ne,_.read(),4);case 4:Y=ne.h,V(ne,3);break;case 2:return W(ne),ne.return();case 3:if(Y.done){ne.s(5);break}if(S+=Y.value.byteLength,!l){ne.s(5);break}return T(ne,l(Y.value),5);case 5:K=Date.now(),J=S-k,(100<K-C&&J>=p||Y.done)&&(ie=Y.done?0:I-S,a(K-C,J,ie),k=S,C=K),Y.done?H.close():(H.enqueue(Y.value),z()),ae(ne)}})}z()},new v({start:F}),T(N,y.arrayBuffer(),8)):T(N,y.arrayBuffer(),9);case 8:x=N.h,N.s(5);break;case 9:x=N.h,B=Date.now(),a(B-C,x.byteLength,0);case 5:V(N,3);break;case 2:throw q=W(N),i.Gg?new $(1,1,7001,e,n):i.Jh?new $(1,1,1003,e,n):new $(1,1,1002,e,q,n);case 3:return O=bI(y.headers),N.return(yI(O,x,y.status,e,y.url,t,n))}})}function bI(e){var t={};return e.forEach(function(n,r){t[r.trim()]=n}),t}function wI(){if(d.ReadableStream)try{new ReadableStream({})}catch{return!1}else return!1;if(d.Response){if(!new Response("").body)return!1}else return!1;return!(!d.fetch||"polyfill"in d.fetch||!d.AbortController)}Ee("shaka.net.HttpFetchPlugin",Aw),Aw.isSupported=wI,Aw.parse=jv;var Rj=d.fetch,Nj=d.AbortController,Uj=d.ReadableStream,Oj=d.Headers;wI()&&(Oo("http",jv,2,!0),Oo("https",jv,2,!0),Oo("blob",jv,2,!0));function xI(){}function Fv(e,t,n,r,i,a){var u=new jj,l=Date.now(),p=0,g=new Promise(function(v,y){u.open(t.method,e,!0),u.responseType="arraybuffer",u.timeout=t.retryParameters.timeout,u.withCredentials=t.allowCrossSiteCredentials,u.onabort=function(){y(new $(1,1,7001,e,n))};var x=!1;u.onreadystatechange=function(){if(u.readyState==2&&!x){var k=SI(u);i(k),x=!0}},u.onload=function(k){var C=SI(u),E=u.response;try{r(Date.now()-l,k.loaded-p,0);var I=yI(C,E,u.status,e,u.responseURL,t,n);v(I)}catch(_){y(_)}},u.onerror=function(k){y(new $(1,1,1002,e,k,n))},u.ontimeout=function(){y(new $(1,1,1003,e,n))},u.onprogress=function(k){var C=Date.now(),E=a.minBytesForProgressEvents||0,I=k.loaded-p;(100<C-l&&I>=E||k.lengthComputable&&k.loaded==k.total)&&(r(C-l,I,u.readyState==4?0:k.total-k.loaded),p=k.loaded,l=C)};for(var S in t.headers)u.setRequestHeader(S.toLowerCase(),t.headers[S]);u.send(t.body)});return new Pn(g,function(){return u.abort(),Promise.resolve()})}function SI(e){var t=e.getAllResponseHeaders().trim().split(`\r
`);e={},t=w(t);for(var n=t.next();!n.done;n=t.next())n=n.value.split(": "),e[n[0].toLowerCase()]=n.slice(1).join(": ");return e}Ee("shaka.net.HttpXHRPlugin",xI),xI.parse=Fv;var jj=d.XMLHttpRequest;Oo("http",Fv,1,!0),Oo("https",Fv,1,!0),Oo("blob",Fv,1,!0);function kI(e,t,n,r,i){this.g=e,this.i=t,this.groupId=n,this.h=r,this.j=i}function Ew(e){var t=e.Ib(!1);return t?Mo(t):e.N().map(function(n){return"{"+encodeURI(n.split("#xywh=")[0])+"}"}).join("")+":"+e.Sa+":"+e.wa}function Fj(e,t){return vh(e.g.N(),e.g.Sa,e.g.wa,t.streaming.retryParameters)}function TI(){this.g=this.j=this.i=0,this.h=new Map,this.l=0}function AI(e,t){e.i+=t;var n=e.l;return e.l++,e.h.set(n,t),n}TI.prototype.close=function(e,t){if(this.h.has(e)){var n=this.h.get(e);this.h.delete(e),this.j+=n,this.g+=t}};function EI(e){return e.i==0?0:e.j/e.i}function CI(e){var t=this;this.u=e,this.i=new Map,this.h=new Nc(function(){return Cw(t).catch(function(){})}),this.j=[],this.o=function(){},this.m=function(){},this.g=new TI,this.l=!1}CI.prototype.destroy=function(){return this.h.destroy()};function Bj(e,t,n){e.o=t,e.m=n}function Cw(e){e.l=!0;var t=e.j.map(function(n){return n()});return e.j=[],Promise.all(t)}function Vj(e,t,n,r,i,a){nn(e.h);var u=(e.i.get(t)||Promise.resolve()).then(function(){var l,p,g,v,y,x,S;return P(function(k){if(k.g==1)return T(k,Hj(e,n),2);if(l=k.h,e.h.g)throw new $(2,9,7001);if(i)for(v in p=Ye(l),g=new kb(p),g.data)y=Number(v),x=g.data[y],S=g.g[y],e.m(x,S);return e.g.close(r,l.byteLength),e.o(EI(e.g),e.g.g),k.return(a(l))})});e.i.set(t,u)}function $j(e,t,n,r,i,a){nn(e.h);var u=(e.i.get(t)||Promise.resolve()).then(function(){if(e.h.g)throw new $(2,9,7001);if(i){var l=Ye(n);l=new kb(l);for(var p in l.data){var g=Number(p);e.m(l.data[g],l.g[g])}}return e.g.close(r,n.byteLength),e.o(EI(e.g),e.g.g),a(n)});e.i.set(t,u)}function zj(e){return P(function(t){return t.g==1?T(t,Promise.all(e.i.values()),2):t.return(e.g.g)})}function Hj(e,t){var n,r,i,a;return P(function(u){return u.g==1?(n=ha,r=e.u.request(n,t),i=function(){return r.abort()},e.j.push(i),T(u,r.promise,2)):(a=u.h,ca(e.j,i),u.return(a.data))})}function Bv(e,t){var n=this;this.i=e,this.h=e.objectStore(t),this.g=new Wt,e.onabort=function(r){r.preventDefault(),n.g.reject()},e.onerror=function(r){r.preventDefault(),n.g.reject()},e.oncomplete=function(){n.g.resolve()}}Bv.prototype.abort=function(){var e=this;return P(function(t){if(t.g==1){try{e.i.abort()}catch{}return me(t,2),T(t,e.g,4)}if(t.g!=2)return V(t,0);W(t),ae(t)})};function Iw(e,t){return new Promise(function(n,r){var i=e.h.openCursor();i.onerror=r,i.onsuccess=function(){var a;return P(function(u){if(u.g==1)return i.result==null?(n(),u.return()):(a=i.result,T(u,t(a.key,a.value,a),2));a.continue(),ae(u)})}})}Bv.prototype.store=function(){return this.h},Bv.prototype.promise=function(){return this.g};function Mw(e){this.h=e,this.g=[]}Mw.prototype.destroy=function(){return Promise.all(this.g.map(function(e){return e.abort()}))};function pl(e,t){return Vv(e,t,"readwrite")}function Vv(e,t,n){n=e.h.transaction([t],n);var r=new Bv(n,t);return e.g.push(r),r.promise().then(function(){ca(e.g,r)},function(){ca(e.g,r)}),r}function hl(e,t,n){this.h=new Mw(e),this.i=t,this.g=n}f=hl.prototype,f.destroy=function(){return this.h.destroy()},f.hasFixedKeySpace=function(){return!0},f.addSegments=function(){return II(this.i)},f.removeSegments=function(e,t){return MI(this,this.i,e,t)},f.getSegments=function(e){var t=this,n;return P(function(r){return r.g==1?T(r,_I(t,t.i,e),2):(n=r.h,r.return(n.map(function(i){return t.Ig(i)})))})},f.addManifests=function(){return II(this.g)},f.updateManifest=function(){return Promise.reject(new $(2,9,9016,"Cannot modify values in "+this.g))};function qj(e,t,n){e=pl(e.h,e.g);var r=e.store();return r.get(t).onsuccess=function(){r.put(n,t)},e.promise()}f.updateManifestExpiration=function(e,t){var n=pl(this.h,this.g),r=n.store();return r.get(e).onsuccess=function(i){(i=i.target.result)&&(i.expiration=t,r.put(i,e))},n.promise()},f.removeManifests=function(e,t){return MI(this,this.g,e,t)},f.getManifests=function(e){var t=this,n;return P(function(r){return r.g==1?T(r,_I(t,t.g,e),2):(n=r.h,r.return(Promise.all(n.map(function(i){return t.jd(i)}))))})},f.getAllManifests=function(){var e=this,t,n;return P(function(r){return r.g==1?(t=Vv(e.h,e.g,"readonly"),n=new Map,T(r,Iw(t,function(i,a){var u;return P(function(l){if(l.g==1)return T(l,e.jd(a),2);u=l.h,n.set(i,u),ae(l)})}),2)):r.g!=3?T(r,t.promise(),3):r.return(n)})},f.Ig=function(e){return e},f.jd=function(e){return Promise.resolve(e)};function II(e){return Promise.reject(new $(2,9,9011,"Cannot add new value to "+e))}f.add=function(e,t){var n=this,r,i,a,u,l,p,g;return P(function(v){if(v.g==1){for(r=pl(n.h,e),i=r.store(),a=[],u=w(t),l=u.next(),p={};!l.done;p={cg:void 0},l=u.next())g=l.value,p.cg=i.add(g),p.cg.onsuccess=function(y){return function(){a.push(y.cg.result)}}(p);return T(v,r.promise(),2)}return v.return(a)})};function MI(e,t,n,r){e=pl(e.h,t),t=e.store(),n=w(n);for(var i=n.next(),a={};!i.done;a={Qf:void 0},i=n.next())a.Qf=i.value,t.delete(a.Qf).onsuccess=function(u){return function(){return r(u.Qf)}}(a);return e.promise()}function _I(e,t,n){var r,i,a,u,l,p,g;return P(function(v){if(v.g==1){for(r=Vv(e.h,t,"readonly"),i=r.store(),a={},u=[],l=w(n),p=l.next(),g={};!p.done;g={we:void 0,ee:void 0},p=l.next())g.ee=p.value,g.we=i.get(g.ee),g.we.onsuccess=function(y){return function(){y.we.result==null&&u.push(y.ee),a[y.ee]=y.we.result}}(g);return T(v,r.promise(),2)}if(u.length)throw new $(2,9,9012,"Could not find values for "+u);return v.return(n.map(function(y){return a[y]}))})}function Wh(e){this.g=new Mw(e)}Wh.prototype.destroy=function(){return this.g.destroy()},Wh.prototype.getAll=function(){var e=this,t,n;return P(function(r){return r.g==1?(t=Vv(e.g,"session-ids","readonly"),n=[],T(r,Iw(t,function(i,a){n.push(a)}),2)):r.g!=3?T(r,t.promise(),3):r.return(n)})},Wh.prototype.add=function(e){var t=pl(this.g,"session-ids"),n=t.store();e=w(e);for(var r=e.next();!r.done;r=e.next())n.add(r.value);return t.promise()},Wh.prototype.remove=function(e){var t=this,n;return P(function(r){return r.g==1?(n=pl(t.g,"session-ids"),T(r,Iw(n,function(i,a,u){e.includes(a.sessionId)&&u.delete()}),2)):T(r,n.promise(),0)})};function Zr(){this.g=new Map}Zr.prototype.destroy=function(){for(var e=[],t=w(this.g.values()),n=t.next();!n.done;n=t.next())e.push(n.value.destroy());return this.g.clear(),Promise.all(e)},Zr.prototype.init=function(){var e=this;Xh.forEach(function(i,a){(i=i())&&e.g.set(a,i)});for(var t=[],n=w(this.g.values()),r=n.next();!r.done;r=n.next())t.push(r.value.init());return Promise.all(t)};function DI(e){var t=null;if(e.g.forEach(function(n,r){n.getCells().forEach(function(i,a){i.hasFixedKeySpace()||t||(t={path:{zb:r,Ta:a},Ta:i})})}),t)return t;throw new $(2,9,9013,"Could not find a cell that supports add-operations")}function Gj(e,t){e.g.forEach(function(n,r){n.getCells().forEach(function(i,a){t({zb:r,Ta:a},i)})})}function $v(e,t,n){if(e=e.g.get(t),!e)throw new $(2,9,9013,"Could not find mechanism with name "+t);if(t=e.getCells().get(n),!t)throw new $(2,9,9013,"Could not find cell with name "+n);return t}function Kj(e,t){e.g.forEach(function(n){t(n.getEmeSessionCell())})}function Wj(e){var t=Array.from(e.g.keys());if(!t.length)throw new $(2,9,9e3,"No supported storage mechanisms found");return e.g.get(t[0]).getEmeSessionCell()}function Xj(e){var t,n,r;return P(function(i){return i.g==1?(t=Array.from(e.g.values()),n=0<t.length,n||(r=Xh,r.forEach(function(a){(a=a())&&t.push(a)})),T(i,Promise.all(t.map(function(a){return a.erase()})),2)):n?i.s(0):T(i,Promise.all(t.map(function(a){return a.destroy()})),0)})}function PI(e,t){Xh.set(e,t)}Ee("shaka.offline.StorageMuxer",Zr),Zr.unregister=function(e){Xh.delete(e)},Zr.register=PI,Zr.prototype.destroy=Zr.prototype.destroy;var Xh=new Map;function Yh(){hl.apply(this,arguments)}Te(Yh,hl),Yh.prototype.updateManifestExpiration=function(e,t){var n=this,r,i,a;return P(function(u){return r=pl(n.h,n.g),i=r.store(),a=new Wt,i.get(e).onsuccess=function(l){(l=l.target.result)?(l.expiration=t,i.put(l),a.resolve()):a.reject(new $(2,9,9012,"Could not find values for "+e))},T(u,Promise.all([r.promise(),a]),0)})},Yh.prototype.jd=function(e){var t,n,r,i,a,u;return P(function(l){if(l.g==1){for(t=[],n=0;n<e.periods.length;++n)r=n==e.periods.length-1?e.duration:e.periods[n+1].startTime,i=r-e.periods[n].startTime,a=Yj(e.periods[n],i),t.push(a);return T(l,vC(t),2)}return u=l.h,l.return({creationTime:0,originalManifestUri:e.originalManifestUri,duration:e.duration,size:e.size,expiration:e.expiration==null?1/0:e.expiration,streams:u,sessionIds:e.sessionIds,drmInfo:e.drmInfo,appMetadata:e.appMetadata,sequenceMode:!1})})};function Yj(e,t){Qj(e);for(var n=w(e.streams),r=n.next();!r.done;r=n.next());return e.streams.map(function(i){return Jj(i,e.startTime,t)})}function Jj(e,t,n){var r=e.initSegmentUri?LI(e.initSegmentUri):null,i=t+e.presentationTimeOffset,a=t+n;return{id:e.id,originalId:null,groupId:null,primary:e.primary,type:e.contentType,mimeType:e.mimeType,codecs:e.codecs,frameRate:e.frameRate,pixelAspectRatio:void 0,hdr:void 0,colorGamut:void 0,videoLayout:void 0,kind:e.kind,language:e.language,originalLanguage:e.language||null,label:e.label,width:e.width,height:e.height,initSegmentKey:r,encrypted:e.encrypted,keyIds:new Set([e.keyId]),segments:e.segments.map(function(u){var l=LI(u.uri);return{startTime:t+u.startTime,endTime:t+u.endTime,dataKey:l,initSegmentKey:r,appendWindowStart:t,appendWindowEnd:a,timestampOffset:i,tilesLayout:"",mimeType:null,codecs:null,thumbnailSprite:null}}),variantIds:e.variantIds,roles:[],forced:!1,audioSamplingRate:null,channelsCount:null,spatialAudio:!1,closedCaptions:null,tilesLayout:void 0,external:!1,fastSwitching:!1,isAudioMuxedInVideo:!1}}Yh.prototype.Ig=function(e){return{data:e.data}};function LI(e){var t;if((t=/^offline:[0-9]+\/[0-9]+\/([0-9]+)$/.exec(e))||(t=/^offline:segment\/([0-9]+)$/.exec(e)))return Number(t[1]);throw new $(2,9,9004,"Could not parse uri "+e)}function Qj(e){var t=e.streams.filter(function(l){return l.contentType=="audio"});if(e=e.streams.filter(function(l){return l.contentType=="video"}),!t.every(function(l){return l.variantIds})||!e.every(function(l){return l.variantIds})){for(var n=w(t),r=n.next();!r.done;r=n.next())r.value.variantIds=[];for(n=w(e),r=n.next();!r.done;r=n.next())r.value.variantIds=[];if(n=0,e.length&&!t.length){r=n++;for(var i=w(e),a=i.next();!a.done;a=i.next())a.value.variantIds.push(r)}if(!e.length&&t.length)for(r=n++,i=w(t),a=i.next();!a.done;a=i.next())a.value.variantIds.push(r);if(e.length&&t.length)for(t=w(t),r=t.next();!r.done;r=t.next())for(r=r.value,i=w(e),a=i.next();!a.done;a=i.next()){a=a.value;var u=n++;r.variantIds.push(u),a.variantIds.push(u)}}}function zv(){hl.apply(this,arguments)}Te(zv,hl),zv.prototype.jd=function(e){var t,n,r,i,a,u;return P(function(l){if(l.g==1){for(t=[],n=0;n<e.periods.length;++n){r=n==e.periods.length-1?e.duration:e.periods[n+1].startTime,i=r-e.periods[n].startTime;for(var p=e.periods[n],g=[],v=w(p.streams),y=v.next();!y.done;y=v.next())y=y.value,y.variantIds.length!=0&&g.push(Zj(y,p.startTime,p.startTime+i));a=g,t.push(a)}return T(l,vC(t),2)}return u=l.h,l.return({appMetadata:e.appMetadata,creationTime:0,drmInfo:e.drmInfo,duration:e.duration,expiration:e.expiration==null?1/0:e.expiration,originalManifestUri:e.originalManifestUri,sessionIds:e.sessionIds,size:e.size,streams:u,sequenceMode:!1})})};function Zj(e,t,n){return{id:e.id,originalId:e.originalId,groupId:null,primary:e.primary,type:e.contentType,mimeType:e.mimeType,codecs:e.codecs,frameRate:e.frameRate,pixelAspectRatio:e.pixelAspectRatio,hdr:void 0,colorGamut:void 0,videoLayout:void 0,kind:e.kind,language:e.language,originalLanguage:e.language||null,label:e.label,width:e.width,height:e.height,encrypted:e.encrypted,keyIds:new Set([e.keyId]),segments:e.segments.map(function(r){return{startTime:t+r.startTime,endTime:t+r.endTime,initSegmentKey:e.initSegmentKey,appendWindowStart:t,appendWindowEnd:n,timestampOffset:t-e.presentationTimeOffset,dataKey:r.dataKey,tilesLayout:"",mimeType:null,codecs:null,thumbnailSprite:null}}),variantIds:e.variantIds,roles:[],forced:!1,audioSamplingRate:null,channelsCount:null,spatialAudio:!1,closedCaptions:null,tilesLayout:void 0,external:!1,fastSwitching:!1,isAudioMuxedInVideo:!1}}function _w(){hl.apply(this,arguments)}Te(_w,hl),f=_w.prototype,f.hasFixedKeySpace=function(){return!1},f.addSegments=function(e){return this.add(this.i,e)},f.addManifests=function(e){return this.add(this.g,e)},f.updateManifest=function(e,t){return qj(this,e,t)},f.jd=function(e){return e.expiration==null&&(e.expiration=1/0),Promise.resolve(e)};function RI(){this.m=this.j=this.i=this.h=this.g=this.l=null}f=RI.prototype,f.init=function(){var e=this,t=new Wt,n=!1,r=new kt(function(){n=!0,t.reject(new $(2,9,9017))});r.da(5);var i=d.indexedDB.open("shaka_offline_db",5);return i.onsuccess=function(){if(!n){var a=i.result;e.l=a;var u=a.objectStoreNames;u=u.contains("manifest")&&u.contains("segment")?new Yh(a,"segment","manifest"):null,e.g=u,u=a.objectStoreNames,u=u.contains("manifest-v2")&&u.contains("segment-v2")?new zv(a,"segment-v2","manifest-v2"):null,e.h=u,u=a.objectStoreNames,u=u.contains("manifest-v3")&&u.contains("segment-v3")?new zv(a,"segment-v3","manifest-v3"):null,e.i=u,u=a.objectStoreNames,u=u.contains("manifest-v5")&&u.contains("segment-v5")?new _w(a,"segment-v5","manifest-v5"):null,e.j=u,a=a.objectStoreNames.contains("session-ids")?new Wh(a):null,e.m=a,r.stop(),t.resolve()}},i.onupgradeneeded=function(){for(var a=i.result,u=w(["segment-v5","manifest-v5","session-ids"]),l=u.next();!l.done;l=u.next())l=l.value,a.objectStoreNames.contains(l)||a.createObjectStore(l,{autoIncrement:!0})},i.onerror=function(a){n||(t.reject(new $(2,9,9001,i.error)),r.stop(),a.preventDefault())},t},f.destroy=function(){var e=this;return P(function(t){switch(t.g){case 1:if(!e.g){t.s(2);break}return T(t,e.g.destroy(),2);case 2:if(!e.h){t.s(4);break}return T(t,e.h.destroy(),4);case 4:if(!e.i){t.s(6);break}return T(t,e.i.destroy(),6);case 6:if(!e.j){t.s(8);break}return T(t,e.j.destroy(),8);case 8:if(!e.m){t.s(10);break}return T(t,e.m.destroy(),10);case 10:e.l&&e.l.close(),ae(t)}})},f.getCells=function(){var e=new Map;return this.g&&e.set("v1",this.g),this.h&&e.set("v2",this.h),this.i&&e.set("v3",this.i),this.j&&e.set("v5",this.j),e},f.getEmeSessionCell=function(){return this.m},f.erase=function(){var e=this;return P(function(t){switch(t.g){case 1:if(!e.g){t.s(2);break}return T(t,e.g.destroy(),2);case 2:if(!e.h){t.s(4);break}return T(t,e.h.destroy(),4);case 4:if(!e.i){t.s(6);break}return T(t,e.i.destroy(),6);case 6:if(!e.j){t.s(8);break}return T(t,e.j.destroy(),8);case 8:return e.l&&e.l.close(),T(t,eF(),10);case 10:return e.l=null,e.g=null,e.h=null,e.i=null,e.j=null,T(t,e.init(),0)}})};function eF(){var e=new Wt,t=d.indexedDB.deleteDatabase("shaka_offline_db");return t.onblocked=function(){},t.onsuccess=function(){e.resolve()},t.onerror=function(n){e.reject(new $(2,9,9001,t.error)),n.preventDefault()},e}PI("idb",function(){return(!ua()||ua()&&Cs())&&!Pa()&&d.indexedDB?new RI:null});function ro(e,t,n,r){this.g=e,this.i=t,this.h=n,this.l=r,this.j=["offline:",e,"/",t,"/",n,"/",r].join("")}ro.prototype.zb=function(){return this.i},ro.prototype.Ta=function(){return this.h},ro.prototype.key=function(){return this.l},ro.prototype.toString=function(){return this.j};function Dw(e){if(e=/^offline:([a-z]+)\/([^/]+)\/([^/]+)\/([0-9]+)$/.exec(e),e==null)return null;var t=e[1];if(t!="manifest"&&t!="segment")return null;var n=e[2];if(!n)return null;var r=e[3];return r&&t!=null?new ro(t,n,r,Number(e[4])):null}function NI(e,t){this.h=e,this.g=t}function UI(e,t){var n=new Ke(null,0);n.bb(t.duration);var r=t.streams.filter(function(g){return g.type=="audio"}),i=t.streams.filter(function(g){return g.type=="video"});r=tF(e,r,i,n),i=t.streams.filter(function(g){return g.type==wt}).map(function(g){return Hv(e,g,n)});var a=t.streams.filter(function(g){return g.type=="image"}).map(function(g){return Hv(e,g,n)}),u=t.drmInfo?[t.drmInfo]:[];if(t.drmInfo)for(var l=w(r.values()),p=l.next();!p.done;p=l.next())p=p.value,p.audio&&p.audio.encrypted&&(p.audio.drmInfos=u),p.video&&p.video.encrypted&&(p.video.drmInfos=u);return{presentationTimeline:n,offlineSessionIds:t.sessionIds,variants:Array.from(r.values()),textStreams:i,imageStreams:a,sequenceMode:t.sequenceMode||!1,ignoreManifestTimestampsInSegmentsMode:!1,type:t.type||"UNKNOWN",serviceDescription:null,nextUrl:null,periodCount:1,gapCount:0,isLowLatency:!1,startTime:null}}function tF(e,t,n,r){for(var i=new Set,a=w(t),u=a.next();!u.done;u=a.next()){u=w(u.value.variantIds);for(var l=u.next();!l.done;l=u.next())i.add(l.value)}for(a=w(n),u=a.next();!u.done;u=a.next())for(u=w(u.value.variantIds),l=u.next();!l.done;l=u.next())i.add(l.value);for(a=new Map,i=w(i),u=i.next();!u.done;u=i.next())u=u.value,a.set(u,{id:u,language:"",disabledUntilTime:0,primary:!1,audio:null,video:null,bandwidth:0,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]});for(t=w(t),i=t.next();!i.done;i=t.next())for(u=i.value,i=Hv(e,u,r),u=w(u.variantIds),l=u.next();!l.done;l=u.next())l=a.get(l.value),l.language=i.language,l.primary=l.primary||i.primary,l.audio=i;for(n=w(n),t=n.next();!t.done;t=n.next())for(i=t.value,t=Hv(e,i,r),i=w(i.variantIds),u=i.next();!u.done;u=i.next())u=a.get(u.value),u.primary=u.primary||t.primary,u.video=t;return a}function Hv(e,t,n){var r=t.segments.map(function(i){return nF(e,i,t)});return n.Ed(r),{id:t.id,originalId:t.originalId,groupId:t.groupId,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new Ft(r),mimeType:t.mimeType,codecs:t.codecs,width:t.width||void 0,height:t.height||void 0,frameRate:t.frameRate,pixelAspectRatio:t.pixelAspectRatio,hdr:t.hdr,colorGamut:t.colorGamut,videoLayout:t.videoLayout,kind:t.kind,encrypted:t.encrypted,drmInfos:[],keyIds:t.keyIds,language:t.language,originalLanguage:t.originalLanguage||null,label:t.label,type:t.type,primary:t.primary,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:null,roles:t.roles,forced:t.forced,channelsCount:t.channelsCount,audioSamplingRate:t.audioSamplingRate,spatialAudio:t.spatialAudio,closedCaptions:t.closedCaptions,tilesLayout:t.tilesLayout,mssPrivateData:t.mssPrivateData,accessibilityPurpose:null,external:t.external,fastSwitching:t.fastSwitching,fullMimeTypes:new Set([Dn(t.mimeType,t.codecs)]),isAudioMuxedInVideo:!1,baseOriginalId:null}}function nF(e,t,n){var r=new ro("segment",e.h,e.g,t.dataKey);return e=new Ge(t.startTime,t.endTime,function(){return[r.toString()]},0,null,t.initSegmentKey!=null?rF(e,t.initSegmentKey):null,t.timestampOffset,t.appendWindowStart,t.appendWindowEnd,[],t.tilesLayout||""),e.mimeType=t.mimeType||n.mimeType||"",e.codecs=t.codecs||n.codecs||"",t.thumbnailSprite&&e.De(t.thumbnailSprite),e}function rF(e,t){var n=new ro("segment",e.h,e.g,t);return new Xr(function(){return[n.toString()]},0,null)}function OI(){this.g=null}f=OI.prototype,f.configure=function(){},f.start=function(e,t){var n=this,r,i,a,u,l,p,g;return P(function(v){switch(v.g){case 1:if(r=Dw(e),n.g=r,r==null||r.g!="manifest")throw new $(2,1,9004,e);return i=new Zr,be(v,2),T(v,i.init(),4);case 4:return T(v,$v(i,r.zb(),r.Ta()),5);case 5:return a=v.h,T(v,a.getManifests([r.key()]),6);case 6:return u=v.h,l=u[0],p=new NI(r.zb(),r.Ta()),g=UI(p,l),t.makeTextStreamsForClosedCaptions(g),v.return(g);case 2:return Se(v),T(v,i.destroy(),7);case 7:te(v,0)}})},f.stop=function(){return Promise.resolve()},f.update=function(){},f.onExpirationUpdated=function(e,t){var n=this,r,i,a,u,l,p,g;return P(function(v){switch(v.g){case 1:return r=n.g,i=new Zr,me(v,2,3),T(v,i.init(),5);case 5:return T(v,$v(i,r.zb(),r.Ta()),6);case 6:return a=v.h,T(v,a.getManifests([r.key()]),7);case 7:if(u=v.h,l=u[0],p=l.sessionIds.includes(e),g=l.expiration==null||l.expiration>t,!p||!g){v.s(3);break}return T(v,a.updateManifestExpiration(r.key(),t),3);case 3:return Se(v),T(v,i.destroy(),10);case 10:te(v,0);break;case 2:W(v),v.s(3)}})},f.onInitialVariantChosen=function(){},f.banLocation=function(){},f.setMediaElement=function(){},Zu("application/x-offline-manifest",function(){return new OI});function jI(){}function FI(e,t){var n=Dw(e);return n&&n.g=="manifest"?(e={uri:e,originalUri:e,data:new ArrayBuffer(0),headers:{"content-type":"application/x-offline-manifest"},originalRequest:t},e=Lc(e)):e=n&&n.g=="segment"?iF(n.key(),n,t):Yu(new $(2,1,9004,e)),e}function iF(e,t,n){var r=new Zr;return Lc(void 0).Ha(function(){return r.init()}).Ha(function(){return $v(r,t.zb(),t.Ta())}).Ha(function(i){return i.getSegments([t.key()])}).Ha(function(i){return{uri:t,data:i[0].data,headers:{},originalRequest:n}}).finally(function(){return r.destroy()})}Ee("shaka.offline.OfflineScheme",jI),jI.plugin=FI,Oo("offline",FI);function BI(e,t,n){var r,i,a,u,l,p;return P(function(g){switch(g.g){case 1:r=[];for(var v=[],y=w(n),x=y.next();!x.done;x=y.next()){x=x.value;for(var S=!1,k=w(v),C=k.next();!C.done;C=k.next())if(C=C.value,oF(C.info,x)){C.sessionIds.push(x.sessionId),S=!0;break}S||v.push({info:x,sessionIds:[x.sessionId]})}i=w(v),a=i.next();case 2:if(a.done){g.s(4);break}return u=a.value,l=aF(e,t,u),T(g,l,5);case 5:p=g.h,r=r.concat(p),a=i.next(),g.s(2);break;case 4:return g.return(r)}})}function aF(e,t,n){var r,i;return P(function(a){switch(a.g){case 1:return r=new dm({Xb:t,onError:function(){},pe:function(){},onExpirationUpdated:function(){},onEvent:function(){}}),me(a,2),r.configure(e),T(a,cR(r,n.info.keySystem,n.info.licenseUri,n.info.serverCertificate,n.info.audioCapabilities,n.info.videoCapabilities),4);case 4:V(a,3);break;case 2:return W(a),T(a,r.destroy(),5);case 5:return a.return([]);case 3:return i=[],T(a,Promise.all(n.sessionIds.map(function(u){return P(function(l){if(l.g==1)return me(l,2),T(l,hR(r,u),4);if(l.g!=2)return i.push(u),V(l,0);W(l),ae(l)})})),6);case 6:return T(a,r.destroy(),7);case 7:return a.return(i)}})}function oF(e,t){function n(r,i){return r.robustness==i.robustness&&r.contentType==i.contentType}return e.keySystem==t.keySystem&&e.licenseUri==t.licenseUri&&Y1(e.audioCapabilities,t.audioCapabilities,n)&&Y1(e.videoCapabilities,t.videoCapabilities,n)}function sF(e,t,n){var r=t.presentationTimeline.getDuration();return t=VI(t),{offlineUri:null,originalManifestUri:e,duration:r,size:0,expiration:1/0,tracks:t,appMetadata:n,isIncomplete:!1}}function Pw(e,t){var n=UI(new NI(e.zb(),e.Ta()),t),r=t.appMetadata||{};return n=VI(n),{offlineUri:e.toString(),originalManifestUri:t.originalManifestUri,duration:t.duration,size:t.size,expiration:t.expiration,tracks:n,appMetadata:r,isIncomplete:t.isIncomplete||!1}}function VI(e){var t=[],n=rm(e.variants);n=w(n);for(var r=n.next();!r.done;r=n.next())t.push(Xu(r.value));for(e=w(e.textStreams),n=e.next();!n.done;n=e.next())t.push(eh(n.value));return t}function uF(){this.g=new Map}function lF(e,t){var n=t.audio,r=t.video;if(n&&!r&&e.g.set(n.id,n.bandwidth||t.bandwidth),!n&&r&&e.g.set(r.id,r.bandwidth||t.bandwidth),n&&r){var i=n.bandwidth||393216,a=r.bandwidth||t.bandwidth-i;0>=a&&(a=t.bandwidth),e.g.set(n.id,i),e.g.set(r.id,a)}}function cF(e,t){e.g.set(t.id,t.bandwidth||2048)}function $I(e,t){return e=e.g.get(t),e==null&&(e=0),e}function or(e){var t=this;if(e&&e.constructor!=le)throw new $(2,9,9008);this.g=this.h=null,e?(this.h=e.g,this.g=e.xb()):(this.h=Jc(),this.g=new an),this.i=[],this.l=[];var n=!e;this.j=new Nc(function(){var r,i,a,u,l;return P(function(p){switch(p.g){case 1:return T(p,Promise.all(t.l.map(function(g){return Cw(g)})),2);case 2:for(r=function(){},i=[],a=w(t.i),u=a.next();!u.done;u=a.next())l=u.value,i.push(l.then(r,r));return T(p,Promise.all(i),3);case 3:if(!n){p.s(4);break}return T(p,t.g.destroy(),4);case 4:t.h=null,t.g=null,ae(p)}})}),this.m=1e9}function Lw(){if(Ja())e:{for(var e=w(Xh.values()),t=e.next();!t.done;t=e.next())if(t=t.value,t=t()){t.destroy(),e=!0;break e}e=!1}else e=!1;return e}f=or.prototype,f.destroy=function(){return this.j.destroy()},f.configure=function(e,t){return arguments.length==2&&typeof e=="string"&&(e=Um(e,t)),Bs(this.h,e)},f.getConfiguration=function(){var e=Jc();return Bs(e,this.h,Jc()),e},f.xb=function(){return this.g},f.store=function(e,t,n,r,i){var a=this,u=this.getConfiguration(),l=new CI(this.g);return this.l.push(l),t=dF(this,e,t||{},r||[],i||[],function(){var p;return P(function(g){return g.g==1?n?g.s(2):T(g,sl(e,a.g,u.manifest.retryParameters),3):(g.g!=2&&(n=g.h),p=y4(e,n||null),g.return(p()))})},u,l),t=new Pn(t,function(){return Cw(l)}),t.finally(function(){ca(a.l,l)}),CF(this,t)};function dF(e,t,n,r,i,a,u,l){var p,g,v,y,x,S,k,C,E,I,_,F,B,q,O,N,H,z,Y,K,J,ie,ne,ue;return P(function(oe){switch(oe.g){case 1:return qv(),g=p=null,v=new Zr,S=x=y=null,me(oe,2,3),T(oe,a(),5);case 5:return p=oe.h,T(oe,wF(e,t,p,u),6);case 6:if(k=oe.h,Ii(e),C=!k.presentationTimeline.U()&&!k.presentationTimeline.yc(),!C)throw new $(2,9,9005,t);E=w(r),I=E.next();case 7:if(I.done){oe.s(9);break}return _=I.value,T(oe,xF(e,_,k),10);case 10:F=oe.h,k.imageStreams.push(F),Ii(e),I=E.next(),oe.s(7);break;case 9:B=w(i),q=B.next();case 11:return q.done?(d4(u.drm.clearKeys,k.variants),H=k.variants.some(function(pe){if(pe.audio){for(var xe=w(pe.audio.drmInfos),tt=xe.next();!tt.done;tt=xe.next())if(tt.value.licenseServerUri.startsWith("data:"))return!0}if(pe.video){for(pe=w(pe.video.drmInfos),xe=pe.next();!xe.done;xe=pe.next())if(xe.value.licenseServerUri.startsWith("data:"))return!0}return!1}),z=u.offline.usePersistentLicense,H&&(z=!1),T(oe,e.Lc(k,function(pe){S=S||pe},u,z),15)):(O=q.value,T(oe,SF(e,k,O.uri,O.language,O.kind,O.mime,O.codecs),14));case 14:N=oe.h,k.textStreams.push(N),Ii(e),q=B.next(),oe.s(11);break;case 15:if(g=oe.h,Ii(e),S)throw S;return T(oe,hF(k,g,u,z),16);case 16:return T(oe,v.init(),17);case 17:return Ii(e),T(oe,DI(v),18);case 18:return y=oe.h,Ii(e),Y=fF(g,k,t,n,u,l,z),K=Y.Yi,J=Y.tg,T(oe,y.Ta.addManifests([K]),19);case 19:if(ie=oe.h,Ii(e),x=ie[0],Ii(e),S)throw S;return T(oe,pF(e,J,x,K,l,u,y.Ta,k,g,z),20);case 20:return Ii(e),GI(k,K,g,z),T(oe,y.Ta.updateManifest(x,K),21);case 21:return Ii(e),ne=new ro("manifest",y.path.zb,y.path.Ta,x),oe.return(Pw(ne,K));case 3:return Se(oe),T(oe,v.destroy(),22);case 22:if(!p){oe.s(23);break}return T(oe,p.stop(),23);case 23:if(!g){oe.s(25);break}return T(oe,g.destroy(),25);case 25:te(oe,0);break;case 2:if(ue=W(oe),x==null){oe.s(27);break}return T(oe,zI(x),27);case 27:throw S||ue}})}function pF(e,t,n,r,i,a,u,l,p,g){var v,y,x,S,k,C,E,I,_,F,B;return P(function(q){switch(q.g){case 1:if(v={},y=0,x=function(){if(e.j.g||i.l)throw new $(2,9,7001)},S=function(O,N){var H,z,Y,K,J,ie,ne,ue,oe;return P(function(pe){if(pe.g==1){for(H=w(O),z=H.next(),Y={};!z.done;Y={Nb:void 0},z=H.next())Y.Nb=z.value,x(),K=Fj(Y.Nb,a),J=Y.Nb.i,ie=Y.Nb.h,ne=function(xe){return function(tt){var je,Vt,Tt,ft;return P(function(vt){switch(vt.g){case 1:if(je=xe.Nb.g,Vt=je.Ib(!1),!je.aesKey||Vt){vt.s(2);break}return T(vt,Qb(tt,je.aesKey,xe.Nb.j),3);case 3:tt=vt.h;case 2:return Tt=Ew(je),T(vt,u.addSegments([{data:tt}]),4);case 4:ft=vt.h,x(),v[Tt]=ft[0],y+=tt.byteLength,ae(vt)}})}}(Y),ue=Y.Nb.g,(oe=ue.Ib(!1))?$j(i,Y.Nb.groupId,oe,J,ie,ne):Vj(i,Y.Nb.groupId,K,J,ie,ne);return T(pe,zj(i),2)}return x(),!N||i.l?pe.s(0):(GI(l,r,p,g),T(pe,u.updateManifest(n,r),0))})},k=!1,me(q,2),!Rw(l)||!k||qI(l)){q.s(4);break}return T(q,S(t.filter(function(O){return O.h}),!0),5);case 5:return x(),t=t.filter(function(O){return!O.h}),C=v,E=y,v={},y=0,T(q,HI(u,n,r,C,E,function(){return Ii(e)}),6);case 6:x();case 4:if(k){q.s(7);break}return T(q,S(t,!1),8);case 8:return x(),I=v,_=y,v={},y=0,T(q,HI(u,n,r,I,_,function(){return x()}),9);case 9:x();case 7:V(q,0);break;case 2:return F=W(q),B=Object.values(v),T(q,u.removeSegments(B,function(){}),10);case 10:throw F}})}function zI(e){var t,n,r,i;return P(function(a){switch(a.g){case 1:return t=new Zr,T(a,t.init(),2);case 2:return T(a,DI(t),3);case 3:return n=a.h,r=new ro("manifest",n.path.zb,n.path.Ta,e),T(a,t.destroy(),4);case 4:return i=new or,T(a,i.remove(r.toString()),0)}})}function HI(e,t,n,r,i,a){var u,l,p,g,v,y,x,S,k,C,E;return P(function(I){switch(I.g){case 1:for(u=!1,me(I,2),l=!0,p=w(n.streams),g=p.next();!g.done;g=p.next())for(v=g.value,y=w(v.segments),x=y.next();!x.done;x=y.next())S=x.value,k=S.pendingSegmentRefId?r[S.pendingSegmentRefId]:null,k!=null&&(S.dataKey=k,S.pendingSegmentRefId=void 0),k=S.pendingInitSegmentRefId?r[S.pendingInitSegmentRefId]:null,k!=null&&(S.initSegmentKey=k,S.pendingInitSegmentRefId=void 0),S.pendingSegmentRefId&&(l=!1),S.pendingInitSegmentRefId&&(l=!1);return n.size+=i,l&&(n.isIncomplete=!1),T(I,e.updateManifest(t,n),4);case 4:u=!0,a(),V(I,0);break;case 2:return C=W(I),T(I,zI(t),5);case 5:if(u){I.s(6);break}return E=Object.values(r),T(I,e.removeSegments(E,function(){}),6);case 6:throw C}})}function hF(e,t,n,r){var i,a,u,l,p,g,v,y,x,S,k,C,E,I,_,F,B,q,O,N,H,z,Y,K,J,ie,ne,ue,oe,pe;return P(function(xe){switch(xe.g){case 1:return i={width:1/0,height:1/0},q7(e,n.restrictions,i),T(xe,M5(t,e,r,n.drm.preferredKeySystems,n.drm.keySystemsMapping),2);case 2:for(a=[],u=n.preferredDecodingAttributes,l=n.preferredVideoCodecs,p=n.preferredAudioCodecs,g=n.preferredTextFormats,I5(e,l,p,u,g),v=w(e.variants),y=v.next();!y.done;y=v.next())x=y.value,a.push(Xu(x));for(S=w(e.textStreams),k=S.next();!k.done;k=S.next())C=k.value,a.push(eh(C));for(E=w(e.imageStreams),I=E.next();!I.done;I=E.next())_=I.value,a.push(gb(_));return T(xe,n.offline.trackSelectionCallback(a),3);case 3:for(F=xe.h,B=e.presentationTimeline.getDuration(),q=0,O=w(F),N=O.next();!N.done;N=O.next())H=N.value,z=H.bandwidth*B/8,q+=z;return me(xe,4),T(xe,n.offline.downloadSizeCallback(q),6);case 6:if(Y=xe.h,!Y)throw new $(2,9,9014);V(xe,5);break;case 4:throw K=W(xe),K instanceof $?K:new $(2,9,9015);case 5:for(J=new Set,ie=new Set,ne=new Set,ue=w(F),oe=ue.next();!oe.done;oe=ue.next())pe=oe.value,pe.type=="variant"&&J.add(pe.id),pe.type=="text"&&ie.add(pe.id),pe.type=="image"&&ne.add(pe.id);e.variants=e.variants.filter(function(tt){return J.has(tt.id)}),e.textStreams=e.textStreams.filter(function(tt){return ie.has(tt.id)}),e.imageStreams=e.imageStreams.filter(function(tt){return ne.has(tt.id)}),_F(e),ae(xe)}})}function fF(e,t,n,r,i,a,u){var l=sF(n,t,r),p=i.offline.progressCallback;Bj(a,function(k,C){l.size=C,p(l,k)},function(k,C){g&&u&&v==C&&nh(e,"cenc",k)});var g=Rw(t)&&!qI(t),v=null;g&&(v=DF.get(e.h.keySystem));for(var y=new uF,x=w(t.textStreams),S=x.next();!S.done;S=x.next())y.g.set(S.value.id,52);for(x=w(t.imageStreams),S=x.next();!S.done;S=x.next())cF(y,S.value);for(x=w(t.variants),S=x.next();!S.done;S=x.next())lF(y,S.value);return a=TF(a,y,t,i),i=a.streams,a=a.tg,(y=e.h)&&u&&(y.initData=[]),{Yi:{creationTime:Date.now(),originalManifestUri:n,duration:t.presentationTimeline.getDuration(),size:0,expiration:e.pd(),streams:i,sessionIds:u?r4(e):[],drmInfo:y,appMetadata:r,isIncomplete:!0,sequenceMode:t.sequenceMode,type:t.type},tg:a}}function Rw(e){return e.variants.some(function(t){var n=t.audio&&t.audio.encrypted;return t.video&&t.video.encrypted||n})}function qI(e){return e.variants.some(function(t){return(t.video?t.video.drmInfos:[]).concat(t.audio?t.audio.drmInfos:[]).some(function(n){return n.initData&&n.initData.length})})}function GI(e,t,n,r){if(t.expiration=n.pd(),n=r4(n),t.sessionIds=r?n:[],Rw(e)&&r&&!n.length)throw new $(2,9,9007)}f.remove=function(e){return Nw(this,gF(this,e))};function gF(e,t){var n,r,i,a,u,l;return P(function(p){switch(p.g){case 1:if(qv(),n=Dw(t),n==null||n.g!="manifest")throw new $(2,9,9004,t);return r=n,i=new Zr,be(p,2),T(p,i.init(),4);case 4:return T(p,$v(i,r.zb(),r.Ta()),5);case 5:return a=p.h,T(p,a.getManifests([r.key()]),6);case 6:return u=p.h,l=u[0],T(p,Promise.all([mF(e,l,i),vF(a,r,l)]),2);case 2:return Se(p),T(p,i.destroy(),8);case 8:te(p,0)}})}function KI(e,t){for(var n=[],r=w(e.streams),i=r.next();!i.done;i=r.next())i=i.value,t&&i.type=="video"?n.push({contentType:Dn(i.mimeType,i.codecs),robustness:e.drmInfo.videoRobustness}):t||i.type!="audio"||n.push({contentType:Dn(i.mimeType,i.codecs),robustness:e.drmInfo.audioRobustness});return n}function mF(e,t,n){return P(function(r){return T(r,MF(e.g,e.h.drm,n,t),0)})}function vF(e,t,n){function r(){}var i=IF(n);return Pw(t,n),Promise.all([e.removeSegments(i,r),e.removeManifests([t.key()],r)])}f.qj=function(){return Nw(this,yF(this))};function yF(e){var t,n,r,i,a,u,l,p,g,v;return P(function(y){switch(y.g){case 1:return qv(),t=e.g,n=e.h.drm,r=new Zr,i=!1,be(y,2),T(y,r.init(),4);case 4:a=[],Kj(r,function(x){return a.push(x)}),u=w(a),l=u.next();case 5:if(l.done){y.s(2);break}return p=l.value,T(y,p.getAll(),8);case 8:return g=y.h,T(y,BI(n,t,g),9);case 9:return v=y.h,T(y,p.remove(v),10);case 10:v.length!=g.length&&(i=!0),l=u.next(),y.s(5);break;case 2:return Se(y),T(y,r.destroy(),11);case 11:te(y,3);break;case 3:return y.return(!i)}})}f.list=function(){return Nw(this,bF())};function bF(){var e,t,n;return P(function(r){switch(r.g){case 1:return qv(),e=[],t=new Zr,be(r,2),T(r,t.init(),4);case 4:return n=Promise.resolve(),Gj(t,function(i,a){n=n.then(function(){var u;return P(function(l){if(l.g==1)return T(l,a.getAllManifests(),2);u=l.h,u.forEach(function(p,g){p=Pw(new ro("manifest",i.zb,i.Ta,g),p),e.push(p)}),ae(l)})})}),T(r,n,2);case 2:return Se(r),T(r,t.destroy(),6);case 6:te(r,3);break;case 3:return r.return(e)}})}function wF(e,t,n,r){var i,a,u,l,p;return P(function(g){if(g.g==1)return i=null,a=e.g,u={networkingEngine:a,filter:function(){return Promise.resolve()},makeTextStreamsForClosedCaptions:function(){},onTimelineRegionAdded:function(){},onEvent:function(){},onError:function(v){i=v},isLowLatencyMode:function(){return!1},updateDuration:function(){},newDrmInfo:function(){},onManifestUpdated:function(){},getBandwidthEstimate:function(){return r.abr.defaultBandwidthEstimate},onMetadata:function(){},disableStream:function(){},addFont:function(){}},n.configure(r.manifest),Ii(e),T(g,n.start(t,u),2);if(g.g!=3)return l=g.h,Ii(e),p=XI(l),T(g,Promise.all(wb(p,function(v){return v.createSegmentIndex()})),3);if(Ii(e),i)throw i;return g.return(l)})}function xF(e,t,n){var r,i,a,u,l,p,g,v,y,x,S,k,C,E,I;return P(function(_){switch(_.g){case 1:return T(_,WI(e,t),2);case 2:if(r=_.h,r!="text/vtt")throw new $(1,2,2017,t);return T(_,kF(t,e.g,e.h.streaming.retryParameters),3);case 3:if(i=_.h,a=em(r),!a)throw new $(2,2,2014,r);for(u=a(),l={periodStart:0,segmentStart:0,segmentEnd:n.presentationTimeline.getDuration(),vttOffset:0},p=Ye(i),g=u.parseMedia(p,l,t,[]),v=[],y=w(g),x=y.next(),S={};!x.done;S={Me:void 0,Nc:void 0},x=y.next())S.Nc=x.value,S.Me=null,k=function(F){return function(){return F.Me==null&&(F.Me=Qn([t],[F.Nc.payload])),F.Me||[]}}(S),C=new Ge(S.Nc.startTime,S.Nc.endTime,k,0,null,null,0,0,1/0),S.Nc.payload.includes("#xywh")&&(E=S.Nc.payload.split("#xywh=")[1].split(","),E.length===4&&C.De({height:parseInt(E[3],10),positionX:parseInt(E[0],10),positionY:parseInt(E[1],10),width:parseInt(E[2],10)})),v.push(C);if(I=r,!v.length){_.s(4);break}return T(_,sl(v[0].N()[0],e.g,e.h.manifest.retryParameters),5);case 5:I=_.h;case 4:return _.return({id:e.m++,originalId:null,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new Ft(v),mimeType:I||"",codecs:"",kind:"",encrypted:!1,drmInfos:[],keyIds:new Set,language:"und",originalLanguage:null,label:null,type:"image",primary:!1,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,tilesLayout:"1x1",accessibilityPurpose:null,external:!0,fastSwitching:!1,fullMimeTypes:new Set([Dn(I||"","")]),isAudioMuxedInVideo:!1,baseOriginalId:null})}})}function SF(e,t,n,r,i,a,u){var l,p,g;return P(function(v){if(v.g==1)return a?v.s(2):T(v,WI(e,n),3);if(v.g!=2&&(a=v.h),l={id:e.m++,originalId:null,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:Am(0,t.presentationTimeline.getDuration(),[n]),mimeType:a||"",codecs:u||"",kind:i,encrypted:!1,drmInfos:[],keyIds:new Set,language:r,originalLanguage:r,label:null,type:wt,primary:!1,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!0,fastSwitching:!1,fullMimeTypes:new Set([Dn(a||"",u||"")]),isAudioMuxedInVideo:!1,baseOriginalId:null},p=Dn(l.mimeType,l.codecs),g=_c(p),!g)throw new $(2,2,2014,a);return v.return(l)})}function WI(e,t){var n;return P(function(r){switch(r.g){case 1:return me(r,2),T(r,sl(t,e.g,e.h.streaming.retryParameters),4);case 4:n=r.h,V(r,3);break;case 2:W(r);case 3:if(n)return r.return(n);throw new $(1,2,2011,t)}})}function kF(e,t,n){var r,i,a;return P(function(u){return u.g==1?(r=ha,i=qn([e],n),i.method="GET",T(u,t.request(r,i).promise,2)):(a=u.h,u.return(a.data))})}f.Lc=function(e,t,n,r){var i=this,a;return P(function(u){return u.g==1?(a=new dm({Xb:i.g,onError:t,pe:function(){},onExpirationUpdated:function(){},onEvent:function(){}}),a.configure(n.drm),T(u,lR(a,e.variants,r),2)):u.g!=3?T(u,n4(a),3):u.return(a)})};function TF(e,t,n,r){var i=new Map,a=XI(n),u=new Map;a=w(a);for(var l=a.next();!l.done;l=a.next()){l=l.value;var p=AF(e,t,n,l,r,i);u.set(l.id,p)}for(e=w(n.variants),t=e.next();!t.done;t=e.next())t=t.value,t.audio&&u.get(t.audio.id).variantIds.push(t.id),t.video&&u.get(t.video.id).variantIds.push(t.id);return{streams:Array.from(u.values()),tg:Array.from(i.values())}}function AF(e,t,n,r,i,a){var u={id:r.id,originalId:r.originalId,groupId:r.groupId,primary:r.primary,type:r.type,mimeType:r.mimeType,codecs:r.codecs,frameRate:r.frameRate,pixelAspectRatio:r.pixelAspectRatio,hdr:r.hdr,colorGamut:r.colorGamut,videoLayout:r.videoLayout,kind:r.kind,language:r.language,originalLanguage:r.originalLanguage,label:r.label,width:r.width||null,height:r.height||null,encrypted:r.encrypted,keyIds:r.keyIds,segments:[],variantIds:[],roles:r.roles,forced:r.forced,channelsCount:r.channelsCount,audioSamplingRate:r.audioSamplingRate,spatialAudio:r.spatialAudio,closedCaptions:r.closedCaptions,tilesLayout:r.tilesLayout,mssPrivateData:r.mssPrivateData,external:r.external,fastSwitching:r.fastSwitching,isAudioMuxedInVideo:r.isAudioMuxedInVideo},l=i.offline.numberOfParallelDownloads,p=l===0?r.id:0;return EF(r,n.presentationTimeline.pb(),function(g,v){var y=Ew(g),x=void 0;if(!a.has(y)){var S=g.endTime-g.startTime;S=$I(t,r.id)*S,S=AI(e.g,S),a.set(y,new kI(g,S,p,!1,v))}g.$&&(x=Ew(g.$),a.has(x)||(S=.5*$I(t,r.id),S=AI(e.g,S),a.set(x,new kI(g.$,S,p,!0,v)))),u.segments.push({pendingInitSegmentRefId:x,initSegmentKey:x?0:null,startTime:g.startTime,endTime:g.endTime,appendWindowStart:g.appendWindowStart,appendWindowEnd:g.appendWindowEnd,timestampOffset:g.timestampOffset,tilesLayout:g.tilesLayout,pendingSegmentRefId:y,dataKey:0,mimeType:g.mimeType,codecs:g.codecs,thumbnailSprite:g.thumbnailSprite}),l!==0&&(p=(p+1)%l)}),u}function EF(e,t,n){if(t=e.segmentIndex.find(t),t!=null)for(var r=e.segmentIndex.get(t);r;)n(r,t),r=e.segmentIndex.get(++t)}function Ii(e){if(e.j.g)throw new $(2,9,7001)}function qv(){if(!Lw())throw new $(2,9,9e3)}function Nw(e,t){return P(function(n){return n.g==1?(e.i.push(t),be(n,2),T(n,t,4)):n.g!=2?n.return(n.h):(Se(n),ca(e.i,t),te(n,0))})}function CF(e,t){var n=t.promise;return e.i.push(n),t.finally(function(){ca(e.i,n)})}function IF(e){var t=new Set;e=w(e.streams);for(var n=e.next();!n.done;n=e.next()){n=w(n.value.segments);for(var r=n.next();!r.done;r=n.next())r=r.value,r.initSegmentKey!=null&&t.add(r.initSegmentKey),t.add(r.dataKey)}return Array.from(t)}function MF(e,t,n,r){var i,a,u;return P(function(l){return l.g==1?r.drmInfo?(i=Wj(n),a=r.sessionIds.map(function(p){return{sessionId:p,keySystem:r.drmInfo.keySystem,licenseUri:r.drmInfo.licenseServerUri,serverCertificate:r.drmInfo.serverCertificate,audioCapabilities:KI(r,!1),videoCapabilities:KI(r,!0)}}),T(l,BI(t,e,a),2)):l.return():l.g!=3?(u=l.h,T(l,i.remove(u),3)):T(l,i.add(a.filter(function(p){return!u.includes(p.sessionId)})),0)})}function XI(e){for(var t=new Set,n=w(e.variants),r=n.next();!r.done;r=n.next())r=r.value,r.audio&&t.add(r.audio),r.video&&t.add(r.video);for(n=w(e.textStreams),r=n.next();!r.done;r=n.next())t.add(r.value);for(e=w(e.imageStreams),n=e.next();!n.done;n=e.next())t.add(n.value);return t}function _F(e){e.variants.map(function(a){return a.video});var t=new Set(e.variants.map(function(a){return a.audio}));e=e.textStreams;for(var n=w(t),r=n.next();!r.done;r=n.next()){r=w(t);for(var i=r.next();!i.done;i=r.next());}for(t=w(e),n=t.next();!n.done;n=t.next())for(n=w(e),r=n.next();!r.done;r=n.next());}Ee("shaka.offline.Storage",or),or.deleteAll=function(){var e;return P(function(t){return t.g==1?(e=new Zr,be(t,2),T(t,Xj(e),2)):t.g!=5?(Se(t),T(t,e.destroy(),5)):te(t,0)})},or.prototype.list=or.prototype.list,or.prototype.removeEmeSessions=or.prototype.qj,or.prototype.remove=or.prototype.remove,or.prototype.store=or.prototype.store,or.prototype.getNetworkingEngine=or.prototype.xb,or.prototype.getConfiguration=or.prototype.getConfiguration,or.prototype.configure=or.prototype.configure,or.prototype.destroy=or.prototype.destroy,or.support=Lw;var DF=new Map().set("org.w3.clearkey","1077efecc0b24d02ace33c1e52e2fb4b").set("com.widevine.alpha","edef8ba979d64acea3c827dcd51d21ed").set("com.microsoft.playready","9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.recommendation","9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.software","9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.hardware","9a04f07998404286ab92e65be0885f95").set("com.huawei.wiseplay","3d5e6d359b9a41e8b843dd3c6e72c42c");_A("offline",Lw);function Lr(){}function ei(e,t){for(e={priority:t||0,callback:e},t=0;t<Jh.length;t++)if(Jh[t].priority<e.priority){Jh.splice(t,0,e);return}Jh.push(e)}Ee("shaka.polyfill",Lr),Lr.register=ei,Lr.installAll=function(){for(var e=w(Jh),t=e.next();!t.done;t=e.next()){t=t.value;try{t.callback()}catch(n){Be("Error installing polyfill!",n)}}};var Jh=[];function YI(){}function JI(){if(!Object.getOwnPropertyDescriptor(Element.prototype,"ariaHidden"))for(var e=w(["ariaHidden","ariaLabel","ariaPressed","ariaSelected"]),t=e.next();!t.done;t=e.next())PF(t.value)}function PF(e){var t="aria-"+e.toLowerCase().replace(/^aria/,"");Object.defineProperty(Element.prototype,e,{get:function(){return this.getAttribute(t)},set:function(n){n==null||n==null?this.removeAttribute(t):this.setAttribute(t,n)}})}Lr.Aria=YI,YI.install=JI,ei(JI);function QI(){}function ZI(){Ra()||Rn("Sky_STB")||p8()}Lr.EncryptionScheme=QI,QI.install=ZI,ei(ZI,-2);function eM(){}function tM(){if(d.Document){var e=Element.prototype;e.requestFullscreen=e.requestFullscreen||e.mozRequestFullScreen||e.msRequestFullscreen||e.webkitRequestFullscreen,e=Document.prototype,e.exitFullscreen=e.exitFullscreen||e.mozCancelFullScreen||e.msExitFullscreen||e.webkitCancelFullScreen,"fullscreenElement"in document||(Object.defineProperty(document,"fullscreenElement",{get:function(){return document.mozFullScreenElement||document.msFullscreenElement||document.webkitCurrentFullScreenElement||document.webkitFullscreenElement}}),Object.defineProperty(document,"fullscreenEnabled",{get:function(){return document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitFullscreenEnabled}})),document.addEventListener("webkitfullscreenchange",fd),document.addEventListener("webkitfullscreenerror",fd),document.addEventListener("mozfullscreenchange",fd),document.addEventListener("mozfullscreenerror",fd),document.addEventListener("MSFullscreenChange",fd),document.addEventListener("MSFullscreenError",fd)}}function fd(e){var t=e.type.replace(/^(webkit|moz|MS)/,"").toLowerCase(),n=document.createEvent("Event");n.initEvent(t,e.bubbles,e.cancelable),e.target.dispatchEvent(n)}Lr.Fullscreen=eM,eM.install=tM,ei(tM);function Uw(){}function nM(){var e=!0;(ua()&&!Cs()&&!F1()||cr()||bc()||Ra()||Io()||La()||Hg()||wc()&&!cr())&&(e=!1),e&&navigator.mediaCapabilities||(navigator.mediaCapabilities||(navigator.mediaCapabilities={}),rM=navigator.mediaCapabilities,navigator.mediaCapabilities.decodingInfo=LF)}function LF(e){var t,n,r,i,a,u,l,p,g,v,y;return P(function(x){switch(x.g){case 1:if(t={supported:!1,powerEfficient:!0,smooth:!0,keySystemAccess:null,configuration:e},n=e.video,r=e.audio,e.type!="media-source"){if(e.type=="file"){if(n&&(i=n.contentType,a=Op(i),!a)||r&&(u=r.contentType,l=Op(u),!l))return x.return(t)}else return x.return(t);x.s(2);break}if(!Ja())return x.return(t);if(!n){x.s(3);break}return T(x,RF(n),4);case 4:if(p=x.h,!p)return x.return(t);case 3:if(r){var S=r.contentType;if(ua()&&r.spatialRendering&&(S+="; spatialRendering=true"),g=ir(S),!g)return x.return(t)}case 2:return e.keySystemConfiguration?(v=e.keySystemConfiguration,T(x,NF(n,r,v),6)):(t.supported=!0,x.return(t));case 6:(y=x.h)&&(t.supported=!0,t.keySystemAccess=y);case 5:return x.return(t)}})}function RF(e){var t,n;return P(function(r){return r.g==1?ua()?T(r,UF(e),3):La()?(t=e.contentType,e.width&&e.height&&(t+="; width="+e.width,t+="; height="+e.height),e.framerate&&(t+="; framerate="+e.framerate),e.bitrate&&(t+="; bitrate="+e.bitrate),r.return(ir(t))):r.s(2):r.g!=2?(n=r.h,r.return(n)):r.return(ir(e.contentType))})}function NF(e,t,n){var r,i,a,u,l,p,g,v,y,x,S;return P(function(k){switch(k.g){case 1:if(r=[],i=[],n.audio&&(a={robustness:n.audio.robustness||"",contentType:t.contentType},La()&&t.contentType.includes('codecs="ac-3"')&&(a.contentType='audio/mp4; codecs="ec-3"'),n.audio.encryptionScheme&&(a.encryptionScheme=n.audio.encryptionScheme),r.push(a)),n.video&&(u={robustness:n.video.robustness||"",contentType:e.contentType},n.video.encryptionScheme&&(u.encryptionScheme=n.video.encryptionScheme),i.push(u)),l={initDataTypes:[n.initDataType],distinctiveIdentifier:n.distinctiveIdentifier,persistentState:n.persistentState,sessionTypes:n.sessionTypes},r.length&&(l.audioCapabilities=r),i.length&&(l.videoCapabilities=i),p=e?e.contentType:"",g=t?t.contentType:"",v=ci(p)+";"+Rs(p),y=ci(g)+";"+Rs(g),x=n.keySystem,S=null,me(k,2),yc.has(v+"#"+y+"#"+x)){S=yc.get(v+"#"+y+"#"+x)||null,k.s(4);break}return T(k,navigator.requestMediaKeySystemAccess(n.keySystem,[l]),5);case 5:S=k.h,yc.set(v+"#"+y+"#"+x,S);case 4:V(k,3);break;case 2:W(k);case 3:return k.return(S)}})}function UF(e){var t,n,r,i,a;return P(function(u){if(u.g==1){if(!(d.cast&&cast.__platform__&&cast.__platform__.canDisplayType))return u.return(ir(e.contentType));switch(t=e.contentType,e.width&&e.height&&1280<e.width&&720<e.height&&(t+="; width="+e.width+"; height="+e.height),e.framerate&&(n=Math.round(e.framerate),24>n||30<n)&&(t+="; framerate="+e.framerate),r=e.transferFunction||"",r){case"":case"srgb":break;case"pq":t+="; eotf=smpte2084";break;case"hlg":t+="; eotf=arib-std-b67";break;default:return u.return(!1)}return i=!1,a=OF,a.has(t)?(i=a.get(t),u.s(2)):T(u,cast.__platform__.canDisplayType(t),3)}return u.g!=2&&(i=u.h,a.set(t,i)),u.return(i)})}Lr.MediaCapabilities=Uw,Uw.install=nM;var rM=null;Uw.originalMcap=rM;var OF=new Map;ei(nM,-1);function iM(){}function aM(){var e=Y3();(d.MediaSource||d.ManagedMediaSource)&&(e&&d.MediaSource?12>=e?(Ow(),oM()):15>=e&&Ow():Rn("DT_STB_BCM")?(Ow(),oM()):(Rn("Tizen 2")||Co()||Rn("Tizen 4"))&&FF()),(d.MediaSource||d.ManagedMediaSource)&&jF(),d.MediaSource&&MediaSource.isTypeSupported('video/webm; codecs="vp9"')&&!MediaSource.isTypeSupported('video/webm; codecs="vp09.00.10.08"')&&BF()}function Ow(){var e=MediaSource.prototype.addSourceBuffer;MediaSource.prototype.addSourceBuffer=function(){var t=e.apply(this,Re.apply(0,arguments));return t.abort=function(){},t}}function oM(){var e=SourceBuffer.prototype.remove;SourceBuffer.prototype.remove=function(t,n){return e.call(this,t,n-.001)}}function jF(){if(d.MediaSource){var e=MediaSource.isTypeSupported.bind(MediaSource);MediaSource.isTypeSupported=function(n){return Zg(n)!="mp2t"&&e(n)}}if(d.ManagedMediaSource){var t=ManagedMediaSource.isTypeSupported.bind(ManagedMediaSource);d.ManagedMediaSource.isTypeSupported=function(n){return Zg(n)!="mp2t"&&t(n)}}}function FF(){var e=MediaSource.isTypeSupported.bind(MediaSource);if(MediaSource.isTypeSupported=function(n){return Rs(n)!="opus"&&e(n)},d.ManagedMediaSource){var t=ManagedMediaSource.isTypeSupported.bind(ManagedMediaSource);d.ManagedMediaSource.isTypeSupported=function(n){return Rs(n)!="opus"&&t(n)}}}function BF(){var e=MediaSource.isTypeSupported;Io()||(MediaSource.isTypeSupported=function(t){var n=t.split(/ *; */),r=n.findIndex(function(u){return u.startsWith("codecs=")});if(0>r)return e(t);var i=n[r].replace("codecs=","").replace(/"/g,"").split(/\s*,\s*/),a=i.findIndex(function(u){return u.startsWith("vp09")});return 0<=a&&(i[a]="vp9",n[r]='codecs="'+i.join(",")+'"',t=n.join("; ")),e(t)})}Lr.MediaSource=iM,iM.install=aM,ei(aM);function sM(){}function uM(){screen.orientation&&screen.orientation.unlock||(screen.orientation!=null?VF():d.orientation!=null&&$F())}function VF(){screen.orientation.lock===void 0&&(screen.orientation.lock=function(){return Promise.resolve()}),screen.orientation.unlock===void 0&&(screen.orientation.unlock=function(){})}function $F(){function e(){switch(d.orientation){case-90:t.type="landscape-secondary",t.angle=270;break;case 0:t.type="portrait-primary",t.angle=0;break;case 90:t.type="landscape-primary",t.angle=90;break;case 180:t.type="portrait-secondary",t.angle=180}}var t=new Gv;screen.orientation=t,e(),d.addEventListener("orientationchange",function(){e();var n=new Ae("change");t.dispatchEvent(n)})}Lr.Orientation=sM,sM.install=uM;function Gv(){Xt.call(this),this.type="",this.angle=0}Te(Gv,Xt),Gv.prototype.lock=function(e){function t(r){return screen.lockOrientation?screen.lockOrientation(r):screen.mozLockOrientation?screen.mozLockOrientation(r):screen.msLockOrientation?screen.msLockOrientation(r):!1}var n=!1;switch(e){case"natural":n=t("default");break;case"any":n=!0,this.unlock();break;default:n=t(e)}return n?Promise.resolve():(e=Error("screen.orientation.lock() is not available on this device"),e.name="NotSupportedError",e.code=DOMException.NOT_SUPPORTED_ERR,Promise.reject(e))},Gv.prototype.unlock=function(){screen.unlockOrientation?screen.unlockOrientation():screen.mozUnlockOrientation?screen.mozUnlockOrientation():screen.msUnlockOrientation&&screen.msUnlockOrientation()},ei(uM);function jw(){}var Fw,Bw,Vw,$w,zw,Hw;function lM(e){d.HTMLVideoElement&&d.WebKitMediaKeys&&(e!==void 0&&e&&(Fw=!0,Bw=Object.getOwnPropertyDescriptor(HTMLMediaElement.prototype,"mediaKeys"),Vw=HTMLMediaElement.prototype.setMediaKeys,$w=d.MediaKeys,zw=d.MediaKeySystemAccess,Hw=navigator.requestMediaKeySystemAccess),delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=HF,d.MediaKeys=Qh,d.MediaKeySystemAccess=Kv,navigator.requestMediaKeySystemAccess=zF,d.shakaMediaKeysPolyfill=GF,im.clear(),yc.clear())}function zF(e,t){try{var n=new Kv(e,t);return Promise.resolve(n)}catch(r){return Promise.reject(r)}}function HF(e){var t=this.mediaKeys;return t&&t!=e&&cM(t,null),delete this.mediaKeys,(this.mediaKeys=e)?cM(e,this):Promise.resolve()}function qF(e){if(e=Ye(e.initData),pn(e).getUint32(0,!0)+4!=e.byteLength)throw new RangeError("Malformed FairPlay init data");e=Is(e.subarray(4),!0),e=la(e);var t=new Event("encrypted");t.initDataType="skd",t.initData=ui(e),this.dispatchEvent(t)}Lr.PatchedMediaKeysApple=jw,jw.uninstall=function(){Fw&&(Fw=!1,Object.defineProperty(HTMLMediaElement.prototype,"mediaKeys",Bw),HTMLMediaElement.prototype.setMediaKeys=Vw,d.MediaKeys=$w,d.MediaKeySystemAccess=zw,navigator.requestMediaKeySystemAccess=Hw,Bw=Hw=Vw=zw=$w=null,d.shakaMediaKeysPolyfill="",im.clear(),yc.clear())},jw.install=lM;function Kv(e,t){if(this.keySystem=e,e.startsWith("com.apple.fps"))for(e=w(t),t=e.next();!t.done;t=e.next()){var n=t.value;if(n.persistentState=="required")t=null;else{t={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:n.initDataTypes,sessionTypes:["temporary"],label:n.label};var r=!1,i=!1;if(n.audioCapabilities)for(var a=w(n.audioCapabilities),u=a.next();!u.done;u=a.next())u=u.value,u.contentType&&(r=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,u.contentType.split(";")[0])&&(t.audioCapabilities.push(u),i=!0));if(n.videoCapabilities)for(n=w(n.videoCapabilities),a=n.next();!a.done;a=n.next())a=a.value,a.contentType&&(r=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,a.contentType.split(";")[0])&&(t.videoCapabilities.push(a),i=!0));r||(i=WebKitMediaKeys.isTypeSupported(this.keySystem,"video/mp4")),t=i?t:null}if(t){this.g=t;return}}throw e=Error("Unsupported keySystem"),e.name="NotSupportedError",e.code=DOMException.NOT_SUPPORTED_ERR,e}Kv.prototype.createMediaKeys=function(){var e=new Qh(this.keySystem);return Promise.resolve(e)},Kv.prototype.getConfiguration=function(){return this.g};function Qh(e){this.h=new WebKitMediaKeys(e),this.g=new Ce}Qh.prototype.createSession=function(e){if(e=e||"temporary",e!="temporary")throw new TypeError("Session type "+e+" is unsupported on this platform.");return new qw(this.h)},Qh.prototype.setServerCertificate=function(){return Promise.resolve(!1)};function cM(e,t){if(e.g.Qa(),!t)return Promise.resolve();e.g.D(t,"webkitneedkey",qF);try{return Kc(t,HTMLMediaElement.HAVE_METADATA,e.g,function(){t.webkitSetMediaKeys(e.h)}),Promise.resolve()}catch(n){return Promise.reject(n)}}Qh.prototype.getStatusForPolicy=function(){return Promise.resolve("usable")};function qw(e){Xt.call(this),this.i=null,this.l=e,this.g=this.h=null,this.j=new Ce,this.sessionId="",this.expiration=NaN,this.closed=new Wt,this.keyStatuses=new dM}Te(qw,Xt),f=qw.prototype,f.generateRequest=function(e,t){var n=this;this.h=new Wt;try{var r=this.l.createSession("video/mp4",Ye(t));this.i=r,this.sessionId=r.sessionId||"",this.j.D(this.i,"webkitkeymessage",function(i){n.h&&(n.h.resolve(),n.h=null),i=new Map().set("messageType",n.keyStatuses.dc()==null?"license-request":"license-renewal").set("message",ui(i.message)),i=new Ae("message",i),n.dispatchEvent(i)}),this.j.D(r,"webkitkeyadded",function(){n.g&&(Wv(n,"usable"),n.g.resolve(),n.g=null)}),this.j.D(r,"webkitkeyerror",function(){var i=Error("EME PatchedMediaKeysApple key error");if(i.errorCode=n.i.error,n.h!=null)n.h.reject(i),n.h=null;else if(n.g!=null)n.g.reject(i),n.g=null;else switch(n.i.error.code){case WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT:case WebKitMediaKeyError.MEDIA_KEYERR_HARDWARECHANGE:Wv(n,"output-not-allowed");break;default:Wv(n,"internal-error")}}),Wv(this,"status-pending")}catch(i){this.h.reject(i)}return this.h},f.load=function(){return Promise.reject(Error("MediaKeySession.load not yet supported"))},f.update=function(e){this.g=new Wt;try{this.i.update(Ye(e))}catch(t){this.g.reject(t)}return this.g},f.close=function(){try{this.i.close(),this.closed.resolve(),this.j.Qa()}catch(e){this.closed.reject(e)}return this.closed},f.remove=function(){return Promise.reject(Error("MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform"))};function Wv(e,t){var n=e.keyStatuses;n.size=t==null?0:1,n.g=t,t=new Ae("keystatuseschange"),e.dispatchEvent(t)}function dM(){this.size=0,this.g=void 0}f=dM.prototype,f.dc=function(){return this.g},f.forEach=function(e){this.g&&e(this.g,$g.value())},f.get=function(e){if(this.has(e))return this.g},f.has=function(e){var t=$g.value();return!!(this.g&&si(e,t))},f.entries=function(){},f.keys=function(){},f.values=function(){};var GF="apple";ei(function(){d.HTMLVideoElement&&d.WebKitMediaKeys&&(navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||lM())});function pM(){}function hM(){d.MediaKeys&&(!MediaKeys.prototype.setServerCertificate||Co()||Rn("Tizen 4")||Rn("Tizen 5.0")||zg())&&(MediaKeys.prototype.setServerCertificate=KF)}function KF(){return Promise.resolve(!1)}Lr.PatchedMediaKeysCert=pM,pM.install=hM,ei(hM);function fM(){}function gM(){if(!(!d.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration)){if(HTMLMediaElement.prototype.webkitGenerateKeyRequest)Yw="webkit";else if(!HTMLMediaElement.prototype.generateKeyRequest)return;navigator.requestMediaKeySystemAccess=WF,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=XF,d.MediaKeys=Zh,d.MediaKeySystemAccess=Xv,d.shakaMediaKeysPolyfill=YF}}function Gw(e){var t=Yw;return t?t+e.charAt(0).toUpperCase()+e.slice(1):e}function WF(e,t){try{var n=new Xv(e,t);return Promise.resolve(n)}catch(r){return Promise.reject(r)}}function XF(e){var t=this.mediaKeys;return t&&t!=e&&mM(t,null),delete this.mediaKeys,(this.mediaKeys=e)&&mM(e,this),Promise.resolve()}Lr.PatchedMediaKeysWebkit=fM,fM.install=gM;function Xv(e,t){this.g=this.keySystem=e;var n=!1;e=="org.w3.clearkey"&&(this.g="webkit-org.w3.clearkey",n=!1);var r=!1,i=document.getElementsByTagName("video");i=i.length?i[0]:document.createElement("video"),t=w(t);for(var a=t.next();!a.done;a=t.next()){a=a.value;var u={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:a.initDataTypes,sessionTypes:["temporary"],label:a.label},l=!1;if(a.audioCapabilities)for(var p=w(a.audioCapabilities),g=p.next();!g.done;g=p.next())g=g.value,g.contentType&&(l=!0,i.canPlayType(g.contentType.split(";")[0],this.g)&&(u.audioCapabilities.push(g),r=!0));if(a.videoCapabilities)for(p=w(a.videoCapabilities),g=p.next();!g.done;g=p.next())g=g.value,g.contentType&&(l=!0,i.canPlayType(g.contentType,this.g)&&(u.videoCapabilities.push(g),r=!0));if(l||(r=i.canPlayType("video/mp4",this.g)||i.canPlayType("video/webm",this.g)),a.persistentState=="required"&&(n?(u.persistentState="required",u.sessionTypes=["persistent-license"]):r=!1),r){this.h=u;return}}throw n="Unsupported keySystem",(e=="org.w3.clearkey"||e=="com.widevine.alpha")&&(n="None of the requested configurations were supported."),e=Error(n),e.name="NotSupportedError",e.code=DOMException.NOT_SUPPORTED_ERR,e}Xv.prototype.createMediaKeys=function(){var e=new Zh(this.g);return Promise.resolve(e)},Xv.prototype.getConfiguration=function(){return this.h};function Zh(e){this.l=e,this.h=null,this.g=new Ce,this.i=[],this.j=new Map}function mM(e,t){e.h=t,e.g.Qa();var n=Yw;t&&(e.g.D(t,n+"needkey",function(r){var i=new CustomEvent("encrypted");i.initDataType="cenc",i.initData=ui(r.initData),e.h.dispatchEvent(i)}),e.g.D(t,n+"keymessage",function(r){var i=Kw(e,r.sessionId);i&&(r=new Map().set("messageType",i.keyStatuses.dc()==null?"licenserequest":"licenserenewal").set("message",r.message),r=new Ae("message",r),i.h&&(i.h.resolve(),i.h=null),i.dispatchEvent(r))}),e.g.D(t,n+"keyadded",function(r){(r=Kw(e,r.sessionId))&&r.ready()}),e.g.D(t,n+"keyerror",function(r){var i=Kw(e,r.sessionId);if(i){var a=Error("EME v0.1b key error"),u=r.errorCode;u.systemCode=r.systemCode,a.errorCode=u,!r.sessionId&&i.h?(r.systemCode==45&&(a.message="Unsupported session type."),i.h.reject(a),i.h=null):r.sessionId&&i.g?(i.g.reject(a),i.g=null):(a=r.systemCode,r.errorCode.code==MediaKeyError.MEDIA_KEYERR_OUTPUT?Yv(i,"output-restricted"):a==1?Yv(i,"expired"):Yv(i,"internal-error"))}}))}Zh.prototype.createSession=function(e){if(e=e||"temporary",e!="temporary"&&e!="persistent-license")throw new TypeError("Session type "+e+" is unsupported on this platform.");var t=this.h||document.createElement("video");return t.src||(t.src="about:blank"),e=new Ww(t,this.l,e),this.i.push(e),e},Zh.prototype.setServerCertificate=function(){return Promise.resolve(!1)},Zh.prototype.getStatusForPolicy=function(){return Promise.resolve("usable")};function Kw(e,t){var n=e.j.get(t);return n||((n=e.i.shift())?(n.sessionId=t,e.j.set(t,n),n):null)}function Ww(e,t,n){Xt.call(this),this.j=e,this.m=!1,this.g=this.h=null,this.i=t,this.l=n,this.sessionId="",this.expiration=NaN,this.closed=new Wt,this.keyStatuses=new yM}Te(Ww,Xt),f=Ww.prototype,f.ready=function(){Yv(this,"usable"),this.g&&this.g.resolve(),this.g=null};function vM(e,t,n){if(e.m)return Promise.reject(Error("The session is already initialized."));e.m=!0;try{if(e.l=="persistent-license")if(n)var r=Ye(la("LOAD_SESSION|"+n));else{var i=la("PERSISTENT|");r=En(i,t)}else r=Ye(t)}catch(u){return Promise.reject(u)}e.h=new Wt;var a=Gw("generateKeyRequest");try{e.j[a](e.i,r)}catch(u){if(u.name!="InvalidStateError")return e.h=null,Promise.reject(u);new kt(function(){try{e.j[a](e.i,r)}catch(l){e.h.reject(l),e.h=null}}).da(.01)}return e.h}function Xw(e,t,n){if(e.g)e.g.then(function(){return Xw(e,t,n)}).catch(function(){return Xw(e,t,n)});else{if(e.g=t,e.i=="webkit-org.w3.clearkey"){var r=yn(n),i=JSON.parse(r);i.keys[0].kty!="oct"&&(e.g.reject(Error("Response is not a valid JSON Web Key Set.")),e.g=null),r=zi(i.keys[0].k),i=zi(i.keys[0].kid)}else r=Ye(n),i=null;var a=Gw("addKey");try{e.j[a](e.i,r,i,e.sessionId)}catch(u){e.g.reject(u),e.g=null}}}function Yv(e,t){var n=e.keyStatuses;n.size=t==null?0:1,n.g=t,t=new Ae("keystatuseschange"),e.dispatchEvent(t)}f.generateRequest=function(e,t){return vM(this,t,null)},f.load=function(e){return this.l=="persistent-license"?vM(this,null,e):Promise.reject(Error("Not a persistent session."))},f.update=function(e){var t=new Wt;return Xw(this,t,e),t},f.close=function(){if(this.l!="persistent-license"){if(!this.sessionId)return this.closed.reject(Error("The session is not callable.")),this.closed;var e=Gw("cancelKeyRequest");try{this.j[e](this.i,this.sessionId)}catch{}}return this.closed.resolve(),this.closed},f.remove=function(){return this.l!="persistent-license"?Promise.reject(Error("Not a persistent session.")):this.close()};function yM(){this.size=0,this.g=void 0}f=yM.prototype,f.dc=function(){return this.g},f.forEach=function(e){this.g&&e(this.g,$g.value())},f.get=function(e){if(this.has(e))return this.g},f.has=function(e){var t=$g.value();return!!(this.g&&si(e,t))},f.entries=function(){},f.keys=function(){},f.values=function(){};var Yw="",YF="webkit";ei(gM);function bM(){}function wM(){if(d.HTMLVideoElement){var e=HTMLVideoElement.prototype;e.requestPictureInPicture&&document.exitPictureInPicture||!e.webkitSupportsPresentationMode||(document.pictureInPictureEnabled=!0,document.pictureInPictureElement=null,e.requestPictureInPicture=QF,Object.defineProperty(e,"disablePictureInPicture",{get:eB,set:tB,enumerable:!0,configurable:!0}),document.exitPictureInPicture=ZF,document.addEventListener("webkitpresentationmodechanged",JF,!0))}}function JF(e){if(e=e.target,e.webkitPresentationMode=="picture-in-picture"){document.pictureInPictureElement=e;var t=new Event("enterpictureinpicture");e.dispatchEvent(t)}else document.pictureInPictureElement==e&&(document.pictureInPictureElement=null),t=new Event("leavepictureinpicture"),e.dispatchEvent(t)}function QF(){return this.webkitSupportsPresentationMode("picture-in-picture")?(this.webkitSetPresentationMode("picture-in-picture"),document.pictureInPictureElement=this,Promise.resolve()):Promise.reject(Error("PiP not allowed by video element"))}function ZF(){var e=document.pictureInPictureElement;return e?(e.webkitSetPresentationMode("inline"),document.pictureInPictureElement=null,Promise.resolve()):Promise.reject(Error("No picture in picture element found"))}function eB(){return this.hasAttribute("disablePictureInPicture")?!0:!this.webkitSupportsPresentationMode("picture-in-picture")}function tB(e){e?this.setAttribute("disablePictureInPicture",""):this.removeAttribute("disablePictureInPicture")}Lr.PiPWebkit=bM,bM.install=wM,ei(wM);function xM(){}function SM(){d.crypto&&("randomUUID"in d.crypto||(d.crypto.randomUUID=nB))}function nB(){var e=URL.createObjectURL(new Blob),t=e.toString();return URL.revokeObjectURL(e),t.substr(t.lastIndexOf("/")+1)}Lr.RandomUUID=xM,xM.install=SM,ei(SM);function kM(){}function TM(){var e=Symbol.prototype;"description"in e||Object.defineProperty(e,"description",{get:rB})}function rB(){var e=/\((.*)\)/.exec(this.toString());return e?e[1]:void 0}Lr.Symbol=kM,kM.install=TM,ei(TM);function AM(){}function EM(){if(d.HTMLMediaElement){var e=HTMLMediaElement.prototype.play;HTMLMediaElement.prototype.play=function(){var t=e.apply(this);return t&&t.catch(function(){}),t}}}Lr.VideoPlayPromise=AM,AM.install=EM,ei(EM);function CM(){}function IM(){if(d.HTMLVideoElement){var e=HTMLVideoElement.prototype;!e.getVideoPlaybackQuality&&("webkitDroppedFrameCount"in e||zg())&&(e.getVideoPlaybackQuality=iB)}}function iB(){return{droppedVideoFrames:this.webkitDroppedFrameCount,totalVideoFrames:this.webkitDecodedFrameCount,corruptedVideoFrames:0,creationTime:NaN,totalFrameDelay:0}}Lr.VideoPlaybackQuality=CM,CM.install=IM,ei(IM);function MM(){}function _M(){if(!d.VTTCue&&d.TextTrackCue){var e=null,t=TextTrackCue.length;if(t==3)e=Jw;else if(t==6)e=aB;else{try{var n=!!Jw(1,2,"")}catch{n=!1}n&&(e=Jw)}e&&(d.VTTCue=function(r,i,a){return e(r,i,a)})}}function Jw(e,t,n){return new d.TextTrackCue(e,t,n)}function aB(e,t,n){return new d.TextTrackCue(e+"-"+t+"-"+n,e,t,n)}Lr.VTTCue=MM,MM.install=_M,ei(_M);function Mi(){}Mi.prototype.parseInit=function(){},Mi.prototype.setSequenceMode=function(){},Mi.prototype.setManifestType=function(){},Mi.prototype.parseMedia=function(e,t){var n=null,r=[];e=yn(e).split(/\r?\n/),e=w(e);for(var i=e.next();!i.done;i=e.next())if((i=i.value)&&!/^\s+$/.test(i)&&(i=oB.exec(i))){var a=sB.exec(i[1]);a=60*parseInt(a[1],10)+parseFloat(a[2].replace(",",".")),i=new un(a,t.segmentEnd?t.segmentEnd:a+2,i[2]),n&&(n.endTime=a,r.push(n)),n=i}return n&&r.push(n),r},Ee("shaka.text.LrcTextParser",Mi),Mi.prototype.parseMedia=Mi.prototype.parseMedia,Mi.prototype.setManifestType=Mi.prototype.setManifestType,Mi.prototype.setSequenceMode=Mi.prototype.setSequenceMode,Mi.prototype.parseInit=Mi.prototype.parseInit;var oB=/^\[(\d{1,2}:\d{1,2}(?:[.,]\d{1,3})?)\](.*)/,sB=/^(\d+):(\d{1,2}(?:[.,]\d{1,3})?)$/;dr("application/x-subtitle-lrc",function(){return new Mi});function gi(){}gi.prototype.parseInit=function(){},gi.prototype.setSequenceMode=function(){},gi.prototype.setManifestType=function(){},gi.prototype.parseMedia=function(e,t,n,r){var i=yn(e);if(e=[],i=="")return e;var a=qu(i,"tt",!0);if(!a)throw new $(2,2,2005,"Failed to parse TTML.");if(i=Ua(a,"body")[0],!i)return[];var u=Za(a,ef,"frameRate"),l=Za(a,ef,"subFrameRate"),p=Za(a,ef,"frameRateMultiplier"),g=Za(a,ef,"tickRate"),v=Za(a,ef,"cellResolution"),y=a.attributes["xml:space"]||"default",x=Za(a,Zv,"extent");if(y!="default"&&y!="preserve")throw new $(2,2,2005,"Invalid xml:space value: "+y);y=y=="default",u=new pB(u,l,p,g),v=dB(v),l=Ua(a,"metadata")[0],l=(l?l.children:[]).filter(function(C){return C!=`
`}),p=Ua(a,"style"),a=Ua(a,"region"),g=[];for(var S=w(a),k=S.next();!k.done;k=S.next())(k=uB(k.value,p,x))&&g.push(k);if(Gt(i,"p").length)throw new $(2,2,2001,"<p> can only be inside <div> in TTML");for(x=w(Gt(i,"div")),S=x.next();!S.done;S=x.next())if(Gt(S.value,"span").length)throw new $(2,2,2001,"<span> can only be inside <p> in TTML");return(t=DM(i,t,u,l,p,a,g,y,v,null,!1,n,r))&&(t.backgroundColor||(t.backgroundColor="transparent"),e.push(t)),e};function DM(e,t,n,r,i,a,u,l,p,g,v,y,x){var S=g;if(Gg(e)){if(!v)return null;var k={tagName:"span",children:[jn(e)],attributes:{},parent:null}}else k=e;for(var C=null,E=w(VM),I=E.next();!I.done&&!(C=Qv(k,"backgroundImage",r,"#",I.value)[0]);I=E.next());E=null,I=Za(k,VM,"backgroundImage");var _=/^(urn:)(mpeg:[a-z0-9][a-z0-9-]{0,31}:)(subs:)([0-9]+)$/;if(I&&_.test(I)){if(E=parseInt(I.split(":").pop(),10)-1,E>=x.length)return null;E=x[E]}else y&&I&&!I.startsWith("#")&&(_=new ee(y),I=new ee(I),(I=_.resolve(I).toString())&&(E=I));if((e.tagName=="p"||C||E)&&(v=!0),e=v,I=(k.attributes["xml:space"]||(l?"default":"preserve"))=="default",_=k.children.every(Gg),l=[],!_)for(var F=w(k.children),B=F.next();!B.done;B=F.next())(B=DM(B.value,t,n,r,i,a,u,I,p,k,v,y,x))&&l.push(B);if(r=g!=null,y=jn(k),y=k.children.length&&y&&/\S/.test(y),F=k.attributes.begin||k.attributes.end||k.attributes.dur,!(F||y||k.tagName=="br"||l.length!=0||r&&!I))return null;for(x=RM(k,n),y=x.start,x=x.end;S&&S.tagName&&S.tagName!="tt";)x=cB(S,n,y,x),y=x.start,x=x.end,S=S.parent;if(y==null&&(y=0),y+=t.periodStart,x=x==null?1/0:x+t.periodStart,y=Math.max(y,t.segmentStart),x=Math.min(x,t.segmentEnd),!F&&0<l.length)for(y=1/0,x=0,t=w(l),n=t.next();!n.done;n=t.next())n=n.value,y=Math.min(y,n.startTime),x=Math.max(x,n.endTime);if(k.tagName=="br")return i=new un(y,x,""),i.lineBreak=!0,i;if(t="",_&&(t=Kr(jn(k)||""),I&&(t=t.replace(/\s+/g," "))),t=new un(y,x,t),t.nestedCues=l,v||(t.isContainer=!0),p&&(t.cellResolution=p),p=Qv(k,"region",a,"")[0],k.attributes.region&&p&&p.attributes["xml:id"]){var q=p.attributes["xml:id"];t.region=u.filter(function(O){return O.id==q})[0]}return u=p,g&&r&&!k.attributes.region&&!k.attributes.style&&(u=Qv(g,"region",a,"")[0]),lB(t,k,u,C,E,i,e,l.length==0),t}function uB(e,t,n){var r=new Vu,i=e.attributes["xml:id"];if(!i)return null;r.id=i,i=null,n&&(i=nx.exec(n)||rx.exec(n)),n=i?Number(i[1]):null,i=i?Number(i[2]):null;var a,u=Jv(e,t,"extent");if(u){var l=(a=nx.exec(u))||rx.exec(u);l!=null&&(r.width=Number(l[1]),r.height=Number(l[2]),a||(n!=null&&(r.width=100*r.width/n),i!=null&&(r.height=100*r.height/i)),r.widthUnits=a||n!=null?li:0,r.heightUnits=a||i!=null?li:0)}return(e=Jv(e,t,"origin"))&&(l=(a=nx.exec(e))||rx.exec(e),l!=null&&(r.viewportAnchorX=Number(l[1]),r.viewportAnchorY=Number(l[2]),a?u||(r.width=100-r.viewportAnchorX,r.widthUnits=li,r.height=100-r.viewportAnchorY,r.heightUnits=li):(i!=null&&(r.viewportAnchorY=100*r.viewportAnchorY/i),n!=null&&(r.viewportAnchorX=100*r.viewportAnchorX/n)),r.viewportAnchorUnits=a||n!=null?li:0)),r}function Qw(e){var t=e.match(/rgba\(([^)]+)\)/);return t&&(t=t[1].split(","),t.length==4)?(t[3]=String(Number(t[3])/255),"rgba("+t.join(",")+")"):e}function lB(e,t,n,r,i,a,u,l){if(u=u||l,kr(t,n,a,"direction",u)=="rtl"&&(e.direction="rtl"),l=kr(t,n,a,"writingMode",u),l=="tb"||l=="tblr"?e.writingMode="vertical-lr":l=="tbrl"?e.writingMode="vertical-rl":l=="rltb"||l=="rl"?e.direction="rtl":l&&(e.direction=Wp),(l=kr(t,n,a,"textAlign",!0))?(e.positionAlign=gB.get(l),e.lineAlign=fB.get(l),e.textAlign=nb[l.toUpperCase()]):e.textAlign=to,(l=kr(t,n,a,"displayAlign",!0))&&(e.displayAlign=v5[l.toUpperCase()]),(l=kr(t,n,a,"color",u))&&(e.color=Qw(l)),(l=kr(t,n,a,"backgroundColor",u))&&(e.backgroundColor=Qw(l)),(l=kr(t,n,a,"border",u))&&(e.border=l),l=kr(t,n,a,"fontFamily",u))switch(l){case"monospaceSerif":e.fontFamily="Courier New,Liberation Mono,Courier,monospace";break;case"proportionalSansSerif":e.fontFamily="Arial,Helvetica,Liberation Sans,sans-serif";break;case"sansSerif":e.fontFamily="sans-serif";break;case"monospaceSansSerif":e.fontFamily="Consolas,monospace";break;case"proportionalSerif":e.fontFamily="serif";break;default:e.fontFamily=l.split(",").filter(function(p){return p!="default"}).join(",")}switch((l=kr(t,n,a,"fontWeight",u))&&l=="bold"&&(e.fontWeight=Cc),l=kr(t,n,a,"wrapOption",u),e.wrapLine=!(l&&l=="noWrap"),(l=kr(t,n,a,"lineHeight",u))&&l.match(gd)&&(e.lineHeight=l),(l=kr(t,n,a,"fontSize",u))&&(l.match(gd)||l.match(hB))&&(e.fontSize=l),(l=kr(t,n,a,"fontStyle",u))&&(e.fontStyle=x5[l.toUpperCase()]),r?(i=r.attributes.imageType||r.attributes.imagetype,l=r.attributes.encoding,r=jn(r).trim(),i=="PNG"&&l=="Base64"&&r&&(e.backgroundImage="data:image/png;base64,"+r)):i&&(e.backgroundImage=i),(r=kr(t,n,a,"textOutline",u))&&(r=r.split(" "),r[0].match(gd)?e.textStrokeColor=e.color:(e.textStrokeColor=Qw(r[0]),r.shift()),r[0]&&r[0].match(gd)?e.textStrokeWidth=r[0]:e.textStrokeColor=""),(r=kr(t,n,a,"letterSpacing",u))&&r.match(gd)&&(e.letterSpacing=r),(r=kr(t,n,a,"linePadding",u))&&r.match(gd)&&(e.linePadding=r),(r=kr(t,n,a,"opacity",u))&&(e.opacity=parseFloat(r)),(r=Jv(n,a,"textDecoration"))&&PM(e,r),(r=Zw(t,a,"textDecoration"))&&PM(e,r),(r=kr(t,n,a,"textCombine",u))&&(e.textCombineUpright=r),kr(t,n,a,"ruby",u)){case"container":e.rubyTag="ruby";break;case"text":e.rubyTag="rt"}}function PM(e,t){t=w(t.split(" "));for(var n=t.next();!n.done;n=t.next())switch(n.value){case"underline":e.textDecoration.includes(Lo)||e.textDecoration.push(Lo);break;case"noUnderline":e.textDecoration.includes(Lo)&&ca(e.textDecoration,Lo);break;case"lineThrough":e.textDecoration.includes("lineThrough")||e.textDecoration.push("lineThrough");break;case"noLineThrough":e.textDecoration.includes("lineThrough")&&ca(e.textDecoration,"lineThrough");break;case"overline":e.textDecoration.includes("overline")||e.textDecoration.push("overline");break;case"noOverline":e.textDecoration.includes("overline")&&ca(e.textDecoration,"overline")}}function kr(e,t,n,r,i){return i=i===void 0?!0:i,(e=Zw(e,n,r))?e:i?Jv(t,n,r):null}function Jv(e,t,n){if(!e)return null;var r=Za(e,Zv,n);return r||LM(e,t,n)}function Zw(e,t,n){var r=Za(e,Zv,n);return r||LM(e,t,n)}function LM(e,t,n){e=Qv(e,"style",t,"");for(var r=null,i=0;i<e.length;i++){var a=Do(e[i],"urn:ebu:tt:style",n);a||(a=Za(e[i],Zv,n)),a||(a=Zw(e[i],t,n)),a&&(r=a)}return r}function Qv(e,t,n,r,i){var a=[];if(!e||1>n.length)return a;var u=e;for(e=null;!e&&!(e=i?Do(u,i,t):u.attributes[t])&&(u=u.parent,u););if(t=e){for(t=w(t.split(" ")),i=t.next();!i.done;i=t.next())for(i=i.value,e=w(n),u=e.next();!u.done;u=e.next())if(u=u.value,r+u.attributes["xml:id"]==i){a.push(u);break}}return a}function cB(e,t,n,r){return e=RM(e,t),n==null?n=e.start:e.start!=null&&(n+=e.start),r==null?r=e.end:e.start!=null&&(r+=e.start),{start:n,end:r}}function RM(e,t){var n=ex(e.attributes.begin,t),r=ex(e.attributes.end,t);return e=ex(e.attributes.dur,t),r==null&&e!=null&&(r=n+e),{start:n,end:r}}function ex(e,t){var n=null;if(NM.test(e)){e=NM.exec(e),n=Number(e[1]);var r=Number(e[2]),i=Number(e[3]),a=Number(e[4]);a+=(Number(e[5])||0)/t.h,i+=a/t.frameRate,n=i+60*r+3600*n}else if(UM.test(e))n=tx(UM,e);else if(OM.test(e))n=tx(OM,e);else if(jM.test(e))e=jM.exec(e),n=Number(e[1])/t.frameRate;else if(FM.test(e))e=FM.exec(e),n=Number(e[1])/t.g;else if(BM.test(e))n=tx(BM,e);else if(e)throw new $(2,2,2001,"Could not parse cue time range in TTML");return n}function tx(e,t){return e=e.exec(t),e==null||e[0]==""?null:(Number(e[4])||0)/1e3+(Number(e[3])||0)+60*(Number(e[2])||0)+3600*(Number(e[1])||0)}function dB(e){return e&&(e=/^(\d+) (\d+)$/.exec(e))?{oc:parseInt(e[1],10),rows:parseInt(e[2],10)}:null}Ee("shaka.text.TtmlTextParser",gi),gi.prototype.parseMedia=gi.prototype.parseMedia,gi.prototype.setManifestType=gi.prototype.setManifestType,gi.prototype.setSequenceMode=gi.prototype.setSequenceMode,gi.prototype.parseInit=gi.prototype.parseInit;function pB(e,t,n,r){this.frameRate=Number(e)||30,this.h=Number(t)||1,this.g=Number(r),this.g==0&&(this.g=e?this.frameRate*this.h:1),n&&(e=/^(\d+) (\d+)$/g.exec(n))&&(this.frameRate*=Number(e[1])/Number(e[2]))}var nx=/^(\d{1,2}(?:\.\d+)?|100(?:\.0+)?)% (\d{1,2}(?:\.\d+)?|100(?:\.0+)?)%$/,hB=/^(\d{1,4}(?:\.\d+)?|100)%$/,gd=/^(\d+px|\d+em|\d*\.?\d+c)$/,rx=/^(\d+)px (\d+)px$/,NM=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,UM=/^(?:(\d{2,}):)?(\d{2}):(\d{2})$/,OM=/^(?:(\d{2,}):)?(\d{2}):(\d{2}\.\d+)$/,jM=/^(\d*(?:\.\d*)?)f$/,FM=/^(\d*(?:\.\d*)?)t$/,BM=RegExp("^(?:(\\d*(?:\\.\\d*)?)h)?(?:(\\d*(?:\\.\\d*)?)m)?(?:(\\d*(?:\\.\\d*)?)s)?(?:(\\d*(?:\\.\\d*)?)ms)?$"),fB=new Map().set("left",Ku).set("center","center").set("right","end").set("start",Ku).set("end","end"),gB=new Map().set("left","line-left").set("center","center").set("right","line-right"),ef=["http://www.w3.org/ns/ttml#parameter","http://www.w3.org/2006/10/ttaf1#parameter"],Zv=["http://www.w3.org/ns/ttml#styling","http://www.w3.org/2006/10/ttaf1#styling"],VM=["http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt","http://www.smpte-ra.org/schemas/2052-1/2013/smpte-tt"];dr("application/ttml+xml",function(){return new gi});function Kn(){this.g=new gi}Kn.prototype.parseInit=function(e){var t=!1;if(new Qt().box("moov",xt).box("trak",xt).box("mdia",xt).box("minf",xt).box("stbl",xt).R("stsd",Us).box("stpp",function(n){t=!0,n.parser.stop()}).parse(e),!t)throw new $(2,2,2007)},Kn.prototype.setSequenceMode=function(){},Kn.prototype.setManifestType=function(){},Kn.prototype.parseMedia=function(e,t,n){var r=[],i=null,a=[],u=new Map,l=[];if(new Qt().box("moof",xt).box("traf",xt).R("tfhd",function(I){i=hm(I.reader,I.flags).md}).R("trun",function(I){I=mm(I.reader,I.version,I.flags),I=w(I.fg);for(var _=I.next();!_.done;_=I.next())l.push(_.value.sampleSize||i||0)}).R("subs",function(I){for(var _=I.reader,F=_.S(),B=-1,q=0;q<F;q++){var O=_.S();B+=O,O=_.na();for(var N=[],H=0;H<O;H++)I.version==1?N.push(_.S()):N.push(_.na()),_.X(),_.X(),_.S();u.set(B,N)}}).box("mdat",Uc(function(I){a.push(I)})).parse(e,!1),a.length==0)throw new $(2,2,2007);for(var p=En.apply(vr,j(a)),g=0,v=0;v<l.length;v++){var y=Ye(p,g,l[v]);g+=l[v];var x=u.get(v);if(x&&x.length){y=Ye(y,0,x[0]);for(var S=[],k=x[0],C=1;C<x.length;C++){var E=Ye(e,k,x[C]);E=qg(E),S.push("data:image/png;base64,"+E),k+=x[C]}r=r.concat(this.g.parseMedia(y,t,n,S))}else r=r.concat(this.g.parseMedia(y,t,n,[]))}return r},Ee("shaka.text.Mp4TtmlParser",Kn),Kn.prototype.parseMedia=Kn.prototype.parseMedia,Kn.prototype.setManifestType=Kn.prototype.setManifestType,Kn.prototype.setSequenceMode=Kn.prototype.setSequenceMode,Kn.prototype.parseInit=Kn.prototype.parseInit,dr('application/mp4; codecs="stpp"',function(){return new Kn}),dr('application/mp4; codecs="stpp.ttml"',function(){return new Kn}),dr('application/mp4; codecs="stpp.ttml.im1i"',function(){return new Kn}),dr('application/mp4; codecs="stpp.ttml.im1t"',function(){return new Kn}),dr('application/mp4; codecs="stpp.ttml.im2i"',function(){return new Kn}),dr('application/mp4; codecs="stpp.ttml.im2t"',function(){return new Kn}),dr('application/mp4; codecs="stpp.ttml.etd1"',function(){return new Kn}),dr('application/mp4; codecs="stpp.ttml.etd1|im1t"',function(){return new Kn}),dr('application/mp4; codecs="stpp.ttml.im1t|etd1"',function(){return new Kn}),dr('application/mp4; codecs="stpp.TTML.im1t"',function(){return new Kn});function Vr(){this.g="UNKNOWN"}Vr.prototype.parseInit=function(){},Vr.prototype.setSequenceMode=function(){},Vr.prototype.setManifestType=function(e){this.g=e},Vr.prototype.parseMedia=function(e,t){e=yn(e),e=e.replace(/\r\n|\r(?=[^\n]|$)/gm,`
`);var n=e.split(/\n{2,}/m);if(!/^WEBVTT($|[ \t\n])/m.test(n[0]))throw new $(2,2,2e3);if(e=t.vttOffset,this.g=="HLS")if(n[0].includes("X-TIMESTAMP-MAP")){var r=n[0];if(e=r.match(/LOCAL:((?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3}))/m),r=r.match(/MPEGTS:(\d+)/m),!e||!r)throw new $(2,2,2e3);if(e=Ec(e[1]),e==null)throw new $(2,2,2e3);r=Number(r[1]);for(var i=t.segmentStart-t.periodStart;95443.7176888889<=i;)i-=95443.7176888889,r+=8589934592;e=t.periodStart+r/9e4-e}else t.periodStart&&t.vttOffset==t.periodStart&&(e=0);for(t=[],r=w(n[0].split(`
`)),i=r.next();!i.done;i=r.next())if(i=i.value,/^Region:/.test(i)){i=new Tc(i);var a=new Vu;zu(i),Ac(i);for(var u=zu(i);u;){var l=a,p=u;(u=/^id=(.*)$/.exec(p))?l.id=u[1]:(u=/^width=(\d{1,2}|100)%$/.exec(p))?l.width=Number(u[1]):(u=/^lines=(\d+)$/.exec(p))?(l.height=Number(u[1]),l.heightUnits=2):(u=/^regionanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(p))?(l.regionAnchorX=Number(u[1]),l.regionAnchorY=Number(u[2])):(u=/^viewportanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(p))?(l.viewportAnchorX=Number(u[1]),l.viewportAnchorY=Number(u[2])):/^scroll=up$/.exec(p)&&(l.scroll="up"),Ac(i),u=zu(i)}t.push(a)}for(r=new Map,g5(r),i=[],n=w(n.slice(1)),a=n.next();!a.done;a=n.next()){if(a=a.value.split(`
`),(a.length!=1||a[0])&&!/^NOTE($|[ \t])/.test(a[0])&&a[0]=="STYLE"){for(l=[],u=-1,p=1;p<a.length;p++)a[p].includes("::cue")&&(l.push([]),u=l.length-1),u!=-1&&(l[u].push(a[p]),a[p].includes("}")&&(u=-1));for(l=w(l),u=l.next();!u.done;u=l.next()){var g=u.value;u="global",(p=g[0].match(/\((.*)\)/))&&(u=p.pop()),p=g.slice(1,-1),g[0].includes("}")&&(g=/\{(.*?)\}/.exec(g[0]))&&(p=g[1].split(";")),(g=r.get(u))||(g=new un(0,0,""));for(var v=!1,y=0;y<p.length;y++){var x=/^\s*([^:]+):\s*(.*)/.exec(p[y]);if(x){var S=x[2].trim().replace(";","");switch(x[1].trim()){case"background-color":case"background":v=!0,g.backgroundColor=S;break;case"color":v=!0,g.color=S;break;case"font-family":v=!0,g.fontFamily=S;break;case"font-size":v=!0,g.fontSize=S;break;case"font-weight":(700<=parseInt(S,10)||S=="bold")&&(v=!0,g.fontWeight=Cc);break;case"font-style":switch(S){case"normal":v=!0,g.fontStyle=ib;break;case"italic":v=!0,g.fontStyle=Ic;break;case"oblique":v=!0,g.fontStyle="oblique"}break;case"opacity":v=!0,g.opacity=parseFloat(S);break;case"text-combine-upright":v=!0,g.textCombineUpright=S;break;case"text-shadow":v=!0,g.textShadow=S;break;case"white-space":v=!0,g.wrapLine=S!="noWrap"}}}v&&r.set(u,g)}}if(g=a,v=e,g.length==1&&!g[0]||/^NOTE($|[ \t])/.test(g[0])||g[0]=="STYLE"||g[0]=="REGION")a=null;else if(a=null,g[0].includes("-->")||(a=g[0],g.splice(0,1)),l=new Tc(g[0]),u=zp(l),y=$u(l,/[ \t]+--\x3e[ \t]+/g),p=zp(l),u==null||y==null||p==null)Be("Failed to parse VTT time code. Cue skipped:",a,g),a=null;else{for(u+=v,p+=v,v=g.slice(1).join(`
`).trim(),r.has("global")?(g=r.get("global").clone(),g.startTime=u,g.endTime=p,g.payload=v):g=new un(u,p,v),Ac(l),u=zu(l);u;)$M(g,u,t),Ac(l),u=zu(l);Jg(g,r),a!=null&&(g.id=a),a=g}a&&i.push(a)}return i};function $M(e,t,n){var r;(r=/^align:(start|middle|center|end|left|right)$/.exec(t))?(t=r[1],t=="middle"?e.textAlign=to:e.textAlign=nb[t.toUpperCase()]):(r=/^vertical:(lr|rl)$/.exec(t))?e.writingMode=r[1]=="lr"?"vertical-lr":"vertical-rl":(r=/^size:([\d.]+)%$/.exec(t))?e.size=Number(r[1]):(r=/^position:([\d.]+)%(?:,(line-left|line-right|middle|center|start|end|auto))?$/.exec(t))?(e.position=Number(r[1]),r[2]&&(t=r[2],e.positionAlign=t=="line-left"||t=="start"?"line-left":t=="line-right"||t=="end"?"line-right":t=="center"||t=="middle"?"center":Qg)):(r=/^region:(.*)$/.exec(t))?(t=mB(n,r[1]))&&(e.region=t):(n=/^line:([\d.]+)%(?:,(start|end|center))?$/.exec(t))?(e.lineInterpretation=1,e.line=Number(n[1]),n[2]&&(e.lineAlign=rb[n[2].toUpperCase()])):(n=/^line:(-?\d+)(?:,(start|end|center))?$/.exec(t))&&(e.lineInterpretation=Xp,e.line=Number(n[1]),n[2]&&(e.lineAlign=rb[n[2].toUpperCase()]))}function mB(e,t){return e=e.filter(function(n){return n.id==t}),e.length?e[0]:null}Ee("shaka.text.VttTextParser",Vr),Vr.prototype.parseMedia=Vr.prototype.parseMedia,Vr.prototype.setManifestType=Vr.prototype.setManifestType,Vr.prototype.setSequenceMode=Vr.prototype.setSequenceMode,Vr.prototype.parseInit=Vr.prototype.parseInit,dr("text/vtt",function(){return new Vr}),dr('text/vtt; codecs="vtt"',function(){return new Vr}),dr('text/vtt; codecs="wvtt"',function(){return new Vr});function _i(){this.g=null}_i.prototype.parseInit=function(e){var t=this,n=!1;if(new Qt().box("moov",xt).box("trak",xt).box("mdia",xt).R("mdhd",function(r){r=gm(r.reader,r.version),t.g=r.timescale}).box("minf",xt).box("stbl",xt).R("stsd",Us).box("wvtt",function(){n=!0}).parse(e),!this.g)throw new $(2,2,2008);if(!n)throw new $(2,2,2008)},_i.prototype.setSequenceMode=function(){},_i.prototype.setManifestType=function(){},_i.prototype.parseMedia=function(e,t){if(!e.length)return[];if(!this.g)throw new $(2,2,2008);var n=0,r=[],i,a=[],u=!1,l=!1,p=!1,g=null;if(new Qt().box("moof",xt).box("traf",xt).R("tfdt",function(F){u=!0,n=fm(F.reader,F.version).baseMediaDecodeTime}).R("tfhd",function(F){g=hm(F.reader,F.flags).ld}).R("trun",function(F){l=!0,r=mm(F.reader,F.version,F.flags).fg}).box("mdat",Uc(function(F){p=!0,i=F})).parse(e,!1),!p&&!u&&!l)throw new $(2,2,2008);e=n;for(var v=new ln(i,0),y=w(r),x=y.next();!x.done;x=y.next()){x=x.value;var S=x.gg||g,k=x.ye?n+x.ye:e;e=k+(S||0);var C=0;do{var E=v.S();C+=E;var I=v.S(),_=null;lm(I)=="vttc"?8<E&&(_=v.Cb(E-8)):v.skip(E-8),S&&_&&(E=vB(_,t.periodStart+k/this.g,t.periodStart+e/this.g),a.push(E))}while(x.sampleSize&&C<x.sampleSize)}return a.filter(Ns)};function vB(e,t,n){var r,i,a;return new Qt().box("payl",Uc(function(u){r=yn(u)})).box("iden",Uc(function(u){i=yn(u)})).box("sttg",Uc(function(u){a=yn(u)})).parse(e),r?yB(r,i,a,t,n):null}function yB(e,t,n,r,i){if(e=new un(r,i,e),Jg(e),t&&(e.id=t),n)for(t=new Tc(n),n=zu(t);n;)$M(e,n,[]),Ac(t),n=zu(t);return e}Ee("shaka.text.Mp4VttParser",_i),_i.prototype.parseMedia=_i.prototype.parseMedia,_i.prototype.setManifestType=_i.prototype.setManifestType,_i.prototype.setSequenceMode=_i.prototype.setSequenceMode,_i.prototype.parseInit=_i.prototype.parseInit,dr('application/mp4; codecs="wvtt"',function(){return new _i});function Di(){}Di.prototype.parseInit=function(){},Di.prototype.setSequenceMode=function(){},Di.prototype.setManifestType=function(){},Di.prototype.parseMedia=function(e){var t=yn(e).replace(/\r+/g,"");if(t=t.trim(),e=[],t=="")return e;t=w(t.split(`

`));for(var n=t.next();!n.done;n=t.next()){n=n.value.split(`
`);var r=new Tc(n[0]),i=zp(r),a=$u(r,/,/g);if(r=zp(r),i==null||a==null||r==null)throw new $(2,2,2001,"Could not parse cue time range in SubViewer");e.push(new un(i,r,n.slice(1).join(`
`).trim()))}return e},Ee("shaka.text.SbvTextParser",Di),Di.prototype.parseMedia=Di.prototype.parseMedia,Di.prototype.setManifestType=Di.prototype.setManifestType,Di.prototype.setSequenceMode=Di.prototype.setSequenceMode,Di.prototype.parseInit=Di.prototype.parseInit,dr("text/x-subviewer",function(){return new Di});function mi(){this.g=new Vr}mi.prototype.parseInit=function(){},mi.prototype.setSequenceMode=function(){},mi.prototype.setManifestType=function(){},mi.prototype.parseMedia=function(e,t,n){return e=yn(e),e=zM(e),e=Ye(la(e)),this.g.parseMedia(e,t,n,[])};function zM(e){var t=`WEBVTT

`;if(e=="")return t;e=e.replace(/\r+/g,""),e=e.trim(),e=w(e.split(`

`));for(var n=e.next();!n.done;n=e.next())n=n.value.split(/\n/),n[0].match(/\d+/)&&n.shift(),n[0]=n[0].replace(/,/g,"."),t+=n.join(`
`).replace(/{b}/g,"<b>").replace(/{\/b}/g,"</b>").replace(/{i}/g,"<i>").replace(/{\/i}/g,"</i>").replace(/{u}/g,"<u>").replace(/{\/u}/g,"</u>")+`

`;return t}Ee("shaka.text.SrtTextParser",mi),mi.srt2webvtt=zM,mi.prototype.parseMedia=mi.prototype.parseMedia,mi.prototype.setManifestType=mi.prototype.setManifestType,mi.prototype.setSequenceMode=mi.prototype.setSequenceMode,mi.prototype.parseInit=mi.prototype.parseInit,dr("text/srt",function(){return new mi});function Pi(){}Pi.prototype.parseInit=function(){},Pi.prototype.setSequenceMode=function(){},Pi.prototype.setManifestType=function(){},Pi.prototype.parseMedia=function(e){var t="",n="",r=null,i=null;for(i=yn(e).split(/\r?\n\s*\r?\n/),e=w(i),i=e.next();!i.done;i=e.next()){var a=i.value;i=a,(a=wB.exec(a))&&(r=a[1],i=a[2]),r=="V4 Styles"||r=="V4+ Styles"?(t=i,t=n?t+(`
`+i):i):r=="Events"&&(n=n?n+(`
`+i):i)}for(r=[],i=null,t=w(t.split(/\r?\n/)),e=t.next();!e.done;e=t.next())if(e=e.value,!/^\s*;/.test(e)&&(a=GM.exec(e))){if(e=a[1].trim(),a=a[2].trim(),e=="Format")i=a.split(e0);else if(e=="Style"){e=a.split(e0),a={};for(var u=0;u<i.length&&u<e.length;u++)a[i[u]]=e[u];r.push(a)}}for(i=[],t=null,n=w(n.split(/\r?\n/)),a=n.next(),e={};!a.done;e={Dh:void 0},a=n.next())if(a=a.value,!/^\s*;/.test(a)&&(u=GM.exec(a))){if(a=u[1].trim(),u=u[2].trim(),a=="Format")t=u.split(e0);else if(a=="Dialogue"){u=u.split(e0),a={};for(var l=0;l<t.length&&l<u.length;l++)a[t[l]]=u[l];l=qM(a.Start);var p=qM(a.End);u=new un(l,p,u.slice(t.length-1).join(",").replace(/\\N/g,`
`).replace(/\{[^}]+\}/g,"")),e.Dh=a.Style,(e=r.find(function(g){return function(v){return v.Name==g.Dh}}(e)))&&bB(u,e),i.push(u)}}return i};function bB(e,t){var n=t.Fontname;if(n&&(e.fontFamily=n),(n=t.Fontsize)&&(e.fontSize=n+"px"),(n=t.PrimaryColour)&&(n=HM(n))&&(e.color=n),(n=t.BackColour)&&(n=HM(n))&&(e.backgroundColor=n),t.Bold&&(e.fontWeight=Cc),t.Italic&&(e.fontStyle=Ic),t.Underline&&e.textDecoration.push(Lo),(n=t.Spacing)&&(e.letterSpacing=n+"px"),n=t.Alignment)switch(parseInt(n,10)){case 1:e.displayAlign=Kp,e.textAlign="start";break;case 2:e.displayAlign=Kp,e.textAlign=to;break;case 3:e.displayAlign=Kp,e.textAlign="end";break;case 5:e.displayAlign="before",e.textAlign="start";break;case 6:e.displayAlign="before",e.textAlign=to;break;case 7:e.displayAlign="before",e.textAlign="end";break;case 9:e.displayAlign="center",e.textAlign="start";break;case 10:e.displayAlign="center",e.textAlign=to;break;case 11:e.displayAlign="center",e.textAlign="end"}(t=t.AlphaLevel)&&(e.opacity=parseFloat(t))}function HM(e){return e=parseInt(e.replace("&H",""),16),0<=e?"rgba("+(e&255)+","+(e>>8&255)+","+(e>>16&255)+","+(e>>24&255^255)/255+")":null}function qM(e){return e=xB.exec(e),3600*(e[1]?parseInt(e[1].replace(":",""),10):0)+60*parseInt(e[2],10)+parseFloat(e[3])}Ee("shaka.text.SsaTextParser",Pi),Pi.prototype.parseMedia=Pi.prototype.parseMedia,Pi.prototype.setManifestType=Pi.prototype.setManifestType,Pi.prototype.setSequenceMode=Pi.prototype.setSequenceMode,Pi.prototype.parseInit=Pi.prototype.parseInit;var wB=/^\s*\[([^\]]+)\]\r?\n([\s\S]*)/,GM=/^\s*([^:]+):\s*(.*)/,e0=/\s*,\s*/,xB=/^(\d+:)?(\d{1,2}):(\d{1,2}(?:[.]\d{1,3})?)?$/;dr("text/x-ssa",function(){return new Pi});function KM(e,t){var n=e[t+1]&1?7:9;return t+n<=e.length&&(e=((e[t+3]&3)<<11|e[t+4]<<3|(e[t+5]&224)>>>5)-n,0<e)?{ud:n,ia:e}:null}function WM(e,t){var n=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],r=(e[t+2]&60)>>>2;if(r>n.length-1)return null;var i=((e[t+2]&192)>>>6)+1,a=(e[t+2]&1)<<2;return a|=(e[t+3]&192)>>>6,{sampleRate:n[r],channelCount:a,codec:"mp4a.40."+i}}function XM(e,t){if(t+1<e.length&&e[t]===255&&(e[t+1]&246)===240){var n=e[t+1]&1?7:9;if(t+n>=e.length)return!1;var r=(e[t+3]&3)<<11|e[t+4]<<3|(e[t+5]&224)>>>5;return r<=n?!1:(t+=r,t===e.length||t+1<e.length&&e[t]===255&&(e[t+1]&246)===240)}return!1}function SB(e,t){switch(e){case"mp4a.40.2":if(t===1)return new Uint8Array([0,200,0,128,35,128]);if(t===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(t===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(t===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(t===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(t===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(t===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(t===2||t===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null}function Li(e){this.j=e,this.h=0,this.g=new Map,this.i=null}f=Li.prototype,f.destroy=function(){this.g.clear()},f.isSupported=function(e){return e.toLowerCase().split(";")[0]=="audio/aac"?ir(this.convertCodecs("audio",e)):!1},f.convertCodecs=function(e,t){return t.toLowerCase().split(";")[0]=="audio/aac"?'audio/mp4; codecs="'+(di(t)||"mp4a.40.2")+'"':t},f.getOriginalMimeType=function(){return this.j},f.transmux=function(e,t,n,r){for(var i=Ye(e),a=Bc(i),u=a.length;u<i.length&&!XM(i,u);u++);if(e=1e3*n.endTime,a=nl(a),a.length&&n&&(a=a.find(function(v){return v.description==="com.apple.streaming.transportStreamTimestamp"}))&&(e=a.data),a=WM(i,u),!a)return Promise.reject(new $(2,3,3018,n?n.N()[0]:null));t.audioSamplingRate=a.sampleRate,t.channelsCount=a.channelCount;for(var l=[];u<i.length;){var p=KM(i,u);if(!p)return Promise.reject(new $(2,3,3018,n?n.N()[0]:null));var g=p.ud+p.ia;u+g<=i.length&&l.push({data:i.subarray(u+p.ud,u+g),size:p.ia,duration:1024,eb:0,flags:{hb:0,$a:0,Za:0,Xa:0,Ya:2,ib:0}}),u+=g}return i=a.sampleRate,e=Math.floor(e*i/1e3),r={id:t.id,type:"audio",codecs:a.codec,encrypted:t.encrypted&&0<t.drmInfos.length,timescale:i,duration:r,lb:[],ra:new Uint8Array([]),Ca:new Uint8Array([]),Ia:0,Ka:0,data:{Db:this.h,baseMediaDecodeTime:e,jb:l},stream:t},r=new el([r]),n=t.id+"_"+n.i,this.g.has(n)?t=this.g.get(n):(t=Fc(r),this.g.set(n,t)),n=this.i!==t,r=lh(r),this.i=t,this.h++,n?(t=En(t,r),Promise.resolve(t)):Promise.resolve(r)},Ee("shaka.transmuxer.AacTransmuxer",Li),Li.prototype.transmux=Li.prototype.transmux,Li.prototype.getOriginalMimeType=Li.prototype.getOriginalMimeType,Li.prototype.convertCodecs=Li.prototype.convertCodecs,Li.prototype.isSupported=Li.prototype.isSupported,Li.prototype.destroy=Li.prototype.destroy,Ro("audio/aac",function(){return new Li("audio/aac")},Ls);function YM(e,t){if(t+8>e.length||e[t]!==11||e[t+1]!==119)return null;var n=e[t+4]>>6;if(3<=n)return null;var r=e[t+4]&63,i=2*[64,69,96,64,70,96,80,87,120,80,88,120,96,104,144,96,105,144,112,121,168,112,122,168,128,139,192,128,140,192,160,174,240,160,175,240,192,208,288,192,209,288,224,243,336,224,244,336,256,278,384,256,279,384,320,348,480,320,349,480,384,417,576,384,418,576,448,487,672,448,488,672,512,557,768,512,558,768,640,696,960,640,697,960,768,835,1152,768,836,1152,896,975,1344,896,976,1344,1024,1114,1536,1024,1115,1536,1152,1253,1728,1152,1254,1728,1280,1393,1920,1280,1394,1920][3*r+n];if(t+i>e.length)return null;var a=e[t+6]>>5,u=0;a===2?u+=2:(a&1&&a!==1&&(u+=2),a&4&&(u+=2)),u=(e[t+6]<<8|e[t+7])>>12-u&1;var l=e[t+5]&7;return e=new Uint8Array([n<<6|e[t+5]>>3<<1|l>>2,(l&3)<<6|a<<3|u<<2|r>>4,r<<4&224]),{sampleRate:[48e3,44100,32e3][n],channelCount:[2,1,2,3,3,4,4,5][a]+u,ra:e,ia:i}}function kB(e,t){if(e[t]===11&&e[t+1]===119){var n=0,r=5;t+=r;for(var i,a;0<r;){a=e[t];var u=Math.min(r,8),l=8-u;i=4278190080>>>24+l<<l,i=(a&i)>>l,n=n?n<<u|i:i,t+=1,r-=u}if(16>n)return!0}return!1}function Wi(e){this.j=e,this.h=0,this.g=new Map,this.i=null}f=Wi.prototype,f.destroy=function(){this.g.clear()},f.isSupported=function(e){return e.toLowerCase().split(";")[0]=="audio/ac3"?ir(this.convertCodecs("audio",e)):!1},f.convertCodecs=function(e,t){return t.toLowerCase().split(";")[0]=="audio/ac3"?Co()?'audio/mp4; codecs="ec-3"':'audio/mp4; codecs="ac-3"':t},f.getOriginalMimeType=function(){return this.j},f.transmux=function(e,t,n,r){e=Ye(e);for(var i=Bc(e),a=i.length;a<e.length&&!kB(e,a);a++);var u=1e3*n.endTime;i=nl(i),i.length&&n&&(i=i.find(function(v){return v.description==="com.apple.streaming.transportStreamTimestamp"}))&&(u=i.data),i=0;for(var l=new Uint8Array([]),p=[];a<e.length;){var g=YM(e,a);if(!g)return Promise.reject(new $(2,3,3018,n?n.N()[0]:null));t.audioSamplingRate=g.sampleRate,t.channelsCount=g.channelCount,i=g.sampleRate,l=g.ra,p.push({data:e.subarray(a,a+g.ia),size:g.ia,duration:1536,eb:0,flags:{hb:0,$a:0,Za:0,Xa:0,Ya:2,ib:0}}),a+=g.ia}return e=Math.floor(u*i/1e3),r={id:t.id,type:"audio",codecs:"ac-3",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:i,duration:r,lb:[],ra:l,Ca:new Uint8Array([]),Ia:0,Ka:0,data:{Db:this.h,baseMediaDecodeTime:e,jb:p},stream:t},r=new el([r]),n=t.id+"_"+n.i,this.g.has(n)?t=this.g.get(n):(t=Fc(r),this.g.set(n,t)),n=this.i!==t,r=lh(r),this.i=t,this.h++,n?(t=En(t,r),Promise.resolve(t)):Promise.resolve(r)},Ee("shaka.transmuxer.Ac3Transmuxer",Wi),Wi.prototype.transmux=Wi.prototype.transmux,Wi.prototype.getOriginalMimeType=Wi.prototype.getOriginalMimeType,Wi.prototype.convertCodecs=Wi.prototype.convertCodecs,Wi.prototype.isSupported=Wi.prototype.isSupported,Wi.prototype.destroy=Wi.prototype.destroy,Ro("audio/ac3",function(){return new Wi("audio/ac3")},Ls);function JM(e,t){if(t+8>e.length||(e[t]<<8|e[t+1]<<0)!==2935)return null;var n=new Vo(e.subarray(t+2));fi(n,2),fi(n,3);var r=It(n,11)+1<<1,i=It(n,2);if(i==3){i=It(n,2),i=[24e3,22060,16e3][i];var a=3}else i=[48e3,44100,32e3][i],a=It(n,2);var u=It(n,3),l=It(n,1);return n=It(n,5),t+r>e.byteLength?null:(e=Math.floor(r*i/(16*[1,2,3,6][a])),e=new Uint8Array([(e&8160)>>5,(e&31)<<3,i<<6|n<<1|0,0|u<<1|l<<0,0]),{sampleRate:i,channelCount:[2,1,2,3,3,4,4,5][u]+l,ra:e,ia:r})}function Xi(e){this.j=e,this.h=0,this.g=new Map,this.i=null}f=Xi.prototype,f.destroy=function(){this.g.clear()},f.isSupported=function(e){return e.toLowerCase().split(";")[0]=="audio/ec3"?ir(this.convertCodecs("audio",e)):!1},f.convertCodecs=function(e,t){return t.toLowerCase().split(";")[0]=="audio/ec3"?'audio/mp4; codecs="ec-3"':t},f.getOriginalMimeType=function(){return this.j},f.transmux=function(e,t,n,r){e=Ye(e);for(var i=Bc(e),a=i.length;a<e.length&&(e[a]<<8|e[a+1]<<0)!==2935;a++);var u=1e3*n.endTime;i=nl(i),i.length&&n&&(i=i.find(function(v){return v.description==="com.apple.streaming.transportStreamTimestamp"}))&&(u=i.data),i=0;for(var l=new Uint8Array([]),p=[];a<e.length;){var g=JM(e,a);if(!g)return Promise.reject(new $(2,3,3018,n?n.N()[0]:null));t.audioSamplingRate=g.sampleRate,t.channelsCount=g.channelCount,i=g.sampleRate,l=g.ra,p.push({data:e.subarray(a,a+g.ia),size:g.ia,duration:1536,eb:0,flags:{hb:0,$a:0,Za:0,Xa:0,Ya:2,ib:0}}),a+=g.ia}return e=Math.floor(u*i/1e3),r={id:t.id,type:"audio",codecs:"ec-3",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:i,duration:r,lb:[],ra:l,Ca:new Uint8Array([]),Ia:0,Ka:0,data:{Db:this.h,baseMediaDecodeTime:e,jb:p},stream:t},r=new el([r]),n=t.id+"_"+n.i,this.g.has(n)?t=this.g.get(n):(t=Fc(r),this.g.set(n,t)),n=this.i!==t,r=lh(r),this.i=t,this.h++,n?(t=En(t,r),Promise.resolve(t)):Promise.resolve(r)},Ee("shaka.transmuxer.Ec3Transmuxer",Xi),Xi.prototype.transmux=Xi.prototype.transmux,Xi.prototype.getOriginalMimeType=Xi.prototype.getOriginalMimeType,Xi.prototype.convertCodecs=Xi.prototype.convertCodecs,Xi.prototype.isSupported=Xi.prototype.isSupported,Xi.prototype.destroy=Xi.prototype.destroy,Ro("audio/ec3",function(){return new Xi("audio/ec3")},Ls);function TB(e){if(!e.length)return null;var t=e.find(function(C){return C.type==7});if(e=e.find(function(C){return C.type==8}),!t||!e)return null;var n=new Vo(t.data),r=Ht(n);if(Ht(n),Ht(n),Yr(n),EB.includes(r)&&(r=Le(n),r===3&&fi(n,1),Yr(n),Yr(n),fi(n,1),ze(n))){r=r!==3?8:12;for(var i=0;i<r;i++)ze(n)&&(6>i?wm(n,16):wm(n,64))}if(Yr(n),r=Le(n),r===0)Le(n);else if(r===1)for(fi(n,1),Yr(n),Yr(n),r=Le(n),i=0;i<r;i++)Yr(n);Yr(n),fi(n,1);var a=Le(n),u=Le(n),l=It(n,1);l===0&&fi(n,1),fi(n,1);var p=0,g=0,v=0,y=0;if(ze(n)&&(p=Le(n),g=Le(n),v=Le(n),y=Le(n)),i=r=1,ze(n)&&ze(n)){var x=Ht(n),S=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2],k=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1];0<x&&16>=x?(r=S[x-1],i=k[x-1]):x===255&&(r=It(n,16),i=It(n,16))}return n=(2-l)*(u+1)*16-2*v-2*y,a=16*(a+1)-2*p-2*g,p=[],t=t.fullData,p.push(t.byteLength>>>8&255),p.push(t.byteLength&255),p=p.concat.apply(p,j(t)),t=[],e=e.fullData,t.push(e.byteLength>>>8&255),t.push(e.byteLength&255),t=t.concat.apply(t,j(e)),e=new Uint8Array([1,p[3],p[4],p[5],255,225].concat(p,[1],t)),{height:n,width:a,Ca:e,Ia:r,Ka:i}}function AB(e){function t(k){i={data:new Uint8Array([]),frame:!1,isKeyframe:!1,pts:k.pts,dts:k.dts,nalus:[]}}function n(){if(i&&i.nalus.length&&i.frame){for(var k=[],C=w(i.nalus),E=C.next();!E.done;E=C.next()){E=E.value;var I=E.fullData.byteLength,_=new Uint8Array(4);_[0]=I>>24&255,_[1]=I>>16&255,_[2]=I>>8&255,_[3]=I&255,k.push(_),k.push(E.fullData)}i.data=En.apply(vr,j(k)),r.push(i)}}for(var r=[],i=null,a=!1,u=0;u<e.length;u++){var l=e[u],p=l.nalus,g=!1;i&&p.length&&!a&&(n(),t(l)),p=w(l.nalus);for(var v=p.next();!v.done;v=p.next()){v=v.value;var y=!1;switch(v.type){case 1:var x=!1;y=!0;var S=v.data;g&&4<S.length&&(S=WR(new Vo(S)),S===2||S===4||S===7||S===9)&&(x=!0),x&&i&&i.frame&&!i.isKeyframe&&(n(),i=null),i||t(l),i.frame=!0,i.isKeyframe=x;break;case 5:y=!0,i&&i.frame&&!i.isKeyframe&&(n(),i=null),i||t(l),i.frame=!0,i.isKeyframe=!0;break;case 6:y=!0;break;case 7:g=y=!0;break;case 8:y=!0;break;case 9:a=y=!0,i&&i.frame&&(n(),i=null),i||t(l);break;case 12:y=!0;break;default:y=!1}i&&y&&i.nalus.push(v)}}return n(),r}var EB=[100,110,122,244,44,83,86,118,128,138,139,134];function CB(e){if(!e.length)return null;var t=e.find(function(u){return u.type==32}),n=e.find(function(u){return u.type==33}),r=e.find(function(u){return u.type==34});if(!t||!n||!r)return null;var i=IB(t.fullData);e=MB(n.fullData);var a=_B(r.fullData);return t=DB(t.fullData,n.fullData,r.fullData,{Uf:i.Uf,rg:i.rg,Ef:e.Ef,Ff:e.Ff,yf:e.yf,Df:e.Df,zf:e.zf,Af:e.Af,Bf:e.Bf,Cf:e.Cf,rf:e.rf,tf:e.tf,uf:e.uf,vf:e.vf,wf:e.wf,xf:e.xf,hf:e.hf,le:e.le,ff:e.ff,ef:e.ef,df:e.df,Wf:a.Wf}),{height:e.height,width:e.width,Ca:t,Ia:e.vj,Ka:e.uj}}function IB(e){var t=new Vo(e,!0);return Ht(t),Ht(t),It(t,4),It(t,2),It(t,6),e=It(t,3),t=ze(t),{Uf:e+1,rg:t}}function MB(e){e=new Vo(e,!0),Ht(e),Ht(e);var t=0,n=0,r=0,i=0;It(e,4);var a=It(e,3);ze(e);for(var u=It(e,2),l=It(e,1),p=It(e,5),g=Ht(e),v=Ht(e),y=Ht(e),x=Ht(e),S=Ht(e),k=Ht(e),C=Ht(e),E=Ht(e),I=Ht(e),_=Ht(e),F=Ht(e),B=[],q=[],O=0;O<a;O++)B.push(ze(e)),q.push(ze(e));if(0<a)for(O=a;8>O;O++)It(e,2);for(O=0;O<a;O++)B[O]&&It(e,88),q[O]&&Ht(e);Le(e),B=Le(e),B==3&&It(e,1),q=Le(e),O=Le(e),ze(e)&&(t+=Le(e),n+=Le(e),r+=Le(e),i+=Le(e));var N=Le(e),H=Le(e),z=Le(e);if(ze(e))for(var Y=0;Y<=a;Y++)Le(e),Le(e),Le(e);else Le(e),Le(e),Le(e);if(Le(e),Le(e),Le(e),Le(e),Le(e),Le(e),ze(e)&&ze(e))for(Y=0;4>Y;Y++)for(var K=0;K<(Y===3?2:6);K++)if(ze(e)){var J=Math.min(64,1<<4+(Y<<1));1<Y&&Vc(e);for(var ie=0;ie<J;ie++)Vc(e)}else Le(e);for(ze(e),ze(e),ze(e)&&(Ht(e),Le(e),Le(e),ze(e)),Y=Le(e),J=K=0;J<Y;J++)if(ie=!1,J!==0&&(ie=ze(e)),ie){J===Y&&Le(e),ze(e),Le(e);for(var ne=ie=0;ne<=K;ne++){var ue=ze(e),oe=!1;ue||(oe=ze(e)),(ue||oe)&&ie++}K=ie}else{for(ne=Le(e),ie=Le(e),K=ne+ie,ue=0;ue<ne;ue++)Le(e),ze(e);for(ne=0;ne<ie;ne++)Le(e),ze(e)}if(ze(e))for(Y=Le(e),K=0;K<Y;K++){for(J=0;J<z+4;J++)It(e,1);It(e,1)}if(Y=z=1,K=0,ze(e),ze(e),ze(e)){if(ze(e)&&(J=Ht(e),ie=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2],ne=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1],0<J&&16>=J?(z=ie[J-1],Y=ne[J-1]):J===255&&(z=It(e,16),Y=It(e,16))),ze(e)&&ze(e),ze(e)&&(It(e,3),ze(e),ze(e)&&(Ht(e),Ht(e),Ht(e))),ze(e)&&(Le(e),Le(e)),ze(e),ze(e),ze(e),(J=ze(e))&&(Le(e),Le(e),Le(e),Le(e)),ze(e)&&(It(e,32),It(e,32),ze(e)&&Le(e),ze(e)))for(ne=!1,J=ze(e),ie=ze(e),(J||ie)&&((ne=ze(e))&&(Ht(e),It(e,5),ze(e),It(e,5)),It(e,4),It(e,4),ne&&It(e,4),It(e,5),It(e,5),It(e,5)),ue=0;ue<=a;ue++){var pe=!0;oe=1,ze(e)||(pe=ze(e));var xe=!1;if(pe?Le(e):xe=ze(e),xe||(oe=Le(e)+1),J){for(pe=0;pe<oe;pe++)Le(e),Le(e),ne&&(Le(e),Le(e));ze(e)}if(ie){for(pe=0;pe<oe;pe++)Le(e),Le(e),ne&&(Le(e),Le(e));ze(e)}}ze(e)&&(ze(e),ze(e),ze(e),K=Le(e),Le(e),Le(e),Le(e),Le(e))}return{yf:F,Ef:u,Ff:l,Df:p,zf:g,Af:v,Bf:y,Cf:x,rf:S,tf:k,uf:C,vf:E,wf:I,xf:_,le:K,hf:0,ff:B,ef:N,df:H,width:q-(t+n)*(B===1||B===2?2:1),height:O-(r+i)*(B===1?2:1),vj:z,uj:Y}}function _B(e){var t=new Vo(e,!0);Ht(t),Ht(t),Le(t),Le(t),ze(t),ze(t),It(t,3),ze(t),ze(t),Le(t),Le(t),Vc(t),ze(t),ze(t),ze(t)&&Le(t),Vc(t),Vc(t),ze(t),ze(t),ze(t),ze(t),e=ze(t),t=ze(t);var n=1;return t&&e?n=0:t?n=3:e&&(n=2),{Wf:n}}function DB(e,t,n,r){var i=new Uint8Array(23+(5+e.byteLength)+(5+t.byteLength)+(5+n.byteLength));return i[0]=1,i[1]=(r.Ef&3)<<6|(r.Ff?1:0)<<5|r.Df&31,i[2]=r.zf,i[3]=r.Af,i[4]=r.Bf,i[5]=r.Cf,i[6]=r.rf,i[7]=r.tf,i[8]=r.uf,i[9]=r.vf,i[10]=r.wf,i[11]=r.xf,i[12]=r.yf,i[13]=240|(r.le&3840)>>8,i[14]=r.le&255,i[15]=252|r.Wf&3,i[16]=252|r.ff&3,i[17]=248|r.ef&7,i[18]=248|r.df&7,i[19]=0,i[20]=0,i[21]=(r.hf&3)<<6|(r.Uf&7)<<3|(r.rg?1:0)<<2|3,i[22]=3,i[23]=160,i[24]=0,i[25]=1,i[26]=(e.byteLength&65280)>>8,i[27]=(e.byteLength&255)>>0,i.set(e,28),i[23+(5+e.byteLength)]=161,i[e.byteLength+29]=0,i[e.byteLength+30]=1,i[e.byteLength+31]=(t.byteLength&65280)>>8,i[e.byteLength+32]=(t.byteLength&255)>>0,i.set(t,e.byteLength+33),i[23+(e.byteLength+10+t.byteLength)]=162,i[e.byteLength+10+t.byteLength+24]=0,i[e.byteLength+10+t.byteLength+25]=1,i[e.byteLength+10+t.byteLength+26]=(n.byteLength&65280)>>8,i[e.byteLength+10+t.byteLength+27]=(n.byteLength&255)>>0,i.set(n,e.byteLength+10+t.byteLength+28),i}function t0(e,t){var n=e[t+1]>>3&3,r=e[t+1]>>1&3,i=e[t+2]>>4&15,a=e[t+2]>>2&3;if(n!==1&&i!==0&&i!==15&&a!==3){var u=e[t+3]>>6;i=1e3*PB[14*(n===3?3-r:r===3?3:4)+i-1],a=LB[3*(n===3?0:n===2?1:2)+a],n=RB[n][r];var l=NB[r],p=Math.floor(n*i/a+(e[t+2]>>1&1))*l,g=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);return(g=g?parseInt(g[1],10):0)&&87>=g&&r===2&&224e3<=i&&u===0&&(e[t+3]|=128),{sampleRate:a,channelCount:u===3?1:2,ia:p,tj:8*n*l}}return null}function QM(e,t){return e[t]===255&&(e[t+1]&224)===224&&(e[t+1]&6)!==0}function ZM(e,t){if(t+1<e.length&&QM(e,t)){var n=t0(e,t),r=4;return n&&n.ia&&(r=n.ia),t+=r,t===e.length||t+1<e.length&&QM(e,t)}return!1}var PB=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],LB=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],RB=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],NB=[0,1,1,4];function Yi(e){this.j=e,this.h=0,this.g=new Map,this.i=null}f=Yi.prototype,f.destroy=function(){this.g.clear()},f.isSupported=function(e){return e.toLowerCase().split(";")[0]=="audio/mpeg"?ir(this.convertCodecs("audio",e)):!1},f.convertCodecs=function(e,t){return t.toLowerCase().split(";")[0]=="audio/mpeg"?'audio/mp4; codecs="mp3"':t},f.getOriginalMimeType=function(){return this.j},f.transmux=function(e,t,n,r){for(var i=Ye(e),a=Bc(i).length;a<i.length&&!ZM(i,a);a++);var u;for(e=[];a<i.length;){var l=t0(i,a);if(!l)return Promise.reject(new $(2,3,3018,n?n.N()[0]:null));u||(u=l),a+l.ia<=i.length&&e.push({data:i.subarray(a,a+l.ia),size:l.ia,duration:1152,eb:0,flags:{hb:0,$a:0,Za:0,Xa:0,Ya:2,ib:0}}),a+=l.ia}return u?(i=9e4*u.tj/u.sampleRate*this.h,r={id:t.id,type:"audio",codecs:"mp3",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:u.sampleRate,duration:r,lb:[],ra:new Uint8Array([]),Ca:new Uint8Array([]),Ia:0,Ka:0,data:{Db:this.h,baseMediaDecodeTime:i,jb:e},stream:t},r=new el([r]),n=t.id+"_"+n.i,this.g.has(n)?t=this.g.get(n):(t=Fc(r),this.g.set(n,t)),n=this.i!==t,r=lh(r),this.i=t,this.h++,n?(t=En(t,r),Promise.resolve(t)):Promise.resolve(r)):Promise.reject(new $(2,3,3018,n?n.N()[0]:null))},Ee("shaka.transmuxer.Mp3Transmuxer",Yi),Yi.prototype.transmux=Yi.prototype.transmux,Yi.prototype.getOriginalMimeType=Yi.prototype.getOriginalMimeType,Yi.prototype.convertCodecs=Yi.prototype.convertCodecs,Yi.prototype.isSupported=Yi.prototype.isSupported,Yi.prototype.destroy=Yi.prototype.destroy,Ro("audio/mpeg",function(){return new Yi("audio/mpeg")},Ls);function Ji(e){this.h=e,this.g=null}f=Ji.prototype,f.destroy=function(){},f.isSupported=function(e){if(e.toLowerCase().split(";")[0]!="video/mp2t")return!1;var t=di(e).split(","),n=Wr("audio",t);return t=Wr("video",t),!n||t||yr(n)!="mp3"?!1:ir(this.convertCodecs("audio",e))},f.convertCodecs=function(e,t){return t.toLowerCase().split(";")[0]=="video/mp2t"?"audio/mpeg":t},f.getOriginalMimeType=function(){return this.h},f.transmux=function(e,t,n,r,i){if(this.g?this.g.clearData():this.g=new hn,e=Ye(e),e=this.g.parse(e),e.od().audio!="mp3"||i!="audio")return Promise.reject(new $(2,3,3018,n?n.N()[0]:null));for(n=new Uint8Array([]),i=w(e.fb()),e=i.next();!e.done;e=i.next())if(e=e.value.data)for(t=0;t<e.length;)(r=t0(e,t))?(t+r.ia<=e.length&&(n=En(n,e.subarray(t,t+r.ia))),t+=r.ia):t++;return Promise.resolve(n)},Ee("shaka.transmuxer.MpegTsTransmuxer",Ji),Ji.prototype.transmux=Ji.prototype.transmux,Ji.prototype.getOriginalMimeType=Ji.prototype.getOriginalMimeType,Ji.prototype.convertCodecs=Ji.prototype.convertCodecs,Ji.prototype.isSupported=Ji.prototype.isSupported,Ji.prototype.destroy=Ji.prototype.destroy,Ro("video/mp2t",function(){return new Ji("video/mp2t")},ob);/*
 @license
 MSS Transmuxer
 Copyright 2015 Dash Industry Forum
 SPDX-License-Identifier: BSD-3-Clause
*/function Ri(e){this.h=e,(this.g=cw.get("ISOBoxer")())&&UB(this)}function UB(e){function t(){this._procFullBox(),this.flags&1&&(this._procField("AlgorithmID","uint",24),this._procField("IV_size","uint",8),this._procFieldArray("KID",16,"uint",8)),this._procField("sample_count","uint",32),this._procEntries("entry",this.sample_count,function(n){this._procEntryField(n,"InitializationVector","data",8),this.flags&2&&(this._procEntryField(n,"NumberOfEntries","uint",16),this._procSubEntries(n,"clearAndCryptedData",n.NumberOfEntries,function(r){this._procEntryField(r,"BytesOfClearData","uint",16),this._procEntryField(r,"BytesOfEncryptedData","uint",32)}))})}e.g.addBoxProcessor("saio",function(){this._procFullBox(),this.flags&1&&(this._procField("aux_info_type","uint",32),this._procField("aux_info_type_parameter","uint",32)),this._procField("entry_count","uint",32),this._procFieldArray("offset",this.entry_count,"uint",this.version===1?64:32)}),e.g.addBoxProcessor("saiz",function(){this._procFullBox(),this.flags&1&&(this._procField("aux_info_type","uint",32),this._procField("aux_info_type_parameter","uint",32)),this._procField("default_sample_info_size","uint",8),this._procField("sample_count","uint",32),this.default_sample_info_size===0&&this._procFieldArray("sample_info_size",this.sample_count,"uint",8)}),e.g.addBoxProcessor("senc",t),e.g.addBoxProcessor("uuid",function(){for(var n=!0,r=0;16>r;r++)this.usertype[r]!==OB[r]&&(n=!1);n&&(this._parsing&&(this.type="sepiff"),t.call(this))})}f=Ri.prototype,f.destroy=function(){},f.isSupported=function(e,t){var n=e.startsWith("mss/");return!this.g||!n?!1:t?ir(this.convertCodecs(t,e)):(t=this.convertCodecs("audio",e),e=this.convertCodecs("video",e),ir(t)||ir(e))},f.convertCodecs=function(e,t){return t.replace("mss/","")},f.getOriginalMimeType=function(){return this.h},f.transmux=function(e,t,n){if(!n)return Promise.resolve(Ye(e));if(!t.mssPrivateData)return Promise.reject(new $(2,3,3020,n?n.N()[0]:null));try{var r,i=this.g.parseBuffer(e),a=i.fetch("tfhd");a.track_ID=t.id+1;var u=i.fetch("tfdt"),l=i.fetch("traf");u===null&&(u=this.g.createFullBox("tfdt",l,a),u.version=1,u.flags=0,u.baseMediaDecodeTime=Math.floor(n.startTime*t.mssPrivateData.timescale));var p=i.fetch("trun"),g=i.fetch("tfxd");g&&g._parent.boxes.splice(g._parent.boxes.indexOf(g),1);var v=i.fetch("tfrf");v&&v._parent.boxes.splice(v._parent.boxes.indexOf(v),1);var y=i.fetch("sepiff");if(y!==null){y.type="senc",y.usertype=void 0;var x=i.fetch("saio");if(x===null){x=this.g.createFullBox("saio",l),x.version=0,x.flags=0,x.entry_count=1,x.offset=[0];var S=this.g.createFullBox("saiz",l);if(S.version=0,S.flags=0,S.sample_count=y.sample_count,S.default_sample_info_size=0,S.sample_info_size=[],y.flags&2)for(r=0;r<y.sample_count;r+=1)S.sample_info_size[r]=10+6*y.entry[r].NumberOfEntries;else S.default_sample_info_size=8}}a.flags&=16777214,a.flags|=131072,p.flags|=1;var k=i.fetch("moof");p.data_offset=k.getLength()+8;var C=i.fetch("saio");C!==null&&(C.offset[0]=e8(k,"traf")+e8(l,"senc")+16);var E=Ye(i.write());return Promise.resolve(E)}catch(I){return I instanceof $?Promise.reject(I):Promise.reject(new $(2,3,3022,n?n.N()[0]:null))}};function e8(e,t){for(var n=8,r=0;r<e.boxes.length&&e.boxes[r].type!==t;r++)n+=e.boxes[r].size;return n}Ee("shaka.transmuxer.MssTransmuxer",Ri),Ri.prototype.transmux=Ri.prototype.transmux,Ri.prototype.getOriginalMimeType=Ri.prototype.getOriginalMimeType,Ri.prototype.convertCodecs=Ri.prototype.convertCodecs,Ri.prototype.isSupported=Ri.prototype.isSupported,Ri.prototype.destroy=Ri.prototype.destroy;var OB=new Uint8Array([162,57,79,82,90,155,79,20,162,68,108,66,124,100,141,244]);Ro("mss/audio/mp4",function(){return new Ri("mss/audio/mp4")},Ls),Ro("mss/video/mp4",function(){return new Ri("mss/video/mp4")},Ls);function Qi(e){this.m=e,this.g=0,this.i=new Map,this.l=this.h=this.j=null}f=Qi.prototype,f.destroy=function(){this.i.clear(),this.h&&this.h.destroy()},f.isSupported=function(e,t){if(e.toLowerCase().split(";")[0]!="video/mp2t")return!1;var n=e;t&&(n=this.convertCodecs(t,e));var r=di(n).split(",");return n=Wr("audio",r),r=Wr("video",r),n&&(n=yr(n),!jB.includes(n))||r&&(n=yr(r),!FB.includes(n))?!1:t?ir(this.convertCodecs(t,e)):(t=this.convertCodecs("audio",e),e=this.convertCodecs("video",e),ir(t)||ir(e))},f.convertCodecs=function(e,t){return t.toLowerCase().split(";")[0]=="video/mp2t"?(t=di(t).replace("mp4a.40.34","mp3").split(",").map(function(n){return Zp(n,"audio/mp4")}).map(fb).join(","),e=="audio"?'audio/mp4; codecs="'+t+'"':'video/mp4; codecs="'+t+'"'):t},f.getOriginalMimeType=function(){return this.m},f.transmux=function(e,t,n,r,i){var a=Ye(e);if(i=="audio"&&!$c(a)){for(var u=Bc(a),l=u.length;l<a.length;l++)if(ZM(a,l))return Promise.reject(new $(2,3,3018,n?n.N()[0]:null));for(l=u.length;l<a.length;l++)if(XM(a,l))return this.h||(this.h=new Li("audio/aac")),this.h.transmux(e,t,n,r,i);return Promise.reject(new $(2,3,3018,n?n.N()[0]:null))}this.j?this.j.clearData():this.j=new hn;var p=this.j.parse(a),g=[],v=p.od();try{var y=null;if(i=="video"){switch(v.video){case"avc":var x=[],S=null,k=p.wc(),C=AB(k);if(!C.length)throw new $(2,3,3023,n?n.N()[0]:null);for(var E=0;E<C.length;E++){var I=C[E];S==null&&(S=I.dts);var _=void 0;_=E+1<C.length?(C[E+1].dts||0)-(I.dts||0):1<C.length?(I.dts||0)-(C[E-1].dts||0):9e4*(n.endTime-n.startTime),x.push({data:I.data,size:I.data.byteLength,duration:_,eb:Math.round((I.pts||0)-(I.dts||0)),flags:{hb:0,$a:0,Za:0,Xa:0,Ya:I.isKeyframe?2:1,ib:I.isKeyframe?0:1}})}for(var F=[],B=w(k),q=B.next();!q.done;q=B.next())F.push.apply(F,j(q.value.nalus));var O=TB(F);if(!O||S==null)throw new $(2,3,3018,n?n.N()[0]:null);t.height=O.height,t.width=O.width,y={id:t.id,type:"video",codecs:"avc1",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:9e4,duration:r,lb:[],ra:new Uint8Array([]),Ca:O.Ca,Ia:O.Ia,Ka:O.Ka,data:{Db:this.g,baseMediaDecodeTime:S,jb:x},stream:t};break;case"hvc":var N=[],H=null,z=[],Y=p.wc();if(!Y.length)throw new $(2,3,3023,n?n.N()[0]:null);for(var K=0;K<Y.length;K++){var J=Y[K],ie=J.nalus;z.push.apply(z,j(ie));for(var ne=!1,ue=[],oe=!1,pe=w(ie),xe=pe.next();!xe.done;xe=pe.next()){var tt=xe.value;switch(tt.type){case 1:case 0:var je=oe=!0;break;case 19:case 20:case 21:ne=je=oe=!0;break;case 32:je=!0;break;case 33:je=!0;break;case 34:je=!0;break;case 35:oe=je=!0;break;case 39:case 40:je=!0;break;default:je=!1}if(oe&&je){var Vt=tt.fullData.byteLength,Tt=new Uint8Array(4);Tt[0]=Vt>>24&255,Tt[1]=Vt>>16&255,Tt[2]=Vt>>8&255,Tt[3]=Vt&255,ue.push(Tt),ue.push(tt.fullData)}}var ft=ue.length?{data:En.apply(vr,j(ue)),isKeyframe:ne}:null;if(ft){H==null&&J.dts!=null&&(H=J.dts);var vt=void 0;vt=K+1<Y.length?(Y[K+1].dts||0)-(J.dts||0):1<Y.length?(J.dts||0)-(Y[K-1].dts||0):9e4*(n.endTime-n.startTime),N.push({data:ft.data,size:ft.data.byteLength,duration:vt,eb:Math.round((J.pts||0)-(J.dts||0)),flags:{hb:0,$a:0,Za:0,Xa:0,Ya:ft.isKeyframe?2:1,ib:ft.isKeyframe?0:1}})}}var Rt=CB(z);if(!Rt||H==null)throw new $(2,3,3018,n?n.N()[0]:null);t.height=Rt.height,t.width=Rt.width,y={id:t.id,type:"video",codecs:"hvc1",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:9e4,duration:r,lb:[],ra:new Uint8Array([]),Ca:Rt.Ca,Ia:Rt.Ia,Ka:Rt.Ka,data:{Db:this.g,baseMediaDecodeTime:H,jb:N},stream:t}}y&&(g.push(y),y=null)}if(i=="audio"){switch(v.audio){case"aac":for(var dt=[],Et,at=null,pt=null,Zt=null,Wn=w(p.fb()),Sn=Wn.next();!Sn.done;Sn=Wn.next()){var Tn=Sn.value,Bn=Tn.data;if(Bn){var er=0;if(pt==-1&&Zt)Bn=En(Zt,Tn.data),pt=null;else if(pt!=null&&Zt){er=Math.max(0,pt);var fl=En(Zt,Bn.subarray(0,er));dt.push({data:fl,size:fl.byteLength,duration:1024,eb:0,flags:{hb:0,$a:0,Za:0,Xa:0,Ya:2,ib:0}}),pt=Zt=null}if(Et=WM(Bn,er),!Et)throw new $(2,3,3018,n?n.N()[0]:null);for(t.audioSamplingRate=Et.sampleRate,t.channelsCount=Et.channelCount,at==null&&Tn.pts!==null&&(at=Tn.pts);er<Bn.length;){var Jo=KM(Bn,er);if(!Jo){Zt=Bn.subarray(er,Bn.length),pt=-1;break}var Ws=Jo.ud+Jo.ia;pt=Math.max(0,er+Ws-Bn.length),pt!=0?Zt=Bn.subarray(er+Jo.ud,er+Ws):er+Ws<=Bn.length&&dt.push({data:Bn.subarray(er+Jo.ud,er+Ws),size:Jo.ia,duration:1024,eb:0,flags:{hb:0,$a:0,Za:0,Xa:0,Ya:2,ib:0}}),er+=Ws}}}if(!Et||at==null){if(!p.wc().length)throw new $(2,3,3018,n?n.N()[0]:null);at=9e4*n.startTime;var Zi=Wr("audio",t.codecs.split(","));if(!Zi||!t.channelsCount||!t.audioSamplingRate)throw new $(2,3,3018,n?n.N()[0]:null);Et={sampleRate:t.audioSamplingRate,channelCount:t.channelsCount,codec:Zi};var sx=SB(Zi,t.channelsCount);if(!sx)throw new $(2,3,3018,n?n.N()[0]:null);for(var qB=at+9e4*(n.endTime-n.startTime),g8=at;g8<qB;)dt.push({data:sx,size:sx.byteLength,duration:1024,eb:0,flags:{hb:0,$a:0,Za:0,Xa:0,Ya:2,ib:0}}),g8+=1024/Et.sampleRate*9e4}var m8=Et.sampleRate,GB=at/9e4*m8;y={id:t.id,type:"audio",codecs:Et.codec,encrypted:t.encrypted&&0<t.drmInfos.length,timescale:m8,duration:r,lb:[],ra:new Uint8Array([]),Ca:new Uint8Array([]),Ia:0,Ka:0,data:{Db:this.g,baseMediaDecodeTime:GB,jb:dt},stream:t};break;case"ac3":for(var v8=[],r0=0,ux=new Uint8Array([]),i0=null,y8=w(p.fb()),lx=y8.next();!lx.done;lx=y8.next()){var cx=lx.value,dx=cx.data;i0==null&&cx.pts!==null&&(i0=cx.pts);for(var md=0;md<dx.length;){var Xs=YM(dx,md);Xs?(t.audioSamplingRate=Xs.sampleRate,t.channelsCount=Xs.channelCount,r0=Xs.sampleRate,ux=Xs.ra,v8.push({data:dx.subarray(md,md+Xs.ia),size:Xs.ia,duration:1536,eb:0,flags:{hb:0,$a:0,Za:0,Xa:0,Ya:2,ib:0}}),md+=Xs.ia):md++}}if(r0==0||ux.byteLength==0||i0==null)throw new $(2,3,3018,n?n.N()[0]:null);var KB=i0/9e4*r0;y={id:t.id,type:"audio",codecs:"ac-3",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:r0,duration:r,lb:[],ra:ux,Ca:new Uint8Array([]),Ia:0,Ka:0,data:{Db:this.g,baseMediaDecodeTime:KB,jb:v8},stream:t};break;case"ec3":for(var b8=[],a0=0,px=new Uint8Array([]),o0=null,w8=w(p.fb()),hx=w8.next();!hx.done;hx=w8.next()){var fx=hx.value,gx=fx.data;o0==null&&fx.pts!==null&&(o0=fx.pts);for(var vd=0;vd<gx.length;){var Ys=JM(gx,vd);Ys?(t.audioSamplingRate=Ys.sampleRate,t.channelsCount=Ys.channelCount,a0=Ys.sampleRate,px=Ys.ra,b8.push({data:gx.subarray(vd,vd+Ys.ia),size:Ys.ia,duration:1536,eb:0,flags:{hb:0,$a:0,Za:0,Xa:0,Ya:2,ib:0}}),vd+=Ys.ia):vd++}}if(a0==0||px.byteLength==0||o0==null)throw new $(2,3,3018,n?n.N()[0]:null);var WB=o0/9e4*a0;y={id:t.id,type:"audio",codecs:"ec-3",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:a0,duration:r,lb:[],ra:px,Ca:new Uint8Array([]),Ia:0,Ka:0,data:{Db:this.g,baseMediaDecodeTime:WB,jb:b8},stream:t};break;case"mp3":for(var x8=[],s0,u0=null,S8=w(p.fb()),mx=S8.next();!mx.done;mx=S8.next()){var vx=mx.value,rf=vx.data;if(rf){u0==null&&vx.pts!==null&&(u0=vx.pts);for(var gl=0;gl<rf.length;){var yd=t0(rf,gl);yd?(s0||(s0=yd),gl+yd.ia<=rf.length&&x8.push({data:rf.subarray(gl,gl+yd.ia),size:yd.ia,duration:1152,eb:0,flags:{hb:0,$a:0,Za:0,Xa:0,Ya:2,ib:0}}),gl+=yd.ia):gl++}}}if(!s0||u0==null)throw new $(2,3,3018,n?n.N()[0]:null);var k8=s0.sampleRate,XB=u0/9e4*k8;y={id:t.id,type:"audio",codecs:"mp3",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:k8,duration:r,lb:[],ra:new Uint8Array([]),Ca:new Uint8Array([]),Ia:0,Ka:0,data:{Db:this.g,baseMediaDecodeTime:XB,jb:x8},stream:t};break;case"opus":var T8=[],l0=null,io=p.F;if(!io)throw new $(2,3,3018,n?n.N()[0]:null);var $r=[];switch(io.Zh){case 1:case 2:$r=[0];break;case 0:$r=[255,1,1,0,1];break;case 128:$r=[255,2,0,0,1];break;case 3:$r=[1,2,1,0,2,1];break;case 4:$r=[1,2,2,0,1,2,3];break;case 5:$r=[1,3,2,0,4,1,2,3];break;case 6:$r=[1,4,2,0,4,1,2,3,5];break;case 7:$r=[1,4,2,0,4,1,2,3,5,6];break;case 8:$r=[1,5,3,0,6,1,2,3,4,5,7];break;case 130:$r=[1,1,2,0,1];break;case 131:$r=[1,1,3,0,1,2];break;case 132:$r=[1,1,4,0,1,2,3];break;case 133:$r=[1,1,5,0,1,2,3,4];break;case 134:$r=[1,1,6,0,1,2,3,4,5];break;case 135:$r=[1,1,7,0,1,2,3,4,5,6];break;case 136:$r=[1,1,8,0,1,2,3,4,5,6,7]}for(var A8=new Uint8Array([0,io.channelCount,0,0,io.sampleRate>>>24&255,io.sampleRate>>>17&255,io.sampleRate>>>8&255,io.sampleRate>>>0&255,0,0].concat(j($r))),E8=io.sampleRate,C8=w(p.fb()),yx=C8.next();!yx.done;yx=C8.next()){var bx=yx.value,bd=bx.data;l0==null&&bx.pts!==null&&(l0=bx.pts);for(var af=0;af<bd.length;){for(var YB=(bd[af+1]&16)!==0,JB=(bd[af+1]&8)!==0,Qo=af+2,c0=0;bd[Qo]===255;)c0+=255,Qo+=1;c0+=bd[Qo],Qo+=1,Qo+=YB?2:0,Qo+=JB?2:0;var I8=bd.slice(Qo,Qo+c0);T8.push({data:I8,size:I8.byteLength,duration:960,eb:0,flags:{hb:0,$a:0,Za:0,Xa:0,Ya:2,ib:0}}),af=Qo+c0}}if(A8.byteLength==0||l0==null)throw new $(2,3,3018,n?n.N()[0]:null);t.audioSamplingRate=io.sampleRate,t.channelsCount=io.channelCount;var QB=l0/9e4*E8;y={id:t.id,type:"audio",codecs:"opus",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:E8,duration:r,lb:[],ra:A8,Ca:new Uint8Array([]),Ia:0,Ka:0,data:{Db:this.g,baseMediaDecodeTime:QB,jb:T8},stream:t}}y&&(g.push(y),y=null)}}catch(xx){return xx&&xx.code==3023?Promise.resolve(new Uint8Array([])):Promise.reject(xx)}if(!g.length)return Promise.reject(new $(2,3,3018,n?n.N()[0]:null));var M8=new el(g),wx=t.id+"_"+n.i;if(this.i.has(wx))var of=this.i.get(wx);else of=Fc(M8),this.i.set(wx,of);var ZB=this.l!==of,_8=lh(M8);if(this.l=of,this.g++,ZB){var eV=En(of,_8);return Promise.resolve(eV)}return Promise.resolve(_8)},Ee("shaka.transmuxer.TsTransmuxer",Qi),Qi.prototype.transmux=Qi.prototype.transmux,Qi.prototype.getOriginalMimeType=Qi.prototype.getOriginalMimeType,Qi.prototype.convertCodecs=Qi.prototype.convertCodecs,Qi.prototype.isSupported=Qi.prototype.isSupported,Qi.prototype.destroy=Qi.prototype.destroy;var jB=["aac","ac-3","ec-3","mp3","opus"],FB=["avc","hevc"];Ro("video/mp2t",function(){return new Qi("video/mp2t")},sb);function t8(){}Te(t8,Jr),Ee("shaka.util.FairPlayUtils",t8);/*
 @license
 EME Encryption Scheme Polyfill
 Copyright 2019 Google LLC
 SPDX-License-Identifier: Apache-2.0
*/function n8(){}var tf;function r8(){tf||navigator.emeEncryptionSchemePolyfilled?console.debug("EmeEncryptionSchemePolyfill: Already installed."):navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration?(tf=navigator.requestMediaKeySystemAccess,console.debug("EmeEncryptionSchemePolyfill: Waiting to detect encryptionScheme support."),navigator.requestMediaKeySystemAccess=BB,navigator.emeEncryptionSchemePolyfilled=!0):console.debug("EmeEncryptionSchemePolyfill: EME not found")}function BB(e,t){var n=this,r;return P(function(i){return i.g==1?(console.assert(n==navigator,'bad "this" for requestMediaKeySystemAccess'),T(i,tf.call(n,e,t),2)):(r=i.h,d8(r)?(console.debug("EmeEncryptionSchemePolyfill: Native encryptionScheme support found."),navigator.requestMediaKeySystemAccess=tf,i.return(r)):(console.debug("EmeEncryptionSchemePolyfill: No native encryptionScheme support found. Patching encryptionScheme support."),navigator.requestMediaKeySystemAccess=i8,i.return(i8.call(n,e,t))))})}function i8(e,t){var n=this,r,i,a,u,l,p,g,v,y,x,S,k;return P(function(C){if(C.g==1){for(console.assert(n==navigator,'bad "this" for requestMediaKeySystemAccess'),r=c8(e),i=[],a=w(t),u=a.next();!u.done;u=a.next())l=u.value,p=a8(l.videoCapabilities,r),g=a8(l.audioCapabilities,r),l.videoCapabilities&&l.videoCapabilities.length&&!p.length||l.audioCapabilities&&l.audioCapabilities.length&&!g.length||(v=Object.assign({},l),v.videoCapabilities=p,v.audioCapabilities=g,i.push(v));if(!i.length)throw y=Error("Unsupported keySystem or supportedConfigurations."),y.name="NotSupportedError",y.code=DOMException.NOT_SUPPORTED_ERR,y;return T(C,tf.call(n,e,i),2)}return x=C.h,k=S=null,i[0]&&(i[0].videoCapabilities&&(S=i[0].videoCapabilities[0].encryptionScheme),i[0].audioCapabilities&&(k=i[0].audioCapabilities[0].encryptionScheme)),C.return(new n0(x,S,k))})}function a8(e,t){return e&&e.filter(function(n){return ix(n.encryptionScheme,t)})}Ee("EmeEncryptionSchemePolyfill",n8),n8.install=r8;function o8(){}var nf;function s8(){nf||navigator.mediaCapabilitiesEncryptionSchemePolyfilled?console.debug("McEncryptionSchemePolyfill: Already installed."):navigator.mediaCapabilities?(nf=navigator.mediaCapabilities.decodingInfo,console.debug("McEncryptionSchemePolyfill: Waiting to detect encryptionScheme support."),navigator.mediaCapabilities.decodingInfo=VB,navigator.mediaCapabilitiesEncryptionSchemePolyfilled=!0):console.debug("McEncryptionSchemePolyfill: MediaCapabilities not found")}function VB(e){var t=this,n,r;return P(function(i){switch(i.g){case 1:return console.assert(t==navigator.mediaCapabilities,'bad "this" for decodingInfo'),T(i,nf.call(t,e),2);case 2:if(n=i.h,!n.supported||!e.keySystemConfiguration)return i.return(n);if((r=n.keySystemAccess)&&d8(r))return console.debug("McEncryptionSchemePolyfill: Native encryptionScheme support found."),navigator.mediaCapabilities.decodingInfo=nf,i.return(n);if(console.debug("McEncryptionSchemePolyfill: No native encryptionScheme support found. Patching encryptionScheme support."),navigator.mediaCapabilities.decodingInfo=u8,r){i.s(3);break}return T(i,l8(e),4);case 4:return n.keySystemAccess=i.h,i.return(n);case 3:return i.return(u8.call(t,e))}})}function u8(e){var t=this,n,r,i,a,u,l,p;return P(function(g){switch(g.g){case 1:return console.assert(t==navigator.mediaCapabilities,'bad "this" for decodingInfo'),r=n=null,!e.keySystemConfiguration||(i=e.keySystemConfiguration,a=i.keySystem,r=i.audio&&i.audio.encryptionScheme,n=i.video&&i.video.encryptionScheme,u=c8(a),l={powerEfficient:!1,smooth:!1,supported:!1,keySystemAccess:null,configuration:e},ix(r,u)&&ix(n,u))?T(g,nf.call(t,e),2):g.return(l);case 2:if(p=g.h,p.keySystemAccess){p.keySystemAccess=new n0(p.keySystemAccess,n,r),g.s(3);break}if(!e.keySystemConfiguration){g.s(3);break}return T(g,l8(e),5);case 5:p.keySystemAccess=g.h;case 3:return g.return(p)}})}function l8(e){var t,n;return P(function(r){if(r.g==1){var i=e.keySystemConfiguration,a=[],u=[];return i.audio&&a.push({robustness:i.audio.robustness||"",contentType:e.audio.contentType,encryptionScheme:i.audio.encryptionScheme}),i.video&&u.push({robustness:i.video.robustness||"",contentType:e.video.contentType,encryptionScheme:i.video.encryptionScheme}),i={initDataTypes:i.initDataType?[i.initDataType]:[],distinctiveIdentifier:i.distinctiveIdentifier,persistentState:i.persistentState,sessionTypes:i.sessionTypes},a.length&&(i.audioCapabilities=a),u.length&&(i.videoCapabilities=u),t=i,T(r,navigator.requestMediaKeySystemAccess(e.keySystemConfiguration.keySystem,[t]),2)}return n=r.h,r.return(n)})}Ee("McEncryptionSchemePolyfill",o8),o8.install=s8;function n0(e,t,n){this.g=e,this.i=t||null,this.h=n||null,this.keySystem=e.keySystem}n0.prototype.getConfiguration=function(){var e=this.g.getConfiguration();if(e.videoCapabilities)for(var t=w(e.videoCapabilities),n=t.next();!n.done;n=t.next())n.value.encryptionScheme=this.i;if(e.audioCapabilities)for(t=w(e.audioCapabilities),n=t.next();!n.done;n=t.next())n.value.encryptionScheme=this.h;return e},n0.prototype.createMediaKeys=function(){return this.g.createMediaKeys()};function c8(e){return e.startsWith("com.widevine")||e.startsWith("com.microsoft")||e.startsWith("com.chromecast")||e.startsWith("com.adobe")||e.startsWith("org.w3")?"cenc":e.startsWith("com.apple")?"cbcs":e.startsWith("com.huawei")?"cenc":(console.warn("EmeEncryptionSchemePolyfill: Unknown key system:",e,"Please contribute!"),null)}function d8(e){e=e.getConfiguration();var t=e.audioCapabilities&&e.audioCapabilities[0];return!!((e=e.videoCapabilities&&e.videoCapabilities[0]||t)&&e.encryptionScheme!==void 0)}function ix(e,t){return!!(!e||e==t||(e=="cbcs"||e=="cbcs-1-9")&&(zB||HB||$B))}function ax(){}function p8(){r8(),s8()}Ee("EncryptionSchemePolyfills",ax),ax.install=p8;var $B=navigator.userAgent.includes("CrKey"),zB=100<=parseInt(navigator.userAgent.split("Firefox/").pop(),10),ox,h8=navigator.userAgent||"";if(h8.includes("Web0S")){var f8=h8.match(/Chrome\/(\d+)/);ox=f8?79<=parseInt(f8[1],10):!1}else ox=!1;var HB=ox;typeof b<"u"&&b.exports&&(b.exports=ax)}).call(c,s,s,void 0);for(var h in c.shaka)o[h]=c.shaka[h]})()})(e_);const gn=L8(e_);/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Mx="lit-localize-status";/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const CV=o=>typeof o!="string"&&"strTag"in o,t_=(o,s,c)=>{let h=o[0];for(let d=1;d<o.length;d++)h+=s[c?c[d-1]:d-1],h+=o[d];return h};/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const n_=o=>CV(o)?t_(o.strings,o.values):o;let ye=n_,r_=!1;function IV(o){if(r_)throw new Error("lit-localize can only be configured once");ye=o,r_=!0}/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class MV{constructor(s){this.__litLocalizeEventHandler=c=>{c.detail.status==="ready"&&this.host.requestUpdate()},this.host=s}hostConnected(){window.addEventListener(Mx,this.__litLocalizeEventHandler)}hostDisconnected(){window.removeEventListener(Mx,this.__litLocalizeEventHandler)}}const _V=o=>o.addController(new MV(o)),DV=_V;/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const _x=()=>(o,s)=>(o.addInitializer(DV),o);/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class i_{constructor(){this.settled=!1,this.promise=new Promise((s,c)=>{this._resolve=s,this._reject=c})}resolve(s){this.settled=!0,this._resolve(s)}reject(s){this.settled=!0,this._reject(s)}}/**
 * @license
 * Copyright 2014 Travis Webb
 * SPDX-License-Identifier: MIT
 */const Zo=[];for(let o=0;o<256;o++)Zo[o]=(o>>4&15).toString(16)+(o&15).toString(16);function PV(o){let s=0,c=8997,h=0,d=33826,m=0,b=40164,f=0,A=52210;for(let M=0;M<o.length;M++)c^=o.charCodeAt(M),s=c*435,h=d*435,m=b*435,f=A*435,m+=c<<8,f+=d<<8,h+=s>>>16,c=s&65535,m+=h>>>16,d=h&65535,A=f+(m>>>16)&65535,b=m&65535;return Zo[A>>8]+Zo[A&255]+Zo[b>>8]+Zo[b&255]+Zo[d>>8]+Zo[d&255]+Zo[c>>8]+Zo[c&255]}/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const LV="",RV="h",NV="s";function UV(o,s){return(s?RV:NV)+PV(typeof o=="string"?o:o.join(LV))}/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const a_=new WeakMap,o_=new Map;function OV(o,s,c){if(o){const h=c?.id??jV(s),d=o[h];if(d){if(typeof d=="string")return d;if("strTag"in d)return t_(d.strings,s.values,d.values);{let m=a_.get(d);return m===void 0&&(m=d.values,a_.set(d,m)),{...d,values:m.map(b=>s.values[b])}}}}return n_(s)}function jV(o){const s=typeof o=="string"?o:o.strings;let c=o_.get(s);return c===void 0&&(c=UV(s,typeof o!="string"&&!("strTag"in o)),o_.set(s,c)),c}/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function Dx(o){window.dispatchEvent(new CustomEvent(Mx,{detail:o}))}let v0="",Px,s_,y0,Lx,u_,bl=new i_;bl.resolve();let b0=0;const FV=o=>(IV((s,c)=>OV(u_,s,c)),v0=s_=o.sourceLocale,y0=new Set(o.targetLocales),y0.add(o.sourceLocale),Lx=o.loadLocale,{getLocale:BV,setLocale:VV}),BV=()=>v0,VV=o=>{if(o===(Px??v0))return bl.promise;if(!y0||!Lx)throw new Error("Internal error");if(!y0.has(o))throw new Error("Invalid locale code");b0++;const s=b0;return Px=o,bl.settled&&(bl=new i_),Dx({status:"loading",loadingLocale:o}),(o===s_?Promise.resolve({templates:void 0}):Lx(o)).then(c=>{b0===s&&(v0=o,Px=void 0,u_=c.templates,Dx({status:"ready",readyLocale:o}),bl.resolve())},c=>{b0===s&&(Dx({status:"error",errorLocale:o,errorMessage:c.toString()}),bl.reject(c))}),bl.promise},Ar=Symbol("playerState");var $V=Object.defineProperty,zV=Object.getOwnPropertyDescriptor,l_=(o,s,c,h)=>{for(var d=h>1?void 0:h?zV(s,c):s,m=o.length-1,b;m>=0;m--)(b=o[m])&&(d=(h?b(s,c,d):b(d))||d);return h&&d&&$V(s,c,d),d};let w0=class extends An{render(){return At`<div
      class="ump-visually-hidden"
      aria-live="assertive"
      data-testid="aria-announcer"
    >
      ${this.playerState.ended?ye("Ended"):this.playerState.paused?ye("Paused"):ye("Playing")}
    </div>`}};w0.styles=Cn`
.ump-visually-hidden{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0,0,0,0) !important;white-space:nowrap !important;border:0 !important;z-index:-100}
  `,l_([Tr({context:Ar,subscribe:!0})],w0.prototype,"playerState",2),w0=l_([Xn("ump-aria-announcer")],w0);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const c_={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},d_=o=>(...s)=>({_$litDirective$:o,values:s});class p_{constructor(s){}get _$AU(){return this._$AM._$AU}_$AT(s,c,h){this.t=s,this._$AM=c,this.i=h}_$AS(s,c){return this.update(s,c)}update(s,c){return this.render(...c)}}/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const ot=d_(class extends p_{constructor(o){var s;if(super(o),o.type!==c_.ATTRIBUTE||o.name!=="class"||((s=o.strings)==null?void 0:s.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(o){return" "+Object.keys(o).filter(s=>o[s]).join(" ")+" "}update(o,[s]){var c,h;if(this.st===void 0){this.st=new Set,o.strings!==void 0&&(this.nt=new Set(o.strings.join(" ").split(/\s/).filter(m=>m!=="")));for(const m in s)s[m]&&!((c=this.nt)!=null&&c.has(m))&&this.st.add(m);return this.render(s)}const d=o.element.classList;for(const m of this.st)m in s||(d.remove(m),this.st.delete(m));for(const m in s){const b=!!s[m];b===this.st.has(m)||(h=this.nt)!=null&&h.has(m)||(b?(d.add(m),this.st.add(m)):(d.remove(m),this.st.delete(m)))}return Qs}});function h_(o,s,c){return o<s?s:o>c?c:o}function f_(o){const s=Math.round(h_(o,0,1)*255).toString(16).toUpperCase();return s.length===1?"0"+s:s}var HV=Object.defineProperty,qV=Object.getOwnPropertyDescriptor,Rx=(o,s,c,h)=>{for(var d=h>1?void 0:h?qV(s,c):s,m=o.length-1,b;m>=0;m--)(b=o[m])&&(d=(h?b(s,c,d):b(d))||d);return h&&d&&HV(s,c,d),d};const GV=2.5;let df=class extends An{render(){return At`
      <div
        class=${ot({"ump-caption-display-container":!0,"ump-caption-display-container-hidden":!this.playerState.captionSettings.enabled})}
      ></div>
    `}updated(){const{fontScale:o,textColor:s,textOpacity:c,backgroundColor:h,backgroundOpacity:d,fontFamily:m,textShadow:b}=this.playerState.captionSettings;this.style.setProperty("--ump-caption-display-font-size",`${o*GV}cqw`),this.style.setProperty("--ump-caption-display-color",`${s}${f_(c)}`),this.style.setProperty("--ump-caption-display-background",`${h}${f_(d)}`),this.style.setProperty("--ump-caption-display-font-family",m),this.style.setProperty("--ump-caption-display-text-shadow",b),this.dispatchEvent(new Event("captionsettingupdated"))}};df.styles=Cn`
.ump-caption-display-container{display:inline-block;position:absolute;width:95%;bottom:90px;left:50%;transform:translateX(-50%)}.ump-caption-display-container span:not(:has(span)){font-size:var(--ump-caption-display-font-size);color:var(--ump-caption-display-color);background-color:var(--ump-caption-display-background) !important;font-family:var(--ump-caption-display-font-family),sans-serif;text-shadow:var(--ump-caption-display-text-shadow);max-width:100%}.ump-caption-display-container-hidden{display:none}*{opacity:1 !important}.ump-caption-display-container *{position:relative !important}
  `,Rx([Tr({context:Ar,subscribe:!0})],df.prototype,"playerState",2),Rx([zn(".ump-caption-display-container")],df.prototype,"captionContainer",2),df=Rx([Xn("ump-caption-display")],df);const g_=["facebook","twitter","linkedin","mail","copy"],Nx={sources:[],ccFiles:[],downloadableFiles:[],adobeCms:null,ageGate:!1,aspectRatio:"16:9",autoplay:!1,checkpoints:[],debug:!1,dir:null,disableKeyboardEvents:!1,hideControls:null,hidePosterImage:!1,language:"en",layout:"fluid",loop:!1,maskLevel:0,muted:!1,partnerName:"",percentage:50,playButtonSize:"medium",playButtonTheme:"dark",playbackRates:[.5,.75,1,1.25,1.5,2],playFullScreen:!1,plugins:{},poster:"",qualityBehavior:"auto",reporting:!0,share:!0,shareOptions:[...g_],showDownloadMenu:!0,showFocusIndicator:"default",showImageOnError:!1,showQualityMenu:!0,startTime:0,title:"",unlocalizedTitle:""},kd={videoId:-1,label:"Auto"},pf={captionId:-1,language:"option for turning off caption",label:"Off"},Zs={enabled:!1,fontScale:1,textColor:"#FFFFFF",textOpacity:1,backgroundColor:"#000000",backgroundOpacity:1,fontFamily:"sans-serif",textShadow:"rgb(255, 255, 255) 0px 0px 0px"},m_={audioTracks:[],bigPlayButtonClicked:!1,buffered:[],captionSettings:Zs,captionTracks:[],controlsState:"controlbar",currentTime:0,dir:"ltr",disableKeyboardEvents:!1,downloadableTranscriptFiles:[],downloadableVideoFiles:[],duration:0,ended:!1,fullscreen:!1,loading:!1,maskLevel:0,muted:!1,paused:!0,playbackRate:1,playbackRates:[],playButtonSize:"medium",playButtonTheme:"dark",qualityBehavior:"auto",selectedVideoQualityId:kd.videoId,shareDialogOpened:!1,shareOptions:[],showDownloadMenu:!0,showFocusIndicator:"default",showQualityMenu:!0,showVolumeSlider:!0,videoQualities:[],visible:!0,volume:1},x0=["HQ","HD","SD","LO"],v_=["application/dash+xml","application/vnd.apple.mpegurl","application/vnd.ms-sstr+xml","video/mp4"],y_={DASH:"application/dash+xml",MP4:"video/mp4",HLS:"application/vnd.apple.mpegurl",MSS:"application/vnd.ms-sstr+xml"},KV={VTT:"text/vtt",TTML:"application/ttml+xml"},ea="@back",WV=3e3,XV=25,YV=ye("We're sorry, but something went wrong."),JV="universal-media-player",b_="ump",S0={dashIdentifier:"description",hlsIdentifier:"public.accessibility.describes-video"};class Pt extends CustomEvent{constructor(s,c){super(s,{bubbles:!0,composed:!0,cancelable:!0,detail:c})}}function w_(o,s){let c=null;return(...h)=>{c!==null&&window.clearTimeout(c),c=window.setTimeout(()=>{o(...h)},s)}}const QV='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10a7 7 0 0 1 14 0v1h-3.5a.5.5 0 0 0-.5.5v6c0 .28.22.5.5.5H16a2 2 0 0 0 2-2v-6a8 8 0 1 0-16 0v6c0 1.1.9 2 2 2h2.5a.5.5 0 0 0 .5-.5v-6a.5.5 0 0 0-.5-.5H3v-1Z"/></svg>',ZV='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10a7 7 0 0 1 14 0v1h-3.5a.5.5 0 0 0-.5.5v6c0 .28.22.5.5.5H16a2 2 0 0 0 2-2v-6a8 8 0 1 0-16 0v6c0 1.1.9 2 2 2h2.5a.5.5 0 0 0 .5-.5v-6a.5.5 0 0 0-.5-.5H3v-1Zm0 2h3v5H4a1 1 0 0 1-1-1v-4Zm14 0v4a1 1 0 0 1-1 1h-2v-5h3Z"/></svg>';/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class Ux extends p_{constructor(s){if(super(s),this.it=pr,s.type!==c_.CHILD)throw Error(this.constructor.directiveName+"() can only be used in child bindings")}render(s){if(s===pr||s==null)return this._t=void 0,this.it=s;if(s===Qs)return s;if(typeof s!="string")throw Error(this.constructor.directiveName+"() called with a non-string value");if(s===this.it)return this._t;this.it=s;const c=[s];return c.raw=c,this._t={_$litType$:this.constructor.resultType,strings:c,values:[]}}}Ux.directiveName="unsafeHTML",Ux.resultType=1;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class Ox extends Ux{}Ox.directiveName="unsafeSVG",Ox.resultType=2;const cn=d_(Ox),e$='<svg fill="currentColor" viewBox="0 0 1316 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M288 567.990857h97.718857l-0.585143-151.442286z m586.276571-56.576c0-63.414857-36.571429-110.299429-112.566857-110.299428h-30.866285v221.696h29.696c71.424 0 113.700571-52.004571 113.700571-111.433143z m-327.972571-215.405714l0.585143 432.018286a19.126857 19.126857 0 0 1-18.870857 19.419428h-123.428572a19.163429 19.163429 0 0 1-18.870857-19.419428v-35.437715H219.428571l-31.414857 46.299429a19.748571 19.748571 0 0 1-16.018285 8.557714H19.419429c-16.018286 0-25.161143-17.700571-15.433143-30.281143L321.682286 284.598857a18.212571 18.212571 0 0 1 15.433143-8.009143h189.696c10.861714 0 19.419429 8.557714 19.419428 19.419429z m472.539429 215.405714c0 150.272-109.714286 235.995429-257.133715 235.995429h-154.294857a19.236571 19.236571 0 0 1-19.419428-19.419429V295.972571c0-10.861714 8.557714-19.419429 19.419428-19.419428h153.161143c148.553143 0 258.304 84.553143 258.304 234.861714z m89.161142 0.585143s2.304 148.553143-84.553142 235.995429h-29.147429c77.714286-92.562286 79.433143-236.580571 79.433143-236.580572s1.133714-113.152-77.129143-234.276571h24.576C1105.737143 373.723429 1108.041143 512 1108.041143 512z m105.142858 0s2.304 148.553143-85.138286 235.995429h-29.147429c77.714286-92.562286 79.433143-236.580571 79.433143-236.580572s1.133714-113.152-76.580571-234.276571h24.576C1210.843429 373.723429 1213.147429 512 1213.147429 512zM1316.571429 512s2.304 148.553143-84.553143 235.995429h-29.147429c77.129143-92.562286 78.848-236.580571 78.848-236.580572s1.133714-113.152-76.580571-234.276571h24.576C1314.267429 373.723429 1316.571429 512 1316.571429 512z" fill="" /></svg>';function gt(o){return{"focus-always":o.showFocusIndicator==="always","focus-default":o.showFocusIndicator==="default"}}function t$(o){return s=>(o.setValue({...o.value,showFocusIndicator:s.options.showFocusIndicator}),()=>{})}const ao=Cn`
.btn{display:inline-flex;align-items:center;justify-content:center;gap:var(--spacing-s-nudge);margin:0;padding:var(--spacing-s-nudge) var(--spacing-m);border-radius:var(--border-radius-medium);color:var(--color-neutral-foreground-1);font-weight:var(--font-weight-semibold);font-family:var(--font-family-default);line-height:var(--line-height-base-300);transition-duration:var(--duration-faster);transition-property:background,color;transition-timing-function:var(--curve-easy-ease);cursor:pointer;-webkit-user-select:none;user-select:none;border:solid var(--stroke-width-thick) var(--color-transparent-stroke);background-color:var(--color-neutral-background-1)}.btn:hover{background-color:var(--color-neutral-background-1-hover);color:var(--color-neutral-foreground-1-hover)}.btn.focus-always:focus,.btn.focus-default:focus-visible{outline:var(--stroke-width-thick) solid var(--color-stroke-focus-2)}.btn svg{fill:currentcolor}.btn-xs{padding:var(--spacing-xs)}.btn-s{padding:var(--spacing-s)}.btn-xl{padding:var(--spacing-xl)}.btn-xxl{padding:var(--spacing-xxl)}.btn-xxl svg{width:var(--size-10);height:var(--size-10)}.btn-outline{background-color:transparent;border-color:var(--color-neutral-stroke-1)}.btn-outline:hover{background-color:transparent}.btn-outline.focus-always:focus,.btn-outline.focus-default:focus-visible{border-color:transparent}.btn-subtle{background-color:var(--color-subtle-background);color:var(--color-neutral-foreground-2);border-color:transparent}.btn-subtle:hover{background-color:var(--color-subtle-background-hover);color:var(--color-neutral-foreground-2-hover);border-color:transparent}.btn-subtle:active{background-color:var(--color-subtle-background-pressed);color:var(--color-neutral-foreground-2-pressed)}.btn-icon-only{padding:var(--spacing-s-nudge)}.btn-brand{background-color:var(--color-brand-background);color:var(--color-brand-foreground)}.btn-brand:hover{background-color:var(--color-brand-background-hover);color:var(--color-brand-foreground)}.btn-brand:active{background-color:var(--color-brand-background-pressed);color:var(--color-brand-foreground)}.btn-circle{border-radius:var(--border-radius-circular)}@media (forced-colors:active){.btn{color:ButtonText;background-color:ButtonFace;border-color:ButtonText}.btn:hover{background-color:Highlight;border-color:Highlight;color:HighlightText}.btn-brand{forced-color-adjust:none}.btn.focus-always:focus,.btn.focus-default:focus-visible{outline-color:Highlight}.btn-outline{background-color:ButtonFace;border-color:ButtonText}.btn-subtle{background-color:ButtonFace;color:ButtonText}}
`,k0=Cn`
hr{width:var(--size-full);height:var(--size-px);padding:0;margin:var(--spacing-s) 0;border:none;background-color:var(--color-neutral-stroke-alpha)}@media (forced-colors:active){hr{background-color:ButtonBorder}}
`,Td=Cn`
.tooltip[data-tooltip]{position:relative;--tooltip-gap:var(--spacing-s);--tooltip-top:auto;--tooltip-left:50%;--tooltip-right:auto;--tooltip-bottom:100%;--tooltip-translate-x:-50%;--tooltip-translate-y:calc(0px - var(--tooltip-gap));--tooltip-width:auto}.tooltip[data-tooltip]::before{pointer-events:none;display:none;width:var(--tooltip-width);z-index:100;background-color:var(--color-grey-10-alpha-90);color:var(--color-neutral-foreground-1);content:attr(data-tooltip);padding:var(--spacing-xs) var(--spacing-s);border-radius:var(--border-radius-medium);font-weight:var(--font-weight-regular);font-size:var(--font-size-base-200);line-height:var(--line-height-base-200);font-family:var(--font-family-default);position:absolute;inset:var(--tooltip-top) var(--tooltip-right) var(--tooltip-bottom) var(--tooltip-left);transform:translate(var(--tooltip-translate-x),var(--tooltip-translate-y))}.tooltip[data-tooltip].tooltip-top::before{--tooltip-top:auto;--tooltip-bottom:100%;transform:translate(0,calc(0px - var(--tooltip-gap)))}.tooltip[data-tooltip].tooltip-top.tooltip-right::before{--tooltip-left:auto;--tooltip-right:0}.tooltip[data-tooltip].tooltip-top.tooltip-left::before{--tooltip-left:0;--tooltip-right:auto}.tooltip[data-tooltip].tooltip-disable-when-aria-expanded[aria-expanded='true']::before{display:none}.tooltip[data-tooltip]:hover::before,.tooltip[data-tooltip]:focus-visible::before,.tooltip[data-tooltip].tooltip-visible::before{display:block}@media (forced-colors:active){.tooltip[data-tooltip]::before{background-color:var(--color-grey-10)}.tooltip[data-tooltip]:hover::before,.tooltip[data-tooltip]:focus-visible::before,.tooltip[data-tooltip].tooltip-visible::before{color:ButtonText}}
`;var n$=Object.defineProperty,r$=Object.getOwnPropertyDescriptor,jx=(o,s,c,h)=>{for(var d=h>1?void 0:h?r$(s,c):s,m=o.length-1,b;m>=0;m--)(b=o[m])&&(d=(h?b(s,c,d):b(d))||d);return h&&d&&n$(s,c,d),d};let hf=class extends An{render(){var o;const s=this.playerState.audioTracks;return s.length<2?null:At`
      <ump-popup
        popupAriaLabel="${ye("Audio")}"
        @ump-popup-changed=${()=>this.requestUpdate()}
      >
        <button
          type="button"
          slot="trigger"
          class=${ot({btn:!0,"btn-subtle":!0,"btn-icon-only":!0,...gt(this.playerState),tooltip:!0,"tooltip-disable-when-aria-expanded":!0})}
          data-tooltip="${ye("Audio")}"
          aria-label="${ye("Audio Menu")}"
          data-testid="audio-menu-button"
        >
          ${(o=this.popup)!=null&&o.opened?cn(QV):cn(ZV)}
        </button>

        <ump-menu data-focusgroup>
          <ump-menu-label>${ye("Audio Track")}</ump-menu-label>

          <hr aria-hidden="true" />

          <ump-submenu>
            ${s.map(c=>At`
                <ump-menu-item
                  class=${ot({...gt(this.playerState)})}
                  type="radio"
                  .checked=${c.shakaAudioTrack.active===!0}
                  @click=${this.onAudioTrackSelected(c)}
                >
                  <div
                    class="audio-track-menu-item-content"
                    aria-label=${x_(c)?`${c.displayName} ${ye("Audio Description")}`:c.displayName}
                  >
                    ${c.displayName}
                    ${x_(c)?cn(e$):null}
                  </div>
                </ump-menu-item>
              `)}
          </ump-submenu>
        </ump-menu>
      </ump-popup>
    `}onAudioTrackSelected(o){return()=>{this.dispatchEvent(new Pt("audio-track-clicked",o))}}get opened(){var o;return(o=this.popup)==null?void 0:o.opened}};hf.styles=[ao,k0,Td,Cn`
.btn.tooltip{--tooltip-gap:var(--spacing-xxxl)}ump-popup{--ump-popup-spacing:var(--spacing-xxxl)}ump-menu{width:var(--size-64);display:block}.audio-track-menu-item-content{display:flex;align-items:flex-end;width:100%;gap:var(--spacing-xs)}.audio-track-menu-item-content svg{width:var(--size-6);height:var(--size-6);margin-bottom:calc(0px - var(--spacing-xs))}
    `],jx([zn("ump-popup")],hf.prototype,"popup",2),jx([Tr({context:Ar,subscribe:!0})],hf.prototype,"playerState",2),hf=jx([Xn("ump-audio-menu")],hf);function x_(o){return[S0.dashIdentifier,S0.hlsIdentifier].some(s=>o.shakaAudioTrack.roles.includes(s))}const i$='<svg width="28" height="28" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg"><path d="M23.5 14A9.5 9.5 0 0 0 7.07 7.5h2.68a.75.75 0 0 1 0 1.5h-4A.75.75 0 0 1 5 8.25v-4a.75.75 0 0 1 1.5 0v1.7a11 11 0 1 1-3.42 6.7.75.75 0 1 1 1.49.2A9.5 9.5 0 1 0 23.5 14Z"/></svg>',a$='<svg width="28" height="28" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg"><path d="M6.75 3A2.75 2.75 0 0 0 4 5.75v16.5A2.75 2.75 0 0 0 6.75 25h3a2.75 2.75 0 0 0 2.75-2.75V5.75A2.75 2.75 0 0 0 9.75 3h-3Zm11.5 0a2.75 2.75 0 0 0-2.75 2.75v16.5A2.75 2.75 0 0 0 18.25 25h3A2.75 2.75 0 0 0 24 22.25V5.75A2.75 2.75 0 0 0 21.25 3h-3Z"/></svg>',o$='<svg width="28" height="28" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg"><path d="M10.14 3.38A2.75 2.75 0 0 0 6 5.76v16.48c0 2.13 2.3 3.45 4.14 2.38l14.7-8.6a2.35 2.35 0 0 0 0-4.05l-14.7-8.59Z"/></svg>';var s$=Object.defineProperty,u$=Object.getOwnPropertyDescriptor,S_=(o,s,c,h)=>{for(var d=h>1?void 0:h?u$(s,c):s,m=o.length-1,b;m>=0;m--)(b=o[m])&&(d=(h?b(s,c,d):b(d))||d);return h&&d&&s$(s,c,d),d};let ff=class extends An{render(){return At`<button
      type="button"
      class=${ot({btn:!0,"btn-xl":this.playerState.playButtonSize==="medium","btn-xxl":this.playerState.playButtonSize==="large","btn-circle":!0,"big-play-button":!0,"big-play-button-light":this.playerState.playButtonTheme==="light","big-play-button-dark":this.playerState.playButtonTheme==="dark",...gt(this.playerState),tooltip:!0})}
      aria-label="${this.playerState.ended?ye("Replay"):this.playerState.paused?ye("Play"):ye("Pause")}"
      data-tooltip="${this.playerState.ended?ye("Replay"):this.playerState.paused?ye("Play"):ye("Pause")}"
      data-testid="big-play-button"
      @click=${this.onBigPlayButtonClick}
      @keydown=${this.onBigPlayButtonKeyDown}
    >
      ${this.playerState.ended?cn(i$):this.playerState.paused?cn(o$):cn(a$)}
    </button>`}onBigPlayButtonClick(){this.dispatchEvent(new Pt("big-play-button-triggered"))}onBigPlayButtonKeyDown(o){this.playerState.disableKeyboardEvents||(o.key==="Enter"||o.key===" ")&&(o.preventDefault(),o.stopPropagation(),this.dispatchEvent(new Pt("big-play-button-triggered")))}};ff.shadowRootOptions={...An.shadowRootOptions,delegatesFocus:!0},ff.styles=[ao,Td,Cn`
.big-play-button{transition-property:background,color,outline}.big-play-button.tooltip{--tooltip-gap:var(--spacing-m)}.big-play-button-light{background-color:var(--color-white-alpha-90);outline:var(--stroke-width-thickest) solid var(--color-white-alpha-20)}.big-play-button-light:hover,.big-play-button-light:focus-visible{background-color:var(--color-white-alpha-20);outline:var(--stroke-width-thick) solid var(--color-white-alpha-90);outline-offset:-4px}.big-play-button-light svg{fill:var(--color-brand-40)}.big-play-button-dark{background-color:var(--color-black-alpha-60);outline:var(--stroke-width-thickest) solid var(--color-black-alpha-20)}.big-play-button-dark:hover,.big-play-button-dark:focus-visible{background-color:var(--color-black-alpha-80);outline:var(--stroke-width-thick) solid var(--color-white-alpha-90);outline-offset:-4px}.big-play-button-dark svg{fill:var(--color-neutral-foreground-1)}@media (forced-colors:active){.big-play-button-dark{background-color:ButtonText;outline:var(--stroke-width-thickest) solid Highlight}.big-play-button-dark:hover,.big-play-button-dark:focus-visible{background-color:Highlight;outline:var(--stroke-width-thick) solid ButtonText;outline-offset:-4px}.big-play-button-dark svg{fill:ButtonFace}.big-play-button-light{background-color:Highlight;outline:var(--stroke-width-thickest) solid ButtonText}.big-play-button-light:hover,.big-play-button-light:focus-visible{background-color:ButtonText;outline:var(--stroke-width-thick) solid Highlight;outline-offset:-4px}.big-play-button-light svg{fill:ButtonFace}}
    `],S_([Tr({context:Ar,subscribe:!0})],ff.prototype,"playerState",2),ff=S_([_x(),Xn("ump-big-play-button")],ff);const Fx='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.35 15.85a.5.5 0 0 1-.7 0L6.16 10.4a.55.55 0 0 1 0-.78l5.49-5.46a.5.5 0 1 1 .7.7L7.2 10l5.16 5.15c.2.2.2.5 0 .7Z"/></svg>',Bx='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7.65 4.15c.2-.2.5-.2.7 0l5.49 5.46c.21.22.21.57 0 .78l-5.49 5.46a.5.5 0 0 1-.7-.7L12.8 10 7.65 4.85a.5.5 0 0 1 0-.7Z"/></svg>',l$='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5 4a3 3 0 0 0-3 3v6a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3H5Zm1.4 3.24c.82-.41 1.8-.24 2.45.4a.5.5 0 0 1-.7.71 1.12 1.12 0 0 0-1.3-.22C6.44 8.34 6 8.9 6 10s.44 1.66.85 1.87c.43.21.95.13 1.3-.22a.5.5 0 1 1 .7.7c-.65.65-1.63.82-2.45.41C5.56 12.34 5 11.39 5 10c0-1.39.56-2.34 1.4-2.76Zm7.95.4a.5.5 0 0 1-.7.71 1.12 1.12 0 0 0-1.3-.22c-.41.21-.85.76-.85 1.87s.44 1.66.85 1.87c.43.21.95.13 1.3-.22a.5.5 0 0 1 .7.7c-.65.65-1.63.82-2.45.41-.84-.42-1.4-1.37-1.4-2.76 0-1.39.56-2.34 1.4-2.76.82-.41 1.8-.24 2.45.4Z"/></svg>',c$='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.4 7.24c.82-.41 1.8-.24 2.45.4a.5.5 0 0 1-.7.71 1.12 1.12 0 0 0-1.3-.22C6.44 8.34 6 8.9 6 10s.44 1.66.85 1.87c.43.21.95.13 1.3-.22a.5.5 0 0 1 .7.7c-.65.65-1.63.82-2.45.41C5.56 12.34 5 11.39 5 10c0-1.39.56-2.34 1.4-2.76Zm7.95.4a2.12 2.12 0 0 0-2.45-.4c-.84.42-1.4 1.37-1.4 2.76 0 1.39.56 2.34 1.4 2.76.82.41 1.8.24 2.45-.4a.5.5 0 0 0-.7-.71c-.35.35-.87.43-1.3.22-.41-.21-.85-.76-.85-1.87s.44-1.66.85-1.87c.43-.21.95-.13 1.3.22a.5.5 0 0 0 .7-.7ZM2 7a3 3 0 0 1 3-3h10a3 3 0 0 1 3 3v6a3 3 0 0 1-3 3H5a3 3 0 0 1-3-3V7Zm3-2a2 2 0 0 0-2 2v6c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2H5Z"/></svg>',d$=[.5,.75,1,1.25,1.5,1.75,2,3,4],T0=[{label:ye("White"),hexCode:"#FFFFFF"},{label:ye("Yellow"),hexCode:"#FFFF00"},{label:ye("Black"),hexCode:"#000000"},{label:ye("Green"),hexCode:"#008000"},{label:ye("Blue"),hexCode:"#0000FF"},{label:ye("Magenta"),hexCode:"#FF00FF"},{label:ye("Cyan"),hexCode:"#00FFFF"}],k_=[{label:ye("Proportional Sans Serif"),family:"sans-serif"},{label:ye("Monospace Sans Serif"),family:'"Andale Mono", "Lucida Console", monospace'},{label:ye("Proportional Serif"),family:"serif"},{label:ye("Monospace Serif"),family:'"Courier New", monospace'},{label:ye("Casual"),family:'"Comic Sans MS", Impact, fantasy'},{label:ye("Cursive"),family:'"Monotype Corsiva", cursive'},{label:ye("Small Capitals"),family:'"Andale Mono", "Lucida Console", monospace, sans-serif'}],p$=[0,.25,.5,.75,1],va="rgb(34, 34, 34)",T_="rgb(204, 204, 204)",A_=[{label:ye("None"),textShadow:"rgb(255, 255, 255) 0px 0px 0px"},{label:ye("Drop Shadow"),textShadow:`${va} 2px 2px 3px, ${va} 2px 2px 4px, ${va} 2px 2px 5px`},{label:ye("Depressed"),textShadow:`${T_} 1px 1px 0px, ${T_} 0px 1px 0px, ${va} -1px -1px 0px, ${va} 0px -1px 0px`},{label:ye("Uniform"),textShadow:`${va} 0px 0px 4px, ${va} 0px 0px 4px, ${va} 0px 0px 4px, ${va} 0px 0px 4px`},{label:ye("Raised"),textShadow:`${va} 1px 1px 0px, ${va} 2px 2px 0px, ${va} 3px 3px 0px`}];var h$=Object.defineProperty,f$=Object.getOwnPropertyDescriptor,Vx=(o,s,c,h)=>{for(var d=h>1?void 0:h?f$(s,c):s,m=o.length-1,b;m>=0;m--)(b=o[m])&&(d=(h?b(s,c,d):b(d))||d);return h&&d&&h$(s,c,d),d};let gf=class extends An{constructor(){super(...arguments),this.buildColorMenu=(o,s,c,h,d)=>{const m=this.playerState.disableKeyboardEvents;function b(f){const[A]=f.currentTarget.querySelectorAll("button");A?.focus()}return At`
      <ump-menu-item
        class=${ot({"cc-style-menu-item":!0,...gt(this.playerState)})}
        role="menuitem"
        .focusable="${!m}"
        @focus=${b}
        @click=${f=>f.stopPropagation()}
      >
        <div>
          <div><b>${ye("Color")}</b></div>
          <div>
            ${ye(T0.find(f=>f.hexCode===s).label)}
          </div>
        </div>

        <div slot="suffix" class=${ot({"color-suffix":!0})}>
          ${T0.map(f=>At`
              <button
                type="button"
                class=${ot({btn:!0,"btn-circle":!0,"btn-color":!0,...gt(this.playerState)})}
                style="background-color: ${f.hexCode};"
                aria-label="${ye(f.label)}"
                data-testid="${o}-${f.label}"
                @click=${h(f.hexCode)}
                @keydown=${A=>this.onColorOptionsKeyDown(A)}
              ></button>
            `)}
        </div>
      </ump-menu-item>

      <ump-menu-item
        class=${ot({"cc-style-menu-item":!0,...gt(this.playerState)})}
        role="menuitem"
        .focusable="${!m}"
        @focus=${b}
        @click=${f=>f.stopPropagation()}
      >
        <div>
          <div><b>${ye("Opacity")}</b></div>
          <div>${`${c*100}%`}</div>
        </div>

        <div slot="suffix" class=${ot({"opacity-suffix":!0})}>
          ${p$.map(f=>At`
              <button
                type="button"
                class=${ot({btn:!0,"btn-subtle":!0,"btn-xs":!0,...gt(this.playerState)})}
                data-testid="${o}-${f*100}"
                @click=${d(f)}
                @keydown=${A=>this.onColorOptionsKeyDown(A)}
              >
                ${`${f*100}%`}
              </button>
            `)}
        </div>
      </ump-menu-item>
    `}}render(){var o;const{captionTracks:s,selectedCaptionTrackId:c,captionSettings:h}=this.playerState;if(s.length<=1)return null;const d=this.playerState.disableKeyboardEvents?0:-1;return At`
      <ump-popup
        popupAriaLabel="${ye("Captions")}"
        @ump-popup-changed=${()=>this.requestUpdate()}
      >
        <button
          type="button"
          slot="trigger"
          class=${ot({btn:!0,"btn-subtle":!0,"btn-icon-only":!0,...gt(this.playerState),tooltip:!0,"tooltip-disable-when-aria-expanded":!0})}
          data-tooltip="${ye("Captions")}"
          aria-label="${ye("Captions Menu")}"
          data-testid="captions-menu-button"
        >
          ${(o=this.popup)!=null&&o.opened?cn(l$):cn(c$)}
        </button>

        <ump-menu data-focusgroup>
          <!-- DEFAULT MENU -->
          <ump-submenu>
            <div class="menu-scrollable" data-scrollable>
              <ump-menu-label> ${ye("Captions")} </ump-menu-label>

              <hr aria-hidden="true" />

              ${s.map(m=>At`
                  <ump-menu-item
                    class=${ot({...gt(this.playerState)})}
                    type="radio"
                    .checked="${m.captionId===c}"
                    @click=${this.onCaptionClicked(m)}
                  >
                    ${m.captionId!==pf.captionId?m.label:ye(pf.label)}
                  </ump-menu-item>
                `)}
            </div>
            <div class="menu-footer">
              <ump-menu-footer>
                <button
                  type="button"
                  class=${ot({btn:!0,"btn-outline":!0,...gt(this.playerState)})}
                  role="menuitem"
                  submenu="captions-settings"
                  slot="suffix"
                  tabindex="${d}"
                  @focusin=${this.onFooterButtonFocusIn}
                  @focusout=${this.onFooterButtonFocusOut}
                  aria-roledescription="button"
                  aria-label="${ye("Caption Settings")}"
                  data-testid="captions-settings-button"
                >
                  ${ye("Caption Settings")}
                  ${this.playerState.dir==="ltr"?cn(Bx):cn(Fx)}
                </button>
              </ump-menu-footer>
            </div>
          </ump-submenu>

          <!-- SETTINGS MENU -->
          <ump-submenu id="captions-settings">
            <ump-menu-item
              class=${ot({...gt(this.playerState)})}
              submenu="${ea}"
            >
              ${ye("Caption Settings")}
            </ump-menu-item>

            <hr aria-hidden="true" />

            <ump-menu-item
              class=${ot({...gt(this.playerState)})}
              submenu="captions-font-size"
            >
              ${ye("Font Size")}
              <div slot="suffix">${`${h.fontScale*100}%`}</div>
            </ump-menu-item>

            <ump-menu-item
              class=${ot({...gt(this.playerState)})}
              submenu="captions-text-color"
            >
              ${ye("Text Color")}
              <div slot="suffix">
                ${ye(T0.find(m=>m.hexCode===h.textColor).label)},
                ${h.textOpacity===1?ye("Opaque"):`${h.textOpacity*100}%`}
              </div>
            </ump-menu-item>

            <ump-menu-item
              class=${ot({...gt(this.playerState)})}
              submenu="captions-background-color"
            >
              ${ye("Background Color")}
              <div slot="suffix">
                ${ye(T0.find(m=>m.hexCode===h.backgroundColor).label)},
                ${h.backgroundOpacity===1?ye("Opaque"):`${h.backgroundOpacity*100}%`}
              </div>
            </ump-menu-item>

            <ump-menu-item
              class=${ot({...gt(this.playerState)})}
              submenu="captions-font-family"
            >
              ${ye("Font Family")}
              <div slot="suffix">
                ${ye(k_.find(m=>m.family===h.fontFamily).label)}
              </div>
            </ump-menu-item>

            <ump-menu-item
              class=${ot({...gt(this.playerState)})}
              submenu="captions-text-edge-style"
            >
              ${ye("Text Edge Style")}
              <div slot="suffix">
                ${ye(A_.find(m=>m.textShadow===h.textShadow).label)}
              </div>
            </ump-menu-item>
          </ump-submenu>

          <!-- FONT SIZE MENU -->
          <ump-submenu id="captions-font-size">
            <div class="menu-scrollable" data-scrollable>
              <ump-menu-item
                class=${ot({...gt(this.playerState)})}
                submenu="${ea}"
              >
                ${ye("Font Size")}
              </ump-menu-item>

              <hr aria-hidden="true" />

              ${d$.map(m=>At`
                  <ump-menu-item
                    class=${ot({...gt(this.playerState)})}
                    type="radio"
                    .checked=${h.fontScale===m}
                    @click=${this.onFontSizeClicked(m)}
                  >
                    ${`${m*100}%`}
                  </ump-menu-item>
                `)}
            </div>
            <div class="menu-footer">
              <ump-menu-footer>
                <button
                  type="button"
                  class=${ot({btn:!0,"btn-outline":!0,...gt(this.playerState)})}
                  slot="suffix"
                  role="menuitem"
                  aria-roledescription="button"
                  aria-label="${ye("Reset")}"
                  tabindex="${d}"
                  @focusin=${this.onFooterButtonFocusIn}
                  @focusout=${this.onFooterButtonFocusOut}
                  data-testid="reset-font-size"
                  @click=${this.onFontSizeClicked(Zs.fontScale)}
                >
                  ${ye("Reset")}
                </button>
              </ump-menu-footer>
            </div>
          </ump-submenu>

          <!-- TEXT COLOR MENU -->
          <ump-submenu id="captions-text-color">
            <div class="menu-scrollable" data-scrollable>
              <ump-menu-item
                class=${ot({...gt(this.playerState)})}
                submenu="${ea}"
              >
                ${ye("Text Color")}
              </ump-menu-item>

              <hr aria-hidden="true" />

              ${this.buildColorMenu("text-color",h.textColor,h.textOpacity,this.onTextColorClicked.bind(this),this.onTextOpacityClicked.bind(this))}
            </div>
            <div class="menu-footer">
              <ump-menu-footer>
                <button
                  type="button"
                  class=${ot({btn:!0,"btn-outline":!0,...gt(this.playerState)})}
                  slot="suffix"
                  role="menuitem"
                  aria-roledescription="button"
                  aria-label="${ye("Reset")}"
                  tabindex="${d}"
                  @focusin=${this.onFooterButtonFocusIn}
                  @focusout=${this.onFooterButtonFocusOut}
                  data-testid="reset-text-color"
                  @click=${()=>{this.onTextColorClicked(Zs.textColor)(),this.onTextOpacityClicked(Zs.textOpacity)()}}
                >
                  ${ye("Reset")}
                </button>
              </ump-menu-footer>
            </div>
          </ump-submenu>

          <!-- BACKGROUND COLOR MENU -->
          <ump-submenu id="captions-background-color">
            <div class="menu-scrollable" data-scrollable>
              <ump-menu-item
                class=${ot({...gt(this.playerState)})}
                submenu="${ea}"
              >
                ${ye("Background Color")}
              </ump-menu-item>

              <hr aria-hidden="true" />

              ${this.buildColorMenu("background-color",h.backgroundColor,h.backgroundOpacity,this.onBackgroundColorClicked.bind(this),this.onBackgroundOpacityClicked.bind(this))}
            </div>
            <div class="menu-footer">
              <ump-menu-footer>
                <button
                  type="button"
                  class=${ot({btn:!0,"btn-outline":!0,...gt(this.playerState)})}
                  slot="suffix"
                  role="menuitem"
                  aria-roledescription="button"
                  aria-label="${ye("Reset")}"
                  tabindex="${d}"
                  @focusin=${this.onFooterButtonFocusIn}
                  @focusout=${this.onFooterButtonFocusOut}
                  data-testid="reset-background-color"
                  @click=${()=>{this.onBackgroundColorClicked(Zs.backgroundColor)(),this.onBackgroundOpacityClicked(Zs.backgroundOpacity)()}}
                >
                  ${ye("Reset")}
                </button>
              </ump-menu-footer>
            </div>
          </ump-submenu>

          <!-- FONT FAMILY MENU -->
          <ump-submenu id="captions-font-family">
            <div class="menu-scrollable" data-scrollable>
              <ump-menu-item
                class=${ot({...gt(this.playerState)})}
                submenu="${ea}"
              >
                ${ye("Font Family")}
              </ump-menu-item>

              <hr aria-hidden="true" />

              ${k_.map(m=>At`
                  <ump-menu-item
                    class=${ot({...gt(this.playerState)})}
                    type="radio"
                    .checked=${m.family===h.fontFamily}
                    @click=${this.onFontFamilyClicked(m.family)}
                  >
                    ${ye(m.label)}
                  </ump-menu-item>
                `)}
            </div>
            <div class="menu-footer">
              <ump-menu-footer>
                <button
                  type="button"
                  class=${ot({btn:!0,"btn-outline":!0,...gt(this.playerState)})}
                  slot="suffix"
                  role="menuitem"
                  aria-roledescription="button"
                  aria-label="${ye("Reset")}"
                  tabindex="${d}"
                  @focusin=${this.onFooterButtonFocusIn}
                  @focusout=${this.onFooterButtonFocusOut}
                  data-testid="reset-font-family"
                  @click=${this.onFontFamilyClicked(Zs.fontFamily)}
                >
                  ${ye("Reset")}
                </button>
              </ump-menu-footer>
            </div>
          </ump-submenu>

          <!-- TEXT EDGE STYLE MENU -->
          <ump-submenu id="captions-text-edge-style">
            <div class="menu-scrollable" data-scrollable>
              <ump-menu-item
                class=${ot({...gt(this.playerState)})}
                submenu="${ea}"
              >
                ${ye("Text Edge Style")}
              </ump-menu-item>

              <hr aria-hidden="true" />

              ${A_.map(m=>At`
                  <ump-menu-item
                    class=${ot({...gt(this.playerState)})}
                    type="radio"
                    .checked=${h.textShadow===m.textShadow}
                    @click=${this.onTextEdgeStyleClicked(m.textShadow)}
                  >
                    ${ye(m.label)}
                  </ump-menu-item>
                `)}
            </div>
            <div class="menu-footer">
              <ump-menu-footer>
                <button
                  type="button"
                  class=${ot({btn:!0,"btn-outline":!0,...gt(this.playerState)})}
                  slot="suffix"
                  role="menuitem"
                  aria-roledescription="button"
                  aria-label="${ye("Reset")}"
                  tabindex="${d}"
                  @focusin=${this.onFooterButtonFocusIn}
                  @focusout=${this.onFooterButtonFocusOut}
                  data-testid="reset-text-edge-style"
                  @click=${this.onTextEdgeStyleClicked(Zs.textShadow)}
                >
                  ${ye("Reset")}
                </button>
              </ump-menu-footer>
            </div>
          </ump-submenu>
        </ump-menu>
      </ump-popup>
    `}onFooterButtonFocusIn(o){this.playerState.disableKeyboardEvents||(o.target.tabIndex=0)}onFooterButtonFocusOut(o){this.playerState.disableKeyboardEvents||(o.target.tabIndex=-1)}onCaptionClicked(o){return()=>{this.dispatchEvent(new Pt("caption-track-clicked",o)),this.dispatchEvent(new Pt("closedcaptionschanged"))}}captionSettingChanged(o){this.dispatchEvent(o),this.dispatchEvent(new Pt("closedcaptionsettingschanged"))}onFontSizeClicked(o){return()=>this.captionSettingChanged(new Pt("caption-font-size-clicked",o))}onTextColorClicked(o){return()=>this.captionSettingChanged(new Pt("caption-text-color-clicked",o))}onTextOpacityClicked(o){return()=>this.captionSettingChanged(new Pt("caption-text-opacity-clicked",o))}onBackgroundColorClicked(o){return()=>this.captionSettingChanged(new Pt("caption-background-color-clicked",o))}onBackgroundOpacityClicked(o){return()=>this.captionSettingChanged(new Pt("caption-background-opacity-clicked",o))}onFontFamilyClicked(o){return()=>this.captionSettingChanged(new Pt("caption-font-family-clicked",o))}onTextEdgeStyleClicked(o){return()=>this.captionSettingChanged(new Pt("caption-text-edge-style-clicked",o))}onColorOptionsKeyDown(o){if(this.playerState.disableKeyboardEvents)return;const s=o.currentTarget,c=Array.from(s.parentElement.querySelectorAll("button")),h=c.indexOf(s);switch(o.key){case" ":case"Enter":o.preventDefault(),o.stopPropagation(),s.click();break;case"ArrowRight":{const d=(h+1)%c.length;c[d].focus();break}case"ArrowLeft":{const d=(h-1+c.length)%c.length;c[d].focus();break}}}get opened(){var o;return(o=this.popup)==null?void 0:o.opened}};gf.styles=[ao,k0,Td,Cn`
.btn.tooltip{--tooltip-gap:var(--spacing-xxxl)}ump-popup{--ump-popup-spacing:var(--spacing-xxxl)}ump-menu{width:var(--size-80);display:block}@container universalmediaplayer (max-width:450px){ump-menu{width:calc(var(--size-80) - 3cqw)}}.menu-title-spacer{width:var(--size-6);height:var(--size-6)}@container universalmediaplayer (min-width:0){.menu-scrollable{scrollbar-base-color:green;overflow:hidden auto;max-height:calc(100cqh - var(--ump-lower-controls-height) - 4rem);flex-direction:column;padding:var(--spacing-xs)}}.menu-footer{width:100%;border-top:1px solid var(--color-neutral-stroke-alpha)}.menu-footer div:focus,.menu-footer div:focus-visible{outline:var(--stroke-width-thick) solid var(--color-stroke-focus-2)}.menu-footer div svg{fill:currentcolor}.color-suffix{display:flex;align-items:center;justify-content:space-between;gap:var(--spacing-m);padding:var(--spacing-s) var(--spacing-m)}.opacity-suffix{display:flex;gap:var(--spacing-xs)}.opacity-suffix .btn{font-weight:var(--font-weight-normal)}.cc-style-menu-item{display:flex;align-items:center;justify-content:space-between;padding:var(--spacing-s) 0}.btn-color{width:var(--size-5);height:var(--size-5);padding:0;border:solid var(--stroke-width-thin) var(--color-neutral-stroke-1)}.text-color-list{display:flex;gap:var(--spacing-s)}@media (forced-colors:active){.btn-color{outline:var(--stroke-width-thick) solid;outline-offset:var(--spacing-xxs)}.btn-color:hover{outline-color:Highlight}.menu-footer{border-top-color:ButtonBorder}}
    `],Vx([zn("ump-popup")],gf.prototype,"popup",2),Vx([Tr({context:Ar,subscribe:!0})],gf.prototype,"playerState",2),gf=Vx([Xn("ump-caption-menu")],gf);const g$='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M16 10A6 6 0 0 0 5.53 6H7.5a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5v-3a.5.5 0 0 1 1 0v1.6a7 7 0 1 1-1.98 4.36.5.5 0 0 1 1 .08L4 10a6 6 0 0 0 12 0Z"/></svg>',m$='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 5.25C3 4.01 4 3 5.25 3h1.87a.75.75 0 1 1 0 1.5H5.25a.75.75 0 0 0-.75.75v1.87a.75.75 0 1 1-1.5 0V5.25Zm9.13-1.5c0-.41.34-.75.75-.75h1.87C15.99 3 17 4 17 5.25v1.87a.75.75 0 0 1-1.5 0V5.25a.75.75 0 0 0-.75-.75h-1.87a.75.75 0 0 1-.75-.75Zm-8.38 8.38c.41 0 .75.34.75.75v1.87c0 .41.34.75.75.75h1.87a.75.75 0 0 1 0 1.5H5.25C4.01 17 3 16 3 14.75v-1.87c0-.41.34-.75.75-.75Zm12.5 0c.41 0 .75.34.75.75v1.87c0 1.24-1 2.25-2.25 2.25h-1.87a.75.75 0 0 1 0-1.5h1.87c.41 0 .75-.34.75-.75v-1.87c0-.41.34-.75.75-.75Z"/></svg>',v$='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M15 5.5a.5.5 0 0 1-.5-.5V2.75a.75.75 0 0 0-1.5 0V5c0 1.1.9 2 2 2h2.25a.75.75 0 0 0 0-1.5H15ZM5.5 15a.5.5 0 0 0-.5-.5H2.75a.75.75 0 0 1 0-1.5H5a2 2 0 0 1 2 2v2.25a.75.75 0 0 1-1.5 0V15Zm9 0c0-.28.22-.5.5-.5h2.25a.75.75 0 0 0 0-1.5H15a2 2 0 0 0-2 2v2.25a.75.75 0 0 0 1.5 0V15Zm-9-10a.5.5 0 0 1-.5.5H2.75a.75.75 0 0 0 0 1.5H5a2 2 0 0 0 2-2V2.75a.75.75 0 0 0-1.5 0V5Z"/></svg>',y$='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5 2a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h2a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H5ZM4 4a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4Zm9-2a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h2a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2h-2Zm-1 2a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1V4Z"/></svg>',b$='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M17.22 8.69a1.5 1.5 0 0 1 0 2.62l-10 5.5A1.5 1.5 0 0 1 5 15.5v-11A1.5 1.5 0 0 1 7.22 3.2l10 5.5Zm-.48 1.75a.5.5 0 0 0 0-.88l-10-5.5A.5.5 0 0 0 6 4.5v11c0 .38.4.62.74.44l10-5.5Z"/></svg>',w$='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12 3a1 1 0 0 0-1.68-.73l-3.88 3.6A.5.5 0 0 1 6.1 6H3.5C2.67 6 2 6.67 2 7.5v5c0 .83.67 1.5 1.5 1.5h2.6a.5.5 0 0 1 .34.13l3.88 3.6a1 1 0 0 0 1.68-.74V3.01ZM7.12 6.6 11 3v14l-3.88-3.6A1.5 1.5 0 0 0 6.1 13H3.5a.5.5 0 0 1-.5-.5v-5c0-.28.22-.5.5-.5h2.6c.38 0 .75-.14 1.02-.4Zm8.14-1.97a.5.5 0 0 1 .7.04 8 8 0 0 1 0 10.66.5.5 0 0 1-.74-.66 7 7 0 0 0 0-9.34.5.5 0 0 1 .04-.7Zm-1.18 8.3a.5.5 0 0 1-.18-.68 4.5 4.5 0 0 0 0-4.5.5.5 0 1 1 .86-.5 5.5 5.5 0 0 1 0 5.5.5.5 0 0 1-.68.18Z"/></svg>',x$='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.85 2.15a.5.5 0 1 0-.7.7L5.29 6H3.5C2.68 6 2 6.67 2 7.5v5c0 .83.68 1.5 1.5 1.5H6.1a.5.5 0 0 1 .34.13l3.88 3.6a1 1 0 0 0 1.68-.74V12.7l5.15 5.15a.5.5 0 0 0 .7-.7l-2.56-2.57L2.85 2.15ZM11 11.7V17l-3.88-3.6A1.5 1.5 0 0 0 6.1 13H3.5a.5.5 0 0 1-.5-.5v-5c0-.28.22-.5.5-.5h2.6l.18-.01L11 11.7ZM11 3v5.88l1 1V3a1 1 0 0 0-1.68-.74L7.24 5.12l.71.71L11 3.01Zm3.06 8.94.74.74a5.5 5.5 0 0 0-.04-5.43.5.5 0 1 0-.86.5 4.5 4.5 0 0 1 .16 4.19Zm1.84 1.84.72.72a8 8 0 0 0-.66-9.83.5.5 0 1 0-.74.66 7 7 0 0 1 .68 8.45Z"/></svg>',S$=(o,s,c)=>{const h=o[s];return h?typeof h=="function"?h():Promise.resolve(h):new Promise((d,m)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(m.bind(null,new Error("Unknown variable dynamic import: "+s+(s.split("/").length!==c?". Note that variables only represent file names one level deep.":""))))})},k$="en-us",T$=["af-za","am-et","ar-sa","as-in","be-by","bg-bg","bn-in","ca-es","cs-cz","cy-gb","da-dk","de-at","de-ch","de-de","el-gr","en-au","en-ca","en-gb","en-hk","en-ie","en-in","en-my","en-nz","en-ph","en-sg","en-za","es-ar","es-cl","es-co","es-es","es-mx","et-ee","eu-es","fa-ir","fi-fi","fr-be","fr-ca","fr-ch","fr-fr","fr-ma","ga-ie","gd-gb","gl-es","gu-in","he-il","hi-in","hr-hr","hu-hu","hy-am","id-id","is-is","it-it","ja-jp","ka-ge","kk-kz","kn-in","ko-kr","ky-kg","lb-lu","lo-la","lt-lt","lv-lv","mi-nz","mk-mk","ml-in","mr-in","ms-bn","ms-my","mt-mt","nb-no","ne-np","nl-be","nl-nl","nn-no","or-in","pa-in","pl-pl","ps-af","pt-br","pt-pt","ro-ro","ru-ru","si-lk","sk-sk","sl-si","sq-al","sv-se","sw-ke","ta-in","te-in","tg-tj","th-th","ti-et","tk-tm","tr-tr","tt-ru","ug-cn","uk-ua","ur-in","ur-pk","uz-uz","vi-vn","wo-sn","xh-za","yo-ng","zh-cn","zh-hk","zh-tw","zu-za"],A$=["af-za","am-et","ar-sa","as-in","be-by","bg-bg","bn-in","ca-es","cs-cz","cy-gb","da-dk","de-at","de-ch","de-de","el-gr","en-au","en-ca","en-gb","en-hk","en-ie","en-in","en-my","en-nz","en-ph","en-sg","en-us","en-za","es-ar","es-cl","es-co","es-es","es-mx","et-ee","eu-es","fa-ir","fi-fi","fr-be","fr-ca","fr-ch","fr-fr","fr-ma","ga-ie","gd-gb","gl-es","gu-in","he-il","hi-in","hr-hr","hu-hu","hy-am","id-id","is-is","it-it","ja-jp","ka-ge","kk-kz","kn-in","ko-kr","ky-kg","lb-lu","lo-la","lt-lt","lv-lv","mi-nz","mk-mk","ml-in","mr-in","ms-bn","ms-my","mt-mt","nb-no","ne-np","nl-be","nl-nl","nn-no","or-in","pa-in","pl-pl","ps-af","pt-br","pt-pt","ro-ro","ru-ru","si-lk","sk-sk","sl-si","sq-al","sv-se","sw-ke","ta-in","te-in","tg-tj","th-th","ti-et","tk-tm","tr-tr","tt-ru","ug-cn","uk-ua","ur-in","ur-pk","uz-uz","vi-vn","wo-sn","xh-za","yo-ng","zh-cn","zh-hk","zh-tw","zu-za"],E_={s0289cd9e4bcf84c5:"Volume Level",s061cc20e3432dead:"Pause",s0622a6e6cb77254b:"Transcript",s080d032fc1b87b3f:"Audio Description",s08b06007b5567108:"of",s08e6bd98452e6bb9:"Audio",s1b4a36fce2456660:"Font Family",s1fa5be5a4f5d0f04:"Casual",s23537b5c9e7af982:"Captions",s24221a89168e9d21:"Font Size",s255857544a9d5ec0:"Reset",s25a858f0257e2879:"Captions Menu",s2df075aface0dab8:"Share",s2f5d5d2d1f92de26:"Download Video",s302cbb19bf9a174a:"Off",s308604b3ae13fbb5:"Playing",s344ea8f4939cdc98:"Colour",s3687049d1af562c4:"Copy",s36b979e4de5152b3:"Link Copied",s37a9e8aec5713460:"More",s3ca1bdfa8785f808:"Proportional Sans Serif",s41faaf3b4e182cc6:"Age verification is required to access this content.",s49f06dca0feeb2f3:"Uniform",s4b023aafbd8d5ac8:"Share this video on",s4b10acae683d2978:"Fullscreen",s500caa88d20458d3:"You may not access this content",s5267658ceae3230f:"Share this video",s5c5db15dfc3a5376:"Playback rate",s5e3cb80d43a34044:"Black",s5e8250fb85d64c23:"Close",s669b18c6d2d9c95b:"None",s66d852e3c020e79e:"Opaque",s6a3bf589eaf72169:"Monospace Serif",s6baf78886c99db89:"Yellow",s6f59e9b81c5a47e0:"Drop Shadow",s711d047dea682c1a:"Audio Track",s7d148a08796094d2:"Playback Error",s81a19821f3e4a3d2:"Replay",s827bc70ebcb7bbc6:"Monospace Sans Serif",s85186a61e0d55bac:"Video",s889413eb7198ea01:"option for turning off caption",s8e408592fd4ae43a:"Text Edge Style",s8e985aeeca6a8166:"White",s8eafb22ebdc7e668:"Magenta",s9559a51a63cbb5fd:"Small Capitals",s95bc8722b2708f8b:"Paused",s973b83fb67a5865d:"Download Transcript",s9b3c2f9cc32d565a:"Cyan",s9c356016f81585f6:"Background Colour",s9d8b8aa2b404c2c8:"Settings",s9fbd543f2179c1ec:"Audio Menu",sa000eaf7092088c3:"Progress Bar",sa6f2645578b2d2bc:"Year",sa9011e79e3ca2d18:"Depressed",saf9b398ab363c174:"Please enter your date of birth",sb3d4f79d9d8b71e5:"Submit",sb47daaf9e1c4a905:"Month",sb9f16a5f9c29f41e:"We're sorry, but something went wrong.",sba64d8954d027206:"Opacity",sc07837c309cc699b:"Unmute",scd105819b5a10243:"Play",sce836928a17d96ed:"Text Colour",scf00d78fd5953f1c:"Green",sd1246235faaa3191:"An age restriction has been implemented due to mature themes or legal requirements intended to protect younger audiences.",sd3386a2ef42e80b9:"Download",sd8d4b1b613d28990:"Cursive",sdb02f53e62c1da05:"Raised",sdb73788b3c975f16:"Auto",se0955919920ee87d:"Day",se0f67eae944f8f94:"Mute",se73c59cc10f48c12:"Social",secf3d3a7c1693e2d:"Blue",sed31876562d94652:"Caption Settings",sf113fa256db9617b:"Ended",sf675f879b1c892c6:"Quality",sfc24a457269b13d4:"Volume Slider",sfcb817633bf70e1b:"Proportional Serif"},E$=Object.freeze(Object.defineProperty({__proto__:null,templates:E_},Symbol.toStringTag,{value:"Module"})),C_={s0289cd9e4bcf84c5:"Nivel de volumen",s061cc20e3432dead:"Pausar",s0622a6e6cb77254b:"Transcripci\xF3n",s080d032fc1b87b3f:"Descripci\xF3n de audio",s08b06007b5567108:"de",s08e6bd98452e6bb9:"Audio",s1b4a36fce2456660:"Familia de fuentes",s1fa5be5a4f5d0f04:"Informal",s23537b5c9e7af982:"Subt\xEDtulos",s24221a89168e9d21:"Tama\xF1o de fuente",s255857544a9d5ec0:"Restablecer",s25a858f0257e2879:"Men\xFA Subt\xEDtulos",s2df075aface0dab8:"Compartir",s2f5d5d2d1f92de26:"Descargar v\xEDdeo",s302cbb19bf9a174a:"Desactivado",s308604b3ae13fbb5:"Reproduciendo",s344ea8f4939cdc98:"Color",s3687049d1af562c4:"Copiar",s36b979e4de5152b3:"V\xEDnculo copiado",s37a9e8aec5713460:"M\xE1s",s3ca1bdfa8785f808:"Sans Serif proporcional",s41faaf3b4e182cc6:"Es necesario realizar una comprobaci\xF3n de la edad para acceder a este contenido.",s49f06dca0feeb2f3:"Uniforme",s4b023aafbd8d5ac8:"Comparte este v\xEDdeo por",s4b10acae683d2978:"Pantalla completa",s500caa88d20458d3:"No puedes acceder a este contenido",s5267658ceae3230f:"Compartir este v\xEDdeo",s5c5db15dfc3a5376:"Velocidad de reproducci\xF3n",s5e3cb80d43a34044:"Negro",s5e8250fb85d64c23:"Cerrar",s669b18c6d2d9c95b:"Ninguna",s66d852e3c020e79e:"Opaco",s6a3bf589eaf72169:"Serif monoespaciada",s6baf78886c99db89:"Amarillo",s6f59e9b81c5a47e0:"Sombra paralela",s711d047dea682c1a:"Pista de audio",s7d148a08796094d2:"Error de reproducci\xF3n",s81a19821f3e4a3d2:"Reproducir",s827bc70ebcb7bbc6:"Sans Serif monoespaciada",s85186a61e0d55bac:"V\xEDdeo",s889413eb7198ea01:"opci\xF3n para desactivar los subt\xEDtulos",s8e408592fd4ae43a:"Estilo de borde del texto",s8e985aeeca6a8166:"Blanco",s8eafb22ebdc7e668:"Magenta",s9559a51a63cbb5fd:"Versalitas",s95bc8722b2708f8b:"En pausa",s973b83fb67a5865d:"Descargar transcripci\xF3n",s9b3c2f9cc32d565a:"Cian",s9c356016f81585f6:"Color de fondo",s9d8b8aa2b404c2c8:"Configuraci\xF3n",s9fbd543f2179c1ec:"Men\xFA Audio",sa000eaf7092088c3:"Barra de progreso",sa6f2645578b2d2bc:"A\xF1o",sa9011e79e3ca2d18:"Presionado",saf9b398ab363c174:"Escribe tu fecha de nacimiento",sb3d4f79d9d8b71e5:"Enviar",sb47daaf9e1c4a905:"Mes",sb9f16a5f9c29f41e:"Lo sentimos, se ha producido un error.",sba64d8954d027206:"Opacidad",sc07837c309cc699b:"Reactivar audio",scd105819b5a10243:"Reproducir",sce836928a17d96ed:"Color del texto",scf00d78fd5953f1c:"Verde",sd1246235faaa3191:"Se ha aplicado una restricci\xF3n de edad debido a temas para adultos o requisitos legales destinada a proteger a las audiencias m\xE1s j\xF3venes.",sd3386a2ef42e80b9:"Descargar",sd8d4b1b613d28990:"Cursiva",sdb02f53e62c1da05:"Elevado",sdb73788b3c975f16:"Autom\xE1tico",se0955919920ee87d:"D\xEDa",se0f67eae944f8f94:"Silenciar",se73c59cc10f48c12:"Redes sociales",secf3d3a7c1693e2d:"Azul",sed31876562d94652:"Configuraci\xF3n de las leyendas",sf113fa256db9617b:"Finalizado",sf675f879b1c892c6:"Calidad",sfc24a457269b13d4:"Control deslizante de volumen",sfcb817633bf70e1b:"Serif proporcional"},C$=Object.freeze(Object.defineProperty({__proto__:null,templates:C_},Symbol.toStringTag,{value:"Module"})),I_={s0289cd9e4bcf84c5:"Nivel de volumen",s061cc20e3432dead:"Pausar",s0622a6e6cb77254b:"Transcripci\xF3n",s080d032fc1b87b3f:"Descripci\xF3n de audio",s08b06007b5567108:"de",s08e6bd98452e6bb9:"Audio",s1b4a36fce2456660:"Familia de fuentes",s1fa5be5a4f5d0f04:"Casual",s23537b5c9e7af982:"Subt\xEDtulos",s24221a89168e9d21:"Tama\xF1o de la fuente",s255857544a9d5ec0:"Restablecer",s25a858f0257e2879:"Men\xFA de subt\xEDtulos",s2df075aface0dab8:"Compartir",s2f5d5d2d1f92de26:"Descargar video",s302cbb19bf9a174a:"Desactivado",s308604b3ae13fbb5:"Reproduciendo",s344ea8f4939cdc98:"Color",s3687049d1af562c4:"Copiar",s36b979e4de5152b3:"V\xEDnculo copiado",s37a9e8aec5713460:"M\xE1s",s3ca1bdfa8785f808:"Sin serifa, proporcional",s41faaf3b4e182cc6:"Se requiere una verificaci\xF3n de edad para acceder a este contenido.",s49f06dca0feeb2f3:"Uniforme",s4b023aafbd8d5ac8:"Comparte este video en",s4b10acae683d2978:"Pantalla completa",s500caa88d20458d3:"No puedes acceder a este contenido",s5267658ceae3230f:"Compartir este video",s5c5db15dfc3a5376:"Velocidad de reproducci\xF3n",s5e3cb80d43a34044:"Negro",s5e8250fb85d64c23:"Cerrar",s669b18c6d2d9c95b:"Ninguno",s66d852e3c020e79e:"Opaco",s6a3bf589eaf72169:"Serif monoespaciada",s6baf78886c99db89:"Amarillo",s6f59e9b81c5a47e0:"Sombra paralela",s711d047dea682c1a:"Pista de audio",s7d148a08796094d2:"Error de reproducci\xF3n",s81a19821f3e4a3d2:"Repetir",s827bc70ebcb7bbc6:"Sin serifa, monoespaciada",s85186a61e0d55bac:"Video",s889413eb7198ea01:"opci\xF3n para desactivar subt\xEDtulos",s8e408592fd4ae43a:"Estilo del borde del texto",s8e985aeeca6a8166:"Blanco",s8eafb22ebdc7e668:"Magenta",s9559a51a63cbb5fd:"Versalitas",s95bc8722b2708f8b:"En pausa",s973b83fb67a5865d:"Descargar transcripci\xF3n",s9b3c2f9cc32d565a:"Cian",s9c356016f81585f6:"Color de fondo",s9d8b8aa2b404c2c8:"Configuraci\xF3n",s9fbd543f2179c1ec:"Men\xFA de audio",sa000eaf7092088c3:"Barra de progreso",sa6f2645578b2d2bc:"A\xF1o",sa9011e79e3ca2d18:"En relieve negativo",saf9b398ab363c174:"Introduce tu fecha de nacimiento",sb3d4f79d9d8b71e5:"Enviar",sb47daaf9e1c4a905:"Mes",sb9f16a5f9c29f41e:"Lo sentimos, pero algo sali\xF3 mal.",sba64d8954d027206:"Opacidad",sc07837c309cc699b:"Reactivar audio",scd105819b5a10243:"Reproducir",sce836928a17d96ed:"Color del texto",scf00d78fd5953f1c:"Verde",sd1246235faaa3191:"Se implement\xF3 una restricci\xF3n de edad debido a temas para adultos o requisitos legales destinados a proteger a los p\xFAblicos m\xE1s j\xF3venes.",sd3386a2ef42e80b9:"Descargar",sd8d4b1b613d28990:"Cursiva",sdb02f53e62c1da05:"Elevado",sdb73788b3c975f16:"Autom\xE1tico",se0955919920ee87d:"D\xEDa",se0f67eae944f8f94:"Silenciar",se73c59cc10f48c12:"Redes sociales",secf3d3a7c1693e2d:"Azul",sed31876562d94652:"Configuraci\xF3n de subt\xEDtulos",sf113fa256db9617b:"Termin\xF3",sf675f879b1c892c6:"Calidad",sfc24a457269b13d4:"Control deslizante de volumen",sfcb817633bf70e1b:"Con serifa, proporcional"},I$=Object.freeze(Object.defineProperty({__proto__:null,templates:I_},Symbol.toStringTag,{value:"Module"})),M_={s0289cd9e4bcf84c5:"Volume sonore",s061cc20e3432dead:"Pause",s0622a6e6cb77254b:"Transcription",s080d032fc1b87b3f:"Descriptions audio",s08b06007b5567108:"de",s08e6bd98452e6bb9:"Audio",s1b4a36fce2456660:"Famille de police",s1fa5be5a4f5d0f04:"Informel",s23537b5c9e7af982:"Sous-titres",s24221a89168e9d21:"Taille de police",s255857544a9d5ec0:"R\xE9initialiser",s25a858f0257e2879:"Menu des sous-titres",s2df075aface0dab8:"Partager",s2f5d5d2d1f92de26:"T\xE9l\xE9charger la vid\xE9o",s302cbb19bf9a174a:"D\xE9sactiv\xE9",s308604b3ae13fbb5:"Lecture",s344ea8f4939cdc98:"Couleur",s3687049d1af562c4:"Copier",s36b979e4de5152b3:"Lien copi\xE9",s37a9e8aec5713460:"Plus",s3ca1bdfa8785f808:"Sans Serif proportionnelle",s41faaf3b4e182cc6:"L\u2019\xE2ge doit \xEAtre v\xE9rifi\xE9 pour acc\xE9der \xE0 ce contenu.",s49f06dca0feeb2f3:"Uniforme",s4b023aafbd8d5ac8:"Partager cette vid\xE9o sur",s4b10acae683d2978:"Plein \xE9cran",s500caa88d20458d3:"Vous n\u2019\xEAtes pas autoris\xE9 \xE0 acc\xE9der \xE0 ce contenu",s5267658ceae3230f:"Partager cette vid\xE9o",s5c5db15dfc3a5376:"Vitesse de lecture",s5e3cb80d43a34044:"Noir",s5e8250fb85d64c23:"Fermer",s669b18c6d2d9c95b:"Aucune",s66d852e3c020e79e:"Opaque",s6a3bf589eaf72169:"Serif non proportionnelle",s6baf78886c99db89:"Jaune",s6f59e9b81c5a47e0:"Ombre port\xE9e",s711d047dea682c1a:"Piste audio",s7d148a08796094d2:"Erreur de lecture",s81a19821f3e4a3d2:"Relecture",s827bc70ebcb7bbc6:"Sans Serif non proportionnelle",s85186a61e0d55bac:"Vid\xE9o",s889413eb7198ea01:"option pour d\xE9sactiver les sous-titres",s8e408592fd4ae43a:"Style du bord du texte",s8e985aeeca6a8166:"Blanc",s8eafb22ebdc7e668:"Magenta",s9559a51a63cbb5fd:"Petites capitales",s95bc8722b2708f8b:"En pause",s973b83fb67a5865d:"T\xE9l\xE9charger la transcription",s9b3c2f9cc32d565a:"Cyan",s9c356016f81585f6:"Couleur de l\u2019arri\xE8re-plan",s9d8b8aa2b404c2c8:"Param\xE8tres",s9fbd543f2179c1ec:"Menu Audio",sa000eaf7092088c3:"Barre de progression",sa6f2645578b2d2bc:"Ann\xE9e",sa9011e79e3ca2d18:"Enfonc\xE9",saf9b398ab363c174:"Saisissez votre date de naissance",sb3d4f79d9d8b71e5:"Envoyer",sb47daaf9e1c4a905:"Mois",sb9f16a5f9c29f41e:"Nous sommes d\xE9sol\xE9s, mais une erreur s\u2019est produite.",sba64d8954d027206:"Opacit\xE9",sc07837c309cc699b:"Activer le son",scd105819b5a10243:"Lecture",sce836928a17d96ed:"Couleur du texte",scf00d78fd5953f1c:"Vert",sd1246235faaa3191:"Une restriction d\u2019\xE2ge est appliqu\xE9e en raison de th\xE8mes r\xE9serv\xE9s aux adultes ou d\u2019exigences juridiques destin\xE9es \xE0 prot\xE9ger les jeunes publics.",sd3386a2ef42e80b9:"T\xE9l\xE9charger",sd8d4b1b613d28990:"Cursive",sdb02f53e62c1da05:"D\xE9clench\xE9",sdb73788b3c975f16:"Automatique",se0955919920ee87d:"Jour",se0f67eae944f8f94:"Couper le son",se73c59cc10f48c12:"R\xE9seaux sociaux",secf3d3a7c1693e2d:"Bleu",sed31876562d94652:"Param\xE8tres des sous-titres",sf113fa256db9617b:"Termin\xE9(e)s",sf675f879b1c892c6:"Qualit\xE9",sfc24a457269b13d4:"Curseur de volume",sfcb817633bf70e1b:"Serif proportionnelle"},M$=Object.freeze(Object.defineProperty({__proto__:null,templates:M_},Symbol.toStringTag,{value:"Module"})),__={s0289cd9e4bcf84c5:"Livello volume",s061cc20e3432dead:"Sospendi",s0622a6e6cb77254b:"Trascrizione",s080d032fc1b87b3f:"Descrizione audio",s08b06007b5567108:"di",s08e6bd98452e6bb9:"Audio",s1b4a36fce2456660:"Famiglia di caratteri",s1fa5be5a4f5d0f04:"Informale",s23537b5c9e7af982:"Sottotitoli",s24221a89168e9d21:"Dimensioni carattere",s255857544a9d5ec0:"Reimposta",s25a858f0257e2879:"Menu Sottotitoli",s2df075aface0dab8:"Condividi",s2f5d5d2d1f92de26:"Scarica video",s302cbb19bf9a174a:"Disattiva",s308604b3ae13fbb5:"In riproduzione",s344ea8f4939cdc98:"Colore",s3687049d1af562c4:"Copia",s36b979e4de5152b3:"Collegamento copiato",s37a9e8aec5713460:"Altro",s3ca1bdfa8785f808:"Proportional Sans Serif",s41faaf3b4e182cc6:"Verifica et\xE0 richiesta per accedere a questo contenuto.",s49f06dca0feeb2f3:"Uniforme",s4b023aafbd8d5ac8:"Condividi questo video",s4b10acae683d2978:"Schermo intero",s500caa88d20458d3:"Non puoi accedere a questo contenuto",s5267658ceae3230f:"Condividi questo video",s5c5db15dfc3a5376:"Frequenza di riproduzione",s5e3cb80d43a34044:"Nero",s5e8250fb85d64c23:"Chiudi",s669b18c6d2d9c95b:"Nessuno",s66d852e3c020e79e:"Opaco",s6a3bf589eaf72169:"Monospace Serif",s6baf78886c99db89:"Giallo",s6f59e9b81c5a47e0:"Ombreggiatura",s711d047dea682c1a:"Traccia audio",s7d148a08796094d2:"Errore di riproduzione",s81a19821f3e4a3d2:"Riproduci",s827bc70ebcb7bbc6:"Monospace Sans Serif",s85186a61e0d55bac:"Video",s889413eb7198ea01:"opzione per disattivare i sottotitoli",s8e408592fd4ae43a:"Stile bordo testo",s8e985aeeca6a8166:"Bianco",s8eafb22ebdc7e668:"Magenta",s9559a51a63cbb5fd:"Maiuscoletto",s95bc8722b2708f8b:"In pausa",s973b83fb67a5865d:"Scarica trascrizione",s9b3c2f9cc32d565a:"Ciano",s9c356016f81585f6:"Colore di sfondo",s9d8b8aa2b404c2c8:"Impostazioni",s9fbd543f2179c1ec:"Menu Audio",sa000eaf7092088c3:"Indicatore di stato",sa6f2645578b2d2bc:"Anno",sa9011e79e3ca2d18:"Incassato",saf9b398ab363c174:"Immetti la tua data di nascita",sb3d4f79d9d8b71e5:"Invia",sb47daaf9e1c4a905:"Mese",sb9f16a5f9c29f41e:"Siamo spiacenti. Si \xE8 verificato un problema.",sba64d8954d027206:"Opacit\xE0",sc07837c309cc699b:"Attiva audio",scd105819b5a10243:"Riproduci",sce836928a17d96ed:"Colore testo",scf00d78fd5953f1c:"Verde",sd1246235faaa3191:"\xC8 stata applicata una restrizione di et\xE0 dovuta ai temi per soli adulti o ai requisiti legali volti a proteggere il pubblico pi\xF9 giovane.",sd3386a2ef42e80b9:"Scarica",sd8d4b1b613d28990:"Corsivo",sdb02f53e62c1da05:"In rilievo",sdb73788b3c975f16:"Auto",se0955919920ee87d:"Giorno",se0f67eae944f8f94:"Disattiva audio",se73c59cc10f48c12:"Social",secf3d3a7c1693e2d:"Blu",sed31876562d94652:"Impostazioni sottotitolo",sf113fa256db9617b:"Completato",sf675f879b1c892c6:"Qualit\xE0",sfc24a457269b13d4:"Dispositivo di scorrimento volume",sfcb817633bf70e1b:"Proportional Serif"},_$=Object.freeze(Object.defineProperty({__proto__:null,templates:__},Symbol.toStringTag,{value:"Module"})),D_={s0289cd9e4bcf84c5:"N\xEDvel de volume",s061cc20e3432dead:"Pausar",s0622a6e6cb77254b:"Transcri\xE7\xE3o",s080d032fc1b87b3f:"Descri\xE7\xE3o de \xE1udio",s08b06007b5567108:"de",s08e6bd98452e6bb9:"\xC1udio",s1b4a36fce2456660:"Fam\xEDlia de fontes",s1fa5be5a4f5d0f04:"Casual",s23537b5c9e7af982:"Legendas",s24221a89168e9d21:"Tamanho da fonte",s255857544a9d5ec0:"Redefinir",s25a858f0257e2879:"Menu Legendas",s2df075aface0dab8:"Compartilhar",s2f5d5d2d1f92de26:"Baixar o v\xEDdeo",s302cbb19bf9a174a:"Desligado",s308604b3ae13fbb5:"Reproduzindo",s344ea8f4939cdc98:"Cor",s3687049d1af562c4:"Copiar",s36b979e4de5152b3:"Link copiado",s37a9e8aec5713460:"Mais",s3ca1bdfa8785f808:"Sans Serif Proporcional",s41faaf3b4e182cc6:"A verifica\xE7\xE3o de idade \xE9 necess\xE1ria para acessar este conte\xFAdo.",s49f06dca0feeb2f3:"Uniforme",s4b023aafbd8d5ac8:"Compartilhar este v\xEDdeo no",s4b10acae683d2978:"Tela inteira",s500caa88d20458d3:"Voc\xEA n\xE3o pode acessar este conte\xFAdo",s5267658ceae3230f:"Compartilhar este v\xEDdeo",s5c5db15dfc3a5376:"Taxa de reprodu\xE7\xE3o",s5e3cb80d43a34044:"Preto",s5e8250fb85d64c23:"Fechar",s669b18c6d2d9c95b:"Nenhum",s66d852e3c020e79e:"Opaco",s6a3bf589eaf72169:"Serifa monoespa\xE7ada",s6baf78886c99db89:"Amarelo",s6f59e9b81c5a47e0:"Sombra",s711d047dea682c1a:"Faixa de \xE1udio",s7d148a08796094d2:"Erro de reprodu\xE7\xE3o",s81a19821f3e4a3d2:"Repetir",s827bc70ebcb7bbc6:"Sans Serif Monoespa\xE7ado",s85186a61e0d55bac:"V\xEDdeo",s889413eb7198ea01:"op\xE7\xE3o para desativar a legenda",s8e408592fd4ae43a:"Estilo de borda de texto",s8e985aeeca6a8166:"Branco",s8eafb22ebdc7e668:"Magenta",s9559a51a63cbb5fd:"Letras min\xFAsculas",s95bc8722b2708f8b:"Pausado",s973b83fb67a5865d:"Baixar a transcri\xE7\xE3o",s9b3c2f9cc32d565a:"Ciano",s9c356016f81585f6:"Cor de fundo",s9d8b8aa2b404c2c8:"Configura\xE7\xF5es",s9fbd543f2179c1ec:"Menu \xC1udio",sa000eaf7092088c3:"Barra de progresso",sa6f2645578b2d2bc:"Ano",sa9011e79e3ca2d18:"Para baixo",saf9b398ab363c174:"Digite sua data de nascimento",sb3d4f79d9d8b71e5:"Enviar",sb47daaf9e1c4a905:"M\xEAs",sb9f16a5f9c29f41e:"Lamentamos, mas algo deu errado.",sba64d8954d027206:"Opacidade",sc07837c309cc699b:"Desativar mudo",scd105819b5a10243:"Jogar",sce836928a17d96ed:"Cor do texto",scf00d78fd5953f1c:"Verde",sd1246235faaa3191:"Uma restri\xE7\xE3o de idade foi implementada devido a temas adultos ou requisitos legais destinados a proteger o p\xFAblico mais jovem.",sd3386a2ef42e80b9:"Baixar",sd8d4b1b613d28990:"Cursiva",sdb02f53e62c1da05:"Para cima",sdb73788b3c975f16:"Autom\xE1tico",se0955919920ee87d:"Dia",se0f67eae944f8f94:"Ativar mudo",se73c59cc10f48c12:"Redes sociais",secf3d3a7c1693e2d:"Azul",sed31876562d94652:"Configura\xE7\xF5es de legenda",sf113fa256db9617b:"Finalizado",sf675f879b1c892c6:"Qualidade",sfc24a457269b13d4:"Controle deslizante de volume",sfcb817633bf70e1b:"Serifa proporcional"},D$=Object.freeze(Object.defineProperty({__proto__:null,templates:D_},Symbol.toStringTag,{value:"Module"})),P_={en:"en-us",es:"es-es",de:"de-de",fi:"fi-fi",fr:"fr-fr",hi:"hi-in",hu:"hu-hu",is:"is-is",it:"it-it",ja:"ja-jp",kk:"kk-kz",ko:"ko-kr",lt:"lt-lt",lv:"lv-lv",mk:"mk-mk",mt:"mt-mt",nb:"nb-no",nn:"nn-no",pl:"pl-pl",pt:"pt-pt",ro:"ro-ro",ru:"ru-ru",sk:"sk-sk",sl:"sl-si",sq:"sq-al",sv:"sv-se",ta:"ta-in",te:"te-in",th:"th-th",tr:"tr-tr",uk:"uk-ua",ur:"ur-pk",uz:"uz-uz",vi:"vi-vn",zh:"zh-cn"};function $x(o){try{return new Intl.DisplayNames([o],{type:"language",fallback:"none"}).of(o)}catch{return}}const A0=o=>{const s=new Map,c=o.map(h=>{const[d,m]=h.split("-");let b=$x(d),f=null;if(!b)b=h;else if(m){const D=$x(h);D&&D!==b&&(f=D)}else{const D=P_[d.toLowerCase()];if(D){const U=$x(D);U&&U!==b&&(f=U)}}let A=s.get(b);A||(A=[],s.set(b,A));const M={code:h,fallbackName:f,selectedName:b};return A.push(M),M});for(const[h,d]of s)if(d.length>1&&new Set(d.map(m=>m.fallbackName)).size>1)for(const m of d)m.selectedName=m.fallbackName||h;return Object.fromEntries(c.map(h=>[h.code,h.selectedName]))},E0=o=>{if(o)return o=o.toLowerCase(),A$.includes(o)?o:P_[o.split("-")[0]]},P$=new Set(["??-??-????????","???-????-??","??-????-??","???-????","??-????","???-??","??-??","???","??"]),L$=Array.from(P$).map(o=>`(?:${o.replace(/\?/g,"[a-zA-Z]")})`).join("|");function R$(){const o=new RegExp(`^https?://[^/]+/(${L$})/[^/]+.*`),s=window.location.href.match(o);return s&&E0(s[1])||null}const zx=new Map,L_={"es-es":{templates:C_},"pt-br":{templates:D_},"en-gb":{templates:E_},"fr-fr":{templates:M_},"es-mx":{templates:I_},"it-it":{templates:__}};let R_=o=>S$(Object.assign({"../generated/locales/af-za.ts":()=>import("./chunks/af-za-m2u4zmw7.mjs"),"../generated/locales/am-et.ts":()=>import("./chunks/am-et-ed1ok3wq.mjs"),"../generated/locales/ar-sa.ts":()=>import("./chunks/ar-sa-rz5mnhw9.mjs"),"../generated/locales/as-in.ts":()=>import("./chunks/as-in-kpgsdy6q.mjs"),"../generated/locales/be-by.ts":()=>import("./chunks/be-by-dm6r21ch.mjs"),"../generated/locales/bg-bg.ts":()=>import("./chunks/bg-bg-lteoihf5.mjs"),"../generated/locales/bn-in.ts":()=>import("./chunks/bn-in-mw5tbkbt.mjs"),"../generated/locales/ca-es.ts":()=>import("./chunks/ca-es-cs4gj83u.mjs"),"../generated/locales/cs-cz.ts":()=>import("./chunks/cs-cz-heecmf4q.mjs"),"../generated/locales/cy-gb.ts":()=>import("./chunks/cy-gb-n986okt4.mjs"),"../generated/locales/da-dk.ts":()=>import("./chunks/da-dk-efzmzb5u.mjs"),"../generated/locales/de-at.ts":()=>import("./chunks/de-at-q8szulgf.mjs"),"../generated/locales/de-ch.ts":()=>import("./chunks/de-ch-o9ho0mfu.mjs"),"../generated/locales/de-de.ts":()=>import("./chunks/de-de-k8hj97po.mjs"),"../generated/locales/el-gr.ts":()=>import("./chunks/el-gr-ngbcrumg.mjs"),"../generated/locales/en-au.ts":()=>import("./chunks/en-au-ewc7vlwf.mjs"),"../generated/locales/en-ca.ts":()=>import("./chunks/en-ca-hdtdn563.mjs"),"../generated/locales/en-gb.ts":()=>Promise.resolve().then(()=>E$),"../generated/locales/en-hk.ts":()=>import("./chunks/en-hk-e2w71m3q.mjs"),"../generated/locales/en-ie.ts":()=>import("./chunks/en-ie-ewc7vlwf.mjs"),"../generated/locales/en-in.ts":()=>import("./chunks/en-in-e2w71m3q.mjs"),"../generated/locales/en-my.ts":()=>import("./chunks/en-my-e2w71m3q.mjs"),"../generated/locales/en-nz.ts":()=>import("./chunks/en-nz-e2w71m3q.mjs"),"../generated/locales/en-ph.ts":()=>import("./chunks/en-ph-e2w71m3q.mjs"),"../generated/locales/en-sg.ts":()=>import("./chunks/en-sg-e2w71m3q.mjs"),"../generated/locales/en-za.ts":()=>import("./chunks/en-za-ewc7vlwf.mjs"),"../generated/locales/es-ar.ts":()=>import("./chunks/es-ar-kqumqg78.mjs"),"../generated/locales/es-cl.ts":()=>import("./chunks/es-cl-kqumqg78.mjs"),"../generated/locales/es-co.ts":()=>import("./chunks/es-co-kqumqg78.mjs"),"../generated/locales/es-es.ts":()=>Promise.resolve().then(()=>C$),"../generated/locales/es-mx.ts":()=>Promise.resolve().then(()=>I$),"../generated/locales/et-ee.ts":()=>import("./chunks/et-ee-e2esw1tm.mjs"),"../generated/locales/eu-es.ts":()=>import("./chunks/eu-es-nc34d67s.mjs"),"../generated/locales/fa-ir.ts":()=>import("./chunks/fa-ir-cwuw51ez.mjs"),"../generated/locales/fi-fi.ts":()=>import("./chunks/fi-fi-4mn3dnbw.mjs"),"../generated/locales/fr-be.ts":()=>import("./chunks/fr-be-k19hvzy3.mjs"),"../generated/locales/fr-ca.ts":()=>import("./chunks/fr-ca-io80tlq2.mjs"),"../generated/locales/fr-ch.ts":()=>import("./chunks/fr-ch-d45gdof7.mjs"),"../generated/locales/fr-fr.ts":()=>Promise.resolve().then(()=>M$),"../generated/locales/fr-ma.ts":()=>import("./chunks/fr-ma-jjec83gp.mjs"),"../generated/locales/ga-ie.ts":()=>import("./chunks/ga-ie-lsignae2.mjs"),"../generated/locales/gd-gb.ts":()=>import("./chunks/gd-gb-h9n5kebq.mjs"),"../generated/locales/gl-es.ts":()=>import("./chunks/gl-es-hmr9iq7f.mjs"),"../generated/locales/gu-in.ts":()=>import("./chunks/gu-in-ksir8zvf.mjs"),"../generated/locales/he-il.ts":()=>import("./chunks/he-il-nipeqfxs.mjs"),"../generated/locales/hi-in.ts":()=>import("./chunks/hi-in-dlxsxose.mjs"),"../generated/locales/hr-hr.ts":()=>import("./chunks/hr-hr-k3hf8v3x.mjs"),"../generated/locales/hu-hu.ts":()=>import("./chunks/hu-hu-c22gh5wb.mjs"),"../generated/locales/hy-am.ts":()=>import("./chunks/hy-am-l46fenqw.mjs"),"../generated/locales/id-id.ts":()=>import("./chunks/id-id-lcgm08ft.mjs"),"../generated/locales/is-is.ts":()=>import("./chunks/is-is-csvw5pn1.mjs"),"../generated/locales/it-it.ts":()=>Promise.resolve().then(()=>_$),"../generated/locales/ja-jp.ts":()=>import("./chunks/ja-jp-mx6i2fji.mjs"),"../generated/locales/ka-ge.ts":()=>import("./chunks/ka-ge-m08mnkpr.mjs"),"../generated/locales/kk-kz.ts":()=>import("./chunks/kk-kz-buu30h8l.mjs"),"../generated/locales/kn-in.ts":()=>import("./chunks/kn-in-3ae2u5rw.mjs"),"../generated/locales/ko-kr.ts":()=>import("./chunks/ko-kr-ffn4a66g.mjs"),"../generated/locales/ky-kg.ts":()=>import("./chunks/ky-kg-myal6wd1.mjs"),"../generated/locales/lb-lu.ts":()=>import("./chunks/lb-lu-et0klbuq.mjs"),"../generated/locales/lo-la.ts":()=>import("./chunks/lo-la-bk902jf8.mjs"),"../generated/locales/lt-lt.ts":()=>import("./chunks/lt-lt-molyk855.mjs"),"../generated/locales/lv-lv.ts":()=>import("./chunks/lv-lv-ecw0sblt.mjs"),"../generated/locales/mi-nz.ts":()=>import("./chunks/mi-nz-np7ou2tb.mjs"),"../generated/locales/mk-mk.ts":()=>import("./chunks/mk-mk-o7v3652x.mjs"),"../generated/locales/ml-in.ts":()=>import("./chunks/ml-in-nmc4j35s.mjs"),"../generated/locales/mr-in.ts":()=>import("./chunks/mr-in-j75s8g4s.mjs"),"../generated/locales/ms-bn.ts":()=>import("./chunks/ms-bn-xxqxbiph.mjs"),"../generated/locales/ms-my.ts":()=>import("./chunks/ms-my-nrtj1gsh.mjs"),"../generated/locales/mt-mt.ts":()=>import("./chunks/mt-mt-haa8hwj5.mjs"),"../generated/locales/nb-no.ts":()=>import("./chunks/nb-no-jszuhetr.mjs"),"../generated/locales/ne-np.ts":()=>import("./chunks/ne-np-j6l0vezl.mjs"),"../generated/locales/nl-be.ts":()=>import("./chunks/nl-be-jgs5rvfr.mjs"),"../generated/locales/nl-nl.ts":()=>import("./chunks/nl-nl-h2iwtqm5.mjs"),"../generated/locales/nn-no.ts":()=>import("./chunks/nn-no-d3uih568.mjs"),"../generated/locales/or-in.ts":()=>import("./chunks/or-in-mup6ty4g.mjs"),"../generated/locales/pa-in.ts":()=>import("./chunks/pa-in-jv5z0suh.mjs"),"../generated/locales/pl-pl.ts":()=>import("./chunks/pl-pl-4y8v1jsc.mjs"),"../generated/locales/ps-af.ts":()=>import("./chunks/ps-af-nnsi7poz.mjs"),"../generated/locales/pt-br.ts":()=>Promise.resolve().then(()=>D$),"../generated/locales/pt-pt.ts":()=>import("./chunks/pt-pt-ok2f2ba2.mjs"),"../generated/locales/ro-ro.ts":()=>import("./chunks/ro-ro-jufusazf.mjs"),"../generated/locales/ru-ru.ts":()=>import("./chunks/ru-ru-hpf6570u.mjs"),"../generated/locales/si-lk.ts":()=>import("./chunks/si-lk-nesfgzb7.mjs"),"../generated/locales/sk-sk.ts":()=>import("./chunks/sk-sk-ode4zz9h.mjs"),"../generated/locales/sl-si.ts":()=>import("./chunks/sl-si-jd27cqwx.mjs"),"../generated/locales/sq-al.ts":()=>import("./chunks/sq-al-61hvrkzt.mjs"),"../generated/locales/sv-se.ts":()=>import("./chunks/sv-se-fqtm1cl7.mjs"),"../generated/locales/sw-ke.ts":()=>import("./chunks/sw-ke-e13zzdwm.mjs"),"../generated/locales/ta-in.ts":()=>import("./chunks/ta-in-l54p9q2t.mjs"),"../generated/locales/te-in.ts":()=>import("./chunks/te-in-gwaygnex.mjs"),"../generated/locales/tg-tj.ts":()=>import("./chunks/tg-tj-jgvy5o3l.mjs"),"../generated/locales/th-th.ts":()=>import("./chunks/th-th-czzx1rl1.mjs"),"../generated/locales/ti-et.ts":()=>import("./chunks/ti-et-mac2c1ws.mjs"),"../generated/locales/tk-tm.ts":()=>import("./chunks/tk-tm-cuyl6dg9.mjs"),"../generated/locales/tr-tr.ts":()=>import("./chunks/tr-tr-hmwvc2kx.mjs"),"../generated/locales/tt-ru.ts":()=>import("./chunks/tt-ru-f3tjts9a.mjs"),"../generated/locales/ug-cn.ts":()=>import("./chunks/ug-cn-bjjp5j88.mjs"),"../generated/locales/uk-ua.ts":()=>import("./chunks/uk-ua-ov87txig.mjs"),"../generated/locales/ur-in.ts":()=>import("./chunks/ur-in-bn99yiee.mjs"),"../generated/locales/ur-pk.ts":()=>import("./chunks/ur-pk-bn99yiee.mjs"),"../generated/locales/uz-uz.ts":()=>import("./chunks/uz-uz-h2b84msh.mjs"),"../generated/locales/vi-vn.ts":()=>import("./chunks/vi-vn-f3aaw0cy.mjs"),"../generated/locales/wo-sn.ts":()=>import("./chunks/wo-sn-gyb2l1zm.mjs"),"../generated/locales/xh-za.ts":()=>import("./chunks/xh-za-kvzua0rf.mjs"),"../generated/locales/yo-ng.ts":()=>import("./chunks/yo-ng-ensm3rpk.mjs"),"../generated/locales/zh-cn.ts":()=>import("./chunks/zh-cn-hv8w0tr3.mjs"),"../generated/locales/zh-hk.ts":()=>import("./chunks/zh-hk-hna3jc8h.mjs"),"../generated/locales/zh-tw.ts":()=>import("./chunks/zh-tw-np0fltpq.mjs"),"../generated/locales/zu-za.ts":()=>import("./chunks/zu-za-ezvjh1nw.mjs")}),`../generated/locales/${o}.ts`,4);function N$(o){let s=zx.get(o);return s||(L_[o]?s=Promise.resolve(L_[o]):s=R_(o),zx.set(o,s)),s}const{getLocale:U$,setLocale:O$}=FV({sourceLocale:k$,targetLocales:T$,loadLocale:N$}),j$=o=>{const s=E0(o),c=E0(document.documentElement.lang),h=R$(),d=E0(Nx.language)||Nx.language;return s||c||h||d};function F$(o,s){zx.set(o,Promise.resolve(s))}function B$(o){R_=o}function Hx(o){const s=Math.floor(o/3600),c=Math.floor(o%3600/60),h=Math.floor(o%60),d=s>0?`${s}:`:"",m=`${c.toString().padStart(s>0?2:1,"0")}:`,b=h.toString().padStart(2,"0");return`${d}${m}${b}`}const N_=new Map;function V$(o){let s=N_.get(o);return s||(s={hour:new Intl.NumberFormat(o,{style:"unit",unit:"hour",unitDisplay:"long"}),minute:new Intl.NumberFormat(o,{style:"unit",unit:"minute",unitDisplay:"long"}),second:new Intl.NumberFormat(o,{style:"unit",unit:"second",unitDisplay:"long"})},N_.set(o,s)),s}function U_(o,s){const c=V$(s);if(Math.floor(o)===0)return c.second.format(0);const h=Math.floor(o/3600),d=Math.floor(o%3600/60),m=Math.floor(o%60),b=[];return h>0&&b.push(c.hour.format(h)),d>0&&b.push(c.minute.format(d)),m>0&&b.push(c.second.format(m)),b.join(", ")}const $$='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7.03 13.9 3.56 10a.75.75 0 0 0-1.12 1l4 4.5c.29.32.79.34 1.09.03l10.5-10.5a.75.75 0 0 0-1.06-1.06l-9.94 9.94Z"/></svg>',z$='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m4.09 4.22.06-.07a.5.5 0 0 1 .63-.06l.07.06L10 9.29l5.15-5.14a.5.5 0 0 1 .63-.06l.07.06c.18.17.2.44.06.63l-.06.07L10.71 10l5.14 5.15c.18.17.2.44.06.63l-.06.07a.5.5 0 0 1-.63.06l-.07-.06L10 10.71l-5.15 5.14a.5.5 0 0 1-.63.06l-.07-.06a.5.5 0 0 1-.06-.63l.06-.07L9.29 10 4.15 4.85a.5.5 0 0 1-.06-.63l.06-.07-.06.07Z"/></svg>',H$='<svg width="28" height="28" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg"><path d="m18.27 3.21 7.5 7.25a.75.75 0 0 1 0 1.08l-7.5 7.25a.73.73 0 0 1-.81.15.75.75 0 0 1-.46-.69v-3.74c-6.7.27-9.52 4.02-9.64 4.18a.77.77 0 0 1-.84.27.75.75 0 0 1-.52-.71c0-8.02 6.59-10.48 11-10.73V3.75a.75.75 0 0 1 1.27-.54Zm.23 10.54v2.71L24.17 11 18.5 5.52v2.73a.76.76 0 0 1-.75.75c-.97 0-8.85.22-10.09 7.28A15.58 15.58 0 0 1 17.75 13a.76.76 0 0 1 .75.75Zm4.22 5.47a.76.76 0 0 1 .53-.22.76.76 0 0 1 .75.75v.5A4.75 4.75 0 0 1 19.25 25H7.75A4.75 4.75 0 0 1 3 20.25V8.75A4.75 4.75 0 0 1 7.75 4h4.5a.75.75 0 1 1 0 1.5h-4.5A3.26 3.26 0 0 0 4.5 8.75v11.5a3.26 3.26 0 0 0 3.25 3.25h11.5a3.26 3.26 0 0 0 3.25-3.25v-.5c0-.2.08-.39.22-.53Z"/></svg>',C0=Cn`
.dialog{background-color:var(--color-brand-30);color:var(--color-neutral-foreground-1);border-radius:var(--border-radius-x-large);border:solid var(--stroke-width-thin) var(--color-white-alpha-30);box-shadow:var(--shadow-8)}
`;var q$=Object.defineProperty,G$=Object.getOwnPropertyDescriptor,qx=(o,s,c,h)=>{for(var d=h>1?void 0:h?G$(s,c):s,m=o.length-1,b;m>=0;m--)(b=o[m])&&(d=(h?b(s,c,d):b(d))||d);return h&&d&&q$(s,c,d),d};let mf=class extends An{render(){const{shareOptions:o}=this.playerState,s=o.find(h=>h.id==="copy"),c=o.filter(h=>h.id!=="copy");return At`
      <dialog
        data-focusgroup
        @click=${this.onDialogClick}
        @keydown=${this.onKeyDown}
        @close=${this.onClose}
      >
        <div class="dialog-backdrop"></div>
        <div class="dialog">
          <div class="share-icon">${cn(H$)}</div>

          <button
            type="button"
            class=${ot({btn:!0,"btn-sm":!0,"btn-subtle":!0,"btn-icon-only":!0,"btn-close":!0,...gt(this.playerState)})}
            @click=${this.onClose}
            aria-label=${ye("Close")}
            data-id="close-button"
            data-testid="share-dialog-close-button"
          >
            ${cn(z$)}
          </button>

          <div class="dialog-content">
            <h2>${ye("Share this video")}</h2>

            ${s?At`
                  <label>
                    <span class="section-title">Link</span>
                    <div class="input">
                      <input
                        type="text"
                        readonly
                        value="${s.url}"
                        title="${s.url}"
                      />

                      <button
                        type="button"
                        class=${ot({btn:!0,"btn-outline":!0,"btn-copy":!0,...gt(this.playerState)})}
                        @click=${this.onCopyButtonClicked(s.url)}
                        data-testid="copy-share-url-button"
                        aria-label="${ye("Copy")}"
                      >
                        ${ye("Copy")}
                      </button>
                    </div>
                  </label>
                `:null}

            <div>
              <span class="section-title">${ye("Social")}</span>
              <div class="share-dialog-icons">
                ${c.map(h=>At`
                    <a
                      href=${h.url}
                      class=${ot({btn:!0,"btn-subtle":!0,"btn-icon-only":!0,"btn-social":!0,...gt(this.playerState)})}
                      target="_blank"
                      aria-label="${ye("Share this video on")} ${h.id}"
                      data-testid="share-social-${h.id}"
                    >
                      ${cn(h.icon)}
                    </a>
                  `)}
              </div>
            </div>
          </div>
        </div>
      </dialog>
    `}disconnectedCallback(){super.disconnectedCallback(),this.copyTimeoutId&&clearTimeout(this.copyTimeoutId)}firstUpdated(o){super.firstUpdated(o)}show(){this.dialog.show()}get opened(){return this.dialog.open}onCopyButtonClicked(o){return async s=>{try{const c=s.target;await navigator.clipboard.writeText(o),c.ariaLabel=ye("Link Copied"),c.innerHTML=$$,this.copyTimeoutId&&clearTimeout(this.copyTimeoutId),this.copyTimeoutId=setTimeout(()=>{c.ariaLabel=ye("Copy"),c.innerText=ye("Copy")},3e3)}catch(c){console.log("error copying text",c)}}}onDialogClick(o){o.target===this.dialog&&this.onClose()}onKeyDown(o){this.playerState.disableKeyboardEvents||o.key==="Escape"&&this.onClose()}onClose(){this.dialog.close(),this.dispatchEvent(new Pt("share-dialog-closed"))}};mf.styles=[C0,ao,Cn`
      dialog {
        border: none;
        display: none;
        position: absolute;
        inset: 0;
        align-items: center;
        justify-content: center;
        width: 100%;
        height: 100%;
        background-color: transparent;
        max-width: 100%;
        max-height: 100%;
        box-sizing: border-box;
        text-align: left;
      }

      dialog[open] {
        display: flex;
      }

      .dialog {
        padding: var(--spacing-xxl) var(--spacing-xxxl);
        display: flex;
        gap: var(--spacing-xxl);
        z-index: 10;
        margin: var(--spacing-xxl);
        position: relative;
        font-family: var(--controls-font-family);
        color: var(--color-neutral-foreground-1);
      }

      .dialog-backdrop {
        position: absolute;
        inset: 0;
        background-color: var(--color-black-alpha-50);
        pointer-events: none;
      }

      .share-icon {
        stroke: currentcolor;
        fill: currentcolor;
      }

      .btn-close {
        position: absolute;
        right: var(--spacing-xl);
        top: var(--spacing-xl);

        &:hover {
          background-color: transparent;
        }
      }

      .dialog-content {
        display: flex;
        flex-direction: column;
        gap: var(--spacing-xxl);
        margin-right: var(--spacing-xxxl);
      }

      h2 {
        margin-top: 0;
        margin-bottom: var(--spacing-s);
        flex-grow: 1;
      }

      .section-title {
        display: block;
        margin-bottom: var(--spacing-m);
        font-weight: var(--font-weight-semibold);
      }

      .input {
        display: flex;
        align-items: center;
        border-radius: var(--border-radius-medium);
        border: solid var(--stroke-width-thin) var(--color-neutral-stroke-1);
        padding: var(--spacing-s) var(--spacing-m);
        border-color: var(--color-grey-86);
        gap: var(--spacing-m);

        input {
          background-color: transparent;
          border: none;
          outline: none;
          margin: 0;
          padding: 0;
          font-family: var(--controls-font-family);
          font-size: var(--font-size-base-400);
          flex-grow: 1;
          white-space: nowrap;
          text-overflow: ellipsis;
          opacity: 0.8;
          color: var(--color-neutral-foreground-1);
        }

        .btn-copy {
          color: var(--color-white-alpha-70);
          font-weight: var(--font-weight-normal);
          flex-shrink: 0;
          flex-basis: 0;
          border-color: var(--color-brand-150);
          border-width: var(--stroke-width-thick);
          border-radius: var(--border-radius-x-large);
          padding: var(--spacing-xxs) var(--spacing-s);
        }
      }

      .share-dialog-icons {
        display: flex;
        align-items: center;
        gap: var(--spacing-m);
      }

      .btn-social {
        background-color: var(--color-brand-140);

        svg {
          width: var(--size-6);
          height: var(--size-6);
          fill: var(--color-brand-40);
        }
      }

      .btn-social:hover {
        background-color: var(--color-brand-150);
      }

      .btn-social:active {
        background-color: var(--color-brand-130);
      }

      @media (forced-colors: active) {
        .btn-close:hover {
            background-color: Highlight;
            color: HighlightText;
          }
        }

        .btn-copy:hover { 
          border-color: Highlight;
          color: HighlightText;
          forced-color-adjust: none;
        }

        .btn-social {
          svg {
            fill: ButtonText;
          }
        }

        .btn-social:hover {
          background-color: Highlight;
          border-color: Highlight;

          svg {
            fill: HighlightText;
          }
        }
      }
    `],qx([zn("dialog")],mf.prototype,"dialog",2),qx([Tr({context:Ar,subscribe:!0})],mf.prototype,"playerState",2),mf=qx([Xn("ump-share-dialog")],mf);var K$=Object.defineProperty,W$=Object.getOwnPropertyDescriptor,eu=(o,s,c,h)=>{for(var d=h>1?void 0:h?W$(s,c):s,m=o.length-1,b;m>=0;m--)(b=o[m])&&(d=(h?b(s,c,d):b(d))||d);return h&&d&&K$(s,c,d),d};let oo=class extends An{constructor(){super(...arguments),this.onSeekbarPointerDown=()=>{this.dispatchEvent(new Pt("seekbar-pointer-down"))},this.onSeekbarPointerMove=o=>{const s=o.target,c=h_(o.offsetX/s.clientWidth,0,1);s.dataset.tooltip=Hx(this.playerState.duration*c),s.style.setProperty("--tooltip-pointer-x",`${o.offsetX}px`)},this.onSeekbarPointerUp=()=>{this.dispatchEvent(new Pt("seekbar-pointer-up"))}}render(){const o=U$();return At`<div
        class="lower-controls-area"
        @focusin=${this.onFocusIn}
        ?inert=${this.playerState.shareDialogOpened}
      >
        <ump-slider
          class="seekbar slider tooltip"
          dir="ltr"
          @pointerdown=${this.onSeekbarPointerDown}
          @pointermove=${this.onSeekbarPointerMove}
          @pointerup=${this.onSeekbarPointerUp}
          @input=${this.onSeekbarSliderChanged}
          sliderarialabel="${ye("Progress Bar")}"
          sliderAriaValueText="${U_(this.playerState.currentTime,o)} ${ye("of")} ${U_(this.playerState.duration,o)}"
          value=${this.playerState.currentTime}
          min="0"
          max=${this.playerState.duration}
          focusStep=${1}
          data-testid="seekbar-slider"
          .ranges=${this.playerState.buffered}
        ></ump-slider>

        <div class="buttons">
          <button
            type="button"
            class=${ot({btn:!0,"btn-subtle":!0,"btn-icon-only":!0,...gt(this.playerState),tooltip:!0,"tooltip-top":!0,"tooltip-left":this.playerState.dir==="ltr","tooltip-right":this.playerState.dir==="rtl"})}
            data-tooltip="${this.playerState.ended?ye("Replay"):this.playerState.paused?ye("Play"):ye("Pause")}"
            aria-label="${this.playerState.ended?ye("Replay"):this.playerState.paused?ye("Play"):ye("Pause")}"
            id="play-button"
            data-testid="play-button"
            @click=${this.onPlayClicked}
          >
            ${this.playerState.ended?cn(g$):this.playerState.paused?cn(b$):cn(y$)}
          </button>

          <div
            data-identifier="volume-container"
            class="volume-container"
            @focusin=${this.onVolumeContainerFocusIn}
            @focusout=${this.onVolumeContainerFocusOut}
            @pointerleave=${this.onVolumeContainerPointerLeave}
          >
            <button
              type="button"
              class=${ot({btn:!0,"btn-subtle":!0,"btn-icon-only":!0,...gt(this.playerState),tooltip:!0})}
              aria-label=${this.playerState.muted?ye("Unmute"):ye("Mute")}
              data-testid="volume-button"
              @click=${this.onVolumeClicked}
            >
              ${this.playerState.muted?cn(x$):cn(w$)}
            </button>

            ${this.playerState.showVolumeSlider?At`
                  <div class="volume-menu">
                    <div class="volume-menu-slider-container">
                      <ump-slider
                        class="volume-slider"
                        style="--ump-slide-percentage: ${this.playerState.volume*100}%;"
                        orientation="vertical"
                        sliderarialabel="${ye("Volume Level")}"
                        aria-label=${ye("Volume Slider")}
                        min="0"
                        max="1"
                        focusStep=${.01}
                        sliderAriaValueText="${(this.playerState.volume*100).toFixed()+"%"}"
                        value=${this.playerState.volume}
                        @click=${this.onVolumeSliderClicked}
                        @input=${this.onVolumeSliderChanged}
                        @pointerup=${this.onVolumeSliderPointerUp}
                      ></ump-slider>
                      <div
                        data-tooltip=${(this.playerState.volume*100).toFixed()+"%"}
                        style="--ump-slide-percentage: ${this.playerState.volume*100}%;"
                        class="volume-tooltip tooltip tooltip-visible"
                      ></div>
                    </div>
                    <div class="volume-menu-spacer"></div>
                  </div>
                `:null}
          </div>

          <div
            class=${ot({time:!0,"time-right":this.playerState.dir==="rtl"})}
            data-testid="time"
          >
            ${Hx(this.playerState.currentTime)} /
            ${Hx(this.playerState.duration)}
          </div>

          <ump-more-menu
            @share-clicked=${this.onShareClicked}
            id="more-menu"
          ></ump-more-menu>

          <ump-audio-menu></ump-audio-menu>

          <ump-caption-menu></ump-caption-menu>

          <ump-settings-menu></ump-settings-menu>

          <button
            type="button"
            class=${ot({btn:!0,"btn-subtle":!0,"btn-icon-only":!0,...gt(this.playerState),tooltip:!0,"tooltip-top":!0,"tooltip-left":this.playerState.dir==="rtl","tooltip-right":this.playerState.dir==="ltr"})}
            data-tooltip=${ye("Fullscreen")}
            aria-label=${ye("Fullscreen")}
            data-testid="fullscreen-button"
            @click=${this.onFullScreenClicked}
          >
            ${this.playerState.fullscreen?cn(v$):cn(m$)}
          </button>
        </div>
      </div>

      <ump-share-dialog></ump-share-dialog>`}get hasOpenControl(){return[this.audioMenu,this.captionMenu,this.settingsMenu,this.moreMenu,this.shareDialog].some(o=>o.opened)}onShareClicked(){this.shareDialog.show(),this.dispatchEvent(new Pt("share-button-clicked"))}onVolumeClicked(){this.dispatchEvent(new Pt("volume-button-clicked"))}onPlayClicked(){this.dispatchEvent(new Pt("play-button-clicked"))}onVolumeSliderChanged(o){const s=o.target;this.dispatchEvent(new Pt("volume-updated",s.value))}onVolumeSliderPointerUp(o){const s=o.target;this.dispatchEvent(new Pt("volume-drag-released",s.value))}onVolumeContainerFocusIn(){this.volumeContainer.classList.add("focused")}onVolumeContainerFocusOut(){this.volumeContainer.classList.remove("focused")}onVolumeContainerPointerLeave(){this.volumeContainer.classList.remove("focused")}onVolumeSliderClicked(o){o.stopPropagation()}onSeekbarSliderChanged(o){const s=o.target;this.dispatchEvent(new Pt("seekbar-updated",s.value))}onFullScreenClicked(){this.dispatchEvent(new Pt("fullscreen-button-clicked"))}onFocusIn(){this.dispatchEvent(new Pt("control-bar-focus-change"))}};oo.styles=[ao,Td,Cn`
:host{--ump-lower-controls-height:var(--size-28)}*{box-sizing:border-box;margin:0;padding:0}.controls{position:absolute;inset:0;opacity:1;visibility:visible}.controls.hidden{opacity:0;transition:opacity 1s ease-out;cursor:none}.lower-controls-area{position:absolute;bottom:0;width:100%;background:var(--color-black-alpha-70);background:linear-gradient(0deg,var(--color-black-alpha-80) 0%,var(--color-black-alpha-80) 40%,transparent 100%);height:var(--ump-lower-controls-height);display:flex;flex-direction:column;justify-content:flex-end;padding:var(--spacing-s) var(--spacing-m)}.buttons{display:flex;align-items:center;gap:var(--spacing-xs);width:100%;z-index:10}.buttons .btn.tooltip{--tooltip-gap:var(--spacing-xxxl)}.time{color:var(--color-neutral-foreground-2);flex-grow:1;-webkit-user-select:none;user-select:none;text-align:left}.time-right{text-align:right}.volume-menu{box-sizing:border-box;position:absolute;left:50%;bottom:100%;transform:translateX(-50%);z-index:100;opacity:0;transition:opacity var(--duration-faster) var(--curve-easy-ease);pointer-events:none;width:100%}.volume-container{position:relative}.volume-container:hover .volume-menu,.volume-container:focus .volume-menu,.volume-container:focus-visible .volume-menu,.volume-container.focused .volume-menu{display:block;opacity:1;pointer-events:auto}.seekbar{width:100%;height:var(--size-5)}.seekbar.slider.tooltip{--tooltip-gap:var(--spacing-s);--tooltip-width:var(--size-6);--tooltip-pointer-x:0px;--tooltip-left:clamp(calc(var(--tooltip-width) / 2),var(--tooltip-pointer-x),calc(100% - var(--tooltip-width) / 2));text-align:center}.volume-menu-slider-container{z-index:100;background-color:var(--color-grey-10-alpha-90);border-radius:var(--border-radius-large);height:var(--size-28);display:flex;justify-content:center;padding:var(--spacing-s) 0;position:relative}.volume-slider{width:var(--size-6);outline:border 1px orange}.volume-tooltip{position:absolute !important;width:100%;inset:0;margin-top:var(--size-5);margin-bottom:var(--size-5)}.volume-tooltip::before{--tooltip-top:auto;--tooltip-left:100%;--tooltip-right:auto;--tooltip-translate-x:10%;--tooltip-translate-y:50%;--tooltip-bottom:var(--ump-slide-percentage);--tooltip-width:var(--size-7);margin-left:var(--spacing-xs);text-align:center}.volume-menu-spacer{height:var(--size-8);width:100%}@media (forced-colors:active){.time{color:ButtonText}}
    `],eu([zn("ump-more-menu")],oo.prototype,"moreMenu",2),eu([zn("ump-audio-menu")],oo.prototype,"audioMenu",2),eu([zn("ump-caption-menu")],oo.prototype,"captionMenu",2),eu([zn("ump-settings-menu")],oo.prototype,"settingsMenu",2),eu([zn("ump-share-dialog")],oo.prototype,"shareDialog",2),eu([zn(".volume-container")],oo.prototype,"volumeContainer",2),eu([Tr({context:Ar,subscribe:!0})],oo.prototype,"playerState",2),oo=eu([_x(),Xn("ump-control-bar")],oo);const O_="menu",X$='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.37 10.17a.5.5 0 0 0-.74.66l4 4.5c.19.22.52.23.72.02l10.5-10.5a.5.5 0 0 0-.7-.7L7.02 14.27l-3.65-4.1Z"/></svg>';var Y$=Object.defineProperty,J$=Object.getOwnPropertyDescriptor,tu=(o,s,c,h)=>{for(var d=h>1?void 0:h?J$(s,c):s,m=o.length-1,b;m>=0;m--)(b=o[m])&&(d=(h?b(s,c,d):b(d))||d);return h&&d&&Y$(s,c,d),d};let ya=class extends An{constructor(){super(...arguments),this.type="normal",this.checked=!1,this.submenu=null,this.focusable=!0,this.isFocused=!1,this.onFocusIn=()=>{this.isFocused=!0},this.onFocusOut=()=>{this.isFocused=!1}}get tabindex(){var o;return this.focusable&&((o=this.playerState)!=null&&o.disableKeyboardEvents||this.isFocused)?0:-1}render(){return At`
      <div
        class=${ot({"menu-item":!0,"menu-item-checked":this.checked,"menu-item-radio":this.type==="radio","menu-item-has-submenu":!!this.submenu&&!this.isBackButton(),"menu-item-back-button":this.isBackButton()})}
      >
        <div class="menu-item-check-mark" aria-hidden="true">
          ${cn(X$)}
        </div>

        <div class="menu-item-chevron-left" aria-hidden="true">
          ${this.playerState.dir==="ltr"?cn(Fx):cn(Bx)}
        </div>

        <slot name="prefix"></slot>

        <slot></slot>

        <slot name="suffix"></slot>

        <div class="menu-item-chevron" aria-hidden="true">
          ${this.playerState.dir==="ltr"?cn(Bx):cn(Fx)}
        </div>
      </div>
    `}connectedCallback(){super.connectedCallback(),this.addEventListener("focusin",this.onFocusIn),this.addEventListener("focusout",this.onFocusOut)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("focusin",this.onFocusIn),this.removeEventListener("focusout",this.onFocusOut)}isBackButton(){return this.submenu===ea}updated(o){(o.has("type")||o.has("checked"))&&this.updateAriaAttributes(),o.has("isFocused")&&this.requestUpdate("tabindex")}updateAriaAttributes(){this.setAttribute("role",this.type==="radio"?"menuitemradio":"menuitem"),this.type==="radio"?this.setAttribute("aria-checked",this.checked?"true":"false"):this.removeAttribute("aria-checked")}static isMenuItem(o){return o instanceof HTMLElement&&o.tagName.toLowerCase()==="ump-menu-item"}};ya.styles=[Cn`
.menu-item{display:flex;align-items:center;justify-content:flex-start;gap:var(--spacing-s);margin:0;box-sizing:border-box;padding:var(--spacing-s) var(--spacing-xs);border-radius:var(--border-radius-medium);color:var(--color-neutral-foreground-1);font-weight:var(--font-weight-regular);line-height:var(--line-height-base-300);transition-duration:var(--duration-faster);transition-property:background,color;transition-timing-function:var(--curve-easy-ease);cursor:pointer;-webkit-user-select:none;user-select:none;background-color:transparent}.menu-item-check-mark{stroke:currentcolor;justify-content:center;align-items:center;display:none;visibility:hidden}.menu-item-radio .menu-item-check-mark{display:flex}.menu-item-checked .menu-item-check-mark{visibility:visible}.menu-item-chevron{stroke:currentcolor;visibility:hidden;display:flex;justify-content:center;align-items:center}.menu-item-has-submenu .menu-item-chevron{visibility:visible}.menu-item-chevron-left{display:none;justify-content:center;align-items:center;stroke:currentcolor}.menu-item-back-button .menu-item-chevron-left{display:flex}slot:not([name]){display:flex;align-items:center;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;gap:var(--spacing-s);flex-grow:1}slot[name='prefix']{flex:0 0 auto;display:flex;align-items:center;stroke:currentcolor}slot[name='prefix']::slotted(*){display:contents}slot[name='suffix']{flex:0 0 auto;display:flex;align-items:center;stroke:currentcolor}:host(:hover) .menu-item{background-color:var(--color-white-alpha-10);color:var(--color-neutral-foreground-2-hover)}:host(:active) .menu-item{background-color:var(--color-white-alpha-5);color:var(--color-neutral-foreground-2-pressed)}:host(.focus-always:focus) .menu-item,:host(.focus-default:focus-visible) .menu-item{outline:var(--stroke-width-thick) solid var(--color-stroke-focus-2);border:none}:host(.cc-style-menu-item:hover) .menu-item,:host(.cc-style-menu-item:active) .menu-item{background-color:initial}@media (forced-colors:active){.menu-item{forced-color-adjust:none;color:ButtonText}:host(:hover) .menu-item{background-color:Highlight;color:HighlightText}:host(.focus-default:focus-visible) .menu-item,:host(.cc-style-menu-item:active) .menu-item{outline:var(--stroke-width-thick) solid Highlight}:host(.cc-style-menu-item:hover) .menu-item,:host(.cc-style-menu-item:active) .menu-item{color:ButtonText}}
    `],tu([tr({attribute:!0})],ya.prototype,"type",2),tu([tr({attribute:!0,type:Boolean,reflect:!0})],ya.prototype,"checked",2),tu([tr({attribute:!0,type:String})],ya.prototype,"submenu",2),tu([Tr({context:Ar,subscribe:!0})],ya.prototype,"playerState",2),tu([tr({type:Boolean})],ya.prototype,"focusable",2),tu([tr({type:Number,reflect:!0})],ya.prototype,"tabindex",1),tu([tr({type:Boolean})],ya.prototype,"isFocused",2),ya=tu([Xn("ump-menu-item")],ya);var Q$=Object.defineProperty,Z$=Object.getOwnPropertyDescriptor,j_=(o,s,c,h)=>{for(var d=h>1?void 0:h?Z$(s,c):s,m=o.length-1,b;m>=0;m--)(b=o[m])&&(d=(h?b(s,c,d):b(d))||d);return h&&d&&Q$(s,c,d),d};let I0=class extends An{render(){return this.isActive()?At`<slot></slot>`:null}getMenuItems(){return Array.from(this.querySelectorAll('[role="menuitemradio"],[role="menuitem"]'))}isActive(){return!this.menuContext.history.length&&!this.id?!0:this.menuContext.history[this.menuContext.history.length-1]===this.id}};j_([Tr({context:O_,subscribe:!0}),m0()],I0.prototype,"menuContext",2),I0=j_([Xn("ump-submenu")],I0);var ez=Object.defineProperty,tz=Object.getOwnPropertyDescriptor,vf=(o,s,c,h)=>{for(var d=h>1?void 0:h?tz(s,c):s,m=o.length-1,b;m>=0;m--)(b=o[m])&&(d=(h?b(s,c,d):b(d))||d);return h&&d&&ez(s,c,d),d};let nu=class extends An{constructor(){super(...arguments),this.role="menu",this.menuContext={history:[]}}render(){return At`<slot
      @click=${this.onClick}
      @keydown=${this.onKeyDown}
      data-scrollable
    ></slot>`}async onClick(o){const s=nu.findSubmenuId(o.composedPath());s&&(o.stopPropagation(),s===ea?this.pop():this.push(s),await this.updateComplete,this.focusFirstItem())}onKeyDown(o){if(!this.playerState.disableKeyboardEvents){if(o.key===" "||o.key==="Enter"){const s=this.getActiveItem();s&&(o.preventDefault(),o.stopPropagation(),s.click())}else if(o.key==="ArrowDown"||o.key==="ArrowUp"||o.key==="Home"||o.key==="End"){o.preventDefault(),o.stopPropagation();const s=this.getMenuItems();let c=s.findIndex(h=>h.tabIndex===0);o.key==="ArrowDown"?c+=1:o.key==="ArrowUp"?c-=1:o.key==="Home"?c=0:o.key==="End"&&(c=s.length-1),c>=s.length&&(c=0),c<0&&(c=s.length-1),this.setActiveIndex(c)}}}focusFirstItem(){this.setActiveIndex(0)}focusLastItem(){this.setActiveIndex(this.getMenuItems().length-1)}setActiveIndex(o){var s;(s=this.getMenuItems()[o])==null||s.focus()}getMenuItems(){const o=this.defaultSlot.assignedElements({flatten:!0}).filter(c=>ya.isMenuItem(c));if(o.length)return o;const s=this.defaultSlot.assignedElements({flatten:!0}).find(c=>c instanceof I0&&c.isActive());return s?.getMenuItems()??[]}getActiveItem(){return this.getMenuItems().find(o=>o.tabIndex===0)}pop(){this.menuContext={...this.menuContext,history:this.menuContext.history.slice(0,-1)}}push(o){this.menuContext={...this.menuContext,history:[...this.menuContext.history,o]}}clearHistory(){this.menuContext={...this.menuContext,history:[]}}static findSubmenuId(o){for(const s of o)if(s instanceof HTMLElement){const c=s.getAttribute("submenu");if(c)return c}}};nu.styles=[Cn`
:host{border-radius:var(--border-radius-x-large);overflow:hidden}slot{display:flex;flex-direction:column;overflow:hidden auto;border:none;padding:var(--spacing-s);background-color:var(--color-grey-10-alpha-90);box-shadow:var(--shadow-4)}@container universalmediaplayer (min-width:0){slot{max-height:calc(100cqh - var(--ump-lower-controls-height))}}@media (forced-colors:active){slot{background-color:var(--color-grey-10)}}
    `],vf([Tr({context:Ar,subscribe:!0})],nu.prototype,"playerState",2),vf([tr({reflect:!0})],nu.prototype,"role",2),vf([zn("slot")],nu.prototype,"defaultSlot",2),vf([rV({context:O_}),m0()],nu.prototype,"menuContext",2),nu=vf([Xn("ump-menu")],nu);var nz=Object.defineProperty,rz=Object.getOwnPropertyDescriptor,iz=(o,s,c,h)=>{for(var d=h>1?void 0:h?rz(s,c):s,m=o.length-1,b;m>=0;m--)(b=o[m])&&(d=(h?b(s,c,d):b(d))||d);return h&&d&&nz(s,c,d),d};let Gx=class extends An{render(){return At` <slot class="footer-button" name="suffix"></slot> `}};Gx.styles=Cn`
:host{display:flex;justify-content:flex-end;padding:var(--spacing-s);gap:var(--spacing-s)}:host(:focus),:host(:focus-visible){outline:none}.footer-button{display:inline-flex;border-radius:var(--border-radius-medium)}.footer-button:hover{background-color:var(--color-neutral-background-1-hover);border-color:transparent;color:var(--color-neutral-foreground-1-hover)}:host(:focus) .footer-button,:host(:focus-visible) .footer-button{outline:var(--stroke-width-thick) solid var(--color-stroke-focus-2);outline-offset:calc(var(--stroke-width-thick) * -1);border:none}@media (forced-colors:active){.footer-button{forced-color-adjust:none}}
  `,Gx=iz([Xn("ump-menu-footer")],Gx);var az=Object.defineProperty,oz=Object.getOwnPropertyDescriptor,sz=(o,s,c,h)=>{for(var d=h>1?void 0:h?oz(s,c):s,m=o.length-1,b;m>=0;m--)(b=o[m])&&(d=(h?b(s,c,d):b(d))||d);return h&&d&&az(s,c,d),d};let Kx=class extends An{render(){return At`
      <slot class="prefix-slot" name="prefix"></slot>
      <slot class="default-slot"></slot>
      <slot class="suffix-slot" name="suffix"></slot>
    `}};Kx.styles=Cn`
:host{display:flex;padding:var(--spacing-s);gap:var(--spacing-s)}.default-slot{flex-grow:1;display:flex;align-items:center;justify-content:flex-start;margin:0;box-sizing:border-box;border-radius:var(--border-radius-medium);color:var(--color-neutral-foreground-1);font-weight:var(--font-weight-semibold);line-height:var(--line-height-base-300);-webkit-user-select:none;user-select:none;background-color:transparent}@media (forced-colors:active){.default-slot{color:ButtonText}}
  `,Kx=sz([Xn("ump-menu-label")],Kx);const uz='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M15.5 17a.5.5 0 0 1 .09 1H4.5a.5.5 0 0 1-.09-1H15.5ZM10 2a.5.5 0 0 1 .5.41V14.3l3.64-3.65a.5.5 0 0 1 .64-.06l.07.06c.17.17.2.44.06.63l-.06.07-4.5 4.5a.5.5 0 0 1-.25.14L10 16a.5.5 0 0 1-.4-.2l-4.46-4.45a.5.5 0 0 1 .64-.76l.07.06 3.65 3.64V2.5c0-.27.22-.5.5-.5Z"/></svg>',lz='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.25 10a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0Zm5 0a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0ZM15 11.25a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5Z"/></svg>',cz='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.35 2.15a.5.5 0 0 0-.7 0l-4.5 4.5a.5.5 0 1 0 .7.7L9.5 3.71v8.79a.5.5 0 0 0 1 0V3.7l3.65 3.65a.5.5 0 0 0 .7-.7l-4.5-4.5ZM4 9.5a.5.5 0 0 0-1 0V14a3 3 0 0 0 3 3h8a3 3 0 0 0 3-3V9.5a.5.5 0 0 0-1 0V14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V9.5Z"/></svg>';var dz=Object.defineProperty,pz=Object.getOwnPropertyDescriptor,Wx=(o,s,c,h)=>{for(var d=h>1?void 0:h?pz(s,c):s,m=o.length-1,b;m>=0;m--)(b=o[m])&&(d=(h?b(s,c,d):b(d))||d);return h&&d&&dz(s,c,d),d};let yf=class extends An{render(){const{downloadableVideoFiles:o,downloadableTranscriptFiles:s,shareOptions:c}=this.playerState,h=s.length===0&&o.length===0;return h&&c.length===0?null:At`
      <ump-popup popupAriaLabel="${ye("More")}">
        <button
          type="button"
          slot="trigger"
          class=${ot({btn:!0,"btn-subtle":!0,"btn-icon-only":!0,...gt(this.playerState),tooltip:!0,"tooltip-disable-when-aria-expanded":!0})}
          data-tooltip="${ye("More")}"
          aria-label="${ye("More")}"
          data-id="more-menu-button"
          data-testid="more-menu-button"
        >
          ${cn(lz)}
        </button>

        <ump-menu data-focusgroup>
          <!-- DEFAULT MENU -->
          <ump-submenu>
            ${!h&&this.playerState.showDownloadMenu?At`
                  <ump-menu-item
                    class=${ot({...gt(this.playerState)})}
                    submenu="download"
                    data-testid="download-menu-item"
                  >
                    <span slot="prefix">${cn(uz)}</span>
                    ${ye("Download")}
                  </ump-menu-item>
                `:null}
            ${c.length>0?At`
                  <ump-menu-item
                    class=${ot({...gt(this.playerState)})}
                    @click=${this.onShareClicked}
                    data-testid="share-menu-item"
                  >
                    <span slot="prefix">${cn(cz)}</span>
                    ${ye("Share")}
                  </ump-menu-item>
                `:null}
          </ump-submenu>

          <ump-submenu id="download">
            <ump-menu-item
              class=${ot({...gt(this.playerState)})}
              submenu="${ea}"
              >${ye("Download")}</ump-menu-item
            >

            <hr aria-hidden="true" />

            ${o.length>0?At`<ump-menu-item
                  class=${ot({...gt(this.playerState)})}
                  submenu="download-video"
                >
                  ${ye("Video")}
                </ump-menu-item>`:null}
            ${s.length>0?At`<ump-menu-item
                  class=${ot({...gt(this.playerState)})}
                  submenu="download-transcript"
                >
                  ${ye("Transcript")}
                </ump-menu-item>`:null}
          </ump-submenu>

          <ump-submenu id="download-video">
            <ump-menu-item
              class=${ot({...gt(this.playerState)})}
              submenu="${ea}"
              >${ye("Download Video")}</ump-menu-item
            >

            <hr aria-hidden="true" />

            ${o.map(d=>At` <ump-menu-item
                  class=${ot({...gt(this.playerState)})}
                  @click=${this.onDownloadClicked(d)}
                >
                  ${d.locale}
                </ump-menu-item>`)}
          </ump-submenu>

          <ump-submenu id="download-transcript">
            <ump-menu-item
              class=${ot({...gt(this.playerState)})}
              submenu="${ea}"
              >${ye("Download Transcript")}</ump-menu-item
            >

            <hr aria-hidden="true" />

            ${s.map(d=>At`<ump-menu-item
                  class=${ot({...gt(this.playerState)})}
                  @click=${this.onDownloadClicked(d)}
                  >${d.locale}</ump-menu-item
                >`)}
          </ump-submenu>
        </ump-menu>
      </ump-popup>
    `}onShareClicked(){this.dispatchEvent(new Pt("share-clicked"))}onDownloadClicked(o){return()=>{this.dispatchEvent(new Pt("download-file-clicked",o))}}get opened(){var o;return(o=this.popup)==null?void 0:o.opened}};yf.styles=[ao,k0,Td,Cn`
.btn.tooltip{--tooltip-gap:var(--spacing-xxxl)}ump-popup{--ump-popup-spacing:var(--spacing-xxxl)}ump-menu{width:var(--size-64);display:block}
    `],Wx([zn("ump-popup")],yf.prototype,"popup",2),Wx([Tr({context:Ar,subscribe:!0})],yf.prototype,"playerState",2),yf=Wx([Xn("ump-more-menu")],yf);var hz=Object.defineProperty,fz=Object.getOwnPropertyDescriptor,wl=(o,s,c,h)=>{for(var d=h>1?void 0:h?fz(s,c):s,m=o.length-1,b;m>=0;m--)(b=o[m])&&(d=(h?b(s,c,d):b(d))||d);return h&&d&&hz(s,c,d),d};let es=class extends An{constructor(){super(...arguments),this._opened=!1,this.popupAriaLabel="",this.documentMouseDown=o=>{o.composedPath().includes(this)||this.close()},this.documentKeyDown=o=>{!o.composedPath().includes(this)&&(o.key===" "||o.key==="Enter")&&this.close()}}render(){return At`
      <div class="popup-container" @click=${this.onClick}>
        <slot
          name="trigger"
          @click=${this.onClicked}
          @keydown=${this.onKeyDown}
          @slotchange=${this.onSlotChanged}
        ></slot>

        <dialog
          class=${ot({"ump-rtl":this.playerState.dir==="rtl"})}
          .open=${this._opened}
          aria-hidden="${this._opened?"false":"true"}"
          aria-label="${this.popupAriaLabel}"
          @keydown=${this.dialogKeyDown}
          @close=${this.close}
        >
          <slot class="popup-panel"></slot>
        </dialog>
      </div>
    `}show(){this._opened=!0,this.updateAccessibleTrigger(),document.addEventListener("mousedown",this.documentMouseDown),document.addEventListener("keydown",this.documentKeyDown),this.dispatchEvent(new Pt("ump-popup-changed"))}close(){var o;this.dialog.close(),this._opened=!1,this.updateAccessibleTrigger(),document.removeEventListener("mousedown",this.documentMouseDown),document.removeEventListener("keydown",this.documentKeyDown),this.dispatchEvent(new Pt("ump-popup-changed")),(o=this.getMenu())==null||o.clearHistory(),this.focusTrigger()}get opened(){return this._opened}updateAccessibleTrigger(){const o=this.getTriggerElement();o.setAttribute("aria-haspopup","true"),o.setAttribute("aria-expanded",this._opened?"true":"false")}focusTrigger(){this.getTriggerElement().focus()}getTriggerElement(){return this.trigger.assignedElements({flatten:!0})[0]}getMenu(){return this.popupPanel.assignedElements({flatten:!0}).find(o=>o.tagName.toLowerCase()==="ump-menu")}onClick(o){o.composedPath().find(s=>ya.isMenuItem(s))&&this.close()}onClicked(){this._opened?this.close():this.show()}onSlotChanged(){this.updateAccessibleTrigger()}async onKeyDown(o){if(!this.playerState.disableKeyboardEvents)if(o.key==="ArrowDown"||o.key==="ArrowUp"||o.key==="Home"||o.key==="End"){o.preventDefault(),this._opened||(this.show(),await this.updateComplete);const s=this.getMenu();if(!s)return;o.key==="ArrowUp"||o.key==="End"?s.focusLastItem():s.focusFirstItem()}else(o.key==="Escape"||o.key==="Tab")&&this.close()}dialogKeyDown(o){this.playerState.disableKeyboardEvents||(o.key==="Escape"||o.key==="Tab")&&this._opened&&(o.preventDefault(),this.close())}};es.styles=Cn`
:host{--ump-popup-spacing:var(--spacing-s)}.popup-container{position:relative}dialog{display:none;padding:0;border:none;outline:none;background-color:transparent;position:absolute;left:100%;bottom:100%;transform:translateX(-100%);margin-bottom:var(--ump-popup-spacing)}dialog.ump-rtl{transform:translateX(calc(100% - var(--spacing-xxxxl)))}dialog[open]{display:block}@container universalmediaplayer (max-width:450px){.popup-container{position:unset}dialog{bottom:15cqh;left:98cqw}}
  `,wl([zn("dialog")],es.prototype,"dialog",2),wl([Tr({context:Ar,subscribe:!0})],es.prototype,"playerState",2),wl([m0()],es.prototype,"_opened",2),wl([tr({type:String})],es.prototype,"popupAriaLabel",2),wl([zn('slot[name="trigger"]')],es.prototype,"trigger",2),wl([zn(".popup-panel")],es.prototype,"popupPanel",2),es=wl([Xn("ump-popup")],es);const gz='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2c-.53 0-1.06.05-1.56.15a.5.5 0 0 0 .2.98 7.04 7.04 0 0 1 2.73 0 .5.5 0 0 0 .2-.98C11.05 2.05 10.52 2 10 2Zm4.45 1.35a.5.5 0 0 0-.56.83 7.04 7.04 0 0 1 1.93 1.93.5.5 0 1 0 .83-.56 8.04 8.04 0 0 0-2.2-2.2Zm-8.34.83a.5.5 0 1 0-.56-.83 8.04 8.04 0 0 0-2.2 2.2.5.5 0 1 0 .83.56A7.04 7.04 0 0 1 6.1 4.18ZM3.13 8.63a.5.5 0 0 0-.98-.2 8.04 8.04 0 0 0 0 3.13.5.5 0 0 0 .98-.2 7.04 7.04 0 0 1 0-2.73Zm14.72-.2a.5.5 0 1 0-.98.2 7.04 7.04 0 0 1 0 2.74.5.5 0 1 0 .98.2 8.03 8.03 0 0 0 0-3.13ZM4.18 13.9a.5.5 0 1 0-.83.56 8.04 8.04 0 0 0 2.2 2.2.5.5 0 1 0 .56-.83 7.04 7.04 0 0 1-1.93-1.93Zm12.47.56a.5.5 0 0 0-.83-.56 7.04 7.04 0 0 1-1.93 1.93.5.5 0 1 0 .56.83 8.04 8.04 0 0 0 2.2-2.2Zm-8.02 2.42a.5.5 0 1 0-.2.98 8.03 8.03 0 0 0 3.13 0 .5.5 0 0 0-.2-.98 7.04 7.04 0 0 1-2.73 0ZM8 7.83c0-.57.63-.94 1.13-.65l4.12 2.39a.5.5 0 0 1 0 .86l-4.12 2.39A.75.75 0 0 1 8 12.17V7.83Z"/></svg>',mz='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.5 3H6a3 3 0 0 0-3 3v.5a.5.5 0 0 0 1 0V6c0-1.1.9-2 2-2h2.5a.5.5 0 0 0 0-1ZM5.8 15.99A2 2 0 0 1 4 14v-3c0-1.1.9-2 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H6l-.2-.01ZM3 14a3 3 0 0 0 3 3h3a3 3 0 0 0 3-3v-3a3 3 0 0 0-3-3H6a3 3 0 0 0-3 3v3Zm10.5 3a.5.5 0 0 1 0-1h.5a2 2 0 0 0 2-2v-2.5a.5.5 0 0 1 1 0V14a3 3 0 0 1-3 3h-.5ZM17 8.5a.5.5 0 0 1-1 0V6a2 2 0 0 0-2-2h-2.5a.5.5 0 0 1 0-1H14a3 3 0 0 1 3 3v2.5Z"/></svg>',vz='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.91 7.38A8.5 8.5 0 0 1 3.7 4.3a.5.5 0 0 1 .54-.13l1.92.68a1 1 0 0 0 1.32-.76l.36-2a.5.5 0 0 1 .4-.4 8.53 8.53 0 0 1 3.55 0c.2.04.35.2.38.4l.37 2a1 1 0 0 0 1.32.76l1.92-.68a.5.5 0 0 1 .54.13 8.5 8.5 0 0 1 1.78 3.08c.06.2 0 .4-.15.54l-1.56 1.32a1 1 0 0 0 0 1.52l1.56 1.32a.5.5 0 0 1 .15.54 8.5 8.5 0 0 1-1.78 3.08.5.5 0 0 1-.54.13l-1.92-.68a1 1 0 0 0-1.32.76l-.37 2a.5.5 0 0 1-.38.4 8.53 8.53 0 0 1-3.56 0 .5.5 0 0 1-.39-.4l-.36-2a1 1 0 0 0-1.32-.76l-1.92.68a.5.5 0 0 1-.54-.13 8.5 8.5 0 0 1-1.78-3.08.5.5 0 0 1 .15-.54l1.56-1.32a1 1 0 0 0 0-1.52L2.06 7.92a.5.5 0 0 1-.15-.54ZM8 10a2 2 0 1 0 4 0 2 2 0 0 0-4 0Z"/></svg>',yz='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.91 7.38A8.5 8.5 0 0 1 3.7 4.3a.5.5 0 0 1 .54-.13l1.92.68a1 1 0 0 0 1.32-.76l.36-2a.5.5 0 0 1 .4-.4 8.53 8.53 0 0 1 3.55 0c.2.04.35.2.38.4l.37 2a1 1 0 0 0 1.32.76l1.92-.68a.5.5 0 0 1 .54.13 8.5 8.5 0 0 1 1.78 3.08c.06.2 0 .4-.15.54l-1.56 1.32a1 1 0 0 0 0 1.52l1.56 1.32a.5.5 0 0 1 .15.54 8.5 8.5 0 0 1-1.78 3.08.5.5 0 0 1-.54.13l-1.92-.68a1 1 0 0 0-1.32.76l-.37 2a.5.5 0 0 1-.38.4 8.53 8.53 0 0 1-3.56 0 .5.5 0 0 1-.39-.4l-.36-2a1 1 0 0 0-1.32-.76l-1.92.68a.5.5 0 0 1-.54-.13 8.5 8.5 0 0 1-1.78-3.08.5.5 0 0 1 .15-.54l1.56-1.32a1 1 0 0 0 0-1.52L2.06 7.92a.5.5 0 0 1-.15-.54Zm1.06 0 1.3 1.1a2 2 0 0 1 0 3.04l-1.3 1.1c.3.79.72 1.51 1.25 2.16l1.6-.58a2 2 0 0 1 2.63 1.53l.3 1.67a7.56 7.56 0 0 0 2.5 0l.3-1.67a2 2 0 0 1 2.64-1.53l1.6.58a7.5 7.5 0 0 0 1.24-2.16l-1.3-1.1a2 2 0 0 1 0-3.04l1.3-1.1a7.5 7.5 0 0 0-1.25-2.16l-1.6.58a2 2 0 0 1-2.63-1.53l-.3-1.67a7.55 7.55 0 0 0-2.5 0l-.3 1.67A2 2 0 0 1 5.81 5.8l-1.6-.58a7.5 7.5 0 0 0-1.24 2.16ZM7.5 10a2.5 2.5 0 1 1 5 0 2.5 2.5 0 0 1-5 0Zm1 0a1.5 1.5 0 1 0 3 0 1.5 1.5 0 0 0-3 0Z"/></svg>';var bz=Object.defineProperty,wz=Object.getOwnPropertyDescriptor,Xx=(o,s,c,h)=>{for(var d=h>1?void 0:h?wz(s,c):s,m=o.length-1,b;m>=0;m--)(b=o[m])&&(d=(h?b(s,c,d):b(d))||d);return h&&d&&bz(s,c,d),d};let bf=class extends An{render(){var o,s;let c,h;for(const m of this.playerState.videoQualities)m.videoId===this.playerState.activeVideoQualityId&&(c=m),m.videoId===this.playerState.selectedVideoQualityId&&(h=m);const d=(o=this.playerState.playbackRates.find(m=>m.value===this.playerState.playbackRate))==null?void 0:o.label;return this.playerState.playbackRates.length<2&&this.playerState.videoQualities.length<2?null:At`
      <ump-popup
        popupAriaLabel="${ye("Settings")}"
        @ump-popup-changed=${()=>this.requestUpdate()}
      >
        <button
          type="button"
          slot="trigger"
          class=${ot({btn:!0,"btn-subtle":!0,"btn-icon-only":!0,...gt(this.playerState),tooltip:!0,"tooltip-disable-when-aria-expanded":!0})}
          data-tooltip="${ye("Settings")}"
          aria-label="${ye("Settings")}"
          data-testid="settings-menu-button"
        >
          ${(s=this.popup)!=null&&s.opened?cn(vz):cn(yz)}
        </button>

        <ump-menu data-focusgroup>
          <!-- DEFAULT MENU -->
          <ump-submenu>
            ${this.playerState.playbackRates.length>=2?At`
                  <ump-menu-item
                    class=${ot({...gt(this.playerState)})}
                    submenu="playbackRate"
                  >
                    <span slot="prefix">${cn(gz)}</span>
                    ${ye("Playback rate")}

                    <span slot="suffix">${d}</span>
                  </ump-menu-item>
                `:null}
            ${this.playerState.showQualityMenu&&this.playerState.videoQualities.length>=2?At`
                  <ump-menu-item
                    class=${ot({...gt(this.playerState)})}
                    submenu="quality"
                  >
                    <span slot="prefix">${cn(mz)}</span>
                    ${ye("Quality")}
                    <span slot="suffix"
                      ><span class="quality-label"
                        >${h?.label}</span
                      >
                      ${c&&h?.videoId===kd.videoId?At`<span>${c.label}</span>`:null}
                    </span>
                  </ump-menu-item>
                `:null}
          </ump-submenu>

          <!-- PLAYBACK RATE SUBMENU -->
          <ump-submenu id="playbackRate">
            <ump-menu-item
              class=${ot({...gt(this.playerState)})}
              submenu="${ea}"
              >${ye("Playback rate")}</ump-menu-item
            >

            <hr aria-hidden="true" />

            ${this.playerState.playbackRates.map(m=>At`
                <ump-menu-item
                  class=${ot({...gt(this.playerState)})}
                  type="radio"
                  @click=${this.playbackRateClicked(m.value)}
                  .checked=${m.value===this.playerState.playbackRate}
                >
                  ${m.label}
                </ump-menu-item>
              `)}
          </ump-submenu>

          <!-- QUALITY SUBMENU -->
          <ump-submenu id="quality">
            <ump-menu-item
              class=${ot({...gt(this.playerState)})}
              submenu="${ea}"
              >${ye("Quality")}</ump-menu-item
            >

            <hr aria-hidden="true" />

            ${this.playerState.videoQualities.map(m=>At`
                <ump-menu-item
                  class=${ot({...gt(this.playerState)})}
                  type="radio"
                  .checked=${m.videoId===this.playerState.selectedVideoQualityId}
                  @click=${this.onQualitySelected(m)}
                >
                  ${m.label}
                </ump-menu-item>
              `)}
          </ump-submenu>
        </ump-menu>
      </ump-popup>
    `}onQualitySelected(o){return()=>{this.dispatchEvent(new Pt("video-quality-clicked",o)),this.dispatchEvent(new Pt("videoqualitychanged"))}}playbackRateClicked(o){return()=>{this.dispatchEvent(new Pt("playback-rate-clicked",o))}}get opened(){var o;return(o=this.popup)==null?void 0:o.opened}};bf.styles=[ao,k0,Td,Cn`
.btn.tooltip{--tooltip-gap:var(--spacing-xxxl)}ump-popup{--ump-popup-spacing:var(--spacing-xxxl)}ump-menu{width:var(--size-64);display:block}.quality-label{font-weight:var(--font-weight-semibold)}
    `],Xx([zn("ump-popup")],bf.prototype,"popup",2),Xx([Tr({context:Ar,subscribe:!0})],bf.prototype,"playerState",2),bf=Xx([Xn("ump-settings-menu")],bf);function Yx(o,s,c){return(c-o)/(s-o)}var xz=Object.defineProperty,Sz=Object.getOwnPropertyDescriptor,ba=(o,s,c,h)=>{for(var d=h>1?void 0:h?Sz(s,c):s,m=o.length-1,b;m>=0;m--)(b=o[m])&&(d=(h?b(s,c,d):b(d))||d);return h&&d&&xz(s,c,d),d};let Ni=class extends An{constructor(){super(...arguments),this.min=0,this.max=1,this.value=0,this.step=.005,this.focusStep=1,this.orientation="horizontal",this.sliderarialabel="",this.sliderAriaValueText="",this.ranges=[],this.onInputChange=o=>{this.value=Number(o.target.value)},this.onInputFocusIn=o=>{const s=o.target;s.matches(":focus-visible")&&(s.step=this.focusStep.toString())},this.onInputFocusOut=o=>{const s=o.target;s.step=this.step.toString()}}render(){return At`
      <!-- Track -->
      <div aria-hidden="true" aria-busy="false" value="0" class="track"></div>

      <!-- Ranges -->
      ${this.ranges.map(o=>At`
          <div
            data-testid="ump-slider-range"
            class="range"
            style="width: ${Yx(this.min,this.max,o.end-o.start)*100}%; left: ${Yx(this.min,this.max,o.start)*100}%"
          ></div>
        `)}

      <!-- Progress -->
      <div aria-hidden="true" aria-busy="false" class="progress"></div>

      <!-- Thumb -->
      <div class="thumb"></div>

      <!-- HTML Input Range -->
      <input
        class=${ot({...gt(this.playerState),input:!0})}
        data-testid="ump-slider"
        type="range"
        min="${this.min}"
        max="${this.max}"
        step="${this.step}"
        aria-label="${this.sliderarialabel}"
        aria-live="polite"
        aria-orientation="${this.orientation}"
        aria-valuetext="${this.sliderAriaValueText}"
        @input=${this.onInputChange}
        @focusin=${this.onInputFocusIn}
        @focusout=${this.onInputFocusOut}
      />
    `}updated(o){o.has("value")&&(this.inputElement.value=this.value.toString()),(o.has("value")||o.has("min")||o.has("max"))&&this.updateSliderThumb()}updateSliderThumb(){const o=Yx(this.min,this.max,this.value);this.style.setProperty("--ump-slide-percentage",`${o*100}%`)}};Ni.styles=[Cn`
:host{--ump-slider-track-thickness:var(--size-1);--ump-slider-track-color:var(--color-white-alpha-40);--ump-slider-thumb-inline-size:var(--size-5);--ump-slider-thumb-block-size:var(--size-3);--ump-half-slider-thumb-inline-size:calc(var(--ump-slider-thumb-inline-size) / 2);--ump-half-slider-thumb-block-size:calc(var(--ump-slider-thumb-block-size) / 2);--ump-slider-thumb-color:var(--color-neutral-foreground-1);--ump-slider-progress-color:var(--color-neutral-foreground-1);--ump-slider-range-color:var(--color-white-alpha-30);--ump-slide-percentage:0%;--ump-slider-padding:var(--spacing-xs);position:relative;display:block;writing-mode:horizontal-tb;z-index:10}:host(:hover){--ump-slider-thumb-transform:scale(1);--ump-slider-track-thickness:var(--size-1-5)}:host([orientation='vertical']){writing-mode:vertical-lr;direction:rtl;-webkit-appearance:none;appearance:none}*{box-sizing:border-box;margin:0;padding:0}.input{-webkit-appearance:none;appearance:none;background:transparent;display:block;cursor:pointer;border-radius:var(--border-radius-medium);color:var(--color-neutral-foreground-1);padding-block:var(--ump-slider-padding);position:absolute;inset:0}.input::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;block-size:var(--ump-slider-thumb-block-size);inline-size:var(--ump-slider-thumb-inline-size);border-radius:var(--border-radius-circular);background-color:transparent}.input::-moz-range-thumb{appearance:none;background-color:transparent;border:none;block-size:var(--ump-slider-thumb-block-size);inline-size:var(--ump-slider-thumb-inline-size)}.input.focus-always:focus,.input.focus-default:focus-visible{outline:var(--stroke-width-thick) solid var(--color-stroke-focus-2)}.thumb{pointer-events:none;position:absolute;inset:0;display:grid;align-items:center;margin-inline:var(--ump-half-slider-thumb-inline-size) var(--ump-half-slider-thumb-inline-size)}.thumb::after{position:absolute;z-index:50;inline-size:var(--ump-slider-thumb-inline-size);block-size:var(--ump-slider-thumb-block-size);margin-inline-start:calc(var(--ump-slide-percentage) - var(--ump-half-slider-thumb-inline-size));margin-block-start:self-block;background-color:var(--ump-slider-thumb-color);border-radius:var(--border-radius-circular);transform:var(--ump-slider-thumb-transform);display:block;transition:transform var(--duration-faster) var(--curve-easy-ease);transform-origin:center;content:''}.track{z-index:10;position:absolute;inset:0;overflow:hidden;pointer-events:none;display:flex;align-items:center}.track::before{content:'';background-color:var(--ump-slider-track-color);inline-size:100%;block-size:var(--ump-slider-track-thickness);position:absolute;border-radius:var(--border-radius-circular);transition:block-size var(--duration-faster) var(--curve-easy-ease)}.range{position:absolute;background-color:var(--ump-slider-range-color);height:var(--ump-slider-track-thickness);width:0;pointer-events:none;z-index:20;top:50%;transform:translateY(-50%);border-radius:var(--border-radius-circular);transition:height var(--duration-faster) var(--curve-easy-ease)}.progress{position:absolute;z-index:40;inset:0;display:flex;align-items:center;margin-inline:var(--ump-half-slider-thumb-inline-size);pointer-events:none}.progress::before{content:'';position:absolute;display:block;block-size:var(--ump-slider-track-thickness);inline-size:var(--ump-slide-percentage);background:var(--ump-slider-progress-color);transition:block-size var(--duration-faster) var(--curve-easy-ease)}.progress::after{content:'';position:absolute;display:block;block-size:var(--ump-slider-track-thickness);inline-size:var(--ump-half-slider-thumb-inline-size);margin-inline-start:calc(-1 * var(--ump-half-slider-thumb-inline-size));border-start-start-radius:var(--border-radius-circular);border-end-start-radius:var(--border-radius-circular);background:var(--ump-slider-progress-color);transition:block-size var(--duration-faster) var(--curve-easy-ease)}@media (forced-colors:active){:host{--ump-slider-track-color:ButtonText;--ump-slider-progress-color:Highlight}.thumb::after{background:Highlight}}
    `],ba([tr({type:Number,attribute:!0})],Ni.prototype,"min",2),ba([tr({type:Number,attribute:!0})],Ni.prototype,"max",2),ba([tr({type:Number,attribute:!0,reflect:!0})],Ni.prototype,"value",2),ba([tr({type:Number,attribute:!0})],Ni.prototype,"step",2),ba([tr({type:Number,attribute:!0})],Ni.prototype,"focusStep",2),ba([tr({type:String,attribute:!0})],Ni.prototype,"orientation",2),ba([tr({type:String,attribute:!0})],Ni.prototype,"sliderarialabel",2),ba([tr({type:String,attribute:!0})],Ni.prototype,"sliderAriaValueText",2),ba([tr({type:Array})],Ni.prototype,"ranges",2),ba([zn("input")],Ni.prototype,"inputElement",2),ba([Tr({context:Ar,subscribe:!0})],Ni.prototype,"playerState",2),Ni=ba([Xn("ump-slider")],Ni);var kz=Object.defineProperty,Tz=Object.getOwnPropertyDescriptor,Ad=(o,s,c,h)=>{for(var d=h>1?void 0:h?Tz(s,c):s,m=o.length-1,b;m>=0;m--)(b=o[m])&&(d=(h?b(s,c,d):b(d))||d);return h&&d&&kz(s,c,d),d};let ts=class extends An{constructor(){super(...arguments),this.userActive=!0,this.handleUserInteraction=w_(()=>{this.userActive=!1},WV)}render(){var o;return At`<div
      class="controls-wrapper"
      data-testid="controls-wrapper"
      tabindex=${!this.playerState.disableKeyboardEvents&&this.playerState.controlsState!=="bigplaybutton"?"0":""}
      @keydown=${this.onControlsWrapperKeyDown}
    >
      <div
        class=${ot({controls:!0,loading:this.playerState.loading,hidden:this.userActive===!1&&this.playerState.paused===!1&&(this.playerState.controlsState==="bigplaybutton"||((o=this.controlBar)==null?void 0:o.hasOpenControl)===!1)})}
        data-testid="controls"
        @pointermove=${this.onUserInteraction}
        @control-bar-focus-change=${this.onUserInteraction}
        @input=${this.onUserInteraction}
        @keydown=${this.onUserInteraction}
        @mousedown=${this.onControlsMouseDown}
        @touchstart=${this.onControlsTouchStart}
      >
        <div
          class=${ot({overlay:!0,mask20:this.playerState.maskLevel===20,mask40:this.playerState.maskLevel===40,mask60:this.playerState.maskLevel===60,mask80:this.playerState.maskLevel===80,mask100:this.playerState.maskLevel===100})}
          data-testid="mask-level-overlay"
        ></div>
        ${this.renderControls()}
      </div>
    </div>`}renderControls(){if(this.playerState.controlsState==="bigplaybutton")return At`<ump-big-play-button></ump-big-play-button>`;if(this.playerState.controlsState==="controlbar")return At`<ump-control-bar></ump-control-bar>`}onUserInteraction(){this.userActive=!0,this.handleUserInteraction()}onControlsMouseDown(o){o.target===this.controlsContainer&&o.button===0&&this.dispatchEvent(new Pt("controls-triggered")),this.onUserInteraction()}onControlsTouchStart(o){o.target===this.controlsContainer&&(o.preventDefault(),o.stopPropagation(),this.userActive&&this.dispatchEvent(new Pt("controls-triggered")),this.onUserInteraction())}onControlsWrapperKeyDown(o){this.playerState.disableKeyboardEvents||o.target!==this.controlsWrapper||(o.key==="Enter"||o.key===" ")&&(o.preventDefault(),this.dispatchEvent(new Pt("controls-triggered")))}};ts.shadowRootOptions={...An.shadowRootOptions,delegatesFocus:!0},ts.styles=Cn`
.controls-wrapper{position:absolute;inset:0}.controls-wrapper:focus-visible{outline:none;box-shadow:inset 0 0 0 var(--stroke-width-thick) var(--color-stroke-focus-2);border-radius:var(--border-radius,0)}.controls{position:absolute;inset:0;opacity:1;visibility:visible}.controls.hidden{opacity:0;transition:opacity 1s ease-out;cursor:none}.overlay{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:-1}.overlay.mask20{background:var(--color-black-alpha-20)}.overlay.mask40{background:var(--color-black-alpha-40)}.overlay.mask60{background:var(--color-black-alpha-60)}.overlay.mask80{background:var(--color-black-alpha-80)}.overlay.mask100{background:var(--color-black)}ump-big-play-button{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}.controls.loading ump-big-play-button{opacity:0}
  `,Ad([zn(".controls-wrapper")],ts.prototype,"controlsWrapper",2),Ad([zn(".controls")],ts.prototype,"controlsContainer",2),Ad([zn("ump-control-bar")],ts.prototype,"controlBar",2),Ad([Tr({context:Ar,subscribe:!0})],ts.prototype,"playerState",2),Ad([m0()],ts.prototype,"userActive",2),ts=Ad([_x(),Xn("ump-controls")],ts);function Az(o,s,c,h){return o.addEventListener(s,c,h),()=>o.removeEventListener(s,c)}function wf(o){const s=[];return{addEventListener(c,h,d){const m=Az(o,c,h,d);s.push(m)},removeAllListeners(){s.forEach(c=>c())}}}function Ez(o,s){return c=>{const h=wf(o);h.addEventListener("big-play-button-triggered",D),h.addEventListener("play-button-clicked",U),h.addEventListener("volume-button-clicked",L),h.addEventListener("fullscreen-button-clicked",j),h.addEventListener("seekbar-updated",A),h.addEventListener("volume-updated",R),h.addEventListener("volume-drag-released",w),h.addEventListener("audio-track-clicked",G),h.addEventListener("video-quality-clicked",Z),h.addEventListener("caption-track-clicked",he),h.addEventListener("playback-rate-clicked",me),h.addEventListener("controls-triggered",se),h.addEventListener("seekbar-pointer-down",b),h.addEventListener("seekbar-pointer-up",M),h.addEventListener("caption-font-size-clicked",Me),h.addEventListener("caption-text-color-clicked",Te),h.addEventListener("caption-text-opacity-clicked",re),h.addEventListener("caption-background-color-clicked",Pe),h.addEventListener("caption-background-opacity-clicked",ke),h.addEventListener("caption-font-family-clicked",T),h.addEventListener("caption-text-edge-style-clicked",ae),c.options.hideControls==null&&c.addEventListener("play",()=>{d("controlbar")},{once:!0}),c.options.autoplay||d("bigplaybutton"),c.options.hideControls==="controlbar"&&d("bigplaybutton"),c.options.hideControls==="all"&&d("none"),s.setValue({...s.value,playButtonSize:c.options.playButtonSize,playButtonTheme:c.options.playButtonTheme}),s.setValue({...s.value,maskLevel:c.options.maskLevel}),c.options.maskLevel!==0&&c.addEventListener("play",()=>{s.setValue({...s.value,maskLevel:0})},{once:!0});function d(be){s.setValue({...s.value,controlsState:be})}let m=!1;function b(){m=c.paused,c.pause()}const f=w_(be=>{c.currentTime=be.detail},XV);function A(be){f(be)}function M(){m||c.play()}function D(){var be,V;if(s.setValue({...s.value,bigPlayButtonClicked:!0}),ge(),c.options.hideControls!=="all"&&c.options.hideControls!=="controlbar"){const W=o.renderRoot.querySelector("video");W&&W.setAttribute("tabindex","-1")}if(!s.value.disableKeyboardEvents&&c.options.hideControls!=="all"&&c.options.hideControls!=="controlbar"){const W=(V=(be=o.renderRoot.querySelector("ump-controls"))==null?void 0:be.renderRoot)==null?void 0:V.querySelector(".controls-wrapper");W&&(W.tabIndex=0,W.focus())}}function U(){ge()}function L(){c.muted=!c.muted}function R(be){c.volume=be.detail}function w(be){c.saveLastSelectedVolume(be.detail)}function j(){c.fullscreen?c.exitFullscreen():c.requestFullscreen(o)}function G(be){c.audioTrack=be.detail.shakaAudioTrack}function Z(be){c.selectVideoQuality(be.detail)}function se(){ge()}function ge(){c.ended?(c.dispatchEvent(new gn.util.FakeEvent("replay")),c.play()):c.paused?(c.currentTime===0&&c.dispatchEvent(new gn.util.FakeEvent("umpplay")),c.currentTime!==0&&c.dispatchEvent(new gn.util.FakeEvent("resume")),c.play()):(c.dispatchEvent(new gn.util.FakeEvent("umppause")),c.pause())}function he(be){s.setValue({...s.value,captionSettings:{...s.value.captionSettings,enabled:be.detail.captionId!==-1}}),c.captionTrack=be.detail}function Me(be){s.setValue({...s.value,captionSettings:{...s.value.captionSettings,fontScale:be.detail}})}function Te(be){s.setValue({...s.value,captionSettings:{...s.value.captionSettings,textColor:be.detail}})}function re(be){s.setValue({...s.value,captionSettings:{...s.value.captionSettings,textOpacity:be.detail}})}function Pe(be){s.setValue({...s.value,captionSettings:{...s.value.captionSettings,backgroundColor:be.detail}})}function ke(be){s.setValue({...s.value,captionSettings:{...s.value.captionSettings,backgroundOpacity:be.detail}})}function T(be){s.setValue({...s.value,captionSettings:{...s.value.captionSettings,fontFamily:be.detail}})}function ae(be){s.setValue({...s.value,captionSettings:{...s.value.captionSettings,textShadow:be.detail}})}function me(be){c.playbackRate=be.detail}return()=>{h.removeAllListeners()}}}const Cz=import.meta.url;/*! https://github.com/nevware21/ts-utils v0.11.4 */function ns(o,s){return o||s}function Ui(o,s){return o[s]}var ta=void 0,Er=null,Jx="",M0="function",xf="object",rs="prototype",Qx="__proto__",xl="undefined",_0="constructor",Zx="Symbol",Iz="_polyfill",Ed="length",D0="name",zr="call",P0="toString",Va=ns(Object),eS=Ui(Va,rs),F_=ns(String),Sl=Ui(F_,rs),Mz=ns(Math),B_=ns(Array),L0=Ui(B_,rs),is=Ui(L0,"slice");function Rr(o,s){try{return{v:o.apply(this,s)}}catch(c){return{e:c}}}function _z(o,s){var c=Rr(o);return c.e?s:c.v}var tS;function R0(o){return function(s){return typeof s===o}}function V_(o){var s="[object "+o+"]";return function(c){return!!(c&&Dz(c)===s)}}function Dz(o){return eS[P0].call(o)}function Yn(o){return typeof o===xl||o===xl}function Pz(o){return!nS(o)}function _e(o){return o===Er||Yn(o)}function Lz(o){return o===Er||!nS(o)}function nS(o){return!!o||o!==ta}function Rz(o){return!tS&&(tS=["string","number","boolean",xl,"symbol","bigint"]),o!==xf&&tS.indexOf(o)!==-1}var Dt=R0("string"),Bt=R0(M0);function Oi(o){return!o&&_e(o)?!1:!!o&&typeof o===xf}var Yt=Ui(B_,"isArray"),Nz=V_("Date"),Sf=R0("number"),$_=R0("boolean"),rS=V_("Error");function as(o){return!!(o&&o.then&&Bt(o.then))}function N0(o){return!(!o||_z(function(){return!(o&&0+o)},!o))}var iS=Ui(Va,"getOwnPropertyDescriptor");function wa(o,s){return!!o&&eS.hasOwnProperty[zr](o,s)}var ru=ns(Ui(Va,"hasOwn"),Uz);function Uz(o,s){return wa(o,s)||!!iS(o,s)}function en(o,s,c){if(o&&Oi(o)){for(var h in o)if(ru(o,h)&&s[zr](o,h,o[h])===-1)break}}var U0={e:"enumerable",c:"configurable",v:"value",w:"writable",g:"get",s:"set"};function Oz(o){var s={};if(s[U0.c]=!0,s[U0.e]=!0,o.l){s.get=function(){return o.l.v};var c=iS(o.l,"v");c&&c.set&&(s.set=function(h){o.l.v=h})}return en(o,function(h,d){s[U0[h]]=Pz(d)?s[U0[h]]:d}),s}var os=Ui(Va,"defineProperty");function mn(o,s,c){return os(o,s,Oz(c))}function z_(o,s,c,h,d){var m={};return en(o,function(b,f){O0(m,b,s?f:b,d),O0(m,f,b,d)}),h?h(m):m}function O0(o,s,c,h){os(o,s,{value:c,enumerable:!0,writable:!!h})}var ji=ns(F_),jz="[object Error]";function rt(o,s){var c=Jx,h=eS[P0][zr](o);h===jz&&(o={stack:ji(o.stack),message:ji(o.message),name:ji(o.name)});try{c=JSON.stringify(o,Er,s?typeof s=="number"?s:4:ta),c=(c?c.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: "):Er)||ji(o)}catch(d){c=" - "+rt(d,s)}return h+": "+c}function na(o){throw new Error(o)}function $a(o){throw new TypeError(o)}var H_=Ui(Va,"freeze");function Fz(o){return o}function Bz(o){return o[Qx]||Er}var aS=Ui(Va,"assign"),ss=Ui(Va,"keys");function Cd(o){return H_&&en(o,function(s,c){(Yt(c)||Oi(c))&&Cd(c)}),us(o)}var us=ns(H_,Fz),oS=ns(Ui(Va,"getPrototypeOf"),Bz);function Vz(o){return z_(o,1,0,us)}function $z(o){return z_(o,0,0,us)}function zz(o){var s={};return en(o,function(c,h){O0(s,c,h[1]),O0(s,h[0],h[1])}),us(s)}function Hz(o){return zz(o)}var q_=$z({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),G_="__tsUtils$gblCfg",sS;function K_(){var o;return typeof globalThis!==xl&&(o=globalThis),!o&&typeof self!==xl&&(o=self),!o&&typeof window!==xl&&(o=window),!o&&typeof global!==xl&&(o=global),o}function W_(){if(!sS){var o=Rr(K_).v||{};sS=o[G_]=o[G_]||{}}return sS}var kl=j0;function j0(o,s,c){var h=s?s[o]:Er;return function(d){var m=(d?d[o]:Er)||h;if(m||c){var b=arguments;return(m||c).apply(d,m?is[zr](b,1):b)}$a('"'+ji(o)+'" not defined for '+rt(d))}}function qz(o){return function(s){return s[o]}}var Gz=Ui(Mz,"max"),X_=kl("slice",Sl),so=kl("substring",Sl),iu=j0("substr",Sl,Kz);function Kz(o,s,c){return _e(o)&&$a("Invalid "+rt(o)),c<0?Jx:(s=s||0,s<0&&(s=Gz(s+o[Ed],0)),Yn(c)?X_(o,s):X_(o,s,s+c))}function uS(o,s){return so(o,0,s)}var Y_="_urid",lS;function Wz(){if(!lS){var o=W_();lS=o.gblSym=o.gblSym||{k:{},s:{}}}return lS}var F0;function cS(o){var s={description:ji(o),toString:function(){return Zx+"("+o+")"}};return s[Iz]=!0,s}function Xz(o){var s=Wz();if(!ru(s.k,o)){var c=cS(o),h=ss(s.s).length;c[Y_]=function(){return h+"_"+c[P0]()},s.k[o]=c,s.s[c[Y_]()]=ji(o)}return s.k[o]}function Yz(o){!F0&&(F0={});var s,c=q_[o];return c&&(s=F0[c]=F0[c]||cS(Zx+"."+c)),s}var hr;function au(){hr=W_()}function Jz(o){var s={};return!hr&&au(),s.b=hr.lzy,os(s,"v",{configurable:!0,get:function(){var c=o();return hr.lzy||os(s,"v",{value:c}),s.b=hr.lzy,c}}),s}function xa(o){return os({toJSON:function(){return o}},"v",{value:o})}var J_="window",kf;function Id(o,s){var c;return function(){return!hr&&au(),(!c||hr.lzy)&&(c=xa(Rr(o,s).v)),c.v}}function Sa(o){return!hr&&au(),(!kf||o===!1||hr.lzy)&&(kf=xa(Rr(K_).v||Er)),kf.v}function Jn(o,s){var c;if(!kf||s===!1?c=Sa(s):c=kf.v,c&&c[o])return c[o];if(o===J_)try{return window}catch{}return Er}function Q_(){return!!Hr()}var Hr=Id(Jn,["document"]);function B0(){return!!ra()}var ra=Id(Jn,[J_]);function Qz(){return!!uo()}var uo=Id(Jn,["navigator"]);function Zz(){return!!Z_()}var Z_=Id(Jn,["history"]),eH=Id(function(){return!!Rr(function(){return process&&(process.versions||{}).node}).v}),e6=Id(function(){return!!Rr(function(){return self&&self instanceof WorkerGlobalScope}).v}),Md,dS;function V0(){return Md=xa(Rr(Jn,[Zx]).v),Md}function tH(o){var s=(hr.lzy?0:Md)||V0();return s.v?s.v[o]:ta}function nH(){return!!rH()}function rH(){return!hr&&au(),((hr.lzy?0:Md)||V0()).v}function pS(o,s){var c=q_[o];!hr&&au();var h=(hr.lzy?0:Md)||V0();return h.v?h.v[c||o]:Yz(o)}function Tf(o,s){!hr&&au();var c=(hr.lzy?0:Md)||V0();return c.v?c.v(o):cS(o)}function hS(o){return!hr&&au(),dS=(hr.lzy?0:dS)||xa(Rr(tH,["for"]).v),(dS.v||Xz)(o)}function fS(o){return!!o&&Bt(o.next)}function t6(o){return!Lz(o)&&Bt(o[pS(3)])}var $0;function gS(o,s,c){if(o&&(fS(o)||(!$0&&($0=xa(pS(3))),o=o[$0.v]?o[$0.v]():Er),fS(o))){var h=ta,d=ta;try{for(var m=0;!(d=o.next()).done&&s[zr](c||o,d.value,m,o)!==-1;)m++}catch(b){h={e:b},o.throw&&(d=Er,o.throw(h))}finally{try{d&&!d.done&&o.return&&o.return(d)}finally{if(h)throw h.e}}}}function _d(o,s,c){return o.apply(s,c)}function Dd(o,s){return!Yn(s)&&o&&(Yt(s)?_d(o.push,o,s):fS(s)||t6(s)?gS(s,function(c){o.push(c)}):o.push(s)),o}function nt(o,s,c){if(o)for(var h=o[Ed]>>>0,d=0;d<h&&!(d in o&&s[zr](o,o[d],d,o)===-1);d++);}var ti=kl("indexOf",L0),Af=kl("map",L0);function z0(o,s,c){return((o?o.slice:Er)||is).apply(o,is[zr](arguments,1))}var iH=kl("reduce",L0),ou=ns(Ui(Va,"create"),aH);function aH(o){if(!o)return{};var s=typeof o;s!==xf&&s!==M0&&$a("Prototype must be an Object or function: "+rt(o));function c(){}return c[rs]=o,new c}var mS;function n6(o,s){var c=Va.setPrototypeOf||function(h,d){var m;!mS&&(mS=xa((m={},m[Qx]=[],m instanceof Array))),mS.v?h[Qx]=d:en(d,function(b,f){return h[b]=f})};return c(o,s)}function oH(o,s,c){Rr(mn,[s,D0,{v:o,c:!0,e:!1}]),s=n6(s,c);function h(){this[_0]=s,Rr(mn,[this,D0,{v:o,c:!0,e:!1}])}return s[rs]=c===Er?ou(c):(h[rs]=c[rs],new h),s}function r6(o,s){s&&(o[D0]=s)}function i6(o,s,c){var h=Error,d=h[rs][D0],m=Error.captureStackTrace;return oH(o,function(){var b=this,f=arguments;try{Rr(r6,[h,o]);var A=_d(h,b,is[zr](f))||b;if(A!==b){var M=oS(b);M!==oS(A)&&n6(A,M)}return m&&m(A,b[_0]),s&&s(A,f),A}finally{Rr(r6,[h,d])}},h)}var vS;function sH(o){throw vS||(vS=i6("UnsupportedError")),new vS(o)}function lo(){return(Date.now||uH)()}function uH(){return new Date().getTime()}function lH(o){return function(s){return _e(s)&&$a("strTrim called ["+rt(s)+"]"),s&&s.replace&&(s=s.replace(o,Jx)),s}}var cH=lH(/^\s+|(?=\s)\s+$/g),fr=j0("trim",Sl,cH),yS,bS,wS;function vi(o){if(!o||typeof o!==xf)return!1;wS||(wS=B0()?ra():!0);var s=!1;if(o!==wS){bS||(yS=Function[rs][P0],bS=yS[zr](Va));try{var c=oS(o);s=!c,s||(wa(c,_0)&&(c=c[_0]),s=!!(c&&typeof c===M0&&yS[zr](c)===bS))}catch{}}return s}function dH(o){return o.value&&s6(o),!0}var a6=[gH,s6,vH,mH];function pH(o,s,c,h){var d;return nt(o,function(m){if(m.k===s)return d=m,-1}),d||(d={k:s,v:s},o.push(d),h(d)),d.v}function xS(o,s,c,h){var d=c.handler,m=c.path?h?c.path.concat(h):c.path:[],b={handler:c.handler,src:c.src,path:m},f=typeof s,A=!1,M=s===Er;M||(s&&f===xf?A=vi(s):M=Rz(f));var D={type:f,isPrim:M,isPlain:A,value:s,result:s,path:m,origin:c.src,copy:function(U,L){return xS(o,U,L?b:c,L)},copyTo:function(U,L){return o6(o,U,L,b)}};return D.isPrim?d&&d[zr](c,D)?D.result:s:pH(o,s,m,function(U){mn(D,"result",{g:function(){return U.v},s:function(w){U.v=w}});for(var L=0,R=d;!(R||(L<a6.length?a6[L++]:dH))[zr](c,D);)R=Er})}function o6(o,s,c,h){if(!_e(c))for(var d in c)s[d]=xS(o,c[d],h,d);return s}function hH(o,s,c){var h={handler:c,src:s,path:[]};return o6([],o,s,h)}function fH(o,s){var c={handler:s,src:o};return xS([],o,c)}function gH(o){var s=o.value;if(Yt(s)){var c=o.result=[];return c.length=s.length,o.copyTo(c,s),!0}return!1}function mH(o){var s=o.value;return Nz(s)?(o.result=new Date(s.getTime()),!0):!1}function vH(o){return o.type===M0}function s6(o){var s=o.value;if(s&&o.isPlain){var c=o.result={};return o.copyTo(c,s),!0}return!1}function u6(o,s){return nt(s,function(c){hH(o,c)}),o}function l6(o,s,c,h,d,m,b){return u6(fH(o)||{},is[zr](arguments))}function yH(o,s,c,h,d,m,b){return u6(o||{},is[zr](arguments))}var bH=qz(Ed),SS;function ls(){return!hr&&au(),(!SS||hr.lzy)&&(SS=xa(Rr(Jn,["performance"]).v)),SS.v}var c6=kl("split",Sl);function d6(o,s,c){if(o&&s){var h=c6(s,"."),d=h.pop();nt(h,function(m){_e(o[m])&&(o[m]={}),o=o[m]}),o[d]=c}}var p6=j0("endsWith",Sl,wH);function wH(o,s,c){Dt(o)||$a("'"+rt(o)+"' is not a string");var h=Dt(s)?s:ji(s),d=!Yn(c)&&c<o[Ed]?c:o[Ed];return so(o,d-h[Ed],d)===h}var Fi=kl("indexOf",Sl),kS="ref",TS="unref",AS="hasRef",xH="enabled";function SH(o,s,c){var h=!0,d=o?s(Er):Er,m;function b(){return h=!1,d&&d[TS]&&d[TS](),m}function f(){d&&c(d),d=Er}function A(){return d=s(d),h||b(),m}function M(D){!D&&d&&f(),D&&!d&&A()}return m={cancel:f,refresh:A},m[AS]=function(){return d&&d[AS]?d[AS]():h},m[kS]=function(){return h=!0,d&&d[kS]&&d[kS](),m},m[TS]=b,m=os(m,xH,{get:function(){return!!d},set:M}),{h:m,dn:function(){d=Er}}}function h6(o,s,c){var h=Yt(s),d=h?s.length:0,m=(d>0?s[0]:h?ta:s)||setTimeout,b=(d>1?s[1]:ta)||clearTimeout,f=c[0];c[0]=function(){A.dn(),_d(f,ta,is[zr](arguments))};var A=SH(o,function(M){if(M){if(M.refresh)return M.refresh(),M;_d(b,ta,[M])}return _d(m,ta,c)},function(M){_d(b,ta,[M])});return A.h}function ka(o,s){return h6(!0,ta,is[zr](arguments))}function kH(o,s){return h6(!1,ta,is[zr](arguments))}var H0,q0="constructor",cs="prototype",G0="function",K0="_dynInstFuncs",ES="_isDynProxy",Pd="_dynClass",TH="_dynCls$",CS="_dynInstChk",Ef=CS,f6="_dfOpts",g6="_unknown_",IS="__proto__",W0="_dyn"+IS,m6="__dynProto$Gbl",MS="_dynInstProto",X0="useBaseInst",_S="setInstFuncs",DS=Object,Cf=DS.getPrototypeOf,v6=DS.getOwnPropertyNames,y6=Sa(),PS=y6[m6]||(y6[m6]={o:(H0={},H0[_S]=!0,H0[X0]=!0,H0),n:1e3});function Y0(o){return o&&(o===DS[cs]||o===Array[cs])}function LS(o){return Y0(o)||o===Function[cs]}function Tl(o){var s;if(o){if(Cf)return Cf(o);var c=o[IS]||o[cs]||(o[q0]?o[q0][cs]:null);s=o[W0]||c,wa(o,W0)||(delete o[MS],s=o[W0]=o[MS]||o[W0],o[MS]=c)}return s}function J0(o,s){var c=[];if(v6)c=v6(o);else for(var h in o)typeof h=="string"&&wa(o,h)&&c.push(h);if(c&&c.length>0)for(var d=0;d<c.length;d++)s(c[d])}function RS(o,s,c){return s!==q0&&typeof o[s]===G0&&(c||wa(o,s))&&s!==IS&&s!==cs}function Q0(o){$a("DynamicProto: "+o)}function AH(o){var s=ou(null);return J0(o,function(c){!s[c]&&RS(o,c,!1)&&(s[c]=o[c])}),s}function NS(o,s){for(var c=o.length-1;c>=0;c--)if(o[c]===s)return!0;return!1}function EH(o,s,c,h){function d(A,M,D){var U=M[D];if(U[ES]&&h){var L=A[K0]||{};L[Ef]!==!1&&(U=(L[M[Pd]]||{})[D]||U)}return function(){return U.apply(A,arguments)}}var m=ou(null);J0(c,function(A){m[A]=d(s,c,A)});for(var b=Tl(o),f=[];b&&!LS(b)&&!NS(f,b);)J0(b,function(A){!m[A]&&RS(b,A,!Cf)&&(m[A]=d(s,b,A))}),f.push(b),b=Tl(b);return m}function CH(o,s,c,h){var d=null;if(o&&wa(c,Pd)){var m=o[K0]||ou(null);if(d=(m[c[Pd]]||ou(null))[s],d||Q0("Missing ["+s+"] "+G0),!d[CS]&&m[Ef]!==!1){for(var b=!wa(o,s),f=Tl(o),A=[];b&&f&&!LS(f)&&!NS(A,f);){var M=f[s];if(M){b=M===h;break}A.push(f),f=Tl(f)}try{b&&(o[s]=d),d[CS]=1}catch{m[Ef]=!1}}}return d}function IH(o,s,c){var h=s[o];return h===c&&(h=Tl(s)[o]),typeof h!==G0&&Q0("["+o+"] is not a "+G0),h}function MH(o,s,c,h,d){function m(A,M){var D=function(){var U=CH(this,M,A,D)||IH(M,A,D);return U.apply(this,arguments)};return D[ES]=1,D}if(!Y0(o)){var b=c[K0]=c[K0]||ou(null);if(!Y0(b)){var f=b[s]=b[s]||ou(null);b[Ef]!==!1&&(b[Ef]=!!d),Y0(f)||J0(c,function(A){RS(c,A,!1)&&c[A]!==h[A]&&(f[A]=c[A],delete c[A],(!wa(o,A)||o[A]&&!o[A][ES])&&(o[A]=m(o,A)))})}}}function _H(o,s){if(Cf){for(var c=[],h=Tl(s);h&&!LS(h)&&!NS(c,h);){if(h===o)return!0;c.push(h),h=Tl(h)}return!1}return!0}function US(o,s){return wa(o,cs)?o.name||s||g6:((o||{})[q0]||{}).name||s||g6}function Un(o,s,c,h){wa(o,cs)||Q0("theClass is an invalid class definition.");var d=o[cs];_H(d,s)||Q0("["+US(o)+"] not in hierarchy of ["+US(s)+"]");var m=null;wa(d,Pd)?m=d[Pd]:(m=TH+US(o,"_")+"$"+PS.n,PS.n++,d[Pd]=m);var b=Un[f6],f=!!b[X0];f&&h&&h[X0]!==void 0&&(f=!!h[X0]);var A=AH(s),M=EH(d,s,A,f);c(s,M);var D=!!Cf&&!!b[_S];D&&h&&(D=!!h[_S]),MH(d,m,s,A,D!==!1)}Un[f6]=PS.o;var b6="function",w6="object",OS="undefined",co="prototype",jS=Object,DH=jS[co];(Sa()||{}).Symbol,(Sa()||{}).Reflect;var x6="hasOwnProperty",PH=function(o){for(var s,c=1,h=arguments.length;c<h;c++){s=arguments[c];for(var d in s)DH[x6].call(s,d)&&(o[d]=s[d])}return o},yi=aS||PH,FS=function(o,s){return FS=jS.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var d in h)h[x6](d)&&(c[d]=h[d])},FS(o,s)};function ds(o,s){typeof s!==b6&&s!==null&&$a("Class extends value "+String(s)+" is not a constructor or null"),FS(o,s);function c(){this.constructor=o}o[co]=s===null?ou(s):(c[co]=s[co],new c)}function S6(o,s){for(var c=0,h=s.length,d=o.length;c<h;c++,d++)o[d]=s[c];return o}var k6=Vz,LH=Hz,su=k6({NONE:0,PENDING:3,INACTIVE:1,ACTIVE:2}),Ld="toLowerCase",Z0="blkVal",Nt="length",ey="rdOnly",ty="notify",ny="warnToConsole",If="throwInternal",Rd="setDf",uu="watch",sr="logger",Al="apply",vn="push",Nd="splice",T6="hdlr",Ud="cancel",Mf="initialize",lu="identifier",ry="removeNotificationListener",iy="addNotificationListener",po="isInitialized",A6="instrumentationKey",BS="INACTIVE",_f="value",ay="getNotifyMgr",Df="getPlugin",ps="name",Pf="iKey",Od="time",bi="processNext",E6="getProcessTelContext",C6="pollInternalLogs",jd="enabled",I6="stopPollingInternalLogs",cu="unload",oy="onComplete",sy="version",M6="loggingLevelConsole",El="createNew",hs="teardown",uy="messageId",Cl="message",Fd="isAsync",fs="diagLog",ly="_doTeardown",Lf="update",ho="getNext",Rf="setNextPlugin",_6="protocol",VS="userAgent",Bd="split",$S="nodeType",Il="replace",D6="logInternalMessage",gs="type",zS="handler",Nf="status",P6="getResponseHeader",L6="getAllResponseHeaders",HS="isChildEvt",Vd="data",$d="getCtx",fo="setCtx",qS="complete",R6="itemsReceived",Uf="urlString",N6="sendPOST",GS="headers",zd="timeout",U6="setRequestHeader",KS="traceId",WS="spanId",XS="traceFlags",YS="getAttribute",JS;function RH(o,s){JS||(JS=i6("AggregationError",function(h,d){d[Nt]>1&&(h.errors=d[1])}));var c=o;throw nt(s,function(h,d){c+=`
`.concat(d," > ").concat(rt(h))}),new JS(c,s||[])}/*!
 * NevWare21 Solutions LLC - ts-async, 0.5.2
 * https://github.com/nevware21/ts-async
 * Copyright (c) NevWare21 Solutions LLC and contributors. All rights reserved.
 * Licensed under the MIT license.
 */var cy="Promise",QS="rejected";function ms(o,s){return O6(o,function(c){return s?s({status:"fulfilled",rejected:!1,value:c}):c},function(c){return s?s({status:QS,rejected:!0,reason:c}):c})}function O6(o,s,c,h){var d=o;try{if(as(o))(s||c)&&(d=o.then(s,c));else try{s&&(d=s(o))}catch(m){if(c)d=c(m);else throw m}}finally{}return d}var j6=["pending","resolving","resolved",QS],F6="dispatchEvent",dy;function NH(o){var s;return o&&o.createEvent&&(s=o.createEvent("Event")),!!s&&s.initEvent}function UH(o,s,c,h){var d=Hr();!dy&&(dy=xa(!!Rr(NH,[d]).v));var m=dy.v?d.createEvent("Event"):h?new Event(s):{};if(c&&c(m),dy.v&&m.initEvent(s,!1,!0),m&&o[F6])o[F6](m);else{var b=o["on"+s];if(b)b(m);else{var f=Jn("console");f&&(f.error||f.log)(s,rt(m))}}}var B6="unhandledRejection",OH=B6.toLowerCase(),V6=[],jH=0,FH=10,ZS;function $6(o){return Bt(o)?o.toString():rt(o)}function z6(o,s,c){var h=z0(arguments,3),d=0,m=!1,b,f=[],A=jH++,M=!1,D=null,U;function L(he,Me){try{V6.push(A),M=!0,D&&D.cancel(),D=null;var Te=o(function(re,Pe){f.push(function(){try{var ke=d===2?he:Me,T=Yn(ke)?b:Bt(ke)?ke(b):ke;as(T)?T.then(re,Pe):ke?re(T):d===3?Pe(T):re(T)}catch(ae){Pe(ae)}}),m&&G()},h);return Te}finally{V6.pop()}}function R(he){return L(void 0,he)}function w(he){var Me=he,Te=he;return Bt(he)&&(Me=function(re){return he&&he(),re},Te=function(re){throw he&&he(),re}),L(Me,Te)}function j(){return j6[d]}function G(){if(f.length>0){var he=f.slice();f=[],M=!0,D&&D.cancel(),D=null,s(he)}}function Z(he,Me){return function(Te){if(d===Me){if(he===2&&as(Te)){d=1,Te.then(Z(2,1),Z(3,1));return}d=he,m=!0,b=Te,G(),!M&&he===3&&!D&&(D=ka(se,FH))}}}function se(){if(!M)if(M=!0,eH())process.emit(B6,b,U);else{var he=ra()||Sa();!ZS&&(ZS=xa(Rr(Jn,[cy+"RejectionEvent"]).v)),UH(he,OH,function(Me){return mn(Me,"promise",{g:function(){return U}}),Me.reason=b,Me},!!ZS.v)}}U={then:L,catch:R,finally:w},os(U,"state",{get:j}),nH()&&(U[pS(11)]="IPromise");function ge(){return"IPromise "+j()+(m?" - "+$6(b):"")}return U.toString=ge,function(){Bt(c)||$a(cy+": executor is not a function - "+$6(c));var he=Z(3,0);try{c.call(U,Z(2,0),he)}catch(Me){he(Me)}}(),U}function BH(o){return function(s){var c=z0(arguments,1);return o(function(h,d){try{var m=[],b=1;gS(s,function(f,A){f&&(b++,O6(f,function(M){m[A]=M,--b===0&&h(m)},d))}),b--,b===0&&h(m)}catch(f){d(f)}},c)}}function VH(o){return xa(function(s){var c=z0(arguments,1);return o(function(h,d){var m=[],b=1;function f(A,M){b++,ms(A,function(D){D.rejected?m[M]={status:QS,reason:D.reason}:m[M]={status:"fulfilled",value:D.value},--b===0&&h(m)})}try{Yt(s)?nt(s,f):t6(s)?gS(s,f):$a("Input is not an iterable"),b--,b===0&&h(m)}catch(A){d(A)}},c)})}function H6(o){nt(o,function(s){try{s()}catch{}})}function $H(o){var s=Sf(o)?o:0;return function(c){ka(function(){H6(c)},s)}}function q6(o,s){return z6(q6,$H(s),o,s)}var ek;function zH(o,s){!ek&&(ek=xa(Rr(Jn,[cy]).v||null));var c=ek.v;if(!c)return q6(o);Bt(o)||$a(cy+": executor is not a function - "+rt(o));var h=0;function d(){return j6[h]}var m=new c(function(b,f){function A(D){h=2,b(D)}function M(D){h=3,f(D)}o(A,M)});return os(m,"state",{get:d}),m}var tk;function Of(o){return z6(Of,H6,o)}function HH(o,s){return!tk&&(tk=VH(Of)),tk.v(o,s)}var nk;function du(o,s){return!nk&&(nk=xa(zH)),nk.v.call(this,o,s)}var qH=BH(du),go=void 0,dn="",Ml="channels",Cr="core",rk="createPerfMgr",ik="disabled",Hd="extensionConfig",qd="extensions",mo="processTelemetry",py="priority",hy="eventsSent",jf="eventsDiscarded",fy="eventsSendRequest",_l="perfEvent",ak="offlineEventsStored",ok="offlineBatchSent",sk="offlineBatchDrop",gy="getPerfMgr",uk="domain",lk="path",GH="Not dynamic - ",KH="getPrototypeOf",WH=/-([a-z])/g,XH=/([^\w\d_$])/g,YH=/^(\d+[\w\d_$])/,JH=Object[KH];function Dl(o){return!_e(o)}function my(o){var s=o;return s&&Dt(s)&&(s=s[Il](WH,function(c,h){return h.toUpperCase()}),s=s[Il](XH,"_"),s=s[Il](YH,function(c,h){return"_"+h})),s}function ni(o,s){return o&&s?Fi(o,s)!==-1:!1}function Gd(o){return o&&o.toISOString()||""}function wn(o){return rS(o)?o[ps]:dn}function Ln(o,s,c,h,d){var m=c;return o&&(m=o[s],m!==c&&(!d||d(m))&&(!h||h(c))&&(m=c,o[s]=m)),m}function wi(o,s,c){var h;return o?(h=o[s],!h&&_e(h)&&(h=Yn(c)?{}:c,o[s]=h)):h=Yn(c)?{}:c,h}function G6(o,s){var c=null,h=null;return Bt(o)?c=o:h=o,function(){var d=arguments;if(c&&(h=c()),h)return h[s][Al](h,d)}}function QH(o,s,c){if(o&&s&&Oi(o)&&Oi(s)){var h=function(m){if(Dt(m)){var b=s[m];Bt(b)?(!c||c(m,!0,s,o))&&(o[m]=G6(s,m)):(!c||c(m,!1,s,o))&&(ru(o,m)&&delete o[m],mn(o,m,{g:function(){return s[m]},s:function(f){s[m]=f}}))}};for(var d in s)h(d)}return o}function vy(o,s,c,h,d){o&&s&&c&&(o[s]=G6(c,h))}function Ff(o,s,c,h){return o&&s&&Oi(o)&&Yt(c)&&nt(c,function(d){Dt(d)&&vy(o,d,s,d)}),o}function ZH(o){return function(){function s(){var c=this;o&&en(o,function(h,d){c[h]=d})}return s}()}function K6(o){return o&&aS&&(o=jS(aS({},o))),o}function W6(o,s,c,h,d,m){var b=arguments,f=b[0]||{},A=b[Nt],M=!1,D=1;for(A>0&&$_(f)&&(M=f,f=b[D]||{},D++),Oi(f)||(f={});D<A;D++){var U=b[D],L=Yt(U),R=Oi(U);for(var w in U){var j=L&&w in U||R&&ru(U,w);if(j){var G=U[w],Z=void 0;if(M&&G&&((Z=Yt(G))||vi(G))){var se=f[w];Z?Yt(se)||(se=[]):vi(se)||(se={}),G=W6(M,se,G)}G!==void 0&&(f[w]=G)}}}return f}function ck(o,s){var c=!1,h=s&&s.featureOptIn&&s.featureOptIn[o];if(o&&h){var d=h.mode;c=d==3||d==1}return c}function yy(o){try{return o.responseText}catch{}return null}function X6(o,s){return o?"XDomainRequest,Response:"+yy(o)||"":s}function by(o,s){return o?"XMLHttpRequest,Status:"+o[Nf]+",Response:"+yy(o)||o.response||"":s}function Y6(o,s){return s&&(Sf(s)?o=[s].concat(o):Yt(s)&&(o=s.concat(o))),o}var eq="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",J6="withCredentials",tq="timeout";function nq(o,s,c,h,d,m){d===void 0&&(d=!1);function b(A,M,D){try{A[M]=D}catch{}}var f=new XMLHttpRequest;return b(f,eq,h),c&&b(f,J6,c),f.open(o,s,!d),c&&b(f,J6,c),!d&&m&&b(f,tq,m),f}function rq(o){var s={};if(Dt(o)){var c=fr(o)[Bd](/[\r\n]+/);nt(c,function(h){if(h){var d=h.indexOf(": ");if(d!==-1){var m=fr(h.substring(0,d))[Ld](),b=fr(h.substring(d+1));s[m]=b}else s[fr(h)]=1}})}return s}function dk(o,s,c){if(!o[c]&&s&&s[P6]){var h=s[P6](c);h&&(o[c]=fr(h))}return o}var iq="kill-duration",aq="kill-duration-seconds",oq="time-delta-millis";function pk(o,s){var c={};return o[L6]?c=rq(o[L6]()):s&&(c=dk(c,o,oq),c=dk(c,o,iq),c=dk(c,o,aq)),c}var sq="documentMode",uq="location",lq="console",Q6="JSON",cq="crypto",dq="msCrypto",pq="ReactNative",hk="msie",fk="trident/",Z6="XMLHttpRequest",gk=null,mk=null,hq=!1,Kd=null,vk=null;function eD(o,s){var c=!1;if(o){try{if(c=s in o,!c){var h=o[co];h&&(c=s in h)}}catch{}if(!c)try{var d=new o;c=!Yn(d[s])}catch{}}return c}function vo(o){if(o&&hq){var s=Jn("__mockLocation");if(s)return s}return typeof location===w6&&location?location:Jn(uq)}function fq(){return typeof console!==OS?console:Jn(lq)}function Bf(){return!!(typeof JSON===w6&&JSON||Jn(Q6)!==null)}function za(){return Bf()?JSON||Jn(Q6):null}function gq(){return Jn(cq)}function mq(){return Jn(dq)}function vq(){var o=uo();return o&&o.product?o.product===pq:!1}function yk(){var o=uo();if(o&&(o[VS]!==mk||gk===null)){mk=o[VS];var s=(mk||dn)[Ld]();gk=ni(s,hk)||ni(s,fk)}return gk}function tD(o){if(o===void 0&&(o=null),!o){var s=uo()||{};o=s?(s.userAgent||dn)[Ld]():dn}var c=(o||dn)[Ld]();if(ni(c,hk)){var h=Hr()||{};return Math.max(parseInt(c[Bd](hk)[1]),h[sq]||0)}else if(ni(c,fk)){var d=parseInt(c[Bd](fk)[1]);if(d)return d+4}return null}function Vf(o){return(vk===null||o===!1)&&(vk=Qz()&&!!uo().sendBeacon),vk}function bk(o){var s=!1;try{s=!!Jn("fetch");var c=Jn("Request");s&&o&&c&&(s=eD(c,"keepalive"))}catch{}return s}function yq(){return Kd===null&&(Kd=typeof XDomainRequest!==OS,Kd&&wy()&&(Kd=Kd&&!eD(Jn(Z6),"withCredentials"))),Kd}function wy(){var o=!1;try{var s=Jn(Z6);o=!!s}catch{}return o}function bq(o,s){return o&&o.dispatchEvent&&s?(o.dispatchEvent(s),!0):!1}function wq(o,s){var c=null,h={detail:s||null};if(Bt(CustomEvent))c=new CustomEvent(o,h);else{var d=Hr();d&&d.createEvent&&(c=d.createEvent("CustomEvent"),c.initCustomEvent(o,!0,!0,h))}return c}function xq(o,s,c){var h=Sa();if(h&&h.CustomEvent)try{var d={cfg:s||null,customDetails:c||null};return bq(h,wq(o,d))}catch{}return!1}var nD=4294967296,pu=4294967295,rD=123456789,iD=987654321,aD=!1,$f=rD,zf=iD;function Sq(o){o<0&&(o>>>=0),$f=rD+o&pu,zf=iD-o&pu,aD=!0}function kq(){try{var o=lo()&2147483647;Sq((Math.random()*nD^o)+o)}catch{}}function Tq(o){return Math.floor(Hf()/pu*(o+1))>>>0}function Hf(o){var s=0,c=gq()||mq();return c&&c.getRandomValues&&(s=c.getRandomValues(new Uint32Array(1))[0]&pu),s===0&&yk()&&(aD||kq(),s=Aq()&pu),s===0&&(s=Math.floor(nD*Math.random()|0)),s>>>=0,s}function Aq(o){zf=36969*(zf&65535)+(zf>>16)&pu,$f=18e3*($f&65535)+($f>>16)&pu;var s=(zf<<16)+($f&65535)>>>0&pu|0;return s>>>=0,s}function wk(o){o===void 0&&(o=22);for(var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=Hf()>>>0,h=0,d=dn;d[Nt]<o;)h++,d+=s.charAt(c&63),c>>>=6,h===5&&(c=(Hf()<<2&4294967295|c&3)>>>0,h=0);return d}var oD="3.3.3",Eq="."+wk(6),Cq=0;function sD(o){return o[$S]===1||o[$S]===9||!+o[$S]}function Iq(o,s){var c=s[o.id];if(!c){c={};try{sD(s)&&mn(s,o.id,{e:!1,v:c})}catch{}}return c}function Ta(o,s){return s===void 0&&(s=!1),my(o+Cq+++(s?"."+oD:dn)+Eq)}function uD(o){var s={id:Ta("_aiData-"+(o||dn)+"."+oD),accept:function(c){return sD(c)},get:function(c,h,d,m){var b=c[s.id];return b?b[my(h)]:(m&&(b=Iq(s,c),b[my(h)]=d),d)},kill:function(c,h){if(c&&c[h])try{delete c[h]}catch{}}};return s}function xy(o){return o&&Oi(o)&&(o.isVal||o.fb||ru(o,"v")||ru(o,"mrg")||ru(o,"ref")||o.set)}function lD(o,s,c){var h,d=c.dfVal||nS;if(s&&c.fb){var m=c.fb;Yt(m)||(m=[m]);for(var b=0;b<m[Nt];b++){var f=m[b],A=s[f];if(d(A)?h=A:o&&(A=o.cfg[f],d(A)&&(h=A),o.set(o.cfg,ji(f),A)),d(h))break}}return!d(h)&&d(c.v)&&(h=c.v),h}function xk(o,s,c){var h=c;if(c&&xy(c)&&(h=lD(o,s,c)),h){xy(h)&&(h=xk(o,s,h));var d;Yt(h)?(d=[],d[Nt]=h[Nt]):vi(h)&&(d={}),d&&(en(h,function(m,b){b&&xy(b)&&(b=xk(o,s,b)),d[m]=b}),h=d)}return h}function Sk(o,s,c,h){var d,m,b,f=h,A,M,D,U;xy(f)?(d=f.isVal,m=f.set,D=f[ey],U=f[Z0],A=f.mrg,M=f.ref,!M&&Yn(M)&&(M=!!A),b=lD(o,s,f)):b=h,U&&o[Z0](s,c);var L,R=!0,w=s[c];(w||!_e(w))&&(L=w,R=!1,d&&L!==b&&!d(L)&&(L=b,R=!0),m&&(L=m(L,b,s),R=L===b)),R?b?L=xk(o,s,b):L=b:(vi(L)||Yt(b))&&A&&b&&(vi(b)||Yt(b))&&en(b,function(j,G){Sk(o,L,j,G)}),o.set(s,c,L),M&&o.ref(s,c),D&&o[ey](s,c)}var hu=hS("[[ai_dynCfg_1]]"),cD=hS("[[ai_blkDynCfg_1]]"),Mq=hS("[[ai_frcDynCfg_1]]");function dD(o){if(o){var s;if(Yt(o)?(s=[],s[Nt]=o[Nt]):vi(o)&&(s={}),s)return en(o,function(c,h){s[c]=dD(h)}),s}return o}function _q(o){if(o){var s=o[hu]||o;if(s.cfg&&(s.cfg===o||s.cfg[hu]===s))return s}return null}function Dq(o){if(o&&(vi(o)||Yt(o)))try{o[cD]=!0}catch{}return o}function kk(o,s,c){var h=!1;return c&&!o[s.blkVal]&&(h=c[Mq],!h&&!c[cD]&&(h=vi(c)||Yt(c))),h}function pD(o){$a("InvalidAccess:"+o)}var Pq=["push","pop","shift","unshift","splice"],qf=function(o,s,c,h){o&&o[If](3,108,"".concat(c," [").concat(s,"] failed - ")+rt(h))};function Lq(o,s,c){Yt(s)&&nt(Pq,function(h){var d=s[h];s[h]=function(){for(var m=[],b=0;b<arguments.length;b++)m[b]=arguments[b];var f=d[Al](this,m);return Ty(o,s,c,"Patching"),f}})}function Sy(o,s){var c=iS(o,s);return c&&c.get}function Rq(o,s,c,h){var d={n:c,h:[],trk:function(M){M&&M.fn&&(ti(d.h,M)===-1&&d.h[vn](M),o.trk(M,d))},clr:function(M){var D=ti(d.h,M);D!==-1&&d.h[Nd](D,1)}},m=!0,b=!1;function f(){m&&(b=b||kk(f,o,h),h&&!h[hu]&&b&&(h=Ty(o,h,c,"Converting")),m=!1);var M=o.act;return M&&d.trk(M),h}f[o.prop]={chng:function(){o.add(d)}};function A(M){if(h!==M){f[o.ro]&&!o.upd&&pD("["+c+"] is read-only:"+rt(s)),m&&(b=b||kk(f,o,h),m=!1);var D=b&&f[o.rf];if(b)if(D){en(h,function(L){h[L]=M?M[L]:go});try{en(M,function(L,R){ky(o,h,L,R)}),M=h}catch(L){qf((o.hdlr||{})[sr],c,"Assigning",L),b=!1}}else h&&h[hu]&&en(h,function(L){var R=Sy(h,L);if(R){var w=R[o.prop];w&&w.chng()}});if(M!==h){var U=M&&kk(f,o,M);!D&&U&&(M=Ty(o,M,c,"Converting")),h=M,b=U}o.add(d)}}mn(s,d.n,{g:f,s:A})}function ky(o,s,c,h){if(s){var d=Sy(s,c),m=d&&!!d[o.prop];m?s[c]=h:Rq(o,s,c,h)}return s}function Tk(o,s,c,h){if(s){var d=Sy(s,c),m=d&&!!d[o.prop],b=h&&h[0],f=h&&h[1],A=h&&h[2];if(!m){if(A)try{Dq(s)}catch(M){qf((o.hdlr||{})[sr],c,"Blocking",M)}try{ky(o,s,c,s[c]),d=Sy(s,c)}catch(M){qf((o.hdlr||{})[sr],c,"State",M)}}b&&(d[o.rf]=b),f&&(d[o.ro]=f),A&&(d[o.blkVal]=!0)}return s}function Ty(o,s,c,h){try{en(s,function(d,m){ky(o,s,d,m)}),s[hu]||(os(s,hu,{get:function(){return o[T6]}}),Lq(o,s,c))}catch(d){qf((o.hdlr||{})[sr],c,h,d)}return s}var Gf="[[ai_",Kf="]]";function Nq(o){var s,c=Tf(Gf+"get"+o.uid+Kf),h=Tf(Gf+"ro"+o.uid+Kf),d=Tf(Gf+"rf"+o.uid+Kf),m=Tf(Gf+"blkVal"+o.uid+Kf),b=Tf(Gf+"dtl"+o.uid+Kf),f=null,A=null,M;function D(w,j){var G=M.act;try{M.act=w,w&&w[b]&&(nt(w[b],function(se){se.clr(w)}),w[b]=[]),j({cfg:o.cfg,set:o.set.bind(o),setDf:o[Rd].bind(o),ref:o.ref.bind(o),rdOnly:o[ey].bind(o)})}catch(se){var Z=o[sr];throw Z&&Z[If](1,107,rt(se)),se}finally{M.act=G||null}}function U(){if(f){var w=f;f=null,A&&A[Ud](),A=null;var j=[];if(nt(w,function(G){if(G&&(G[b]&&(nt(G[b],function(Z){Z.clr(G)}),G[b]=null),G.fn))try{D(G,G.fn)}catch(Z){j[vn](Z)}}),f)try{U()}catch(G){j[vn](G)}j[Nt]>0&&RH("Watcher error(s): ",j)}}function L(w){if(w&&w.h[Nt]>0){f||(f=[]),A||(A=ka(function(){A=null,U()},0));for(var j=0;j<w.h[Nt];j++){var G=w.h[j];G&&ti(f,G)===-1&&f[vn](G)}}}function R(w,j){if(w){var G=w[b]=w[b]||[];ti(G,j)===-1&&G[vn](j)}}return M=(s={prop:c,ro:h,rf:d},s[Z0]=m,s[T6]=o,s.add=L,s[ty]=U,s.use=D,s.trk=R,s),M}function Uq(o,s){var c={fn:s,rm:function(){c.fn=null,o=null,s=null}};return mn(c,"toJSON",{v:function(){return"WatcherHandler"+(c.fn?"":"[X]")}}),o.use(c,s),c}function Oq(o,s,c){var h,d=_q(s);if(d)return d;var m=Ta("dyncfg",!0),b=s&&c!==!1?s:dD(s),f;function A(){f[ty]()}function M(Z,se,ge){try{Z=ky(f,Z,se,ge)}catch(he){qf(o,se,"Setting value",he)}return Z[se]}function D(Z){return Uq(f,Z)}function U(Z,se){f.use(null,function(ge){var he=f.upd;try{Yn(se)||(f.upd=se),Z(ge)}finally{f.upd=he}})}function L(Z,se){var ge;return Tk(f,Z,se,(ge={},ge[0]=!0,ge))[se]}function R(Z,se){var ge;return Tk(f,Z,se,(ge={},ge[1]=!0,ge))[se]}function w(Z,se){var ge;return Tk(f,Z,se,(ge={},ge[2]=!0,ge))[se]}function j(Z,se){return se&&en(se,function(ge,he){Sk(G,Z,ge,he)}),Z}var G=(h={uid:null,cfg:b},h[sr]=o,h[ty]=A,h.set=M,h[Rd]=j,h[uu]=D,h.ref=L,h[ey]=R,h[Z0]=w,h._block=U,h);return mn(G,"uid",{c:!1,e:!1,w:!1,v:m}),f=Nq(G),Ty(f,b,"config","Creating"),G}function jq(o,s){o?(o[ny](s),o[If](2,108,s)):pD(s)}function Aa(o,s,c,h){var d=Oq(c,o||{},h);return s&&d[Rd](d.cfg,s),d}function ur(o,s,c){var h=o[hu]||o;return h.cfg&&(h.cfg===o||h.cfg[hu]===h)?h[uu](s):(jq(c,GH+rt(o)),Aa(o,null,c)[uu](s))}function Wd(o,s){if(o&&o[cu])return o[cu](s)}function hD(o,s,c){var h;return c||(h=du(function(d){c=d})),o&&bH(o)>0?ms(Wd(o[0],s),function(){hD(z0(o,1),s,c)}):c(),h}var Fq=500,fD="Microsoft_ApplicationInsights_BypassAjaxInstrumentation";function Bq(o,s,c){return!o&&_e(o)?s:$_(o)?o:ji(o)[Ld]()==="true"}function Ha(o){return{mrg:!0,v:o}}function gD(o,s){return{set:o,v:s}}function Ay(o,s,c){return{fb:c,isVal:o,v:s}}function gr(o,s){return{fb:s,set:Bq,v:!!o}}function Vq(o){return{isVal:Dt,v:ji(dn)}}var Ak=[hy,jf,fy,_l],Ey=null,Cy;function $q(o,s){return function(){var c=arguments,h=mD(s);if(h){var d=h.listener;d&&d[o]&&d[o][Al](d,c)}}}function zq(){var o=Jn("Microsoft");return o&&(Ey=o.ApplicationInsights),Ey}function mD(o){var s=Ey;return!s&&o.disableDbgExt!==!0&&(s=Ey||zq()),s?s.ChromeDbgExt:null}function Hq(o){if(!Cy){Cy={};for(var s=0;s<Ak[Nt];s++)Cy[Ak[s]]=$q(Ak[s],o)}return Cy}var Xd,vD="warnToConsole",qq="AI (Internal): ",Gq="AI: ",Kq="AITR_",Wq={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},Xq=(Xd={},Xd[0]=null,Xd[1]="errorToConsole",Xd[2]=vD,Xd[3]="debugToConsole",Xd);function yD(o){return o?'"'+o[Il](/\"/g,dn)+'"':dn}function Ek(o,s){var c=fq();if(c){var h="log";c[o]&&(h=o),Bt(c[h])&&c[h](s)}}var Wf=function(){function o(s,c,h,d){h===void 0&&(h=!1);var m=this;m[uy]=s,m[Cl]=(h?Gq:qq)+s;var b=dn;Bf()&&(b=za().stringify(d));var f=(c?" message:"+yD(c):dn)+(d?" props:"+yD(b):dn);m[Cl]+=f}return o.dataType="MessageData",o}();function Pl(o,s){return(o||{})[sr]||new Iy(s)}var Iy=function(){function o(s){this.identifier="DiagnosticLogger",this.queue=[];var c=0,h={},d,m,b,f,A;Un(o,this,function(M){A=U(s||{}),M.consoleLoggingLevel=function(){return d},M[If]=function(w,j,G,Z,se){se===void 0&&(se=!1);var ge=new Wf(j,G,se,Z);if(f)throw rt(ge);var he=Xq[w]||vD;if(Yn(ge[Cl]))R("throw"+(w===1?"Critical":"Warning"),ge);else{if(se){var Me=+ge[uy];!h[Me]&&d>=w&&(M[he](ge[Cl]),h[Me]=!0)}else d>=w&&M[he](ge[Cl]);D(w,ge)}},M.debugToConsole=function(w){Ek("debug",w),R("warning",w)},M[ny]=function(w){Ek("warn",w),R("warning",w)},M.errorToConsole=function(w){Ek("error",w),R("error",w)},M.resetInternalMessageCount=function(){c=0,h={}},M[D6]=D,M[cu]=function(w){A&&A.rm(),A=null};function D(w,j){if(!L()){var G=!0,Z=Kq+j[uy];if(h[Z]?G=!1:h[Z]=!0,G&&(w<=m&&(M.queue[vn](j),c++,R(w===1?"error":"warn",j)),c===b)){var se="Internal events throttle limit per PageView reached for this app.",ge=new Wf(23,se,!1);M.queue[vn](ge),w===1?M.errorToConsole(se):M[ny](se)}}}function U(w){return ur(Aa(w,Wq,M).cfg,function(j){var G=j.cfg;d=G[M6],m=G.loggingLevelTelemetry,b=G.maxMessageLimit,f=G.enableDebug})}function L(){return c>=b}function R(w,j){var G=mD(s||{});G&&G[fs]&&G[fs](w,j)}})}return o.__ieDyn=1,o}();function Ck(o){return o||new Iy}function Fe(o,s,c,h,d,m){m===void 0&&(m=!1),Ck(o)[If](s,c,h,d,m)}function Ll(o,s){Ck(o)[ny](s)}function Yq(o,s,c){Ck(o)[D6](s,c)}var Ik,Rl,bD="toGMTString",wD="toUTCString",Mk="cookie",_k="expires",xD="isCookieUseDisabled",Dk="disableCookiesUsage",Yd="_ckMgr",My=null,Pk=null,SD=null,yo,kD={},_y={},Jq=(Ik={cookieCfg:Ha((Rl={},Rl[uk]={fb:"cookieDomain",dfVal:Dl},Rl.path={fb:"cookiePath",dfVal:Dl},Rl.enabled=go,Rl.ignoreCookies=go,Rl.blockedCookies=go,Rl)),cookieDomain:go,cookiePath:go},Ik[Dk]=go,Ik);function Lk(){!yo&&(yo=Jz(function(){return Hr()}))}function Qq(o,s){var c=Py[Yd]||_y[Yd];return c||(c=Py[Yd]=Py(o,s),_y[Yd]=c),c}function Dy(o){return o?o.isEnabled():!0}function TD(o,s){return s&&o&&Yt(o.ignoreCookies)?ti(o.ignoreCookies,s)!==-1:!1}function Zq(o,s){return s&&o&&Yt(o.blockedCookies)&&ti(o.blockedCookies,s)!==-1?!0:TD(o,s)}function AD(o,s){var c=s[jd];if(_e(c)){var h=void 0;Yn(o[xD])||(h=!o[xD]),Yn(o[Dk])||(h=!o[Dk]),c=h}return c}function Rk(o,s){var c;return o&&(c=o.getCookieMgr()),c||(c=Qq(s,(o||{})[sr])),c}function Py(o,s){var c,h,d,m,b,f,A,M,D;o=Aa(o||_y,null,s).cfg,b=ur(o,function(L){L[Rd](L.cfg,Jq),h=L.ref(L.cfg,"cookieCfg"),d=h[lk]||"/",m=h[uk],f=AD(o,h)!==!1,A=h.getCookie||eG,M=h.setCookie||_D,D=h.delCookie||_D},s);var U=(c={isEnabled:function(){var L=AD(o,h)!==!1&&f&&ED(s),R=_y[Yd];return L&&R&&U!==R&&(L=Dy(R)),L},setEnabled:function(L){f=L!==!1,h[jd]=L},set:function(L,R,w,j,G){var Z=!1;if(Dy(U)&&!Zq(h,L)){var se={},ge=fr(R||dn),he=Fi(ge,";");if(he!==-1&&(ge=fr(uS(R,he)),se=CD(so(R,he+1))),Ln(se,uk,j||m,N0,Yn),!_e(w)){var Me=yk();if(Yn(se[_k])){var Te=lo(),re=Te+w*1e3;if(re>0){var Pe=new Date;Pe.setTime(re),Ln(se,_k,ID(Pe,Me?bD:wD)||ID(Pe,Me?bD:wD)||dn,N0)}}Me||Ln(se,"max-age",dn+w,null,Yn)}var ke=vo();ke&&ke[_6]==="https:"&&(Ln(se,"secure",null,null,Yn),Pk===null&&(Pk=!tG((uo()||{})[VS])),Pk&&Ln(se,"SameSite","None",null,Yn)),Ln(se,lk,G||d,null,Yn),M(L,MD(ge,se)),Z=!0}return Z},get:function(L){var R=dn;return Dy(U)&&!TD(h,L)&&(R=A(L)),R},del:function(L,R){var w=!1;return Dy(U)&&(w=U.purge(L,R)),w},purge:function(L,R){var w,j=!1;if(ED(s)){var G=(w={},w[lk]=R||"/",w[_k]="Thu, 01 Jan 1970 00:00:01 GMT",w);yk()||(G["max-age"]="0"),D(L,MD(dn,G)),j=!0}return j}},c[cu]=function(L){b&&b.rm(),b=null},c);return U[Yd]=U,U}function ED(o){if(My===null){My=!1,!yo&&Lk();try{var s=yo.v||{};My=s[Mk]!==void 0}catch(c){Fe(o,2,68,"Cannot access document.cookie - "+wn(c),{exception:rt(c)})}}return My}function CD(o){var s={};if(o&&o[Nt]){var c=fr(o)[Bd](";");nt(c,function(h){if(h=fr(h||dn),h){var d=Fi(h,"=");d===-1?s[h]=null:s[fr(uS(h,d))]=fr(so(h,d+1))}})}return s}function ID(o,s){return Bt(o[s])?o[s]():null}function MD(o,s){var c=o||dn;return en(s,function(h,d){c+="; "+h+(_e(d)?dn:"="+d)}),c}function eG(o){var s=dn;if(!yo&&Lk(),yo.v){var c=yo.v[Mk]||dn;SD!==c&&(kD=CD(c),SD=c),s=fr(kD[o]||dn)}return s}function _D(o,s){!yo&&Lk(),yo.v&&(yo.v[Mk]=o+"="+s)}function tG(o){return Dt(o)?!!(ni(o,"CPU iPhone OS 12")||ni(o,"iPad; CPU OS 12")||ni(o,"Macintosh; Intel Mac OS X 10_14")&&ni(o,"Version/")&&ni(o,"Safari")||ni(o,"Macintosh; Intel Mac OS X 10_14")&&p6(o,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||ni(o,"Chrome/5")||ni(o,"Chrome/6")||ni(o,"UnrealEngine")&&!ni(o,"Chrome")||ni(o,"UCBrowser/12")||ni(o,"UCBrowser/11")):!1}var nG={perfEvtsSendAll:!1};function rG(o){o.h=null;var s=o.cb;o.cb=[],nt(s,function(c){Rr(c.fn,[c.arg])})}function fu(o,s,c,h){nt(o,function(d){d&&d[s]&&(c?(c.cb[vn]({fn:h,arg:d}),c.h=c.h||ka(rG,0,c)):Rr(h,[d]))})}var iG=function(){function o(s){this.listeners=[];var c,h,d=[],m={h:null,cb:[]},b=Aa(s,nG);h=b[uu](function(f){c=!!f.cfg.perfEvtsSendAll}),Un(o,this,function(f){mn(f,"listeners",{g:function(){return d}}),f[iy]=function(A){d[vn](A)},f[ry]=function(A){for(var M=ti(d,A);M>-1;)d[Nd](M,1),M=ti(d,A)},f[hy]=function(A){fu(d,hy,m,function(M){M[hy](A)})},f[jf]=function(A,M){fu(d,jf,m,function(D){D[jf](A,M)})},f[fy]=function(A,M){fu(d,fy,M?m:null,function(D){D[fy](A,M)})},f[_l]=function(A){A&&(c||!A[HS]())&&fu(d,_l,null,function(M){A[Fd]?ka(function(){return M[_l](A)},0):M[_l](A)})},f[ak]=function(A){A&&A[Nt]&&fu(d,ak,m,function(M){M[ak](A)})},f[ok]=function(A){A&&A[Vd]&&fu(d,ok,m,function(M){M[ok](A)})},f[sk]=function(A,M){if(A>0){var D=M||0;fu(d,sk,m,function(U){U[sk](A,D)})}},f[cu]=function(A){var M=function(){h&&h.rm(),h=null,d=[],m.h&&m.h[Ud](),m.h=null,m.cb=[]},D;if(fu(d,"unload",null,function(U){var L=U[cu](A);L&&(D||(D=[]),D[vn](L))}),D)return du(function(U){return ms(qH(D),function(){M(),U()})});M()}})}return o.__ieDyn=1,o}(),Jd="ctx",Nk="ParentContextKey",Xf="ChildrenContextKey",aG=null,Ly=function(){function o(s,c,h){var d=this;if(d.start=lo(),d[ps]=s,d[Fd]=h,d[HS]=function(){return!1},Bt(c)){var m;mn(d,"payload",{g:function(){return!m&&Bt(c)&&(m=c(),c=null),m}})}d[$d]=function(b){return b?b===o[Nk]||b===o[Xf]?d[b]:(d[Jd]||{})[b]:null},d[fo]=function(b,f){if(b)if(b===o[Nk])d[b]||(d[HS]=function(){return!0}),d[b]=f;else if(b===o[Xf])d[b]=f;else{var A=d[Jd]=d[Jd]||{};A[b]=f}},d[qS]=function(){var b=0,f=d[$d](o[Xf]);if(Yt(f))for(var A=0;A<f[Nt];A++){var M=f[A];M&&(b+=M[Od])}d[Od]=lo()-d.start,d.exTime=d[Od]-b,d[qS]=function(){}}}return o.ParentContextKey="parent",o.ChildrenContextKey="childEvts",o}(),oG=function(){function o(s){this.ctx={},Un(o,this,function(c){c.create=function(h,d,m){return new Ly(h,d,m)},c.fire=function(h){h&&(h[qS](),s&&Bt(s[_l])&&s[_l](h))},c[fo]=function(h,d){if(h){var m=c[Jd]=c[Jd]||{};m[h]=d}},c[$d]=function(h){return(c[Jd]||{})[h]}})}return o.__ieDyn=1,o}(),Uk="CoreUtils.doPerf";function Ry(o,s,c,h,d){if(o){var m=o;if(m[gy]&&(m=m[gy]()),m){var b=void 0,f=m[$d](Uk);try{if(b=m.create(s(),h,d),b){if(f&&b[fo]&&(b[fo](Ly[Nk],f),f[$d]&&f[fo])){var A=f[$d](Ly[Xf]);A||(A=[],f[fo](Ly[Xf],A)),A[vn](b)}return m[fo](Uk,b),c(b)}}catch(M){b&&b[fo]&&b[fo]("exception",M)}finally{b&&m.fire(b),m[fo](Uk,f)}}}return c()}function sG(){return aG}function gu(){for(var o=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],s=dn,c,h=0;h<4;h++)c=Hf(),s+=o[c&15]+o[c>>4&15]+o[c>>8&15]+o[c>>12&15]+o[c>>16&15]+o[c>>20&15]+o[c>>24&15]+o[c>>28&15];var d=o[8+(Hf()&3)|0];return iu(s,0,8)+iu(s,9,4)+"4"+iu(s,13,3)+d+iu(s,16,3)+iu(s,19,12)}var Ok="00",uG="ff",DD="00000000000000000000000000000000",PD="0000000000000000";function Yf(o,s,c){return o&&o[Nt]===s&&o!==c?!!o.match(/^[\da-f]*$/i):!1}function LD(o,s,c){return Yf(o,s)?o:c}function lG(o){(isNaN(o)||o<0||o>255)&&(o=1);for(var s=o.toString(16);s[Nt]<2;)s="0"+s;return s}function RD(o,s,c,h){var d;return d={},d[sy]=Yf(h,2,uG)?h:Ok,d[KS]=jk(o)?o:gu(),d[WS]=Fk(s)?s:uS(gu(),16),d.traceFlags=c>=0&&c<=255?c:1,d}function jk(o){return Yf(o,32,DD)}function Fk(o){return Yf(o,16,PD)}function ND(o){if(o){var s=lG(o[XS]);Yf(s,2)||(s="01");var c=o[sy]||Ok;return c!=="00"&&c!=="ff"&&(c=Ok),"".concat(c.toLowerCase(),"-").concat(LD(o.traceId,32,DD).toLowerCase(),"-").concat(LD(o.spanId,16,PD).toLowerCase(),"-").concat(s.toLowerCase())}return""}function cG(o){var s=o.getElementsByTagName("script"),c=[];return nt(s,function(h){var d=h[YS]("src");if(d){var m=h[YS]("crossorigin"),b=h.hasAttribute("async")===!0,f=h.hasAttribute("defer")===!0,A=h[YS]("referrerpolicy"),M={url:d};m&&(M.crossOrigin=m),b&&(M.async=b),f&&(M.defer=f),A&&(M.referrerPolicy=A),c[vn](M)}}),c}var dG=uD("plugin");function Nl(o){return dG.get(o,"state",{},!0)}function UD(o,s){for(var c=[],h=null,d=o[ho](),m;d;){var b=d[Df]();if(b){h&&h[Rf]&&b[mo]&&h[Rf](b),m=Nl(b);var f=!!m[po];b[po]&&(f=b[po]()),f||c[vn](b),h=b,d=d[ho]()}}nt(c,function(A){var M=o[Cr]();A[Mf](o.getCfg(),M,s,o[ho]()),m=Nl(A),!A[Cr]&&!m[Cr]&&(m[Cr]=M),m[po]=!0,delete m[hs]})}function Bk(o){return o.sort(function(s,c){var h=0;if(c){var d=c[mo];s[mo]?h=d?s[py]-c[py]:1:d&&(h=-1)}else h=s?1:-1;return h})}function pG(o){var s={};return{getName:function(){return s[ps]},setName:function(c){s[ps]=c},getTraceId:function(){return s[KS]},setTraceId:function(c){jk(c)&&(s[KS]=c)},getSpanId:function(){return s[WS]},setSpanId:function(c){Fk(c)&&(s[WS]=c)},getTraceFlags:function(){return s[XS]},setTraceFlags:function(c){s[XS]=c}}}var hG="TelemetryPluginChain",OD="_hasRun",jD="_getTelCtx",FD=0;function fG(o,s,c){for(;o;){if(o[Df]()===c)return o;o=o[ho]()}return Ul([c],s.config||{},s)}function Vk(o,s,c,h){var d=null,m=[];s||(s=Aa({},null,c[sr])),h!==null&&(d=h?fG(o,c,h):o);var b={_next:A,ctx:{core:function(){return c},diagLog:function(){return Pl(c,s.cfg)},getCfg:function(){return s.cfg},getExtCfg:D,getConfig:U,hasNext:function(){return!!d},getNext:function(){return d},setNext:function(R){d=R},iterate:L,onComplete:f}};function f(R,w){for(var j=[],G=2;G<arguments.length;G++)j[G-2]=arguments[G];R&&m[vn]({func:R,self:Yn(w)?b.ctx:w,args:j})}function A(){var R=d;if(d=R?R[ho]():null,!R){var w=m;w&&w[Nt]>0&&(nt(w,function(j){try{j.func.call(j.self,j.args)}catch(G){Fe(c[sr],2,73,"Unexpected Exception during onComplete - "+rt(G))}}),m=[])}return R}function M(R,w){var j=null,G=s.cfg;if(G&&R){var Z=G[Hd];!Z&&w&&(Z={}),G[Hd]=Z,Z=s.ref(G,Hd),Z&&(j=Z[R],!j&&w&&(j={}),Z[R]=j,j=s.ref(Z,R))}return j}function D(R,w){var j=M(R,!0);return w&&en(w,function(G,Z){if(_e(j[G])){var se=s.cfg[G];(se||!_e(se))&&(j[G]=se)}Sk(s,j,G,Z)}),s[Rd](j,w)}function U(R,w,j){j===void 0&&(j=!1);var G,Z=M(R,!1),se=s.cfg;return Z&&(Z[w]||!_e(Z[w]))?G=Z[w]:(se[w]||!_e(se[w]))&&(G=se[w]),G||!_e(G)?G:j}function L(R){for(var w;w=b._next();){var j=w[Df]();j&&R(j)}}return b}function qa(o,s,c,h){var d=Aa(s),m=Vk(o,d,c,h),b=m.ctx;function f(M){var D=m._next();return D&&D[mo](M,b),!D}function A(M,D){return M===void 0&&(M=null),Yt(M)&&(M=Ul(M,d.cfg,c,D)),qa(M||b[ho](),d.cfg,c,D)}return b[bi]=f,b[El]=A,b}function Ny(o,s,c){var h=Aa(s.config),d=Vk(o,h,s,c),m=d.ctx;function b(A){var M=d._next();return M&&M[cu](m,A),!M}function f(A,M){return A===void 0&&(A=null),Yt(A)&&(A=Ul(A,h.cfg,s,M)),Ny(A||m[ho](),s,M)}return m[bi]=b,m[El]=f,m}function $k(o,s,c){var h=Aa(s.config),d=Vk(o,h,s,c),m=d.ctx;function b(A){return m.iterate(function(M){Bt(M[Lf])&&M[Lf](m,A)})}function f(A,M){return A===void 0&&(A=null),Yt(A)&&(A=Ul(A,h.cfg,s,M)),$k(A||m[ho](),s,M)}return m[bi]=b,m[El]=f,m}function Ul(o,s,c,h){var d=null,m=!h;if(Yt(o)&&o[Nt]>0){var b=null;nt(o,function(f){if(!m&&h===f&&(m=!0),m&&f&&Bt(f[mo])){var A=gG(f,s,c);d||(d=A),b&&b._setNext(A),b=A}})}return h&&!d?Ul([h],s,c):d}function gG(o,s,c){var h=null,d=Bt(o[mo]),m=Bt(o[Rf]),b;o?b=o[lu]+"-"+o[py]+"-"+FD++:b="Unknown-0-"+FD++;var f={getPlugin:function(){return o},getNext:function(){return h},processTelemetry:D,unload:U,update:L,_id:b,_setNext:function(R){h=R}};function A(){var R;return o&&Bt(o[jD])&&(R=o[jD]()),R||(R=qa(f,s,c)),R}function M(R,w,j,G,Z){var se=!1,ge=o?o[lu]:hG,he=R[OD];return he||(he=R[OD]={}),R.setNext(h),o&&Ry(R[Cr](),function(){return ge+":"+j},function(){he[b]=!0;try{var Me=h?h._id:dn;Me&&(he[Me]=!1),se=w(R)}catch(re){var Te=h?he[h._id]:!0;Te&&(se=!0),(!h||!Te)&&Fe(R[fs](),1,73,"Plugin ["+ge+"] failed during "+j+" - "+rt(re)+", run flags: "+rt(he))}},G,Z),se}function D(R,w){w=w||A();function j(G){if(!o||!d)return!1;var Z=Nl(o);return Z[hs]||Z[ik]?!1:(m&&o[Rf](h),o[mo](R,G),!0)}M(w,j,"processTelemetry",function(){return{item:R}},!R.sync)||w[bi](R)}function U(R,w){function j(){var G=!1;if(o){var Z=Nl(o),se=o[Cr]||Z[Cr];o&&(!se||se===R.core())&&!Z[hs]&&(Z[Cr]=null,Z[hs]=!0,Z[po]=!1,o[hs]&&o[hs](R,w)===!0&&(G=!0))}return G}M(R,j,"unload",function(){},w[Fd])||R[bi](w)}function L(R,w){function j(){var G=!1;if(o){var Z=Nl(o),se=o[Cr]||Z[Cr];o&&(!se||se===R.core())&&!Z[hs]&&o[Lf]&&o[Lf](R,w)===!0&&(G=!0)}return G}M(R,j,"update",function(){},!1)||R[bi](w)}return us(f)}function BD(){var o=[];function s(h){h&&o[vn](h)}function c(h,d){nt(o,function(m){try{m(h,d)}catch(b){Fe(h[fs](),2,73,"Unexpected error calling unload handler - "+rt(b))}}),o=[]}return{add:s,run:c}}function VD(){var o=[];function s(h){var d=o;o=[],nt(d,function(m){try{(m.rm||m.remove).call(m)}catch(b){Fe(h,2,73,"Unloading:"+rt(b))}})}function c(h){h&&Dd(o,h)}return{run:s,add:c}}var zk,mu="getPlugin",mG=(zk={},zk[Hd]={isVal:Dl,v:{}},zk),Qd=function(){function o(){var s=this,c,h,d,m,b;M(),Un(o,s,function(D){D[Mf]=function(U,L,R,w){A(U,L,w),c=!0},D[hs]=function(U,L){var R,w=D[Cr];if(!w||U&&w!==U[Cr]())return;var j,G=!1,Z=U||Ny(null,w,d&&d[mu]?d[mu]():d),se=L||(R={reason:0},R[Fd]=!1,R);function ge(){G||(G=!0,m.run(Z,L),b.run(Z[fs]()),j===!0&&Z[bi](se),M())}return!D[ly]||D[ly](Z,se,ge)!==!0?ge():j=!0,j},D[Lf]=function(U,L){var R=D[Cr];if(!R||U&&R!==U[Cr]())return;var w,j=!1,G=U||$k(null,R,d&&d[mu]?d[mu]():d),Z=L||{reason:0};function se(){j||(j=!0,A(G.getCfg(),G.core(),G[ho]()))}return!D._doUpdate||D._doUpdate(G,Z,se)!==!0?se():w=!0,w},vy(D,"_addUnloadCb",function(){return m},"add"),vy(D,"_addHook",function(){return b},"add"),mn(D,"_unloadHooks",{g:function(){return b}})}),s[fs]=function(D){return f(D)[fs]()},s[po]=function(){return c},s.setInitialized=function(D){c=D},s[Rf]=function(D){d=D},s[bi]=function(D,U){U?U[bi](D):d&&Bt(d[mo])&&d[mo](D,null)},s._getTelCtx=f;function f(D){D===void 0&&(D=null);var U=D;if(!U){var L=h||qa(null,{},s[Cr]);d&&d[mu]?U=L[El](null,d[mu]):U=L[El](null,d)}return U}function A(D,U,L){Aa(D,mG,Pl(U)),!L&&U&&(L=U[E6]()[ho]());var R=d;d&&d[mu]&&(R=d[mu]()),s[Cr]=U,h=qa(L,D,U,R)}function M(){c=!1,s[Cr]=null,h=null,d=null,b=VD(),m=BD()}}return o.__ieDyn=1,o}();function vG(o,s,c){var h={id:s,fn:c};Dd(o,h);var d={remove:function(){nt(o,function(m,b){if(m.id===h.id)return o[Nd](b,1),-1})}};return d}function yG(o,s,c){for(var h=!1,d=o[Nt],m=0;m<d;++m){var b=o[m];if(b)try{if(b.fn[Al](null,[s])===!1){h=!0;break}}catch(f){Fe(c,2,64,"Telemetry initializer failed: "+wn(f),{exception:rt(f)},!0)}}return!h}var bG=function(o){ds(s,o);function s(){var c=o.call(this)||this;c.identifier="TelemetryInitializerPlugin",c.priority=199;var h,d;m(),Un(s,c,function(b,f){b.addTelemetryInitializer=function(A){return vG(d,h++,A)},b[mo]=function(A,M){yG(d,A,M?M[fs]():b[fs]())&&b[bi](A,M)},b[ly]=function(){m()}});function m(){h=0,d=[]}return c}return s.__ieDyn=1,s}(Qd),vu,$D="Plugins must provide initialize method",wG="_notificationManager",zD="SDK is still unloading...",xG="SDK is not initialized",SG=100,kG=5e4,Hk=Cd((vu={cookieCfg:{}},vu[qd]={rdOnly:!0,ref:!0,v:[]},vu[Ml]={rdOnly:!0,ref:!0,v:[]},vu[Hd]={ref:!0,v:{}},vu[rk]=go,vu.loggingLevelConsole=0,vu.diagnosticLogInterval=go,vu));function TG(o,s){return new oG(s)}function AG(o,s,c){var h,d=[],m=[],b={};return nt(c,function(f){(_e(f)||_e(f[Mf]))&&na($D);var A=f[py],M=f[lu];f&&A&&(_e(b[A])?b[A]=M:Ll(o,"Two extensions have same priority #"+A+" - "+b[A]+", "+M)),!A||A<s?d[vn](f):m[vn](f)}),h={},h[Cr]=d,h[Ml]=m,h}function HD(o,s){var c=!1;return nt(s,function(h){if(h===o)return c=!0,-1}),c}function qk(o,s,c,h){c&&en(c,function(d,m){h&&vi(m)&&vi(s[d])&&qk(o,s[d],m,h),h&&vi(m)&&vi(s[d])?qk(o,s[d],m,h):o.set(s,d,m)})}function qD(o,s){var c=null,h=-1;return nt(o,function(d,m){if(d.w===s)return c=d,h=m,-1}),{i:h,l:c}}function EG(o,s){var c=qD(o,s).l;return c||(c={w:s,rm:function(){var h=qD(o,s);h.i!==-1&&o[Nd](h.i,1)}},o[vn](c)),c}function CG(o,s,c){nt(s,function(h){var d=ur(o,h.w,c);delete h.w,h.rm=function(){d.rm()}})}function IG(o,s,c,h){return s.add(o[uu](function(d){var m=d.cfg.disableDbgExt;m===!0&&h&&(c[ry](h),h=null),c&&!h&&m!==!0&&(h=Hq(d.cfg),c[iy](h))})),h}function MG(o){return mn({rm:function(){o.rm()}},"toJSON",{v:function(){return"aicore::onCfgChange<"+JSON.stringify(o)+">"}})}var _G=function(){function o(){var s,c,h,d,m,b,f,A,M,D,U,L,R,w,j,G,Z,se,ge,he,Me,Te,re,Pe,ke,T,ae,me,be,V,W,Se;Un(o,this,function(te){de(),te._getDbgPlgTargets=function(){return[re,d]},te[po]=function(){return c},te.activeStatus=function(){return T},te._setPendingStatus=function(){T=3},te[Mf]=function(fe,$e,lt,ct){R&&na(zD),te[po]()&&na("Core cannot be initialized more than once"),s=Aa(fe,Hk,lt||te[sr],!1),fe=s.cfg,rr(s[uu](function($t){var ce=$t.cfg,we=T===3;if(!we){me=ce.initInMemoMaxSize||SG;var De=ce[A6],Ie=ce.endpointUrl;if(_e(De)){Me=null,T=su[BS];var Ne="Please provide instrumentation key";c?(Fe(h,1,100,Ne),He()):na(Ne);return}var Ce=[];if(as(De)?(Ce[vn](De),Me=null):Me=De,as(Ie)?(Ce[vn](Ie),ae=null):ae=Ie,Ce[Nt]){be=!1,T=3;var yt=Dl(ce.initTimeOut)?ce.initTimeOut:kG,Ot=HH(Ce);ka(function(){be||Oe()},yt),ms(Ot,function(zt){try{if(be)return;if(!zt.rejected){var rn=zt[_f];if(rn&&rn[Nt]){var ut=rn[0];if(Me=ut&&ut[_f],rn[Nt]>1){var Ti=rn[1];ae=Ti&&Ti[_f]}}Me&&(fe[A6]=Me,fe.endpointUrl=ae)}Oe()}catch{be||Oe()}})}else Oe();var Ct=$t.ref($t.cfg,Hd);en(Ct,function(zt){$t.ref(Ct,zt)})}})),m=ct,ge=IG(s,se,m&&te[ay](),ge),ki(),te[sr]=lt;var it=fe[qd];if(D=[],D[vn].apply(D,S6(S6([],$e,!1),it)),U=fe[Ml],P(null),(!L||L[Nt]===0)&&na("No "+Ml+" available"),U&&U[Nt]>1){var Be=te[Df]("TeeChannelController");(!Be||!Be.plugin)&&Fe(h,1,28,"TeeChannel required")}CG(fe,Te,h),Te=null,c=!0,T===su.ACTIVE&&He()},te.getChannels=function(){var fe=[];return L&&nt(L,function($e){fe[vn]($e)}),us(fe)},te.track=function(fe){Ry(te[gy](),function(){return"AppInsightsCore:track"},function(){fe===null&&(In(fe),na("Invalid telemetry item")),!fe[ps]&&_e(fe[ps])&&(In(fe),na("telemetry name required")),fe[Pf]=fe[Pf]||Me,fe[Od]=fe[Od]||Gd(new Date),fe.ver=fe.ver||"4.0",!R&&te[po]()&&T===su.ACTIVE?Q()[bi](fe):T!==su[BS]&&d[Nt]<=me&&d[vn](fe)},function(){return{item:fe}},!fe.sync)},te[E6]=Q,te[ay]=function(){return m||(m=new iG(s.cfg),te[wG]=m),m},te[iy]=function(fe){te.getNotifyMgr()[iy](fe)},te[ry]=function(fe){m&&m[ry](fe)},te.getCookieMgr=function(){return A||(A=Py(s.cfg,te[sr])),A},te.setCookieMgr=function(fe){A!==fe&&(Wd(A,!1),A=fe)},te[gy]=function(){return b||f||sG()},te.setPerfMgr=function(fe){b=fe},te.eventCnt=function(){return d[Nt]},te.releaseQueue=function(){if(c&&d[Nt]>0){var fe=d;d=[],T===2?nt(fe,function($e){$e[Pf]=$e[Pf]||Me,Q()[bi]($e)}):Fe(h,2,20,"core init status is not active")}},te[C6]=function(fe){return j=fe||null,Se=!1,V&&V[Ud](),mt(!0)};function Oe(){be=!0,_e(Me)?(T=su[BS],Fe(h,1,112,"ikey can't be resolved from promises")):T=su.ACTIVE,He()}function He(){c&&(te.releaseQueue(),te[C6]())}function mt(fe){if((!V||!V[jd])&&!Se){var $e=fe||h&&h.queue[Nt]>0;$e&&(W||(W=!0,rr(s[uu](function(lt){var ct=lt.cfg.diagnosticLogInterval;(!ct||!(ct>0))&&(ct=1e4);var it=!1;V&&(it=V[jd],V[Ud]()),V=kH(Ut,ct),V.unref(),V[jd]=it}))),V[jd]=!0)}return V}te[I6]=function(){Se=!0,V&&V[Ud](),Ut()},Ff(te,function(){return w},["addTelemetryInitializer"]),te[cu]=function(fe,$e,lt){var ct;fe===void 0&&(fe=!0),c||na(xG),R&&na(zD);var it=(ct={reason:50},ct[Fd]=fe,ct.flushComplete=!1,ct),Be;fe&&!$e&&(Be=du(function(we){$e=we}));var $t=Ny(ht(),te);$t[oy](function(){se.run(te[sr]),hD([A,m,h],fe,function(){de(),$e&&$e(it)})},te);function ce(we){it.flushComplete=we,R=!0,Z.run($t,it),te[I6](),$t[bi](it)}return Ut(),sn(fe,ce,6,lt),Be},te[Df]=Re,te.addPlugin=function(fe,$e,lt,ct){if(!fe){ct&&ct(!1),Ee($D);return}var it=Re(fe[lu]);if(it&&!$e){ct&&ct(!1),Ee("Plugin ["+fe[lu]+"] is already loaded!");return}var Be={reason:16};function $t(De){D[vn](fe),Be.added=[fe],P(Be),ct&&ct(!0)}if(it){var ce=[it.plugin],we={reason:2,isAsync:!!lt};Mt(ce,we,function(De){De?(Be.removed=ce,Be.reason|=32,$t()):ct&&ct(!1)})}else $t()},te.updateCfg=function(fe,$e){$e===void 0&&($e=!0);var lt;if(te[po]()){lt={reason:1,cfg:s.cfg,oldCfg:l6({},s.cfg),newConfig:l6({},fe),merge:$e},fe=lt.newConfig;var ct=s.cfg;fe[qd]=ct[qd],fe[Ml]=ct[Ml]}s._block(function(it){var Be=it.cfg;qk(it,Be,fe,$e),$e||en(Be,function($t){ru(fe,$t)||it.set(Be,$t,go)}),it[Rd](Be,Hk)},!0),s[ty](),lt&&ai(lt)},te.evtNamespace=function(){return G},te.flush=sn,te.getTraceCtx=function(fe){return he||(he=pG()),he},te.setTraceCtx=function(fe){he=fe||null},te.addUnloadHook=rr,vy(te,"addUnloadCb",function(){return Z},"add"),te.onCfgChange=function(fe){var $e;return c?$e=ur(s.cfg,fe,te[sr]):$e=EG(Te,fe),MG($e)},te.getWParam=function(){return Q_()||s.cfg.enableWParam?0:-1};function X(){var fe={};Pe=[];var $e=function(lt){lt&&nt(lt,function(ct){if(ct[lu]&&ct[sy]&&!fe[ct.identifier]){var it=ct[lu]+"="+ct[sy];Pe[vn](it),fe[ct.identifier]=ct}})};$e(L),U&&nt(U,function(lt){$e(lt)}),$e(D)}function de(){c=!1,s=Aa({},Hk,te[sr]),s.cfg[M6]=1,mn(te,"config",{g:function(){return s.cfg},s:function($e){te.updateCfg($e,!1)}}),mn(te,"pluginVersionStringArr",{g:function(){return Pe||X(),Pe}}),mn(te,"pluginVersionString",{g:function(){return ke||(Pe||X(),ke=Pe.join(";")),ke||dn}}),mn(te,"logger",{g:function(){return h||(h=new Iy(s.cfg),s[sr]=h),h},s:function($e){s[sr]=$e,h!==$e&&(Wd(h,!1),h=$e)}}),te[sr]=new Iy(s.cfg),re=[];var fe=te.config[qd]||[];fe.splice(0,fe[Nt]),Dd(fe,re),w=new bG,d=[],Wd(m,!1),m=null,b=null,f=null,Wd(A,!1),A=null,M=null,D=[],U=null,L=null,R=!1,j=null,G=Ta("AIBaseCore",!0),Z=BD(),he=null,Me=null,se=VD(),Te=[],ke=null,Pe=null,Se=!1,V=null,W=!1,T=0,ae=null,me=null,be=!1}function Q(){var fe=qa(ht(),s.cfg,te);return fe[oy](mt),fe}function P(fe){var $e=AG(te[sr],Fq,D);M=null,ke=null,Pe=null,L=(U||[])[0]||[],L=Bk(Dd(L,$e[Ml]));var lt=Dd(Bk($e[Cr]),L);re=us(lt);var ct=te.config[qd]||[];ct.splice(0,ct[Nt]),Dd(ct,re);var it=Q();L&&L[Nt]>0&&UD(it[El](L),lt),UD(it,lt),fe&&ai(fe)}function Re(fe){var $e=null,lt=null,ct=[];return nt(re,function(it){if(it[lu]===fe&&it!==w)return lt=it,-1;it.getChannel&&ct[vn](it)}),!lt&&ct[Nt]>0&&nt(ct,function(it){if(lt=it.getChannel(fe),!lt)return-1}),lt&&($e={plugin:lt,setEnabled:function(it){Nl(lt)[ik]=!it},isEnabled:function(){var it=Nl(lt);return!it[hs]&&!it[ik]},remove:function(it,Be){var $t;it===void 0&&(it=!0);var ce=[lt],we=($t={reason:1},$t[Fd]=it,$t);Mt(ce,we,function(De){De&&P({reason:32,removed:ce}),Be&&Be(De)})}}),$e}function ht(){if(!M){var fe=(re||[]).slice();ti(fe,w)===-1&&fe[vn](w),M=Ul(Bk(fe),s.cfg,te)}return M}function Mt(fe,$e,lt){if(fe&&fe[Nt]>0){var ct=Ul(fe,s.cfg,te),it=Ny(ct,te);it[oy](function(){var Be=!1,$t=[];nt(D,function(we,De){HD(we,fe)?Be=!0:$t[vn](we)}),D=$t,ke=null,Pe=null;var ce=[];U&&(nt(U,function(we,De){var Ie=[];nt(we,function(Ne){HD(Ne,fe)?Be=!0:Ie[vn](Ne)}),ce[vn](Ie)}),U=ce),lt&&lt(Be),mt()}),it[bi]($e)}else lt(!1)}function Ut(){if(h&&h.queue){var fe=h.queue.slice(0);h.queue[Nt]=0,nt(fe,function($e){var lt,ct=(lt={},lt[ps]=j||"InternalMessageId: "+$e[uy],lt[Pf]=Me,lt[Od]=Gd(new Date),lt.baseType=Wf.dataType,lt.baseData={message:$e[Cl]},lt);te.track(ct)})}}function sn(fe,$e,lt,ct){var it=1,Be=!1,$t=null;ct=ct||5e3;function ce(){it--,Be&&it===0&&($t&&$t[Ud](),$t=null,$e&&$e(Be),$e=null)}if(L&&L[Nt]>0){var we=Q()[El](L);we.iterate(function(De){if(De.flush){it++;var Ie=!1;De.flush(fe,function(){Ie=!0,ce()},lt)||Ie||(fe&&$t==null?$t=ka(function(){$t=null,ce()},ct):ce())}})}return Be=!0,ce(),!0}function ki(){var fe;rr(s[uu](function($e){var lt=$e.cfg.enablePerfMgr;if(lt){var ct=$e.cfg[rk];fe!==ct&&(ct||(ct=TG),wi($e.cfg,rk,ct),fe=ct,f=null),!b&&!f&&Bt(ct)&&(f=ct(te,te[ay]()))}else f=null,fe=null}))}function ai(fe){var $e=$k(ht(),te);$e[oy](mt),(!te._updateHook||te._updateHook($e,fe)!==!0)&&$e[bi](fe)}function Ee(fe){var $e=te[sr];$e?(Fe($e,2,73,fe),mt()):na(fe)}function In(fe){var $e=te[ay]();$e&&$e[jf]([fe],2)}function rr(fe){se.add(fe)}})}return o.__ieDyn=1,o}();function Gk(o,s){try{if(o&&o!==""){var c=za().parse(o);if(c&&c[R6]&&c[R6]>=c.itemsAccepted&&c.itemsReceived-c.itemsAccepted===c.errors[Nt])return c}}catch(h){Fe(s,1,43,"Cannot parse the response. "+(h[ps]||rt(h)),{response:o})}return null}var bo="",DG="NoResponseBody",GD="&"+DG+"=true",Kk="POST",PG=function(){function o(){var s=0,c,h,d,m,b,f,A,M,D,U,L,R,w,j;Un(o,this,function(G,Z){var se=!0;be(),G[Mf]=function(V,W){d=W,h&&Fe(d,1,28,"Sender is already initialized"),G.SetConfig(V),h=!0},G._getDbgPlgTargets=function(){return[h,m,f,c]},G.SetConfig=function(V){try{if(b=V.senderOnCompleteCallBack||{},f=!!V.disableCredentials,A=V.fetchCredentials,m=!!V.isOneDs,c=!!V.enableSendPromise,D=!!V.disableXhr,U=!!V.disableBeacon,L=!!V.disableBeaconSync,j=V.timeWrapper,w=!!V.addNoResponse,R=!!V.disableFetchKeepAlive,M={sendPOST:T},m||(se=!1),f){var W=vo();W&&W.protocol&&W.protocol[Ld]()==="file:"&&(se=!1)}return!0}catch{}return!1},G.getSyncFetchPayload=function(){return s},G.getSenderInst=function(V,W){return V&&V[Nt]?Te(V,W):null},G.getFallbackInst=function(){return M},G[ly]=function(V,W){be()};function ge(V,W){re(W,200,{},V)}function he(V,W){Fe(d,2,26,"Failed to send telemetry.",{message:V}),re(W,400,{})}function Me(V){he("No endpoint url is provided for the batch",V)}function Te(V,W){for(var Se,te=0,Oe=null,He=0;Oe==null&&He<V[Nt];)te=V[He],!D&&te===1?yq()?Oe=me:wy()&&(Oe=T):te===2&&bk(W)&&(!W||!R)?Oe=ae:te===3&&Vf()&&(W?!L:!U)&&(Oe=ke),He++;return Oe?(Se={_transport:te,_isSync:W},Se[N6]=Oe,Se):null}function re(V,W,Se,te){try{V&&V(W,Se,te)}catch{}}function Pe(V,W){var Se=uo(),te=V[Uf];if(!te)return Me(W),!0;te=V[Uf]+(w?GD:bo);var Oe=V[Vd],He=m?Oe:new Blob([Oe],{type:"text/plain;charset=UTF-8"}),mt=Se.sendBeacon(te,He);return mt}function ke(V,W,Se){var te=V[Vd];try{if(te)if(Pe(V,W))ge(bo,W);else{var Oe=b&&b.beaconOnRetry;Oe&&Bt(Oe)?Oe(V,W,Pe):(M&&M[N6](V,W,!0),Fe(d,2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}catch(He){m&&Ll(d,"Failed to send telemetry using sendBeacon API. Ex:"+rt(He)),re(W,m?0:400,{},bo)}}function T(V,W,Se){var te,Oe,He,mt=V[GS]||{};!Se&&c&&(te=du(function(P,Re){Oe=P,He=Re})),m&&Se&&V.disableXhrSync&&(Se=!1);var X=V[Uf];if(!X){Me(W),Oe&&Oe(!1);return}var de=nq(Kk,X,se,!0,Se,V[zd]);m||de[U6]("Content-type","application/json"),nt(ss(mt),function(P){de[U6](P,mt[P])}),de.onreadystatechange=function(){m||(Q(de),de.readyState===4&&Oe&&Oe(!0))},de.onload=function(){m&&Q(de)};function Q(P){var Re=b&&b.xhrOnComplete,ht=Re&&Bt(Re);if(ht)Re(P,W,V);else{var Mt=yy(P);re(W,P[Nf],pk(P,m),Mt)}}return de.onerror=function(P){re(W,m?de[Nf]:400,pk(de,m),m?bo:by(de)),He&&He(P)},de.ontimeout=function(){re(W,m?de[Nf]:500,pk(de,m),m?bo:by(de)),Oe&&Oe(!1)},de.send(V[Vd]),te}function ae(V,W,Se){var te,Oe=V[Uf],He=V[Vd],mt=m?He:new Blob([He],{type:"application/json"}),X,de,Q,P=new Headers,Re=He[Nt],ht=!1,Mt=!1,Ut=V[GS]||{},sn=(te={method:Kk,body:mt},te[fD]=!0,te);V.headers&&ss(V.headers)[Nt]>0&&(nt(ss(Ut),function(In){P.append(In,Ut[In])}),sn[GS]=P),A?sn.credentials=A:se&&m&&(sn.credentials="include"),Se&&(sn.keepalive=!0,s+=Re,m?V._sendReason===2&&(ht=!0,w&&(Oe+=GD)):ht=!0);var ki=new Request(Oe,sn);try{ki[fD]=!0}catch{}if(!Se&&c&&(X=du(function(In,rr){de=In,Q=rr})),!Oe){Me(W),de&&de(!1);return}function ai(In){re(W,m?0:400,{},m?bo:In)}function Ee(In,rr,fe){var $e=In[Nf],lt=b.fetchOnComplete;lt&&Bt(lt)?lt(In,W,fe||bo,rr):re(W,$e,{},fe||bo)}try{ms(fetch(m?Oe:ki,m?sn:null),function(In){if(Se&&(s-=Re,Re=0),!Mt)if(Mt=!0,In.rejected)ai(In.reason&&In.reason[Cl]),Q&&Q(In.reason);else{var rr=In[_f];try{!m&&!rr.ok?(ai(rr.statusText),de&&de(!1)):m&&!rr.body?(Ee(rr,null,bo),de&&de(!0)):ms(rr.text(),function(fe){Ee(rr,V,fe[_f]),de&&de(!0)})}catch(fe){ai(rt(fe)),Q&&Q(fe)}}})}catch(In){Mt||(ai(rt(In)),Q&&Q(In))}return ht&&!Mt&&(Mt=!0,re(W,200,{}),de&&de(!0)),m&&!Mt&&V[zd]>0&&j&&j.set(function(){Mt||(Mt=!0,re(W,500,{}),de&&de(!0))},V[zd]),X}function me(V,W,Se){var te=ra(),Oe=new XDomainRequest,He=V[Vd];Oe.onload=function(){var P=yy(Oe),Re=b&&b.xdrOnComplete;Re&&Bt(Re)?Re(Oe,W,V):re(W,200,{},P)},Oe.onerror=function(){re(W,400,{},m?bo:X6(Oe))},Oe.ontimeout=function(){re(W,500,{})},Oe.onprogress=function(){};var mt=te&&te.location&&te.location[_6]||"",X=V[Uf];if(!X){Me(W);return}if(!m&&X.lastIndexOf(mt,0)!==0){var de="Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol.";Fe(d,2,40,". "+de),he(de,W);return}var Q=m?X:X[Il](/^(https?:)/,"");Oe.open(Kk,Q),V[zd]&&(Oe[zd]=V[zd]),Oe.send(He),m&&Se?j&&j.set(function(){Oe.send(He)},0):Oe.send(He)}function be(){s=0,h=!1,c=!1,d=null,m=null,b=null,f=null,A=null,M=null,D=!1,U=!1,L=!1,R=!1,w=!1,j=null}})}return o.__ieDyn=1,o}(),KD="on",WD="attachEvent",XD="addEventListener",YD="detachEvent",JD="removeEventListener",Wk="events",Xk="visibilitychange",Uy="pagehide",QD="unload",ZD="beforeunload",eP=Ta("aiEvtPageHide");Ta("aiEvtPageShow");var LG=/\.[\.]+/g,RG=/[\.]+$/,NG=1,Oy=uD("events"),UG=/^([^.]*)(?:\.(.+)|)/;function tP(o){return o&&o[Il]?o[Il](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,dn):o}function Yk(o,s){var c;if(s){var h=dn;Yt(s)?(h=dn,nt(s,function(m){m=tP(m),m&&(m[0]!=="."&&(m="."+m),h+=m)})):h=tP(s),h&&(h[0]!=="."&&(h="."+h),o=(o||dn)+h)}var d=UG.exec(o||dn)||[];return c={},c[gs]=d[1],c.ns=(d[2]||dn).replace(LG,".").replace(RG,dn)[Bd](".").sort().join("."),c}function nP(o,s,c){c===void 0&&(c=!0);var h=Oy.get(o,Wk,{},c),d=h[s];return d||(d=h[s]=[]),d}function rP(o,s,c,h){o&&s&&s[gs]&&(o[JD]?o[JD](s[gs],c,h):o[YD]&&o[YD](KD+s[gs],c))}function OG(o,s,c,h){var d=!1;return o&&s&&s[gs]&&c&&(o[XD]?(o[XD](s[gs],c,h),d=!0):o[WD]&&(o[WD](KD+s[gs],c),d=!0)),d}function iP(o,s,c,h){for(var d=s[Nt];d--;){var m=s[d];m&&(!c.ns||c.ns===m.evtName.ns)&&(!h||h(m))&&(rP(o,m.evtName,m[zS],m.capture),s[Nd](d,1))}}function jG(o,s,c){if(s[gs])iP(o,nP(o,s[gs]),s,c);else{var h=Oy.get(o,Wk,{});en(h,function(d,m){iP(o,m,s,c)}),ss(h)[Nt]===0&&Oy.kill(o,Wk)}}function yu(o,s){var c;return s?(Yt(s)?c=[o].concat(s):c=[o,s],c=Yk("xx",c).ns[Bd](".")):c=o,c}function vs(o,s,c,h,d){var m;d===void 0&&(d=!1);var b=!1;if(o)try{var f=Yk(s,h);if(b=OG(o,f,c,d),b&&Oy.accept(o)){var A=(m={guid:NG++,evtName:f},m[zS]=c,m.capture=d,m);nP(o,f.type)[vn](A)}}catch{}return b}function Zd(o,s,c,h,d){if(d===void 0&&(d=!1),o)try{var m=Yk(s,h),b=!1;jG(o,m,function(f){return m.ns&&!c||f[zS]===c?(b=!0,!0):!1}),b||rP(o,m,c,d)}catch{}}function FG(o,s,c){var h=!1,d=ra();d&&(h=vs(d,o,s,c),h=vs(d.body,o,s,c)||h);var m=Hr();return m&&(h=vs(m,o,s,c)||h),h}function BG(o,s,c){var h=ra();h&&(Zd(h,o,s,c),Zd(h.body,o,s,c));var d=Hr();d&&Zd(d,o,s,c)}function jy(o,s,c,h){var d=!1;return s&&o&&o[Nt]>0&&nt(o,function(m){m&&(!c||ti(c,m)===-1)&&(d=FG(m,s,h)||d)}),d}function VG(o,s,c,h){var d=!1;return s&&o&&Yt(o)&&(d=jy(o,s,c,h),!d&&c&&c[Nt]>0&&(d=jy(o,s,null,h))),d}function Jk(o,s,c){o&&Yt(o)&&nt(o,function(h){h&&BG(h,s,c)})}function $G(o,s,c){return VG([ZD,QD,Uy],o,s,c)}function zG(o,s){Jk([ZD,QD,Uy],o,s)}function Qk(o,s,c){function h(b){var f=Hr();o&&f&&f.visibilityState==="hidden"&&o(b)}var d=yu(eP,c),m=jy([Uy],o,s,d);return(!s||ti(s,Xk)===-1)&&(m=jy([Xk],h,s,d)||m),!m&&s&&(m=Qk(o,null,c)),m}function HG(o,s){var c=yu(eP,s);Jk([Uy],o,c),Jk([Xk],null,c)}var aP="_aiHooks",oP=["req","rsp","hkErr","fnErr"];function Zk(o,s){if(o)for(var c=0;c<o[Nt]&&!s(o[c],c);c++);}function eT(o,s,c,h,d){d>=0&&d<=2&&Zk(o,function(m,b){var f=m.cbks,A=f[oP[d]];if(A){s.ctx=function(){var U=h[b]=h[b]||{};return U};try{A[Al](s.inst,c)}catch(U){var M=s.err;try{var D=f[oP[2]];D&&(s.err=U,D[Al](s.inst,c))}catch{}finally{s.err=M}}}})}function qG(o){return function(){var s,c=this,h=arguments,d=o.h,m=(s={},s[ps]=o.n,s.inst=c,s.ctx=null,s.set=M,s),b=[],f=A([m],h);m.evt=Jn("event");function A(U,L){return Zk(L,function(R){U[vn](R)}),U}function M(U,L){h=A([],h),h[U]=L,f=A([m],h)}eT(d,m,f,b,0);var D=o.f;if(D)try{m.rslt=D[Al](c,h)}catch(U){throw m.err=U,eT(d,m,f,b,3),U}return eT(d,m,f,b,1),m.rslt}}function tT(o,s,c,h){var d=null;return o&&(wa(o,s)?d=o:c&&(d=tT(JH(o),s,h,!1))),d}function GG(o,s,c){return o?nT(o[co],s,c,!1):null}function sP(o,s,c,h){var d=c&&c[aP];if(!d){d={i:0,n:s,f:c,h:[]};var m=qG(d);m[aP]=d,o[s]=m}var b={id:d.i,cbks:h,rm:function(){var f=this.id;Zk(d.h,function(A,M){if(A.id===f)return d.h[Nd](M,1),1})}};return d.i++,d.h[vn](b),b}function nT(o,s,c,h,d){if(h===void 0&&(h=!0),o&&s&&c){var m=tT(o,s,h,d);if(m){var b=m[s];if(typeof b===b6)return sP(m,s,b,c)}}return null}function Fy(o,s,c,h,d){if(o&&s&&c){var m=tT(o,s,h,d)||o;if(m)return sP(m,s,m[s],c)}return null}var By="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",uP="sampleRate",rT="ProcessLegacy",lP="http.method",iT="https://dc.services.visualstudio.com",ep="/v2/track",wo="not_specified",aT="iKey",Mn=LH({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),tp="split",qt="length",Jf="toLowerCase",Ol="ingestionendpoint",np="toString",Vy="push",oT="removeItem",Ga="name",bu="message",rp="count",sT="preTriggerDate",uT="disabled",lT="interval",cP="daysOfMonth",cT="date",dT="getUTCDate",$y="stringify",pT="pathname",dP="correlationHeaderExcludePatterns",ip="exceptions",Ka="parsedStack",xo="properties",ys="measurements",ap="sizeInBytes",bs="typeName",Qf="severityLevel",hT="problemGroup",fT="isManual",pP="CreateFromInterface",op="assembly",jl="fileName",zy="hasFullStack",Hy="level",sp="method",Zf="line",qy="duration",hP="receivedResponse";function fP(o,s,c){var h=s[qt],d=KG(o,s);if(d[qt]!==h){for(var m=0,b=d;c[b]!==void 0;)m++,b=so(d,0,147)+YG(m);d=b}return d}function KG(o,s){var c;return s&&(s=fr(ji(s)),s[qt]>150&&(c=so(s,0,150),Fe(o,2,57,"name is too long.  It has been truncated to 150 characters.",{name:s},!0))),c||s}function mr(o,s,c){c===void 0&&(c=1024);var h;return s&&(c=c||1024,s=fr(ji(s)),s[qt]>c&&(h=so(s,0,c),Fe(o,2,61,"string value is too long. It has been truncated to "+c+" characters.",{value:s},!0))),h||s}function Gy(o,s){return mP(o,s,2048,66)}function gP(o,s){var c;return s&&s[qt]>32768&&(c=so(s,0,32768),Fe(o,2,56,"message is too long, it has been truncated to 32768 characters.",{message:s},!0)),c||s}function WG(o,s){var c;if(s){var h=""+s;h[qt]>32768&&(c=so(h,0,32768),Fe(o,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:s},!0))}return c||s}function Fl(o,s){if(s){var c={};en(s,function(h,d){if(Oi(d)&&Bf())try{d=za()[$y](d)}catch(m){Fe(o,2,49,"custom property is not valid",{exception:m},!0)}d=mr(o,d,8192),h=fP(o,h,c),c[h]=d}),s=c}return s}function Bl(o,s){if(s){var c={};en(s,function(h,d){h=fP(o,h,c),c[h]=d}),s=c}return s}function XG(o,s){return s&&mP(o,s,128,69)[np]()}function mP(o,s,c,h){var d;return s&&(s=fr(ji(s)),s[qt]>c&&(d=so(s,0,c),Fe(o,2,h,"input is too long, it has been truncated to "+c+" characters.",{data:s},!0))),d||s}function YG(o){var s="00"+o;return iu(s,s[qt]-3)}var vP=Hr()||{},yP=0,JG=[null,null,null,null,null];function gT(o){var s=yP,c=JG,h=c[s];return vP.createElement?c[s]||(h=c[s]=vP.createElement("a")):h={host:eK(o)},h.href=o,s++,s>=c[qt]&&(s=0),yP=s,h}function QG(o){var s,c=gT(o);return c&&(s=c.href),s}function ZG(o,s){return o?o.toUpperCase()+" "+s:s}function eK(o,s){var c=bP(o)||"";if(c){var h=c.match(/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(h!=null&&h[qt]>3&&Dt(h[2])&&h[2][qt]>0)return h[2]+(h[3]||"")}return c}function bP(o,s){var c=null;if(o){var h=o.match(/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(h!=null&&h[qt]>2&&Dt(h[2])&&h[2][qt]>0&&(c=h[2]||"",h[qt]>2)){var d=(h[1]||"")[Jf](),m=h[3]||"";(d==="http"&&m===":80"||d==="https"&&m===":443")&&(m=""),c+=m}}return c}var tK=[iT+ep,"https://breeze.aimon.applicationinsights.io"+ep,"https://dc-int.services.visualstudio.com"+ep],nK="cid-v1:";function mT(o){return ti(tK,o[Jf]())!==-1}function wP(o,s,c){if(!s||o&&o.disableCorrelationHeaders)return!1;if(o&&o[dP]){for(var h=0;h<o.correlationHeaderExcludePatterns[qt];h++)if(o[dP][h].test(s))return!1}var d=gT(s).host[Jf]();if(d&&(Fi(d,":443")!==-1||Fi(d,":80")!==-1)&&(d=(bP(s)||"")[Jf]()),(!o||!o.enableCorsCorrelation)&&d&&d!==c)return!1;var m=o&&o.correlationHeaderDomains;if(m){var b;if(nt(m,function(M){var D=new RegExp(M.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));b=b||D.test(d)}),!b)return!1}var f=o&&o.correlationHeaderExcludedDomains;if(!f||f[qt]===0)return!0;for(var h=0;h<f[qt];h++){var A=new RegExp(f[h].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));if(A.test(d))return!1}return d&&d[qt]>0}function xP(o){if(o){var s=rK(o,Mn[1]);if(s&&s!==nK)return s}}function rK(o,s){if(o)for(var c=o[tp](","),h=0;h<c[qt];++h){var d=c[h][tp]("=");if(d[qt]===2&&d[0]===s)return d[1]}}function iK(o,s,c,h){var d,m=h,b=h;if(s&&s[qt]>0){var f=gT(s);if(d=f.host,!m)if(f[pT]!=null){var A=f.pathname[qt]===0?"/":f[pT];A.charAt(0)!=="/"&&(A="/"+A),b=f[pT],m=mr(o,c?c+" "+A:A)}else m=mr(o,s)}else d=h,m=h;return{target:d,name:m,data:b}}function Ky(){var o=ls();if(o&&o.now&&o.timing){var s=o.now()+o.timing.navigationStart;if(s>0)return s}return lo()}function Bi(o,s){var c=null;return o!==0&&s!==0&&!_e(o)&&!_e(s)&&(c=s-o),c}function vT(o,s){var c=o||{};return{getName:function(){return c[Ga]},setName:function(h){s&&s.setName(h),c[Ga]=h},getTraceId:function(){return c.traceID},setTraceId:function(h){s&&s.setTraceId(h),jk(h)&&(c.traceID=h)},getSpanId:function(){return c.parentID},setSpanId:function(h){s&&s.setSpanId(h),Fk(h)&&(c.parentID=h)},getTraceFlags:function(){return c.traceFlags},setTraceFlags:function(h){s&&s.setTraceFlags(h),c.traceFlags=h}}}var eg=k6({LocalStorage:0,SessionStorage:1}),wu=void 0,xu=void 0,SP="";function yT(){return Xy()?Wy(eg.LocalStorage):null}function Wy(o){try{if(_e(Sa()))return null;var s=new Date()[np](),c=Jn(o===eg.LocalStorage?"localStorage":"sessionStorage"),h=SP+s;c.setItem(h,s);var d=c.getItem(h)!==s;if(c[oT](h),!d)return c}catch{}return null}function bT(){return tg()?Wy(eg.SessionStorage):null}function aK(){wu=!1,xu=!1}function wT(o){SP=o||""}function oK(){wu=Xy(!0),xu=tg(!0)}function Xy(o){return(o||wu===void 0)&&(wu=!!Wy(eg.LocalStorage)),wu}function kP(o,s){var c=yT();if(c!==null)try{return c.getItem(s)}catch(h){wu=!1,Fe(o,2,1,"Browser failed read of local storage. "+wn(h),{exception:rt(h)})}return null}function TP(o,s,c){var h=yT();if(h!==null)try{return h.setItem(s,c),!0}catch(d){wu=!1,Fe(o,2,3,"Browser failed write to local storage. "+wn(d),{exception:rt(d)})}return!1}function sK(o,s){var c=yT();if(c!==null)try{return c[oT](s),!0}catch(h){wu=!1,Fe(o,2,5,"Browser failed removal of local storage item. "+wn(h),{exception:rt(h)})}return!1}function tg(o){return(o||xu===void 0)&&(xu=!!Wy(eg.SessionStorage)),xu}function xT(o,s){var c=bT();if(c!==null)try{return c.getItem(s)}catch(h){xu=!1,Fe(o,2,2,"Browser failed read of session storage. "+wn(h),{exception:rt(h)})}return null}function AP(o,s,c){var h=bT();if(h!==null)try{return h.setItem(s,c),!0}catch(d){xu=!1,Fe(o,2,4,"Browser failed write to session storage. "+wn(d),{exception:rt(d)})}return!1}function EP(o,s){var c=bT();if(c!==null)try{return c[oT](s),!0}catch(h){xu=!1,Fe(o,2,6,"Browser failed removal of session storage item. "+wn(h),{exception:rt(h)})}return!1}var uK="appInsightsThrottle",lK=function(){function o(s,c){var h=this,d,m,b,f,A,M,D,U=!1,L=!1;w(),h._getDbgPlgTargets=function(){return[D]},h.getConfig=function(){return b},h.canThrottle=function(V){var W=ae(V),Se=j(V);return se(Se,d,W)},h.isTriggered=function(V){return me(V)},h.isReady=function(){return U},h.flush=function(V){try{var W=be(V);if(W&&W[qt]>0){var Se=W.slice(0);return D[V]=[],nt(Se,function(te){R(te.msgID,te[bu],te.severity,!1)}),!0}}catch{}return!1},h.flushAll=function(){try{if(D){var V=!0;return en(D,function(W){var Se=h.flush(parseInt(W));V=V&&Se}),V}}catch{}return!1},h.onReadyState=function(V,W){return W===void 0&&(W=!0),U=_e(V)?!0:V,U&&W?h.flushAll():null},h.sendMessage=function(V,W,Se){return R(V,W,Se,!0)};function R(V,W,Se,te){if(U){var Oe=T(V);if(!Oe)return;var He=j(V),mt=ae(V),X=se(He,d,mt),de=!1,Q=0,P=me(V);try{X&&!P?(Q=Math.min(He.limit.maxSendNumber,mt[rp]+1),mt[rp]=0,de=!0,A[V]=!0,mt[sT]=new Date):(A[V]=X,mt[rp]+=1);var Re=ge(V);re(m,Re,mt);for(var ht=0;ht<Q;ht++)ke(V,m,W,Se)}catch{}return{isThrottled:de,throttleNum:Q}}else if(te){var Mt=be(V);Mt[Vy]({msgID:V,message:W,severity:Se})}return null}function w(){m=Pl(s),A={},f={},D={},b={},G(109),M=Dl(c)?c:"",s.addUnloadHook(ur(s.config,function(V){var W=V.cfg;d=Xy();var Se=W.throttleMgrCfg||{};en(Se,function(te,Oe){G(parseInt(te),Oe)})}))}function j(V){return b[V]||b[109]}function G(V,W){var Se,te;try{var Oe=W||{},He={};He[uT]=!!Oe[uT];var mt=Oe[lT]||{};L=mt?.daysOfMonth&&mt?.daysOfMonth[qt]>0,He[lT]=Z(mt);var X={samplingRate:((Se=Oe.limit)===null||Se===void 0?void 0:Se.samplingRate)||100,maxSendNumber:((te=Oe.limit)===null||te===void 0?void 0:te.maxSendNumber)||1};He.limit=X,b[V]=He}catch{}}function Z(V){V=V||{};var W=V?.monthInterval,Se=V?.dayInterval;return _e(W)&&_e(Se)&&(V.monthInterval=3,L||(V[cP]=[28],L=!0)),V={monthInterval:V?.monthInterval,dayInterval:V?.dayInterval,daysOfMonth:V?.daysOfMonth},V}function se(V,W,Se){if(V&&!V[uT]&&W&&Dl(Se)){var te=Te(),Oe=Se[cT],He=V[lT],mt=1;if(He!=null&&He.monthInterval){var X=(te.getUTCFullYear()-Oe.getUTCFullYear())*12+te.getUTCMonth()-Oe.getUTCMonth();mt=Pe(He.monthInterval,0,X)}var de=1;if(L)de=ti(He[cP],te[dT]());else if(He!=null&&He.dayInterval){var Q=Math.floor((te.getTime()-Oe.getTime())/864e5);de=Pe(He.dayInterval,0,Q)}return mt>=0&&de>=0}return!1}function ge(V,W){var Se=Dl(W)?W:"";return V?uK+Se+"-"+V:null}function he(V){try{if(V){var W=new Date;return V.getUTCFullYear()===W.getUTCFullYear()&&V.getUTCMonth()===W.getUTCMonth()&&V[dT]()===W[dT]()}}catch{}return!1}function Me(V,W,Se){try{var te={date:Te(),count:0};if(V){var Oe=JSON.parse(V),He={date:Te(Oe[cT])||te[cT],count:Oe[rp]||te[rp],preTriggerDate:Oe.preTriggerDate?Te(Oe[sT]):void 0};return He}else return re(W,Se,te),te}catch{}return null}function Te(V){try{if(V){var W=new Date(V);if(!isNaN(W.getDate()))return W}else return new Date}catch{}return null}function re(V,W,Se){try{return TP(V,W,fr(JSON[$y](Se)))}catch{}return!1}function Pe(V,W,Se){return V<=0?1:Se>=W&&(Se-W)%V==0?Math.floor((Se-W)/V)+1:-1}function ke(V,W,Se,te){Fe(W,te||1,V,Se)}function T(V){try{var W=j(V);return Tq(1e6)<=W.limit.samplingRate}catch{}return!1}function ae(V){try{var W=f[V];if(!W){var Se=ge(V,M);W=Me(kP(m,Se),m,Se),f[V]=W}return f[V]}catch{}return null}function me(V){var W=A[V];if(_e(W)){W=!1;var Se=ae(V);Se&&(W=he(Se[sT])),A[V]=W}return A[V]}function be(V){return D=D||{},_e(D[V])&&(D[V]=[]),D[V]}}return o}(),cK=";",dK="=";function CP(o){if(!o)return{};var s=o[tp](cK),c=iH(s,function(d,m){var b=m[tp](dK);if(b[qt]===2){var f=b[0][Jf](),A=b[1];d[f]=A}return d},{});if(ss(c)[qt]>0){if(c.endpointsuffix){var h=c.location?c.location+".":"";c[Ol]=c[Ol]||"https://"+h+"dc."+c.endpointsuffix}c[Ol]=c[Ol]||iT,p6(c[Ol],"/")&&(c[Ol]=c[Ol].slice(0,-1))}return c}var pK=function(){function o(s,c,h){var d=this,m=this;m.ver=1,m.sampleRate=100,m.tags={},m[Ga]=mr(s,h)||wo,m.data=c,m.time=Gd(new Date),m.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return d.sampleRate===100?4:1},tags:1,data:1}}return o}(),Su=function(){function o(s,c,h,d){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var m=this;m.ver=2,m[Ga]=mr(s,c)||wo,m[xo]=Fl(s,h),m[ys]=Bl(s,d)}return o.envelopeType="Microsoft.ApplicationInsights.{0}.Event",o.dataType="EventData",o}(),hK="<no_method>",up="error",Vi="stack",ST="stackDetails",IP="errorSrc",kT="message",MP="description";function TT(o,s){var c=o;return c&&!Dt(c)&&(JSON&&JSON[$y]?(c=JSON[$y](o),s&&(!c||c==="{}")&&(Bt(o[np])?c=o[np]():c=""+o)):c=""+o+" - (Missing JSON.stringify)"),c||""}function _P(o,s){var c=o;return o&&(c&&!Dt(c)&&(c=o[kT]||o[MP]||c),c&&!Dt(c)&&(c=TT(c,!0)),o.filename&&(c=c+" @"+(o.filename||"")+":"+(o.lineno||"?")+":"+(o.colno||"?"))),s&&s!=="String"&&s!=="Object"&&s!=="Error"&&Fi(c||"",s)===-1&&(c=s+": "+c),c||""}function fK(o){try{if(Oi(o))return"hasFullStack"in o&&"typeName"in o}catch{}return!1}function gK(o){try{if(Oi(o))return"ver"in o&&"exceptions"in o&&"properties"in o}catch{}return!1}function DP(o){return o&&o.src&&Dt(o.src)&&o.obj&&Yt(o.obj)}function Vl(o){var s=o||"";Dt(s)||(Dt(s[Vi])?s=s[Vi]:s=""+s);var c=s[tp](`
`);return{src:s,obj:c}}function mK(o){for(var s=[],c=o[tp](`
`),h=0;h<c[qt];h++){var d=c[h];c[h+1]&&(d+="@"+c[h+1],h++),s[Vy](d)}return{src:o,obj:s}}function PP(o){var s=null;if(o)try{if(o[Vi])s=Vl(o[Vi]);else if(o[up]&&o[up][Vi])s=Vl(o[up][Vi]);else if(o.exception&&o.exception[Vi])s=Vl(o.exception[Vi]);else if(DP(o))s=o;else if(DP(o[ST]))s=o[ST];else if(ra()&&ra().opera&&o[kT])s=mK(o[bu]);else if(o.reason&&o.reason[Vi])s=Vl(o.reason[Vi]);else if(Dt(o))s=Vl(o);else{var c=o[kT]||o[MP]||"";Dt(o[IP])&&(c&&(c+=`
`),c+=" from "+o[IP]),c&&(s=Vl(c))}}catch(h){s=Vl(h)}return s||{src:"",obj:null}}function vK(o){var s="";return o&&(o.obj?nt(o.obj,function(c){s+=c+`
`}):s=o.src||""),s}function yK(o){var s,c=o.obj;if(c&&c[qt]>0){s=[];var h=0,d=0;nt(c,function(w){var j=w[np]();if(ET.regex.test(j)){var G=new ET(j,h++);d+=G[ap],s[Vy](G)}});var m=32*1024;if(d>m)for(var b=0,f=s[qt]-1,A=0,M=b,D=f;b<f;){var U=s[b][ap],L=s[f][ap];if(A+=U+L,A>m){var R=D-M+1;s.splice(M,R);break}M=b,D=f,b++,f--}}return s}function Yy(o){var s="";if(o&&(s=o.typeName||o[Ga]||"",!s))try{var c=/function (.{1,200})\(/,h=c.exec(o.constructor[np]());s=h&&h[qt]>1?h[1]:""}catch{}return s}function AT(o){if(o)try{if(!Dt(o)){var s=Yy(o),c=TT(o,!1);return(!c||c==="{}")&&(o[up]&&(o=o[up],s=Yy(o)),c=TT(o,!0)),Fi(c,s)!==0&&s!=="String"?s+":"+c:c}}catch{}return""+(o||"")}var Ea=function(){function o(s,c,h,d,m,b){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var f=this;f.ver=2,gK(c)?(f[ip]=c[ip]||[],f[xo]=c[xo],f[ys]=c[ys],c[Qf]&&(f[Qf]=c[Qf]),c.id&&(f.id=c.id,c[xo].id=c.id),c[hT]&&(f[hT]=c[hT]),_e(c[fT])||(f[fT]=c[fT])):(h||(h={}),b&&(h.id=b),f[ip]=[new LP(s,c,h)],f[xo]=Fl(s,h),f[ys]=Bl(s,d),m&&(f[Qf]=m),b&&(f.id=b))}return o.CreateAutoException=function(s,c,h,d,m,b,f,A){var M,D=Yy(m||b||s);return M={},M[bu]=_P(s,D),M.url=c,M.lineNumber=h,M.columnNumber=d,M.error=AT(m||b||s),M.evt=AT(b||s),M[bs]=D,M.stackDetails=PP(f||m||b),M.errorSrc=A,M},o.CreateFromInterface=function(s,c,h,d){var m=c[ip]&&Af(c[ip],function(f){return LP[pP](s,f)}),b=new o(s,yi(yi({},c),{exceptions:m}),h,d);return b},o.prototype.toInterface=function(){var s,c=this,h=c.exceptions,d=c.properties,m=c.measurements,b=c.severityLevel,f=c.problemGroup,A=c.id,M=c.isManual,D=h instanceof Array&&Af(h,function(U){return U.toInterface()})||void 0;return s={ver:"4.0"},s[ip]=D,s.severityLevel=b,s.properties=d,s.measurements=m,s.problemGroup=f,s.id=A,s.isManual=M,s},o.CreateSimpleException=function(s,c,h,d,m,b){var f;return{exceptions:[(f={},f[zy]=!0,f.message=s,f.stack=m,f.typeName=c,f)]}},o.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",o.dataType="ExceptionData",o.formatError=AT,o}(),LP=function(){function o(s,c,h){this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2};var d=this;if(fK(c))d[bs]=c[bs],d[bu]=c[bu],d[Vi]=c[Vi],d[Ka]=c[Ka]||[],d[zy]=c[zy];else{var m=c,b=m&&m.evt;rS(m)||(m=m[up]||b||m),d[bs]=mr(s,Yy(m))||wo,d[bu]=gP(s,_P(c||m,d[bs]))||wo;var f=c[ST]||PP(c);d[Ka]=yK(f),Yt(d[Ka])&&Af(d[Ka],function(A){A[op]=mr(s,A[op]),A[jl]=mr(s,A[jl])}),d[Vi]=WG(s,vK(f)),d.hasFullStack=Yt(d.parsedStack)&&d.parsedStack[qt]>0,h&&(h[bs]=h[bs]||d[bs])}}return o.prototype.toInterface=function(){var s,c=this,h=c[Ka]instanceof Array&&Af(c[Ka],function(m){return m.toInterface()}),d=(s={id:c.id,outerId:c.outerId,typeName:c[bs],message:c[bu],hasFullStack:c[zy],stack:c[Vi]},s[Ka]=h||void 0,s);return d},o.CreateFromInterface=function(s,c){var h=c[Ka]instanceof Array&&Af(c[Ka],function(m){return ET[pP](m)})||c[Ka],d=new o(s,yi(yi({},c),{parsedStack:h}));return d},o}(),ET=function(){function o(s,c){this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0};var h=this;if(h[ap]=0,typeof s=="string"){var d=s;h[Hy]=c,h[sp]=hK,h[op]=fr(d),h[jl]="",h[Zf]=0;var m=d.match(o.regex);m&&m[qt]>=5&&(h[sp]=fr(m[2])||h[sp],h[jl]=fr(m[4]),h[Zf]=parseInt(m[5])||0)}else h[Hy]=s[Hy],h[sp]=s[sp],h[op]=s[op],h[jl]=s[jl],h[Zf]=s[Zf],h[ap]=0;h.sizeInBytes+=h.method[qt],h.sizeInBytes+=h.fileName[qt],h.sizeInBytes+=h.assembly[qt],h[ap]+=o.baseSize,h.sizeInBytes+=h.level.toString()[qt],h.sizeInBytes+=h.line.toString()[qt]}return o.CreateFromInterface=function(s){return new o(s,null)},o.prototype.toInterface=function(){var s=this;return{level:s[Hy],method:s[sp],assembly:s[op],fileName:s[jl],line:s[Zf]}},o.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,o.baseSize=58,o}(),bK=function(){function o(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return o}(),$l=function(){function o(s,c,h,d,m,b,f,A,M){this.aiDataContract={ver:1,metrics:1,properties:0};var D=this;D.ver=2;var U=new bK;U[rp]=d>0?d:void 0,U.max=isNaN(b)||b===null?void 0:b,U.min=isNaN(m)||m===null?void 0:m,U[Ga]=mr(s,c)||wo,U.value=h,U.stdDev=isNaN(f)||f===null?void 0:f,D.metrics=[U],D[xo]=Fl(s,A),D[ys]=Bl(s,M)}return o.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",o.dataType="MetricData",o}(),ng="";function ku(o){(isNaN(o)||o<0)&&(o=0),o=Math.round(o);var s=ng+o%1e3,c=ng+Math.floor(o/1e3)%60,h=ng+Math.floor(o/(1e3*60))%60,d=ng+Math.floor(o/(1e3*60*60))%24,m=Math.floor(o/(1e3*60*60*24));return s=s[qt]===1?"00"+s:s[qt]===2?"0"+s:s,c=c[qt]<2?"0"+c:c,h=h[qt]<2?"0"+h:h,d=d[qt]<2?"0"+d:d,(m>0?m+".":ng)+d+":"+h+":"+c+"."+s}function wK(o,s,c,h,d){return!d&&Dt(o)&&(o==="Script error."||o==="Script error")}var Tu=function(){function o(s,c,h,d,m,b,f){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var A=this;A.ver=2,A.id=XG(s,f),A.url=Gy(s,h),A[Ga]=mr(s,c)||wo,isNaN(d)||(A[qy]=ku(d)),A[xo]=Fl(s,m),A[ys]=Bl(s,b)}return o.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",o.dataType="PageviewData",o}(),zl=function(){function o(s,c,h,d,m,b,f,A,M,D,U,L){M===void 0&&(M="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var R=this;R.ver=2,R.id=c,R[qy]=ku(m),R.success=b,R.resultCode=f+"",R.type=mr(s,M);var w=iK(s,h,A,d);R.data=Gy(s,d)||w.data,R.target=mr(s,w.target),D&&(R.target="".concat(R.target," | ").concat(D)),R[Ga]=mr(s,w[Ga]),R[xo]=Fl(s,U),R[ys]=Bl(s,L)}return o.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",o.dataType="RemoteDependencyData",o}(),lp=function(){function o(s,c,h,d,m){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var b=this;b.ver=2,c=c||wo,b[bu]=gP(s,c),b[xo]=Fl(s,d),b[ys]=Bl(s,m),h&&(b[Qf]=h)}return o.envelopeType="Microsoft.ApplicationInsights.{0}.Message",o.dataType="MessageData",o}(),cp=function(){function o(s,c,h,d,m,b,f){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var A=this;A.ver=2,A.url=Gy(s,h),A[Ga]=mr(s,c)||wo,A[xo]=Fl(s,m),A[ys]=Bl(s,b),f&&(A.domProcessing=f.domProcessing,A[qy]=f[qy],A.networkConnect=f.networkConnect,A.perfTotal=f.perfTotal,A[hP]=f[hP],A.sentRequest=f.sentRequest)}return o.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",o.dataType="PageviewPerformanceData",o}(),Hl=function(){function o(s,c){this.aiDataContract={baseType:1,baseData:1},this.baseType=s,this.baseData=c}return o}();function Au(o){var s="ai."+o+".";return function(c){return s+c}}var rg=Au("application"),Ir=Au("device"),Jy=Au("location"),dp=Au("operation"),CT=Au("session"),Eu=Au("user"),ql=Au("cloud"),ig=Au("internal"),RP=function(o){ds(s,o);function s(){return o.call(this)||this}return s}(ZH({applicationVersion:rg("ver"),applicationBuild:rg("build"),applicationTypeId:rg("typeId"),applicationId:rg("applicationId"),applicationLayer:rg("layer"),deviceId:Ir("id"),deviceIp:Ir("ip"),deviceLanguage:Ir("language"),deviceLocale:Ir("locale"),deviceModel:Ir("model"),deviceFriendlyName:Ir("friendlyName"),deviceNetwork:Ir("network"),deviceNetworkName:Ir("networkName"),deviceOEMName:Ir("oemName"),deviceOS:Ir("os"),deviceOSVersion:Ir("osVersion"),deviceRoleInstance:Ir("roleInstance"),deviceRoleName:Ir("roleName"),deviceScreenResolution:Ir("screenResolution"),deviceType:Ir("type"),deviceMachineName:Ir("machineName"),deviceVMName:Ir("vmName"),deviceBrowser:Ir("browser"),deviceBrowserVersion:Ir("browserVersion"),locationIp:Jy("ip"),locationCountry:Jy("country"),locationProvince:Jy("province"),locationCity:Jy("city"),operationId:dp("id"),operationName:dp("name"),operationParentId:dp("parentId"),operationRootId:dp("rootId"),operationSyntheticSource:dp("syntheticSource"),operationCorrelationVector:dp("correlationVector"),sessionId:CT("id"),sessionIsFirst:CT("isFirst"),sessionIsNew:CT("isNew"),userAccountAcquisitionDate:Eu("accountAcquisitionDate"),userAccountId:Eu("accountId"),userAgent:Eu("userAgent"),userId:Eu("id"),userStoreRegion:Eu("storeRegion"),userAuthUserId:Eu("authUserId"),userAnonymousUserAcquisitionDate:Eu("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:Eu("authUserAcquisitionDate"),cloudName:ql("name"),cloudRole:ql("role"),cloudRoleVer:ql("roleVer"),cloudRoleInstance:ql("roleInstance"),cloudEnvironment:ql("environment"),cloudLocation:ql("location"),cloudDeploymentUnit:ql("deploymentUnit"),internalNodeName:ig("nodeName"),internalSdkVersion:ig("sdkVersion"),internalAgentVersion:ig("agentVersion"),internalSnippet:ig("snippet"),internalSdkSrc:ig("sdkSrc")}));function Cu(o,s,c,h,d,m){var b;c=mr(h,c)||wo,(_e(o)||_e(s)||_e(c))&&na("Input doesn't contain all required fields");var f="";o[aT]&&(f=o[aT],delete o[aT]);var A=(b={},b[Ga]=c,b.time=Gd(new Date),b.iKey=f,b.ext=m||{},b.tags=[],b.data={},b.baseType=s,b.baseData=o,b);return _e(d)||en(d,function(M,D){A.data[M]=D}),A}var ia={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},On=new RP;function ag(o){var s=null;if(Bt(Event))s=new Event(o);else{var c=Hr();c&&c.createEvent&&(s=c.createEvent("Event"),s.initEvent(o,!0,!0))}return s}function NP(o,s){Zd(o,null,null,s)}function xK(o){var s=Hr(),c=uo(),h=!1,d=[],m=1;c&&!_e(c.onLine)&&!c.onLine&&(m=2);var b=0,f=L(),A=yu(Ta("OfflineListener"),o);try{if(D(ra())&&(h=!0),s){var M=s.body||s;M.ononline&&D(M)&&(h=!0)}}catch{h=!1}function D(ge){var he=!1;return ge&&(he=vs(ge,"online",j,A),he&&vs(ge,"offline",G,A)),he}function U(){return f}function L(){return!(b===2||m===2)}function R(){var ge=L();f!==ge&&(f=ge,nt(d,function(he){var Me={isOnline:f,rState:m,uState:b};try{he(Me)}catch{}}))}function w(ge){b=ge,R()}function j(){m=1,R()}function G(){m=2,R()}function Z(){var ge=ra();if(ge&&h){if(NP(ge,A),s){var he=s.body||s;Yn(he.ononline)||NP(he,A)}h=!1}}function se(ge){return d[Vy](ge),{rm:function(){var he=d.indexOf(ge);if(he>-1)return d.splice(he,1)}}}return{isOnline:U,isListening:function(){return h},unload:Z,addListener:se,setOnlineState:w}}var Qy="AppInsightsPropertiesPlugin",UP="AppInsightsChannelPlugin",OP="ApplicationInsightsAnalytics",Zy="toString",IT="isStorageUseDisabled",pp="_addHook",qr="core",Iu="dataType",Gl="envelopeType",aa="diagLog",Kl="track",e1="trackPageView",MT="trackPreviousPageVisit",Wl="sendPageViewInternal",hp="startTime",og="properties",So="duration",_T="sendPageViewPerformanceInternal",DT="populatePageViewPerformanceEvent",sg="href",jP="sendExceptionInternal",PT="exception",ug="error",LT="_onerror",RT="errorSrc",NT="lineNumber",UT="columnNumber",FP="message",OT="CreateAutoException",t1="addTelemetryInitializer",SK="overridePageViewDuration",BP="autoTrackPageVisitTime",VP="isBrowserLinkTrackingEnabled",lg="length",$P="enableAutoRouteTracking",zP="enableUnhandledPromiseRejectionTracking",jT="autoUnhandledPromiseInstrumented",FT="getEntriesByType",HP="isPerformanceTimingSupported",qP="getPerformanceTiming",n1="navigationStart",BT="shouldCollectDuration",GP="isPerformanceTimingDataReady",cg="responseStart",kK="requestStart",r1="loadEventEnd",VT="responseEnd",i1="connectEnd",KP="pageVisitStartTime",TK=function(){function o(s,c,h,d){Un(o,this,function(m){var b=null,f=[],A=!1,M=!1,D;h&&(D=h.logger);function U(w){h&&h.flush(w,function(){})}function L(){b||(b=ka(function(){b=null;var w=f.slice(0),j=!1;f=[],nt(w,function(G){G()?j=!0:f.push(G)}),f[lg]>0&&L(),j&&U(!0)},100))}function R(w){f.push(w),L()}m[e1]=function(w,j){var G=w.name;if(_e(G)||typeof G!="string"){var Z=Hr();G=w.name=Z&&Z.title||""}var se=w.uri;if(_e(se)||typeof se!="string"){var ge=vo();se=w.uri=ge&&ge[sg]||""}if(!M){var he=ls(),Me=he&&he[FT]&&he[FT]("navigation");if(Me&&Me[0]&&!Yn(he.timeOrigin)){var Te=Me[0].loadEventStart;w[hp]=new Date(he.timeOrigin+Te)}else{var re=(j||w[og]||{})[So]||0;w[hp]=new Date(new Date().getTime()-re)}M=!0}if(!d[HP]()){s[Wl](w,j),U(!0),e6()||Fe(D,2,25,"trackPageView: navigation timing API used for calculation of page duration is not supported in this browser. This page view will be collected without duration and timing info.");return}var Pe=!1,ke,T=d[qP]()[n1];T>0&&(ke=Bi(T,+new Date),d[BT](ke)||(ke=void 0));var ae;!_e(j)&&!_e(j[So])&&(ae=j[So]),(c||!isNaN(ae))&&(isNaN(ae)&&(j||(j={}),j[So]=ke),s[Wl](w,j),U(!0),Pe=!0);var me=6e4;j||(j={}),R(function(){var be=!1;try{if(d[GP]()){be=!0;var V={name:G,uri:se};d[DT](V),!V.isValid&&!Pe?(j[So]=ke,s[Wl](w,j)):(Pe||(j[So]=V.durationMs,s[Wl](w,j)),A||(s[_T](V,j),A=!0))}else T>0&&Bi(T,+new Date)>me&&(be=!0,Pe||(j[So]=me,s[Wl](w,j)))}catch(W){Fe(D,1,38,"trackPageView failed on page load calculation: "+wn(W),{exception:rt(W)})}return be})},m.teardown=function(w,j){if(b){b.cancel(),b=null;var G=f.slice(0);f=[],nt(G,function(Z){Z()})}}})}return o.__ieDyn=1,o}(),AK=36e5,WP=["googlebot","adsbot-google","apis-google","mediapartners-google"];function XP(){var o=ls();return o&&!!o.timing}function EK(){var o=ls();return o&&o.getEntriesByType&&o.getEntriesByType("navigation")[lg]>0}function CK(){var o=ls(),s=o?o.timing:0;return s&&s.domainLookupStart>0&&s[n1]>0&&s[cg]>0&&s[kK]>0&&s[r1]>0&&s[VT]>0&&s[i1]>0&&s.domLoading>0}function YP(){return XP()?ls().timing:null}function IK(){return EK()?ls()[FT]("navigation")[0]:null}function MK(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];var c=uo()||{},h=c.userAgent,d=!1;if(h)for(var m=0;m<WP[lg];m++)d=d||Fi(h.toLowerCase(),WP[m])!==-1;if(d)return!1;for(var m=0;m<o[lg];m++)if(o[m]<0||o[m]>=AK)return!1;return!0}var _K=function(){function o(s){var c=Pl(s);Un(o,this,function(h){h[DT]=function(d){d.isValid=!1;var m=IK(),b=YP(),f=0,A=0,M=0,D=0,U=0;(m||b)&&(m?(f=m[So],A=m[hp]===0?m[i1]:Bi(m[hp],m[i1]),M=Bi(m.requestStart,m[cg]),D=Bi(m[cg],m[VT]),U=Bi(m.responseEnd,m[r1])):(f=Bi(b[n1],b[r1]),A=Bi(b[n1],b[i1]),M=Bi(b.requestStart,b[cg]),D=Bi(b[cg],b[VT]),U=Bi(b.responseEnd,b[r1])),f===0?Fe(c,2,10,"error calculating page view performance.",{total:f,network:A,request:M,response:D,dom:U}):h[BT](f,A,M,D,U)?f<Math.floor(A)+Math.floor(M)+Math.floor(D)+Math.floor(U)?Fe(c,2,8,"client performance math error.",{total:f,network:A,request:M,response:D,dom:U}):(d.durationMs=f,d.perfTotal=d[So]=ku(f),d.networkConnect=ku(A),d.sentRequest=ku(M),d.receivedResponse=ku(D),d.domProcessing=ku(U),d.isValid=!0):Fe(c,2,45,"Invalid page load duration value. Browser perf data won't be sent.",{total:f,network:A,request:M,response:D,dom:U}))},h[qP]=YP,h[HP]=XP,h[GP]=CK,h[BT]=MK})}return o.__ieDyn=1,o}(),DK=function(){function o(s,c){var h="prevPageVisitData";Un(o,this,function(d){d[MT]=function(f,A){try{var M=m(f,A);M&&c(M.pageName,M.pageUrl,M.pageVisitTime)}catch(D){Ll(s,"Auto track page visit time failed, metric will not be collected: "+rt(D))}};function m(f,A){var M=null;try{if(M=b(),tg()){xT(s,h)!=null&&na("Cannot call startPageVisit consecutively without first calling stopPageVisit");var D=za().stringify(new PK(f,A));AP(s,h,D)}}catch(U){Ll(s,"Call to restart failed: "+rt(U)),M=null}return M}function b(){var f=null;try{if(tg()){var A=lo(),M=xT(s,h);M&&Bf()&&(f=za().parse(M),f.pageVisitTime=A-f[KP],EP(s,h))}}catch(D){Ll(s,"Stop page visit timer failed: "+rt(D)),f=null}return f}mn(d,"_logger",{g:function(){return s}}),mn(d,"pageVisitTimeTrackingHandler",{g:function(){return c}})})}return o.__ieDyn=1,o}(),PK=function(){function o(s,c){this[KP]=lo(),this.pageName=s,this.pageUrl=c}return o}(),JP=function(){function o(s,c){var h=this,d={};h.start=function(m){typeof d[m]<"u"&&Fe(s,2,62,"start was called more than once for this event without calling stop.",{name:m,key:m},!0),d[m]=+new Date},h.stop=function(m,b,f,A){var M=d[m];if(isNaN(M))Fe(s,2,63,"stop was called without a corresponding start.",{name:m,key:m},!0);else{var D=+new Date,U=Bi(M,D);h.action(m,b,U,f,A)}delete d[m],d[m]=void 0}}return o}(),xi,LK="event";function dg(o,s){o&&o.dispatchEvent&&s&&o.dispatchEvent(s)}function RK(o){if(o&&o.reason){var s=o.reason;return!Dt(s)&&Bt(s[Zy])?s[Zy]():rt(s)}return o||""}var QP=6e4,NK=Cd((xi={sessionRenewalMs:gD(ZP,30*60*1e3),sessionExpirationMs:gD(ZP,24*60*60*1e3),disableExceptionTracking:gr()},xi[BP]=gr(),xi[SK]=gr(),xi[zP]=gr(),xi[jT]=!1,xi.samplingPercentage=Ay(UK,100),xi[IT]=gr(),xi[VP]=gr(),xi[$P]=gr(),xi.namePrefix=Vq(),xi.enableDebug=gr(),xi.disableFlushOnBeforeUnload=gr(),xi.disableFlushOnUnload=gr(!1,"disableFlushOnBeforeUnload"),xi.expCfg=Ha({inclScripts:!1,expLog:void 0,maxLogs:50}),xi));function ZP(o,s){return o=o||s,o<QP&&(o=QP),+o}function UK(o){return!isNaN(o)&&o>0&&o<=100}function OK(o){Yn(o[IT])||(o[IT]?aK():oK())}var jK=function(o){ds(s,o);function s(){var c=o.call(this)||this;c.identifier=OP,c.priority=180,c.autoRoutePVDelay=500;var h,d,m,b,f,A,M,D,U,L,R,w,j,G,Z,se,ge,he,Me,Te;return Un(s,c,function(re,Pe){var ke=Pe[pp];mt(),re.getCookieMgr=function(){return Rk(re[qr])},re.processTelemetry=function(X,de){re.processNext(X,de)},re.trackEvent=function(X,de){try{var Q=Cu(X,Su[Iu],Su[Gl],re[aa](),de);re[qr][Kl](Q)}catch(P){He(2,39,"trackTrace failed, trace will not be collected: "+wn(P),{exception:rt(P)})}},re.startTrackEvent=function(X){try{h.start(X)}catch(de){He(1,29,"startTrackEvent failed, event will not be collected: "+wn(de),{exception:rt(de)})}},re.stopTrackEvent=function(X,de,Q){try{h.stop(X,void 0,de,Q)}catch(P){He(1,30,"stopTrackEvent failed, event will not be collected: "+wn(P),{exception:rt(P)})}},re.trackTrace=function(X,de){try{var Q=Cu(X,lp[Iu],lp[Gl],re[aa](),de);re[qr][Kl](Q)}catch(P){He(2,39,"trackTrace failed, trace will not be collected: "+wn(P),{exception:rt(P)})}},re.trackMetric=function(X,de){try{var Q=Cu(X,$l[Iu],$l[Gl],re[aa](),de);re[qr][Kl](Q)}catch(P){He(1,36,"trackMetric failed, metric will not be collected: "+wn(P),{exception:rt(P)})}},re[e1]=function(X,de){try{var Q=X||{};m[e1](Q,yi(yi(yi({},Q.properties),Q.measurements),de)),se&&f[MT](Q.name,Q.uri)}catch(P){He(1,37,"trackPageView failed, page view will not be collected: "+wn(P),{exception:rt(P)})}},re[Wl]=function(X,de,Q){var P=Hr();if(P&&(X.refUri=X.refUri===void 0?P.referrer:X.refUri),_e(X[hp])){var Re=(de||X[og]||{})[So]||0;X[hp]=new Date(new Date().getTime()-Re)}var ht=Cu(X,Tu[Iu],Tu[Gl],re[aa](),de,Q);re[qr][Kl](ht)},re[_T]=function(X,de,Q){var P=Cu(X,cp[Iu],cp[Gl],re[aa](),de,Q);re[qr][Kl](P)},re.trackPageViewPerformance=function(X,de){var Q=X||{};try{b[DT](Q),re[_T](Q,de)}catch(P){He(1,37,"trackPageViewPerformance failed, page view will not be collected: "+wn(P),{exception:rt(P)})}},re.startTrackPage=function(X){try{if(typeof X!="string"){var de=Hr();X=de&&de.title||""}d.start(X)}catch(Q){He(1,31,"startTrackPage failed, page view may not be collected: "+wn(Q),{exception:rt(Q)})}},re.stopTrackPage=function(X,de,Q,P){try{if(typeof X!="string"){var Re=Hr();X=Re&&Re.title||""}if(typeof de!="string"){var ht=vo();de=ht&&ht[sg]||""}d.stop(X,de,Q,P),se&&f[MT](X,de)}catch(Mt){He(1,32,"stopTrackPage failed, page view will not be collected: "+wn(Mt),{exception:rt(Mt)})}},re[jP]=function(X,de,Q){var P=X&&(X[PT]||X[ug])||rS(X)&&X||{name:X&&typeof X,message:X||wo};X=X||{};var Re=new Ea(re[aa](),P,X[og]||de,X.measurements,X.severityLevel,X.id).toInterface(),ht=Hr();if(ht&&ge!=null&&ge.inclScripts){var Mt=cG(ht);Re[og].exceptionScripts=JSON.stringify(Mt)}if(ge!=null&&ge.expLog){var Ut=ge.expLog();Ut&&Ut.logs&&Yt(Ut.logs)&&(Re[og].exceptionLog=Ut.logs.slice(0,ge.maxLogs).join(`
`))}var sn=Cu(Re,Ea[Iu],Ea[Gl],re[aa](),de,Q);re[qr][Kl](sn)},re.trackException=function(X,de){X&&!X[PT]&&X[ug]&&(X[PT]=X[ug]);try{re[jP](X,de)}catch(Q){He(1,35,"trackException failed, exception will not be collected: "+wn(Q),{exception:rt(Q)})}},re[LT]=function(X){var de=X&&X[ug],Q=X&&X.evt;try{if(!Q){var P=ra();P&&(Q=P[LK])}var Re=X&&X.url||(Hr()||{}).URL,ht=X[RT]||"window.onerror@"+Re+":"+(X[NT]||0)+":"+(X[UT]||0),Mt={errorSrc:ht,url:Re,lineNumber:X[NT]||0,columnNumber:X[UT]||0,message:X[FP]};wK(X.message,X.url,X.lineNumber,X.columnNumber,X[ug])?be(Ea[OT]("Script error: The browser's same-origin policy prevents us from getting the details of this exception. Consider using the 'crossorigin' attribute.",Re,X[NT]||0,X[UT]||0,de,Q,null,ht),Mt):(X[RT]||(X[RT]=ht),re.trackException({exception:X,severityLevel:3},Mt))}catch(sn){var Ut=de?de.name+", "+de[FP]:"null";He(1,11,"_onError threw exception while logging error, error will not be collected: "+wn(sn),{exception:rt(sn),errorString:Ut})}},re[t1]=function(X){if(re[qr])return re[qr][t1](X);A||(A=[]),A.push(X)},re.initialize=function(X,de,Q,P){if(!re.isInitialized()){_e(de)&&na("Error initializing"),Pe.initialize(X,de,Q,P);try{Te=yu(Ta(re.identifier),de.evtNamespace&&de.evtNamespace()),A&&(nt(A,function(Re){de[t1](Re)}),A=null),T(X),b=new _K(re[qr]),m=new TK(re,Z.overridePageViewDuration,re[qr],b),f=new DK(re[aa](),function(Re,ht,Mt){return ae(Re,ht,Mt)}),h=new JP(re[aa](),"trackEvent"),h.action=function(Re,ht,Mt,Ut,sn){Ut||(Ut={}),sn||(sn={}),Ut.duration=Mt[Zy](),re.trackEvent({name:Re,properties:Ut,measurements:sn})},d=new JP(re[aa](),"trackPageView"),d.action=function(Re,ht,Mt,Ut,sn){_e(Ut)&&(Ut={}),Ut.duration=Mt[Zy]();var ki={name:Re,uri:ht,properties:Ut,measurements:sn};re[Wl](ki,Ut)},B0()&&(V(),W())}catch(Re){throw re.setInitialized(!1),Re}}},re._doTeardown=function(X,de){m&&m.teardown(X,de),Zd(window,null,null,Te),mt()};function T(X){var de=re.identifier,Q=re[qr];re[pp](ur(X,function(){var P=qa(null,X,Q);Z=P.getExtCfg(de,NK),ge=Z.expCfg,se=Z[BP],X.storagePrefix&&wT(X.storagePrefix),OK(Z),M=Z[VP],me()}))}function ae(X,de,Q){var P={PageName:X,PageUrl:de};re.trackMetric({name:"PageVisitTime",average:Q,max:Q,min:Q,sampleCount:1},P)}function me(){if(!D&&M){var X=["/browserLinkSignalR/","/__browserLink/"],de=function(Q){if(M&&Q.baseType===zl[Iu]){var P=Q.baseData;if(P){for(var Re=0;Re<X[lg];Re++)if(P.target&&Fi(P.target,X[Re])>=0)return!1}}return!0};re[pp](re[t1](de)),D=!0}}function be(X,de){var Q=Cu(X,Ea[Iu],Ea[Gl],re[aa](),de);re[qr][Kl](Q)}function V(){var X=ra(),de=vo(!0);re[pp](ur(Z,function(){R=Z.disableExceptionTracking,!R&&!w&&!Z.autoExceptionInstrumented&&(ke(Fy(X,"onerror",{ns:Te,rsp:function(Q,P,Re,ht,Mt,Ut){!R&&Q.rslt!==!0&&re[LT](Ea[OT](P,Re,ht,Mt,Ut,Q.evt))}},!1)),w=!0)})),Oe(X,de)}function W(){var X=ra(),de=vo(!0);re[pp](ur(Z,function(){if(U=Z[$P]===!0,X&&U&&!L&&Zz()){var Q=Z_();Bt(Q.pushState)&&Bt(Q.replaceState)&&typeof Event!==OS&&te(X,Q,de)}}))}function Se(){var X=null;if(re[qr]&&re[qr].getTraceCtx&&(X=re[qr].getTraceCtx(!1)),!X){var de=re[qr].getPlugin(Qy);if(de){var Q=de.plugin.context;Q&&(X=vT(Q.telemetryTrace))}}return X}function te(X,de,Q){if(L)return;var P=Z.namePrefix||"";function Re(){U&&dg(X,ag(P+"locationchange"))}function ht(){if(Me&&(he=Me),Me=Q&&Q[sg]||"",U){var Mt=Se();if(Mt){Mt.setTraceId(gu());var Ut="_unknown_";Q&&Q.pathname&&(Ut=Q.pathname+(Q.hash||"")),Mt.setName(mr(re[aa](),Ut))}ka(function(sn){re[e1]({refUri:sn,properties:{duration:0}})}.bind(re,he),re.autoRoutePVDelay)}}ke(Fy(de,"pushState",{ns:Te,rsp:function(){U&&(dg(X,ag(P+"pushState")),dg(X,ag(P+"locationchange")))}},!0)),ke(Fy(de,"replaceState",{ns:Te,rsp:function(){U&&(dg(X,ag(P+"replaceState")),dg(X,ag(P+"locationchange")))}},!0)),vs(X,P+"popstate",Re,Te),vs(X,P+"locationchange",ht,Te),L=!0}function Oe(X,de){re[pp](ur(Z,function(){j=Z[zP]===!0,w=w||Z[jT],j&&!G&&(ke(Fy(X,"onunhandledrejection",{ns:Te,rsp:function(Q,P){j&&Q.rslt!==!0&&re[LT](Ea[OT](RK(P),de?de[sg]:"",0,0,P,Q.evt))}},!1)),Z[jT]=G=!0)}))}function He(X,de,Q,P,Re){re[aa]().throwInternal(X,de,Q,P,Re)}function mt(){h=null,d=null,m=null,b=null,f=null,A=null,M=!1,D=!1,U=!1,L=!1,R=!1,w=!1,j=!1,G=!1,se=!1;var X=vo(!0);he=X&&X[sg]||"",Me=null,Te=null,Z=null,mn(re,"config",{g:function(){return Z}})}mn(re,"_pageViewManager",{g:function(){return m}}),mn(re,"_pageViewPerformanceManager",{g:function(){return b}}),mn(re,"_pageVisitTimeManager",{g:function(){return f}}),mn(re,"_evtNamespace",{g:function(){return"."+Te}})}),c}return s.Version="3.3.3",s}(Qd),a1="featureOptIn",eL="onCfgChangeReceive",tL="nonOverrideConfigs",nL="scheduleFetchTimeout";function rL(o,s,c,h){try{var d=c>h;d&&(o=null);var m=c==0?yH({},o):o;return m&&s&&!d&&en(m,function(b){var f=s[b];f&&(Oi(m[b])&&Oi(f)?m[b]=rL(m[b],f,++c,h):delete m[b])}),m}catch{}return o}var fp="featureOptIn.",iL=".mode",aL=".onCfg",oL=".offCfg";function FK(o,s,c){var h;if(!s||!s.enabled)return null;var d=(s[a1]||{})[o]||{mode:1},m=d.mode,b=d.onCfg,f=d.offCfg,A=(c||{})[o]||{mode:2},M=A.mode,D=A.onCfg,U=A.offCfg,L=!!A.blockCdnCfg,R=fp+o+iL,w=fp+o+aL,j=fp+o+oL,G=M,Z=D,se=U;return L||(m===4||m===5?(G=m==4?3:2,Z=b||D,se=f||U):m===2||M===2?(G=2,Z=D||b,se=U||f):m===3?(G=3,Z=D||b,se=U||f):m===1&&M===1&&(G=1)),h={},h[R]=G,h[w]=Z,h[j]=se,h}function BK(o,s){try{if(!o||!o.enabled)return null;if(!o[a1])return o.config;var c=o[a1],h=o.config||{};return en(c,function(d){var m=FK(d,o,s.config[a1]);_e(m)||(en(m,function(b,f){d6(h,b,f)}),VK(d,m,h))}),h}catch{}return null}function VK(o,s,c){var h=s[fp+o+iL],d=s[fp+o+aL],m=s[fp+o+oL],b=null;h===3&&(b=d),h===2&&(b=m),b&&en(b,function(f,A){d6(c,f,A)})}var pg,$K="ai_cfgsync",sL="GET",zK=18e5,gp=void 0,HK={instrumentationKey:!0,connectionString:!0,endpointUrl:!0},qK=Cd((pg={syncMode:1,blkCdnCfg:gp,customEvtName:gp,cfgUrl:gp,overrideSyncFn:gp,overrideFetchFn:gp},pg[eL]=gp,pg[nL]=zK,pg[tL]=HK,pg)),GK=function(o){ds(s,o);function s(){var c=o.call(this)||this;c.priority=198,c.identifier="AppInsightsCfgSyncPlugin";var h,d,m,b,f,A,M,D,U,L,R,w,j,G,Z,se,ge=!1;return Un(s,c,function(he,Me){Te(),he.initialize=function(X,de,Q,P){Me.initialize(X,de,Q,P),b=yu(Ta(he.identifier),de.evtNamespace&&de.evtNamespace()),re(X)},he.getCfg=function(){return d},he.pause=function(){ge=!0,mt()},he.resume=function(){ge=!1,He()},he.setCfg=function(X){return Pe(X)},he.sync=function(X){return T(X)},he.updateEventListenerName=function(X){return ae(X)},he._doTeardown=function(X,de){ke(),mt(),Te()},he._getDbgPlgTargets=function(){return[D,M,m,U,j]};function Te(){d=null,m=null,b=null,f=null,M=null,D=null,j=null,A=null,L=null,R=null,U=null,Z=null,se=null,w=null}function re(X){var de=he.identifier,Q=he.core;he._addHook(ur(X,function(){var P=qa(null,X,Q);h=P.getExtCfg(de,qK);var Re=U;U=!!h.blkCdnCfg,!_e(Re)&&Re!==U&&(!U&&f?G&&G(f,W,D):mt()),_e(M)&&(M=h.syncMode===2),_e(D)&&(D=h.syncMode===1);var ht=h.customEvtName||$K;m!==ht&&(M?ae(ht):(ke(),m=ht)),_e(f)&&(f=h.cfgUrl),f||(d=X,D&&T())})),se=h.overrideSyncFn,Z=h.overrideFetchFn,w=h[eL],j=h[tL],L=h[nL],G=me(),R=0,f&&!U&&G&&G(f,W,D)}function Pe(X,de){if(X){if(d=X,de&&!ge)return T();if(M&&!ge)return he.core.updateCfg(X),!0}return!1}function ke(){try{var X=Sa();X&&Zd(X,null,null,b)}catch{}}function T(X){try{return se&&Bt(se)?se(d,X):xq(m,d,X)}catch{}return!1}function ae(X){try{return ke(),X&&(m=X,te()),!0}catch{}return!1}function me(){var X=Z;return _e(X)&&(bk()?X=be:wy()&&(X=V)),X}function be(X,de,Q){var P=Sa(),Re=P&&P.fetch||null;if(X&&Re&&Bt(Re))try{var ht={method:sL},Mt=new Request(X,ht);ms(fetch(Mt),function(Ut){var sn=Ut.value;Ut.rejected?Se(de,400):sn.ok?ms(sn.text(),function(ki){Se(de,sn.status,ki.value,Q)}):Se(de,sn.status,null,Q)})}catch{}}function V(X,de,Q){try{var P=new XMLHttpRequest;P.open(sL,X),P.onreadystatechange=function(){P.readyState===XMLHttpRequest.DONE&&Se(de,P.status,P.responseText,Q)},P.onerror=function(){Se(de,400)},P.ontimeout=function(){Se(de,400)},P.send()}catch{}}function W(X,de,Q){try{if(X>=200&&X<400&&de){R=0;var P=za();if(P){var Re=P.parse(de),ht=BK(Re,he.core),Mt=ht&&vi(ht)&&Oe(ht);Mt&&Pe(Mt,Q)}}else R++;R<3&&He()}catch{}}function Se(X,de,Q,P){try{X(de,Q,P)}catch{}}function te(){if(M){var X=Sa();if(X)try{vs(X,m,function(de){var Q=de&&de.detail;if(w&&Q)w(Q);else{var P=Q&&Q.cfg,Re=P&&vi(P)&&Oe(P);Re&&Pe(Re)}},b,!0)}catch{}}}function Oe(X,de){var Q=null;try{X&&(Q=rL(X,j,0,5))}catch{}return Q}function He(){!A&&L&&(A=ka(function(){A=null,G(f,W,D)},L),A.unref())}function mt(){A&&A.cancel(),A=null,R=0}he.processTelemetry=function(X,de){he.processNext(X,de)}}),c}return s.__ieDyn=1,s}(Qd),Xl="duration",Gr="tags",$T="deviceType",Si="data",ws="name",hg="traceID",tn="length",fg="stringify",Yl="measurements",ko="dataType",Jl="envelopeType",Ql="toString",gg="_get",Zl="enqueue",ec="count",uL="eventsLimitInMem",xs="push",o1="item",zT="emitLineDelimitedJson",mp="clear",HT="createNew",s1="markAsSent",mg="clearSent",qT="bufferOverride",GT="BUFFER_KEY",Mu="SENT_BUFFER_KEY",vp="concat",vg="MAX_BUFFER_SIZE",yg="triggerSend",ri="diagLog",KT="initialize",bg="_sender",wg="endpointUrl",xg="instrumentationKey",WT="customHeaders",lL="maxBatchSizeInBytes",XT="onunloadDisableBeacon",YT="isBeaconApiDisabled",cL="alwaysUseXhrOverride",JT="disableXhr",dL="enableSessionStorageBuffer",_u="_buffer",pL="onunloadDisableFetch",hL="disableSendBeaconSplit",fL="enableSendPromise",u1="getSenderInst",gL="unloadTransports",mL="convertUndefined",vL="maxBatchInterval",l1="serialize",tc="_onError",QT="_onPartialSuccess",c1="_onSuccess",ZT="itemsReceived",e3="itemsAccepted",t3="oriPayload",n3="baseType",d1="sampleRate",yL="eventsSendRequest",bL="getSamplingScore",KK="getHashCodeScore",r3="baseType",Hn="baseData",Nr="properties",wL="true";function lr(o,s,c){return Ln(o,s,c,N0)}function WK(o,s,c){var h=c[Gr]=c[Gr]||{},d=s.ext=s.ext||{},m=s[Gr]=s[Gr]||[],b=d.user;b&&(lr(h,On.userAuthUserId,b.authId),lr(h,On.userId,b.id||b.localId));var f=d.app;f&&lr(h,On.sessionId,f.sesId);var A=d.device;A&&(lr(h,On.deviceId,A.id||A.localId),lr(h,On[$T],A.deviceClass),lr(h,On.deviceIp,A.ip),lr(h,On.deviceModel,A.model),lr(h,On[$T],A[$T]));var M=s.ext.web;if(M){lr(h,On.deviceLanguage,M.browserLang),lr(h,On.deviceBrowserVersion,M.browserVer),lr(h,On.deviceBrowser,M.browser);var D=c[Si]=c[Si]||{},U=D[Hn]=D[Hn]||{},L=U[Nr]=U[Nr]||{};lr(L,"domain",M.domain),lr(L,"isManual",M.isManual?wL:null),lr(L,"screenRes",M.screenRes),lr(L,"userConsent",M.userConsent?wL:null)}var R=d.os;R&&(lr(h,On.deviceOS,R[ws]),lr(h,On.deviceOSVersion,R.osVer));var w=d.trace;w&&(lr(h,On.operationParentId,w.parentID),lr(h,On.operationName,mr(o,w[ws])),lr(h,On.operationId,w[hg]));for(var j={},G=m[tn]-1;G>=0;G--){var Z=m[G];en(Z,function(ge,he){j[ge]=he}),m.splice(G,1)}en(m,function(ge,he){j[ge]=he});var se=yi(yi({},h),j);se[On.internalSdkVersion]||(se[On.internalSdkVersion]=mr(o,"javascript:".concat(XK.Version),64)),c[Gr]=K6(se)}function Du(o,s,c){_e(o)||en(o,function(h,d){Sf(d)?c[h]=d:Dt(d)?s[h]=d:Bf()&&(s[h]=za()[fg](d))})}function nc(o,s){_e(o)||en(o,function(c,h){o[c]=h||s})}function rc(o,s,c,h){var d=new pK(o,h,s);lr(d,"sampleRate",c[uP]),(c[Hn]||{}).startTime&&(d.time=Gd(c[Hn].startTime)),d.iKey=c.iKey;var m=c.iKey.replace(/-/g,"");return d[ws]=d[ws].replace("{0}",m),WK(o,c,d),c[Gr]=c[Gr]||[],K6(d)}function ic(o,s){_e(s[Hn])&&Fe(o,1,46,"telemetryItem.baseData cannot be null.")}var XK={Version:"3.3.3"};function YK(o,s,c){ic(o,s);var h=s[Hn][Yl]||{},d=s[Hn][Nr]||{};Du(s[Si],d,h),_e(c)||nc(d,c);var m=s[Hn];if(_e(m))return Ll(o,"Invalid input for dependency data"),null;var b=m[Nr]&&m[Nr][lP]?m[Nr][lP]:"GET",f=new zl(o,m.id,m.target,m[ws],m[Xl],m.success,m.responseCode,b,m.type,m.correlationContext,d,h),A=new Hl(zl[ko],f);return rc(o,zl[Jl],s,A)}function xL(o,s,c){ic(o,s);var h={},d={};s[r3]!==Su[ko]&&(h.baseTypeSource=s[r3]),s[r3]===Su[ko]?(h=s[Hn][Nr]||{},d=s[Hn][Yl]||{}):s[Hn]&&Du(s[Hn],h,d),Du(s[Si],h,d),_e(c)||nc(h,c);var m=s[Hn][ws],b=new Su(o,m,h,d),f=new Hl(Su[ko],b);return rc(o,Su[Jl],s,f)}function JK(o,s,c){ic(o,s);var h=s[Hn][Yl]||{},d=s[Hn][Nr]||{};Du(s[Si],d,h),_e(c)||nc(d,c);var m=s[Hn],b=Ea.CreateFromInterface(o,m,d,h),f=new Hl(Ea[ko],b);return rc(o,Ea[Jl],s,f)}function QK(o,s,c){ic(o,s);var h=s[Hn],d=h[Nr]||{},m=h[Yl]||{};Du(s[Si],d,m),_e(c)||nc(d,c);var b=new $l(o,h[ws],h.average,h.sampleCount,h.min,h.max,h.stdDev,d,m),f=new Hl($l[ko],b);return rc(o,$l[Jl],s,f)}function ZK(o,s,c){ic(o,s);var h,d=s[Hn];!_e(d)&&!_e(d[Nr])&&!_e(d[Nr][Xl])?(h=d[Nr][Xl],delete d[Nr][Xl]):!_e(s[Si])&&!_e(s[Si][Xl])&&(h=s[Si][Xl],delete s[Si][Xl]);var m=s[Hn],b;((s.ext||{}).trace||{})[hg]&&(b=s.ext.trace[hg]);var f=m.id||b,A=m[ws],M=m.uri,D=m[Nr]||{},U=m[Yl]||{};if(_e(m.refUri)||(D.refUri=m.refUri),_e(m.pageType)||(D.pageType=m.pageType),_e(m.isLoggedIn)||(D.isLoggedIn=m.isLoggedIn[Ql]()),!_e(m[Nr])){var L=m[Nr];en(L,function(j,G){D[j]=G})}Du(s[Si],D,U),_e(c)||nc(D,c);var R=new Tu(o,A,M,h,D,U,f),w=new Hl(Tu[ko],R);return rc(o,Tu[Jl],s,w)}function eW(o,s,c){ic(o,s);var h=s[Hn],d=h[ws],m=h.uri||h.url,b=h[Nr]||{},f=h[Yl]||{};Du(s[Si],b,f),_e(c)||nc(b,c);var A=new cp(o,d,m,void 0,b,f,h),M=new Hl(cp[ko],A);return rc(o,cp[Jl],s,M)}function tW(o,s,c){ic(o,s);var h=s[Hn].message,d=s[Hn].severityLevel,m=s[Hn][Nr]||{},b=s[Hn][Yl]||{};Du(s[Si],m,b),_e(c)||nc(m,c);var f=new lp(o,h,d,m,b),A=new Hl(lp[ko],f);return rc(o,lp[Jl],s,A)}var SL=function(){function o(s,c){var h=[],d=!1,m=c.maxRetryCnt;this[gg]=function(){return h},this._set=function(b){return h=b,h},Un(o,this,function(b){b[Zl]=function(f){if(b[ec]()>=c[uL]){d||(Fe(s,2,105,"Maximum in-memory buffer size reached: "+b[ec](),!0),d=!0);return}f.cnt=f.cnt||0,!(!_e(m)&&f.cnt>m)&&h[xs](f)},b[ec]=function(){return h[tn]},b.size=function(){for(var f=h[tn],A=0;A<h[tn];A++)f+=h[A].item[tn];return c[zT]||(f+=2),f},b[mp]=function(){h=[],d=!1},b.getItems=function(){return h.slice(0)},b.batchPayloads=function(f){if(f&&f[tn]>0){var A=[];nt(f,function(D){A[xs](D[o1])});var M=c[zT]?A.join(`
`):"["+A.join(",")+"]";return M}return null},b[HT]=function(f,A,M){var D=h.slice(0);f=f||s,A=A||{};var U=M?new kL(f,A):new i3(f,A);return nt(D,function(L){U[Zl](L)}),U}})}return o.__ieDyn=1,o}(),i3=function(o){ds(s,o);function s(c,h){var d=o.call(this,c,h)||this;return Un(s,d,function(m,b){m[s1]=function(f){b[mp]()},m[mg]=function(f){}}),d}return s.__ieDyn=1,s}(SL),nW=["AI_buffer","AI_sentBuffer"],kL=function(o){ds(s,o);function s(h,d){var m=o.call(this,h,d)||this,b=!1,f=d?.namePrefix,A=d[qT]||{getItem:xT,setItem:AP},M=A.getItem,D=A.setItem,U=d.maxRetryCnt;return Un(s,m,function(L,R){var w=he(s[GT]),j=he(s[Mu]),G=re(),Z=j[vp](G),se=L._set(w[vp](Z));se[tn]>s[vg]&&(se[tn]=s[vg]),Te(s[Mu],[]),Te(s[GT],se),L[Zl]=function(ke){if(L[ec]()>=s[vg]){b||(Fe(h,2,67,"Maximum buffer size reached: "+L[ec](),!0),b=!0);return}ke.cnt=ke.cnt||0,!(!_e(U)&&ke.cnt>U)&&(R[Zl](ke),Te(s.BUFFER_KEY,L[gg]()))},L[mp]=function(){R[mp](),Te(s.BUFFER_KEY,L[gg]()),Te(s[Mu],[]),b=!1},L[s1]=function(ke){Te(s[GT],L._set(ge(ke,L[gg]())));var T=he(s[Mu]);T instanceof Array&&ke instanceof Array&&(T=T[vp](ke),T[tn]>s[vg]&&(Fe(h,1,67,"Sent buffer reached its maximum size: "+T[tn],!0),T[tn]=s[vg]),Te(s[Mu],T))},L[mg]=function(ke){var T=he(s[Mu]);T=ge(ke,T),Te(s[Mu],T)},L[HT]=function(ke,T,ae){ae=!!ae;var me=L[gg]().slice(0),be=he(s[Mu]).slice(0);ke=ke||h,T=T||{},L[mp]();var V=ae?new s(ke,T):new i3(ke,T);return nt(me,function(W){V[Zl](W)}),ae&&V[s1](be),V};function ge(ke,T){var ae=[],me=[];return nt(ke,function(be){me[xs](be[o1])}),nt(T,function(be){!Bt(be)&&ti(me,be[o1])===-1&&ae[xs](be)}),ae}function he(ke){var T=ke;return T=f?f+"_"+T:T,Me(T)}function Me(ke){try{var T=M(h,ke);if(T){var ae=za().parse(T);if(Dt(ae)&&(ae=za().parse(ae)),ae&&Yt(ae))return ae}}catch(me){Fe(h,1,42," storage key: "+ke+", "+wn(me),{exception:rt(me)})}return[]}function Te(ke,T){var ae=ke;try{ae=f?f+"_"+ae:ae;var me=JSON[fg](T);D(h,ae,me)}catch(be){D(h,ae,JSON[fg]([])),Fe(h,2,41," storage key: "+ae+", "+wn(be)+". Buffer cleared",{exception:rt(be)})}}function re(){var ke=[];try{return nt(nW,function(T){var ae=Pe(T);if(ke=ke[vp](ae),f){var me=f+"_"+T,be=Pe(me);ke=ke[vp](be)}}),ke}catch(T){Fe(h,2,41,"Transfer events from previous buffers: "+wn(T)+". previous Buffer items can not be removed",{exception:rt(T)})}return[]}function Pe(ke){try{var T=Me(ke),ae=[];return nt(T,function(me){var be={item:me,cnt:0};ae[xs](be)}),EP(h,ke),ae}catch{}return[]}}),m}var c;return c=s,s.VERSION="_1",s.BUFFER_KEY="AI_buffer"+c.VERSION,s.SENT_BUFFER_KEY="AI_sentBuffer"+c.VERSION,s.MAX_BUFFER_SIZE=2e3,s}(SL),rW=function(){function o(s){Un(o,this,function(c){c[l1]=function(b){var f=h(b,"root");try{return za()[fg](f)}catch(A){Fe(s,1,48,A&&Bt(A[Ql])?A[Ql]():"Error serializing object",null,!0)}};function h(b,f){var A="__aiCircularRefCheck",M={};if(!b)return Fe(s,1,48,"cannot serialize object because it is null or undefined",{name:f},!0),M;if(b[A])return Fe(s,2,50,"Circular reference detected while serializing object",{name:f},!0),M;if(!b.aiDataContract){if(f==="measurements")M=m(b,"number",f);else if(f==="properties")M=m(b,"string",f);else if(f==="tags")M=m(b,"string",f);else if(Yt(b))M=d(b,f);else{Fe(s,2,49,"Attempting to serialize an object which does not implement ISerializable",{name:f},!0);try{za()[fg](b),M=b}catch(D){Fe(s,1,48,D&&Bt(D[Ql])?D[Ql]():"Error serializing object",null,!0)}}return M}return b[A]=!0,en(b.aiDataContract,function(D,U){var L=Bt(U)?U()&1:U&1,R=Bt(U)?U()&4:U&4,w=U&2,j=b[D]!==void 0,G=Oi(b[D])&&b[D]!==null;if(L&&!j&&!w)Fe(s,1,24,"Missing required field specification. The field is required but not present on source",{field:D,name:f});else if(!R){var Z=void 0;G?w?Z=d(b[D],D):Z=h(b[D],D):Z=b[D],Z!==void 0&&(M[D]=Z)}}),delete b[A],M}function d(b,f){var A;if(b)if(!Yt(b))Fe(s,1,54,`This field was specified as an array in the contract but the item is not an array.\r
`,{name:f},!0);else{A=[];for(var M=0;M<b[tn];M++){var D=b[M],U=h(D,f+"["+M+"]");A[xs](U)}}return A}function m(b,f,A){var M;return b&&(M={},en(b,function(D,U){if(f==="string")U===void 0?M[D]="undefined":U===null?M[D]="null":U[Ql]?M[D]=U[Ql]():M[D]="invalid field: toString() is not defined.";else if(f==="number")if(U===void 0)M[D]="undefined";else if(U===null)M[D]="null";else{var L=parseFloat(U);M[D]=L}else M[D]="invalid field: "+A+" is of unknown type.",Fe(s,1,M[D],null,!0)})),M}})}return o.__ieDyn=1,o}(),iW=8,aW=function(){function o(){}return o.prototype.getHashCodeScore=function(s){var c=this.getHashCode(s)/o.INT_MAX_VALUE;return c*100},o.prototype.getHashCode=function(s){if(s==="")return 0;for(;s[tn]<iW;)s=s[vp](s);for(var c=5381,h=0;h<s[tn];++h)c=(c<<5)+c+s.charCodeAt(h),c=c&c;return Math.abs(c)},o.INT_MAX_VALUE=2147483647,o}(),oW=function(){function o(){var s=this,c=new aW,h=new RP;s[bL]=function(d){var m=0;return d[Gr]&&d[Gr][h.userId]?m=c.getHashCodeScore(d[Gr][h.userId]):d.ext&&d.ext.user&&d.ext.user.id?m=c[KK](d.ext.user.id):d[Gr]&&d[Gr][h.operationId]?m=c.getHashCodeScore(d[Gr][h.operationId]):d.ext&&d.ext.telemetryTrace&&d.ext.telemetryTrace[hg]?m=c.getHashCodeScore(d.ext.telemetryTrace[hg]):m=Math.random()*100,m}}return o}(),sW=function(){function o(s,c){this.INT_MAX_VALUE=2147483647;var h=c||Pl(null);(s>100||s<0)&&(h.throwInternal(2,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:s},!0),s=100),this[d1]=s,this.samplingScoreGenerator=new oW}return o.prototype.isSampledIn=function(s){var c=this[d1],h=!1;return c==null||c>=100||s.baseType===$l[ko]?!0:(h=this.samplingScoreGenerator[bL](s)<c,h)},o}(),Vn,Ss,To=void 0,TL="",uW=65e3;function AL(o){try{return o.responseText}catch{}return null}function lW(o){return o&&o.sendPOST}var EL=Cd((Vn={endpointUrl:Ay(N0,iT+ep)},Vn[zT]=gr(),Vn[vL]=15e3,Vn[lL]=102400,Vn.disableTelemetry=gr(),Vn[dL]=gr(!0),Vn.isRetryDisabled=gr(),Vn[YT]=gr(!0),Vn[hL]=gr(!0),Vn[JT]=gr(),Vn[pL]=gr(),Vn[XT]=gr(),Vn[xg]=To,Vn.namePrefix=To,Vn.samplingPercentage=Ay(cW,100),Vn[WT]=To,Vn[mL]=To,Vn[uL]=1e4,Vn[qT]=!1,Vn.httpXHROverride={isVal:lW,v:To},Vn[cL]=gr(),Vn.transports=To,Vn.retryCodes=To,Vn.maxRetryCnt={isVal:Sf,v:10},Vn));function cW(o){return!isNaN(o)&&o>0&&o<=100}var dW=(Ss={},Ss[Su.dataType]=xL,Ss[lp.dataType]=tW,Ss[Tu.dataType]=ZK,Ss[cp.dataType]=eW,Ss[Ea.dataType]=JK,Ss[$l.dataType]=QK,Ss[zl.dataType]=YK,Ss),pW=function(o){ds(s,o);function s(){var c=o.call(this)||this;c.priority=1001,c.identifier=UP;var h,d,m,b,f,A,M,D,U=0,L,R,w,j,G,Z,se,ge,he,Me,Te,re,Pe,ke,T,ae,me,be,V,W,Se,te,Oe,He,mt,X,de;return Un(s,c,function(Q,P){Eo(),Q.pause=function(){rn(),b=!0},Q.resume=function(){b&&(b=!1,d=null,ce(),zt())},Q.flush=function(ee,ve,qe){if(ee===void 0&&(ee=!0),!b){rn();try{return Q[yg](ee,null,qe||1)}catch(Xe){Fe(Q[ri](),1,22,"flush failed, telemetry will not be collected: "+wn(Xe),{exception:rt(Xe)})}}},Q.onunloadFlush=function(){if(!b)if(se||W)try{return Q[yg](!0,Ie,2)}catch(ee){Fe(Q[ri](),1,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+wn(ee),{exception:rt(ee)})}else Q.flush(!1)},Q.addHeader=function(ee,ve){D[ee]=ve},Q[KT]=function(ee,ve,qe,Xe){Q.isInitialized()&&Fe(Q[ri](),1,28,"Sender is already initialized"),P[KT](ee,ve,qe,Xe);var St=Q.identifier;A=new rW(ve.logger),h=0,d=null,m=0,Q[bg]=null,M=0;var bt=Q[ri]();w=yu(Ta("Sender"),ve.evtNamespace&&ve.evtNamespace()),R=xK(w),Q._addHook(ur(ee,function(Lt){var _n=Lt.cfg;_n.storagePrefix&&wT(_n.storagePrefix);var oi=qa(null,_n,ve),jt=oi.getExtCfg(St,EL);as(jt[wg])&&(jt[wg]=_n[wg]),as(jt[xg])&&(jt[xg]=_n[xg]),mn(Q,"_senderConfig",{g:function(){return jt}}),G!==jt[wg]&&(j=G=jt[wg]),ve.activeStatus()===su.PENDING?Q.pause():ve.activeStatus()===su.ACTIVE&&Q.resume(),Me&&Me!==jt[WT]&&nt(Me,function(pn){delete D[pn.header]}),Z=jt[lL],se=(jt[XT]===!1||jt[YT]===!1)&&Vf(),ge=jt[XT]===!1&&Vf(),he=jt[YT]===!1&&Vf(),W=jt[cL],Se=!!jt[JT],de=jt.retryCodes;var Rp=jt[qT],As=!!jt[dL]&&(!!Rp||tg()),Bg=jt.namePrefix,Es=As!==ae||As&&be!==Bg||As&&me!==Rp;if(Q[_u]){if(Es)try{Q._buffer=Q._buffer[HT](bt,jt,As)}catch(pn){Fe(Q[ri](),1,12,"failed to transfer telemetry to different buffer storage, telemetry will be lost: "+wn(pn),{exception:rt(pn)})}ce()}else Q[_u]=As?new kL(bt,jt):new i3(bt,jt);be=Bg,ae=As,me=Rp,te=!jt[pL]&&bk(!0),mt=!!jt[hL],Q._sample=new sW(jt.samplingPercentage,bt),re=jt[xg],!as(re)&&!Ur(re,_n)&&Fe(bt,1,100,"Invalid Instrumentation key "+re),Me=jt[WT],Dt(j)&&!mT(j)&&Me&&Me[tn]>0?nt(Me,function(pn){c.addHeader(pn.header,pn.value)}):Me=null,V=jt[fL];var Uu=ht();X?X.SetConfig(Uu):(X=new PG,X[KT](Uu,bt));var Ou=jt.httpXHROverride,_a=null,si=null,ui=Y6([3,1,2],jt.transports);_a=X&&X[u1](ui,!1);var Ye=X&&X.getFallbackInst();Oe=function(pn,Da){return it(Ye,pn,Da)},He=function(pn,Da){return it(Ye,pn,Da,!1)},_a=W?Ou:_a||Ou||Ye,Q[bg]=function(pn,Da){return it(_a,pn,Da)},te&&(L=yt);var vc=Y6([3,1],jt[gL]);te||(vc=vc.filter(function(pn){return pn!==2})),si=X&&X[u1](vc,!0),si=W?Ou:si||Ou,(W||jt[gL]||!L)&&si&&(L=function(pn,Da){return it(si,pn,Da)}),L||(L=Oe),Te=jt.disableTelemetry,Pe=jt[mL]||To,ke=jt.isRetryDisabled,T=jt[vL]}))},Q.processTelemetry=function(ee,ve){var qe;ve=Q._getTelCtx(ve);var Xe=ve[ri]();try{var St=Ee(ee,Xe);if(!St)return;var bt=In(ee,Xe);if(!bt)return;var Lt=A[l1](bt),_n=Q[_u];ce(Lt);var oi=(qe={},qe[o1]=Lt,qe.cnt=0,qe);_n[Zl](oi),zt()}catch(jt){Fe(Xe,2,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+wn(jt),{exception:rt(jt)})}Q.processNext(ee,ve)},Q.isCompletelyIdle=function(){return!b&&U===0&&Q._buffer[ec]()===0},Q._xhrReadyStateChange=function(ee,ve,qe){if(!Ce(ve))return Mt(ee,ve,qe)},Q[yg]=function(ee,ve,qe){ee===void 0&&(ee=!0);var Xe;if(!b)try{var St=Q[_u];if(Te)St[mp]();else{if(St[ec]()>0){var bt=St.getItems();sa(qe||0,ee),ve?Xe=ve.call(Q,bt,ee):Xe=Q[bg](bt,ee)}m=+new Date}rn()}catch(_n){var Lt=tD();(!Lt||Lt>9)&&Fe(Q[ri](),1,40,"Telemetry transmission failed, some telemetry will be lost: "+wn(_n),{exception:rt(_n)})}return Xe},Q.getOfflineSupport=function(){var ee;return ee={getUrl:function(){return j},createPayload:$e},ee[l1]=rr,ee.batch=fe,ee.shouldProcess=function(ve){return!!Ee(ve)},ee},Q._doTeardown=function(ee,ve){Q.onunloadFlush(),Wd(R,!1),Eo()},Q[tc]=function(ee,ve,qe){if(!Ce(ee))return Ut(ee,ve)},Q[QT]=function(ee,ve){if(!Ce(ee))return sn(ee,ve)},Q[c1]=function(ee,ve){if(!Ce(ee))return ki(ee)},Q._xdrOnLoad=function(ee,ve){if(!Ce(ve))return Re(ee,ve)};function Re(ee,ve){var qe=AL(ee);if(ee&&(qe+""=="200"||qe===""))h=0,Q[c1](ve,0);else{var Xe=Gk(qe);Xe&&Xe[ZT]&&Xe[ZT]>Xe[e3]&&!ke?Q[QT](ve,Xe):Q[tc](ve,X6(ee))}}function ht(){var ee;try{var ve={xdrOnComplete:function(Xe,St,bt){var Lt=ai(bt);if(Lt)return Re(Xe,Lt)},fetchOnComplete:function(Xe,St,bt,Lt){var _n=ai(Lt);if(_n)return we(Xe.status,_n,Xe.url,_n[tn],Xe.statusText,bt||"")},xhrOnComplete:function(Xe,St,bt){var Lt=ai(bt);if(Lt)return Mt(Xe,Lt,Lt[tn])},beaconOnRetry:function(Xe,St,bt){return Ne(Xe,St,bt)}},qe=(ee={},ee[fL]=V,ee.isOneDs=!1,ee.disableCredentials=!1,ee[JT]=Se,ee.disableBeacon=!he,ee.disableBeaconSync=!ge,ee.senderOnCompleteCallBack=ve,ee);return qe}catch{}return null}function Mt(ee,ve,qe){ee.readyState===4&&we(ee.status,ve,ee.responseURL,qe,by(ee),AL(ee)||ee.response)}function Ut(ee,ve,qe){Fe(Q[ri](),2,26,"Failed to send telemetry.",{message:ve}),Q._buffer&&Q._buffer[mg](ee)}function sn(ee,ve){for(var qe=[],Xe=[],St=ve.errors.reverse(),bt=0,Lt=St;bt<Lt.length;bt++){var _n=Lt[bt],oi=ee.splice(_n.index,1)[0];ut(_n.statusCode)?Xe[xs](oi):qe[xs](oi)}ee[tn]>0&&Q[c1](ee,ve[e3]),qe[tn]>0&&Q[tc](qe,by(null,["partial success",ve[e3],"of",ve.itemsReceived].join(" "))),Xe[tn]>0&&(Ot(Xe),Fe(Q[ri](),2,40,"Partial success. Delivered: "+ee[tn]+", Failed: "+qe[tn]+". Will retry to send "+Xe[tn]+" our of "+ve[ZT]+" items"))}function ki(ee,ve){Q._buffer&&Q._buffer[mg](ee)}function ai(ee){try{if(ee){var ve=ee,qe=ve[t3];return qe&&qe[tn]?qe:null}}catch{}return null}function Ee(ee,ve){if(Te)return!1;if(!ee)return ve&&Fe(ve,1,7,"Cannot send empty telemetry"),!1;if(ee.baseData&&!ee[n3])return ve&&Fe(ve,1,70,"Cannot send telemetry without baseData and baseType"),!1;if(ee[n3]||(ee[n3]="EventData"),!Q[bg])return ve&&Fe(ve,1,28,"Sender was not initialized"),!1;if(lt(ee))ee[uP]=Q._sample[d1];else return ve&&Fe(ve,2,33,"Telemetry item was sampled out and not sent",{SampleRate:Q._sample[d1]}),!1;return!0}function In(ee,ve){var qe=ee.iKey||re,Xe=s.constructEnvelope(ee,qe,ve,Pe);if(!Xe){Fe(ve,1,47,"Unable to create an AppInsights envelope");return}var St=!1;if(ee[Gr]&&ee[Gr][rT]&&(nt(ee[Gr][rT],function(bt){try{bt&&bt(Xe)===!1&&(St=!0,Ll(ve,"Telemetry processor check returns false"))}catch(Lt){Fe(ve,1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+wn(Lt),{exception:rt(Lt)},!0)}}),delete ee[Gr][rT]),!St)return Xe}function rr(ee){var ve=TL,qe=Q[ri]();try{var Xe=Ee(ee,qe),St=null;Xe&&(St=In(ee,qe)),St&&(ve=A[l1](St))}catch{}return ve}function fe(ee){var ve=TL;return ee&&ee[tn]&&(ve="["+ee.join(",")+"]"),ve}function $e(ee){var ve,qe=$t();return ve={urlString:j},ve[Si]=ee,ve.headers=qe,ve}function lt(ee){return Q._sample.isSampledIn(ee)}function ct(ee,ve,qe,Xe){ve===200&&ee?Q._onSuccess(ee,ee[tn]):Xe&&Q[tc](ee,Xe)}function it(ee,ve,qe,Xe){Xe===void 0&&(Xe=!0);var St=function(_n,oi,jt){return ct(ve,_n,oi,jt)},bt=Be(ve),Lt=ee&&ee.sendPOST;return Lt&&bt?(Xe&&Q._buffer[s1](ve),Lt(bt,St,!qe)):null}function Be(ee){var ve;if(Yt(ee)&&ee[tn]>0){var qe=Q[_u].batchPayloads(ee),Xe=$t(),St=(ve={},ve[Si]=qe,ve.urlString=j,ve.headers=Xe,ve.disableXhrSync=Se,ve.disableFetchKeepAlive=!te,ve[t3]=ee,ve);return St}return null}function $t(){try{var ee=D||{};return mT(j)&&(ee[Mn[6]]=Mn[7]),ee}catch{}return null}function ce(ee){var ve=ee?ee[tn]:0;return Q[_u].size()+ve>Z?((!R||R.isOnline())&&Q[yg](!0,null,10),!0):!1}function we(ee,ve,qe,Xe,St,bt){var Lt=null;if(Q._appId||(Lt=Gk(bt),Lt&&Lt.appId&&(Q._appId=Lt.appId)),(ee<200||ee>=300)&&ee!==0){if((ee===301||ee===307||ee===308)&&!De(qe)){Q[tc](ve,St);return}if(R&&!R.isOnline()){if(!ke){var _n=10;Ot(ve,_n),Fe(Q[ri](),2,40,". Offline - Response Code: ".concat(ee,". Offline status: ").concat(!R.isOnline(),". Will retry to send ").concat(ve.length," items."))}return}!ke&&ut(ee)?(Ot(ve),Fe(Q[ri](),2,40,". Response code "+ee+". Will retry to send "+ve[tn]+" items.")):Q[tc](ve,St)}else De(qe),ee===206?(Lt||(Lt=Gk(bt)),Lt&&!ke?Q[QT](ve,Lt):Q[tc](ve,St)):(h=0,Q[c1](ve,Xe))}function De(ee){return M>=10?!1:!_e(ee)&&ee!==""&&ee!==j?(j=ee,++M,!0):!1}function Ie(ee,ve){if(L)L(ee,!1);else{var qe=X&&X[u1]([3],!0);return it(qe,ee,ve)}}function Ne(ee,ve,qe){var Xe=ee,St=Xe&&Xe[t3];if(mt)He&&He(St,!0),Fe(Q[ri](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender.");else{for(var bt=[],Lt=0;Lt<St[tn];Lt++){var _n=St[Lt],oi=[_n],jt=Be(oi);qe(jt,ve)?Q._onSuccess(oi,oi[tn]):bt[xs](_n)}bt[tn]>0&&(He&&He(bt,!0),Fe(Q[ri](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}function Ce(ee){try{if(ee&&ee[tn])return Dt(ee[0])}catch{}return null}function yt(ee,ve){var qe=null;if(Yt(ee)){for(var Xe=ee[tn],St=0;St<ee[tn];St++)Xe+=ee[St].item[tn];var bt=X.getSyncFetchPayload();bt+Xe<=uW?qe=2:Vf()?qe=3:(qe=1,Fe(Q[ri](),2,40,". Failed to send telemetry with Beacon API, retried with xhrSender."));var Lt=X&&X[u1]([qe],!0);return it(Lt,ee,ve)}return null}function Ot(ee,ve){if(ve===void 0&&(ve=1),!(!ee||ee[tn]===0)){var qe=Q[_u];qe[mg](ee),h++;for(var Xe=0,St=ee;Xe<St.length;Xe++){var bt=St[Xe];bt.cnt=bt.cnt||0,bt.cnt++,qe[Zl](bt)}Ct(ve),zt()}}function Ct(ee){var ve=10,qe;if(h<=1)qe=ve;else{var Xe=(Math.pow(2,h)-1)/2,St=Math.floor(Math.random()*Xe*ve)+1;St=ee*St,qe=Math.max(Math.min(St,3600),ve)}var bt=lo()+qe*1e3;d=bt}function zt(){if(!f&&!b){var ee=d?Math.max(0,d-lo()):0,ve=Math.max(T,ee);f=ka(function(){f=null,Q[yg](!0,null,1)},ve)}}function rn(){f&&f.cancel(),f=null,d=null}function ut(ee){return _e(de)?ee===401||ee===408||ee===429||ee===500||ee===502||ee===503||ee===504:de[tn]&&de.indexOf(ee)>-1}function Ti(){var ee="getNotifyMgr";return Q.core[ee]?Q.core[ee]():Q.core._notificationManager}function sa(ee,ve){var qe=Ti();if(qe&&qe[yL])try{qe[yL](ee,ve)}catch(Xe){Fe(Q[ri](),1,74,"send request notification failed: "+wn(Xe),{exception:rt(Xe)})}}function Ur(ee,ve){var qe=ve.disableInstrumentationKeyValidation,Xe=_e(qe)?!1:qe;if(Xe)return!0;var St="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",bt=new RegExp(St);return bt.test(ee)}function Eo(){Q[bg]=null,Q[_u]=null,Q._appId=null,Q._sample=null,D={},R=null,h=0,d=null,m=null,b=!1,f=null,A=null,M=0,U=0,L=null,w=null,j=null,G=null,Z=0,se=!1,Me=null,Te=!1,re=null,Pe=To,ke=!1,ae=null,be=To,Se=!1,te=!1,mt=!1,Oe=null,He=null,X=null,mn(Q,"_senderConfig",{g:function(){return W6({},EL)}})}}),c}return s.constructEnvelope=function(c,h,d,m){var b;h!==c.iKey&&!_e(h)?b=yi(yi({},c),{iKey:h}):b=c;var f=dW[b.baseType]||xL;return f(d,b,m)},s}(Qd),CL="duration",ac="properties",Wa="requestUrl",Sg="inst",oc="length",ks="traceID",Pu="spanID",Ca="traceFlags",kg="context",yp="aborted",p1="traceId",h1="spanId",f1="_addHook",Xa="core",a3="includeCorrelationHeaders",o3="getAbsoluteUrl",sc="headers",Ia="requestHeaders",s3="setRequestHeader",IL="trackDependencyDataInternal",uc="startTime",bp="toLowerCase",u3="enableRequestHeaderTracking",ML="enableAjaxErrorStatusText",_L="enableAjaxPerfTracking",DL="maxAjaxCallsPerView",PL="excludeRequestFromAutoTrackingPatterns",LL="addRequestContext",l3="disableAjaxTracking",RL="ajaxPerfLookupDelay",NL="disableFetchTracking",UL="enableResponseHeaderTracking",Ya="status",lc="statusText",wp="headerMap",c3="openDone",d3="sendDone",cc="requestSentTime",p3="abortDone",h3="getTraceId",f3="getTraceFlags",Lu="method",g3="errorStatusText",OL="stateChangeAttached",jL="responseText",Tg="responseFinishedTime",m3="CreateTrackItem",FL="response",BL="getAllResponseHeaders",v3="getPartAProps",g1="perfMark",xp="name",y3="perfTiming",Ag="exception",VL="ajaxDiagnosticsMessage",b3="correlationContext",w3="ajaxTotalDuration",x3="eventTraceCtx";function $L(o,s,c){var h=0,d=o[s],m=o[c];return d&&m&&(h=Bi(d,m)),h}function dc(o,s,c,h,d){var m=0,b=$L(c,h,d);return b&&(m=Ru(o,s,ku(b))),m}function Ru(o,s,c){var h="ajaxPerf",d=0;if(o&&s&&c){var m=o[h]=o[h]||{};m[s]=c,d=1}return d}function hW(o,s){var c=o[y3],h=s[ac]||{},d=0,m="name",b="Start",f="End",A="domainLookup",M="connect",D="redirect",U="request",L="response",R="startTime",w=A+b,j=A+f,G=M+b,Z=M+f,se=U+b,ge=U+f,he=L+b,Me=L+f,Te=D+b,re=D=f,Pe="transferSize",ke="encodedBodySize",T="decodedBodySize",ae="serverTiming";if(c){d|=dc(h,D,c,Te,re),d|=dc(h,A,c,w,j),d|=dc(h,M,c,G,Z),d|=dc(h,U,c,se,ge),d|=dc(h,L,c,he,Me),d|=dc(h,"networkConnect",c,R,Z),d|=dc(h,"sentRequest",c,se,Me);var me=c[CL];me||(me=$L(c,R,Me)||0),d|=Ru(h,CL,me),d|=Ru(h,"perfTotal",me);var be=c[ae];if(be){var V={};nt(be,function(W,Se){var te=my(W[m]||""+Se),Oe=V[te]||{};en(W,function(He,mt){(He!==m&&Dt(mt)||Sf(mt))&&(Oe[He]&&(mt=Oe[He]+";"+mt),(mt||!Dt(mt))&&(Oe[He]=mt))}),V[te]=Oe}),d|=Ru(h,ae,V)}d|=Ru(h,Pe,c[Pe]),d|=Ru(h,ke,c[ke]),d|=Ru(h,T,c[T])}else o[g1]&&(d|=Ru(h,"missing",o.perfAttempts));d&&(s[ac]=h)}var fW=function(){function o(){var s=this;s[c3]=!1,s.setRequestHeaderDone=!1,s[d3]=!1,s[p3]=!1,s[OL]=!1}return o}(),zL=function(){function o(s,c,h,d){var m,b=this,f=h,A="responseText";b[g1]=null,b.completed=!1,b.requestHeadersSize=null,b[Ia]=null,b.responseReceivingDuration=null,b.callbackDuration=null,b[w3]=null,b[yp]=0,b.pageUrl=null,b[Wa]=null,b.requestSize=0,b[Lu]=null,b[Ya]=null,b[cc]=null,b.responseStartedTime=null,b[Tg]=null,b.callbackFinishedTime=null,b.endTime=null,b.xhrMonitoringState=new fW,b.clientFailure=0,b[ks]=s,b[Pu]=c,b[Ca]=d?.getTraceFlags(),d?b[x3]=(m={},m[p1]=d[h3](),m[h1]=d.getSpanId(),m[Ca]=d[f3](),m):b[x3]=null,Un(o,b,function(M){M.getAbsoluteUrl=function(){return M[Wa]?QG(M[Wa]):null},M.getPathName=function(){return M[Wa]?Gy(f,ZG(M[Lu],M[Wa])):null},M[m3]=function(D,U,L){var R;if(M.ajaxTotalDuration=Math.round(Bi(M.requestSentTime,M.responseFinishedTime)*1e3)/1e3,M[w3]<0)return null;var w=(R={id:"|"+M[ks]+"."+M[Pu],target:M[o3]()},R[xp]=M.getPathName(),R.type=D,R[uc]=null,R.duration=M[w3],R.success=+M[Ya]>=200&&+M[Ya]<400,R.responseCode=+M[Ya],R[ac]={HttpMethod:M[Lu]},R),j=w[ac];if(M[yp]&&(j[yp]=!0),M[cc]&&(w[uc]=new Date,w[uc].setTime(M[cc])),hW(M,w),U&&ss(M.requestHeaders)[oc]>0&&(j[Ia]=M[Ia]),L){var G=L();if(G){var Z=G[b3];if(Z&&(w.correlationContext=Z),G[wp]&&ss(G.headerMap)[oc]>0&&(j.responseHeaders=G[wp]),M[g3])if(M[Ya]>=400){var se=G.type;(se===""||se==="text")&&(j.responseText=G.responseText?G[lc]+" - "+G[A]:G[lc]),se==="json"&&(j.responseText=G.response?G[lc]+" - "+JSON.stringify(G[FL]):G[lc])}else M[Ya]===0&&(j.responseText=G[lc]||"")}}return w},M[v3]=function(){var D,U=null,L=M[x3];if(L&&(L[p1]||L[h1])){U={};var R=U[ia.TraceExt]=(D={},D[ks]=L[p1],D.parentID=L[h1],D);_e(L[Ca])||(R[Ca]=L[Ca])}return U}})}return o.__ieDyn=1,o}(),nr,Eg="diagLog",Nu="_ajaxData",pc="fetch",Cg="Failed to monitor XMLHttpRequest",HL=", monitoring data for this ajax call ",Sp=HL+"may be incorrect.",qL=HL+"won't be sent.",GL="Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",KL="Failed to add custom defined request context as configured call back may missing a null check.",WL="Failed to calculate the duration of the ",XL=0;function gW(){var o=Sa();return!o||_e(o.Request)||_e(o.Request[co])||_e(o[pc])?null:o[pc]}function mW(o,s){var c,h,d=!1;if(wy()){var m=XMLHttpRequest[co];d=!_e(m)&&!_e(m.open)&&!_e(m.send)&&!_e(m.abort)}var b=tD();if(b&&b<9&&(d=!1),d)try{var f=new XMLHttpRequest,A={xh:[],i:(c={},c[s]={},c)};f[Nu]=A;var M=XMLHttpRequest[co].open;XMLHttpRequest[co].open=M}catch(D){d=!1,Ig(o,15,"Failed to enable XMLHttpRequest monitoring, extension is not supported",(h={},h[Ag]=rt(D),h))}return d}var kp=function(o,s){return o&&s&&o[Nu]?(o[Nu].i||{})[s]:null},vW=function(o,s,c){if(o){var h=(o[Nu]||{}).xh;h&&h.push({n:s,v:c})}},S3=function(o,s){var c=!1;if(o){var h=(o[Nu]||{}).xh;h&&nt(h,function(d){if(d.n===s)return c=!0,-1})}return c};function m1(o,s){var c="";try{var h=kp(o,s);h&&h[Wa]&&(c+="(url: '"+h[Wa]+"')")}catch{}return c}function Ig(o,s,c,h,d){Fe(o[Eg](),1,s,c,h,d)}function Ts(o,s,c,h,d){Fe(o[Eg](),2,s,c,h,d)}function Mg(o,s,c){return function(h){var d;Ig(o,s,c,(d={ajaxDiagnosticsMessage:m1(h[Sg],o._ajaxDataId)},d[Ag]=rt(h.err),d))}}function Tp(o,s){return o&&s?Fi(o,s):-1}function YL(o,s,c){var h={id:s,fn:c};return o.push(h),{remove:function(){nt(o,function(d,m){if(d.id===h.id)return o.splice(m,1),-1})}}}function JL(o,s,c,h){var d=!0;return nt(s,function(m,b){try{m.fn.call(null,c)===!1&&(d=!1)}catch(f){Fe(o&&o.logger,1,64,"Dependency "+h+" [#"+b+"] failed: "+wn(f),{exception:rt(f)},!0)}}),d}function yW(o,s,c,h,d,m){var b,f=o[oc];if(f>0){var A=(b={},b[Xa]=s,b.xhr=h,b.input=d,b.init=m,b.traceId=c[ks],b.spanId=c[Pu],b.traceFlags=c[Ca],b.context=c[kg]||{},b.aborted=!!c[yp],b);JL(s,o,A,"listener"),c[ks]=A[p1],c[Pu]=A[h1],c[Ca]=A[Ca],c[kg]=A[kg]}}var v1="*.blob.core.",bW=us([v1+"windows.net",v1+"chinacloudapi.cn",v1+"cloudapi.de",v1+"usgovcloudapi.net"]),wW=[/https:\/\/[^\/]*(\.pipe\.aria|aria\.pipe|events\.data|collector\.azure)\.[^\/]+\/(OneCollector\/1|Collector\/3)\.0/i],xW=us((nr={},nr[DL]=500,nr[l3]=!1,nr[NL]=!1,nr[PL]=void 0,nr.disableCorrelationHeaders=!1,nr.distributedTracingMode=1,nr.correlationHeaderExcludedDomains=bW,nr.correlationHeaderDomains=void 0,nr.correlationHeaderExcludePatterns=void 0,nr.appId=void 0,nr.enableCorsCorrelation=!1,nr[u3]=!1,nr[UL]=!1,nr[ML]=!1,nr[_L]=!1,nr.maxAjaxPerfLookupAttempts=3,nr[RL]=25,nr.ignoreHeaders=["Authorization","X-API-Key","WWW-Authenticate"],nr[LL]=void 0,nr.addIntEndpoints=!0,nr)),SW=function(o){ds(s,o);function s(){var c=o.call(this)||this;c.identifier=s.identifier,c.priority=120;var h,d,m,b,f,A,M,D,U,L,R,w,j,G,Z,se,ge,he,Me,Te,re,Pe,ke,T,ae,me,be,V,W,Se;return Un(s,c,function(te,Oe){var He=Oe[f1];mt(),te.initialize=function(ce,we,De,Ie){te.isInitialized()||(Oe.initialize(ce,we,De,Ie),Te=yu(Ta("ajax"),we&&we.evtNamespace&&we.evtNamespace()),X(ce),ht(),P(),de())},te._doTeardown=function(){mt()},te.trackDependencyData=function(ce,we){$t(T,te[Xa],null,ce,we)},te[a3]=function(ce,we,De,Ie){var Ne=te._currentWindowHost||m;if(yW(ke,te[Xa],ce,Ie,we,De),we||we===""){if(wP(b,ce[o3](),Ne)){De||(De={});var Ce=new Headers(De[sc]||(we instanceof Request?we[sc]||{}:{}));if(L){var yt="|"+ce[ks]+"."+ce[Pu];Ce.set(Mn[3],yt),f&&(ce[Ia][Mn[3]]=yt)}var Ot=W||D&&D.appId();if(Ot&&(Ce.set(Mn[0],Mn[2]+Ot),f&&(ce[Ia][Mn[0]]=Mn[2]+Ot)),U){var Ct=ce[Ca];_e(Ct)&&(Ct=1);var zt=ND(RD(ce[ks],ce[Pu],Ct));Ce.set(Mn[4],zt),f&&(ce[Ia][Mn[4]]=zt)}De[sc]=Ce}return De}else if(Ie){if(wP(b,ce[o3](),Ne)){if(L)if(S3(Ie,Mn[3]))Ts(te,71,"Unable to set ["+Mn[3]+"] as it has already been set by another instance");else{var yt="|"+ce[ks]+"."+ce[Pu];Ie[s3](Mn[3],yt),f&&(ce[Ia][Mn[3]]=yt)}var Ot=W||D&&D.appId();if(Ot&&(S3(Ie,Mn[0])?Ts(te,71,"Unable to set ["+Mn[0]+"] as it has already been set by another instance"):(Ie[s3](Mn[0],Mn[2]+Ot),f&&(ce[Ia][Mn[0]]=Mn[2]+Ot))),U){var Ct=ce[Ca];if(_e(Ct)&&(Ct=1),S3(Ie,Mn[4]))Ts(te,71,"Unable to set ["+Mn[4]+"] as it has already been set by another instance");else{var zt=ND(RD(ce[ks],ce[Pu],Ct));Ie[s3](Mn[4],zt),f&&(ce[Ia][Mn[4]]=zt)}}}return Ie}},te[IL]=function(ce,we,De){if(j===-1||M<j){(V===2||V===1)&&typeof ce.id=="string"&&ce.id[ce.id[oc]-1]!=="."&&(ce.id+="."),_e(ce[uc])&&(ce[uc]=new Date);var Ie=Cu(ce,zl.dataType,zl.envelopeType,te[Eg](),we,De);te[Xa].track(Ie)}else M===j&&Ig(te,55,"Maximum ajax per page view limit reached, ajax monitoring is paused until the next trackPageView(). In order to increase the limit set the maxAjaxCallsPerView configuration parameter.",!0);++M},te.addDependencyListener=function(ce){return YL(ke,Pe++,ce)},te.addDependencyInitializer=function(ce){return YL(T,Pe++,ce)};function mt(){var ce=vo();h=!1,d=!1,Se=!1,m=ce&&ce.host&&ce.host[bp](),b=null,f=!1,A=!1,M=0,D=null,U=!1,L=!1,R=null,w=!1,j=0,G=!1,Z={},se=!1,ge=!1,he=null,Me=null,Te=null,Pe=0,ke=[],T=[],re=Ta("ajaxData"),te._ajaxDataId=re,ae=null,me=1,be=1,V=1,W=null}function X(ce){te[f1](ur(ce,function(we){var De=we.cfg,Ie=qa(null,De,te[Xa]);b=Ie.getExtCfg(s.identifier,xW),V=b.distributedTracingMode,f=b[u3],A=b[ML],w=b[_L],j=b[DL],he=[].concat(b[PL]||[],b.addIntEndpoints!==!1?wW:[]),Me=b[LL],L=V===0||V===1,U=V===1||V===2,w&&(R=re),se=!!b[l3],me=b.maxAjaxPerfLookupAttempts,be=b[RL],ae=b.ignoreHeaders,W=b.appId}))}function de(){var ce=te[Xa].getPlugin(Qy);ce&&(D=ce.plugin[kg])}function Q(ce){var we=!0;return(ce||ae)&&nt(ae,function(De){if(De[bp]()===ce[bp]())return we=!1,-1}),we}function P(){var ce=gW();if(ce){var we=Sa(),De=ce.polyfill;te[f1](ur(b,function(){ge=!!b[NL],G=b[UL],!ge&&!h?(He(nT(we,pc,{ns:Te,req:function(Ie,Ne,Ce){var yt;if(!ge&&h&&!Mt(null,Ne,Ce)&&!(De&&d)){var Ot=Ie.ctx();yt=lt(Ne,Ce);var Ct=te[a3](yt,Ne,Ce);Ct!==Ce&&Ie.set(1,Ct),Ot.data=yt}},rsp:function(Ie,Ne){if(!ge){var Ce=Ie.ctx().data;Ce&&(Ie.rslt=Ie.rslt.then(function(yt){return it(Ie,(yt||{})[Ya],Ne,yt,Ce,function(){var Ot,Ct=(Ot={statusText:(yt||{})[lc]},Ot[wp]=null,Ot[b3]=Be(yt),Ot);if(G&&yt){var zt={};yt.headers.forEach(function(rn,ut){Q(ut)&&(zt[ut]=rn)}),Ct[wp]=zt}return Ct}),yt}).catch(function(yt){throw it(Ie,0,Ne,null,Ce,null,{error:yt.message||rt(yt)}),yt}))}},hkErr:Mg(te,15,"Failed to monitor Window.fetch"+Sp)},!0,e6())),h=!0):De&&!Se&&(He(nT(we,pc,{ns:Te,req:function(Ie,Ne,Ce){Mt(null,Ne,Ce)}})),Se=!0)})),De&&(we[pc].polyfill=De)}}function Re(ce,we,De){He(GG(ce,we,De))}function ht(){mW(te,re)&&te[f1](ur(b,function(){se=!!b[l3],f=b[u3],!se&&!d&&(Re(XMLHttpRequest,"open",{ns:Te,req:function(ce,we,De,Ie){if(!se){var Ne=ce[Sg],Ce=kp(Ne,re);!Mt(Ne,De)&&Ut(Ne,Ce,!0)&&((!Ce||!Ce.xhrMonitoringState[c3])&&(Ce=ki(Ne,we,De,Ie)),ai(Ne,Ce))}},hkErr:Mg(te,15,Cg+".open"+Sp)}),Re(XMLHttpRequest,"send",{ns:Te,req:function(ce,we){if(!se){var De=ce[Sg],Ie=kp(De,re);Ut(De,Ie)&&!Ie.xhrMonitoringState[d3]&&(fe("xhr",Ie),Ie[cc]=Ky(),te[a3](Ie,void 0,void 0,De),Ie.xhrMonitoringState[d3]=!0)}},hkErr:Mg(te,17,Cg+Sp)}),Re(XMLHttpRequest,"abort",{ns:Te,req:function(ce){if(!se){var we=ce[Sg],De=kp(we,re);Ut(we,De)&&!De.xhrMonitoringState[p3]&&(De[yp]=1,De.xhrMonitoringState[p3]=!0)}},hkErr:Mg(te,13,Cg+".abort"+Sp)}),Re(XMLHttpRequest,"setRequestHeader",{ns:Te,req:function(ce,we,De){if(!se){var Ie=ce[Sg],Ne=kp(Ie,re);Ne&&Ut(Ie,Ne)&&(vW(Ie,we,De),f&&Q(we)&&Ne&&(Ne[Ia][we]=De))}},hkErr:Mg(te,71,Cg+".setRequestHeader"+Sp)}),d=!0)}))}function Mt(ce,we,De){var Ie=!1,Ne=((Dt(we)?we:(we||{}).url||"")||"")[bp]();if(nt(he,function(Ot){var Ct=Ot;Dt(Ot)&&(Ct=new RegExp(Ot)),Ie||(Ie=Ct.test(Ne))}),Ie)return Ie;var Ce=Tp(Ne,"?"),yt=Tp(Ne,"#");return(Ce===-1||yt!==-1&&yt<Ce)&&(Ce=yt),Ce!==-1&&(Ne=Ne.substring(0,Ce)),_e(ce)?_e(we)||(Ie=(typeof we=="object"?we[By]===!0:!1)||(De?De[By]===!0:!1)):Ie=ce[By]===!0||Ne[By]===!0,!Ie&&Ne&&mT(Ne)&&(Ie=!0),Ie?Z[Ne]||(Z[Ne]=1):Z[Ne]&&(Ie=!0),Ie}function Ut(ce,we,De){var Ie=!0,Ne=d;return _e(ce)||(Ie=De===!0||!_e(we)),Ne&&Ie}function sn(){var ce=null;return te[Xa]&&te[Xa].getTraceCtx&&(ce=te[Xa].getTraceCtx(!1)),!ce&&D&&D.telemetryTrace&&(ce=vT(D.telemetryTrace)),ce}function ki(ce,we,De,Ie){var Ne,Ce=sn(),yt=Ce&&Ce[h3]()||gu(),Ot=iu(gu(),0,16),Ct=ce[Nu]=ce[Nu]||{xh:[],i:{}},zt=Ct.i=Ct.i||{},rn=zt[re]=zt[re]||new zL(yt,Ot,te[Eg](),(Ne=te.core)===null||Ne===void 0?void 0:Ne.getTraceCtx());return rn[Ca]=Ce&&Ce[f3](),rn[Lu]=we,rn[Wa]=De,rn.xhrMonitoringState[c3]=!0,rn[Ia]={},rn.async=Ie,rn[g3]=A,rn}function ai(ce,we){we.xhrMonitoringState[OL]=vs(ce,"readystatechange",function(){var De;try{ce&&ce.readyState===4&&Ut(ce,we)&&In(ce)}catch(Ne){var Ie=rt(Ne);(!Ie||Tp(Ie[bp](),"c00c023f")===-1)&&Ig(te,16,Cg+" 'readystatechange' event handler"+Sp,(De={},De[VL]=m1(ce,re),De[Ag]=Ie,De))}},Te)}function Ee(ce){try{var we=ce.responseType;if(we===""||we==="text")return ce[jL]}catch{}return null}function In(ce){var we=kp(ce,re);we[Tg]=Ky(),we[Ya]=ce[Ya];function De(Ie,Ne){var Ce=Ne||{};Ce.ajaxDiagnosticsMessage=m1(ce,re),Ie&&(Ce.exception=rt(Ie)),Ts(te,14,WL+"ajax call"+qL,Ce)}$e("xmlhttprequest",we,function(){try{var Ie=we[m3]("Ajax",f,function(){var Ct,zt=(Ct={statusText:ce[lc]},Ct[wp]=null,Ct[b3]=rr(ce),Ct.type=ce.responseType,Ct[jL]=Ee(ce),Ct.response=ce[FL],Ct);if(G){var rn=ce[BL]();if(rn){var ut=fr(rn).split(/[\r\n]+/),Ti={};nt(ut,function(sa){var Ur=sa.split(": "),Eo=Ur.shift(),ee=Ur.join(": ");Q(Eo)&&(Ti[Eo]=ee)}),zt[wp]=Ti}}return zt}),Ne=void 0;try{Me&&(Ne=Me({status:ce[Ya],xhr:ce}))}catch{Ts(te,104,KL)}if(Ie){Ne!==void 0&&(Ie[ac]=yi(yi({},Ie.properties),Ne));var Ce=we[v3]();$t(T,te[Xa],we,Ie,null,Ce)}else De(null,{requestSentTime:we[cc],responseFinishedTime:we[Tg]})}finally{try{var yt=ce[Nu]||{i:{}},Ot=yt.i||{};Ot[re]&&(Ot[re]=null)}catch{}}},function(Ie){De(Ie,null)})}function rr(ce){var we;try{var De=ce[BL]();if(De!==null){var Ie=Tp(De[bp](),Mn[8]);if(Ie!==-1){var Ne=ce.getResponseHeader(Mn[0]);return xP(Ne)}}}catch(Ce){Ts(te,18,GL,(we={},we[VL]=m1(ce,re),we[Ag]=rt(Ce),we))}}function fe(ce,we){if(we[Wa]&&R&&w){var De=ls();if(De&&Bt(De.mark)){XL++;var Ie=R+ce+"#"+XL;De.mark(Ie);var Ne=De.getEntriesByName(Ie);Ne&&Ne[oc]===1&&(we[g1]=Ne[0])}}}function $e(ce,we,De,Ie){var Ne=we[g1],Ce=ls(),yt=me,Ot=be,Ct=we[Wa],zt=0;(function rn(){try{if(Ce&&Ne){zt++;for(var ut=null,Ti=Ce.getEntries(),sa=Ti[oc]-1;sa>=0;sa--){var Ur=Ti[sa];if(Ur){if(Ur.entryType==="resource")Ur.initiatorType===ce&&(Tp(Ur[xp],Ct)!==-1||Tp(Ct,Ur[xp])!==-1)&&(ut=Ur);else if(Ur.entryType==="mark"&&Ur[xp]===Ne[xp]){we[y3]=ut;break}if(Ur[uc]<Ne[uc]-1e3)break}}}!Ne||we[y3]||zt>=yt||we.async===!1?(Ne&&Bt(Ce.clearMarks)&&Ce.clearMarks(Ne[xp]),we.perfAttempts=zt,De()):ka(rn,Ot)}catch(Eo){Ie(Eo)}})()}function lt(ce,we){var De,Ie=sn(),Ne=Ie&&Ie[h3]()||gu(),Ce=iu(gu(),0,16),yt=new zL(Ne,Ce,te[Eg](),(De=te.core)===null||De===void 0?void 0:De.getTraceCtx());yt[Ca]=Ie&&Ie[f3](),yt[cc]=Ky(),yt[g3]=A;var Ot;if(ce instanceof Request?Ot=(ce||{}).url||"":Ot=ce,Ot===""){var Ct=vo();Ct&&Ct.href&&(Ot=c6(Ct.href,"#")[0])}yt[Wa]=Ot;var zt="GET";we&&we[Lu]?zt=we[Lu]:ce&&ce instanceof Request&&(zt=ce[Lu]),yt[Lu]=zt;var rn={};if(f){var ut=new Headers((we?we[sc]:0)||(ce instanceof Request?ce[sc]||{}:{}));ut.forEach(function(Ti,sa){Q(sa)&&(rn[sa]=Ti)})}return yt[Ia]=rn,fe(pc,yt),yt}function ct(ce){var we="";try{_e(ce)||(typeof ce=="string"?we+="(url: '".concat(ce,"')"):we+="(url: '".concat(ce.url,"')"))}catch(De){Ig(te,15,"Failed to grab failed fetch diagnostics message",{exception:rt(De)})}return we}function it(ce,we,De,Ie,Ne,Ce,yt){if(!Ne)return;function Ot(Ct,zt,rn){var ut=rn||{};ut.fetchDiagnosticsMessage=ct(De),zt&&(ut.exception=rt(zt)),Ts(te,Ct,WL+"fetch call"+qL,ut)}Ne[Tg]=Ky(),Ne[Ya]=we,$e(pc,Ne,function(){var Ct=Ne[m3]("Fetch",f,Ce),zt;try{Me&&(zt=Me({status:we,request:De,response:Ie}))}catch{Ts(te,104,KL)}if(Ct){zt!==void 0&&(Ct[ac]=yi(yi({},Ct.properties),zt));var rn=Ne[v3]();$t(T,te[Xa],Ne,Ct,null,rn)}else Ot(14,null,{requestSentTime:Ne[cc],responseFinishedTime:Ne[Tg]})},function(Ct){Ot(18,Ct,null)})}function Be(ce){var we;if(ce&&ce[sc])try{var De=ce[sc].get(Mn[0]);return xP(De)}catch(Ie){Ts(te,18,GL,(we={fetchDiagnosticsMessage:ct(ce)},we[Ag]=rt(Ie),we))}}function $t(ce,we,De,Ie,Ne,Ce){var yt,Ot=!0,Ct=ce[oc];if(Ct>0){var zt=(yt={item:Ie},yt[ac]=Ne,yt.sysProperties=Ce,yt.context=De?De[kg]:null,yt.aborted=De?!!De[yp]:!1,yt);Ot=JL(we,ce,zt,"initializer")}Ot&&te[IL](Ie,Ne,Ce)}}),c}return s.prototype.processTelemetry=function(c,h){this.processNext(c,h)},s.prototype.addDependencyInitializer=function(c){return null},s.identifier="AjaxDependencyPlugin",s}(Qd),kW=function(){function o(){}return o}(),TW=function(){function o(){this.id="browser",this.deviceClass="Browser"}return o}(),AW="3.3.3",EW=function(){function o(s,c){var h=this,d=ur(s,function(){var m=s.sdkExtension;h.sdkVersion=(m?m+"_":"")+"javascript:"+AW});c&&c.add(d)}return o}(),CW=function(){function o(){}return o}(),y1="sessionManager",b1="update",w1="isUserCookieSet",x1="isNewUser",k3="getTraceCtx",T3="telemetryTrace",QL="applySessionContext",ZL="applyApplicationContext",e7="applyDeviceContext",t7="applyOperationContext",n7="applyUserContext",r7="applyOperatingSystemContxt",i7="applyLocationContext",a7="applyInternalContext",hc="accountId",S1="getSessionId",A3="namePrefix",IW="sessionCookiePostfix",o7="userCookiePostfix",k1="idLength",E3="getNewId",T1="length",Ap="automaticSession",Ep="authenticatedId",_g="acquisitionDate",A1="renewalDate",Dg="join",Pg="cookieSeparator",C3="authUserCookieName",MW="ai_session",_W=864e5,DW=18e5,PW=6e4,s7=function(){function o(){}return o}(),LW=function(){function o(s,c,h){var d=this,m,b,f=Pl(c),A=Rk(c),M,D;Un(o,d,function(U){s||(s={});var L=ur(s,function(se){M=s.sessionExpirationMs||_W,D=s.sessionRenewalMs||DW;var ge=s.sessionCookiePostfix||s[A3]||"";m=MW+ge});h&&h.add(L),U[Ap]=new s7,U[b1]=function(){var se=lo(),ge=!1,he=U[Ap];if(he.id||(ge=!R(he)),!ge&&M>0){var Me=se-he[_g],Te=se-he[A1];ge=Me<0||Te<0,ge=ge||Me>M,ge=ge||Te>D}ge?j(se):(!b||se-b>PW)&&G(he,se)},U.backup=function(){var se=U[Ap];Z(se.id,se[_g],se[A1])};function R(se,ge){var he=!1,Me=A.get(m);if(Me&&Bt(Me.split))he=w(se,Me);else{var Te=kP(f,m);Te&&(he=w(se,Te))}return he||!!se.id}function w(se,ge){var he=!1,Me=", session will be reset",Te=ge.split("|");if(Te[T1]>=2)try{var re=+Te[1]||0,Pe=+Te[2]||0;isNaN(re)||re<=0?Fe(f,2,27,"AI session acquisition date is 0"+Me):isNaN(Pe)||Pe<=0?Fe(f,2,27,"AI session renewal date is 0"+Me):Te[0]&&(se.id=Te[0],se[_g]=re,se[A1]=Pe,he=!0)}catch(ke){Fe(f,1,9,"Error parsing ai_session value ["+(ge||"")+"]"+Me+" - "+wn(ke),{exception:rt(ke)})}return he}function j(se){var ge=s[E3]||wk;U.automaticSession.id=ge(s[k1]||22),U[Ap][_g]=se,G(U[Ap],se),Xy()||Fe(f,2,0,"Browser does not support local storage. Session durations will be inaccurate.")}function G(se,ge){var he=se[_g];se[A1]=ge;var Me=D,Te=he+M-ge,re=[se.id,he,ge],Pe=0;Te<Me?Pe=Te/1e3:Pe=Me/1e3;var ke=s.cookieDomain||null;A.set(m,re[Dg]("|"),M>0?Pe:null,ke),b=ge}function Z(se,ge,he){TP(f,m,[se,ge,he][Dg]("|"))}})}return o.__ieDyn=1,o}(),RW=function(){function o(s,c,h,d){var m=this;m.traceID=s||gu(),m.parentID=c;var b=vo();!h&&b&&b.pathname&&(h=b.pathname),m.name=mr(d,h)}return o}();function u7(o){return!(typeof o!="string"||!o||o.match(/,|;|=| |\|/))}var NW=function(){function o(s,c,h){this.isNewUser=!1,this.isUserCookieSet=!1;var d=Pl(c),m=Rk(c),b;Un(o,this,function(f){mn(f,"config",{g:function(){return s}});var A=ur(s,function(){var L=s[o7]||"";b=o.userCookieName+L;var R=m.get(b);if(R){f[x1]=!1;var w=R.split(o[Pg]);w[T1]>0&&(f.id=w[0],f[w1]=!!f.id)}if(!f.id){f.id=M();var j=D(f.id);U(j[Dg](o[Pg]));var G=(s[A3]||"")+"ai_session";sK(d,G)}f[hc]=s[hc]||void 0;var Z=m.get(o[C3]);if(Z){Z=decodeURI(Z);var se=Z.split(o[Pg]);se[0]&&(f[Ep]=se[0]),se[T1]>1&&se[1]&&(f[hc]=se[1])}});h&&h.add(A);function M(){var L=s||{},R=L[E3]||wk,w=R(L[k1]?s[k1]:22);return w}function D(L){var R=Gd(new Date);f.accountAcquisitionDate=R,f[x1]=!0;var w=[L,R];return w}function U(L){var R=31536e3;f[w1]=m.set(b,L,R)}f.setAuthenticatedUserContext=function(L,R,w){w===void 0&&(w=!1);var j=!u7(L)||R&&!u7(R);if(j){Fe(d,2,60,"Setting auth user context failed. User auth/account id should be of type string, and not contain commas, semi-colons, equal signs, spaces, or vertical-bars.",!0);return}f[Ep]=L;var G=f[Ep];R&&(f[hc]=R,G=[f[Ep],f.accountId][Dg](o[Pg])),w&&m.set(o[C3],encodeURI(G))},f.clearAuthenticatedUserContext=function(){f[Ep]=null,f[hc]=null,m.del(o[C3])},f[b1]=function(L){if(f.id!==L||!f[w1]){var R=L||M(),w=D(R);U(w[Dg](o[Pg]))}}})}return o.cookieSeparator="|",o.userCookieName="ai_user",o.authUserCookieName="ai_authUser",o}(),E1="ext",C1="tags";function Cp(o,s){o&&o[s]&&ss(o[s])[T1]===0&&delete o[s]}function l7(){return null}var UW=function(){function o(s,c,h,d){var m=this,b=s.logger;Un(o,this,function(f){if(f.appId=l7,f[S1]=l7,f.application=new kW,f.internal=new EW(c,d),B0()){f[y1]=new LW(c,s,d),f.device=new TW,f.location=new CW,f.user=new NW(c,s,d);var A=void 0,M=void 0,D;h&&(A=h.getTraceId(),M=h.getSpanId(),D=h.getName()),f[T3]=new RW(A,M,D,b),f.session=new s7}f[S1]=function(){var U=f.session,L=null;if(U&&Dt(U.id))L=U.id;else{var R=(f[y1]||{})[Ap];L=R&&Dt(R.id)?R.id:null}return L},f[QL]=function(U,L){Ln(wi(U.ext,ia.AppExt),"sesId",f[S1](),Dt)},f[r7]=function(U,L){Ln(U.ext,ia.OSExt,f.os)},f[ZL]=function(U,L){var R=f.application;if(R){var w=wi(U,C1);Ln(w,On.applicationVersion,R.ver,Dt),Ln(w,On.applicationBuild,R.build,Dt)}},f[e7]=function(U,L){var R=f.device;if(R){var w=wi(wi(U,E1),ia.DeviceExt);Ln(w,"localId",R.id,Dt),Ln(w,"ip",R.ip,Dt),Ln(w,"model",R.model,Dt),Ln(w,"deviceClass",R.deviceClass,Dt)}},f[a7]=function(U,L){var R=f.internal;if(R){var w=wi(U,C1);Ln(w,On.internalAgentVersion,R.agentVersion,Dt),Ln(w,On.internalSdkVersion,mr(b,R.sdkVersion,64),Dt),(U.baseType===Wf.dataType||U.baseType===Tu.dataType)&&(Ln(w,On.internalSnippet,R.snippetVer,Dt),Ln(w,On.internalSdkSrc,R.sdkSrc,Dt))}},f[i7]=function(U,L){var R=m.location;R&&Ln(wi(U,C1,[]),On.locationIp,R.ip,Dt)},f[t7]=function(U,L){var R=f[T3];if(R){var w=wi(wi(U,E1),ia.TraceExt,{traceID:void 0,parentID:void 0});Ln(w,"traceID",R.traceID,Dt,_e),Ln(w,"name",R.name,Dt,_e),Ln(w,"parentID",R.parentID,Dt,_e)}},f.applyWebContext=function(U,L){var R=m.web;R&&Ln(wi(U,E1),ia.WebExt,R)},f[n7]=function(U,L){var R=f.user;if(R){var w=wi(U,C1,[]);Ln(w,On.userAccountId,R[hc],Dt);var j=wi(wi(U,E1),ia.UserExt);Ln(j,"id",R.id,Dt),Ln(j,"authId",R[Ep],Dt)}},f.cleanUp=function(U,L){var R=U.ext;R&&(Cp(R,ia.DeviceExt),Cp(R,ia.UserExt),Cp(R,ia.WebExt),Cp(R,ia.OSExt),Cp(R,ia.AppExt),Cp(R,ia.TraceExt))}})}return o.__ieDyn=1,o}(),ii,I3,Ip=null,OW=Cd((ii={},ii[hc]=Ip,ii.sessionRenewalMs=30*60*1e3,ii.samplingPercentage=100,ii.sessionExpirationMs=24*60*60*1e3,ii.cookieDomain=Ip,ii.sdkExtension=Ip,ii.isBrowserLinkTrackingEnabled=!1,ii.appId=Ip,ii[S1]=Ip,ii[A3]=I3,ii[IW]=I3,ii[o7]=I3,ii[k1]=22,ii[E3]=Ip,ii)),jW=function(o){ds(s,o);function s(){var c=o.call(this)||this;c.priority=110,c.identifier=Qy;var h,d,m,b,f;return Un(s,c,function(A,M){D(),mn(A,"context",{g:function(){return b}}),A.initialize=function(R,w,j,G){M.initialize(R,w,j,G),U(R)},A.processTelemetry=function(R,w){if(!_e(R)){w=A._getTelCtx(w),R.name===Tu.envelopeType&&w.diagLog().resetInternalMessageCount();var j=b||{};j.session&&typeof b.session.id!="string"&&j[y1]&&j[y1][b1]();var G=j.user;if(G&&!G[w1]&&G[b1](j.user.id),L(R,w),G&&G[x1]&&(G[x1]=!1,!f)){var Z=new Wf(72,(uo()||{}).userAgent||"");Yq(w.diagLog(),1,Z)}A.processNext(R,w)}},A._doTeardown=function(R,w){var j=(R||{}).core();if(j&&j[k3]){var G=j[k3](!1);G===d&&j.setTraceCtx(m)}D()};function D(){h=null,d=null,m=null,b=null,f=!0}function U(R){var w=A.identifier,j=A.core;A._addHook(ur(R,function(){var G=qa(null,R,j);R.storagePrefix&&wT(R.storagePrefix),f=R.disableUserInitMessage!==!1,h=G.getExtCfg(w,OW),A._extConfig=h})),m=j[k3](!1),b=new UW(j,h,m,A._unloadHooks),d=vT(A.context[T3],m),j.setTraceCtx(d),A.context.appId=function(){var G=j.getPlugin(UP);return G?G.plugin._appId:null}}function L(R,w){wi(R,"tags",[]),wi(R,"ext",{});var j=A.context;j[QL](R,w),j[ZL](R,w),j[e7](R,w),j[t7](R,w),j[n7](R,w),j[r7](R,w),j.applyWebContext(R,w),j[i7](R,w),j[a7](R,w),j.cleanUp(R,w)}}),c}return s.__ieDyn=1,s}(Qd),c7="AuthenticatedUserContext",Mp="track",M3="snippet",FW="getCookieMgr",BW="startTrackPage",VW="stopTrackPage",_3="flush",$W="startTrackEvent",zW="stopTrackEvent",HW="addTelemetryInitializer",d7="pollInternalLogs",D3="getPlugin",P3="evtNamespace",qW=Mp+"Event",GW=Mp+"Trace",KW=Mp+"Metric",WW=Mp+"PageView",XW=Mp+"Exception",YW=Mp+"DependencyData",JW="set"+c7,QW="clear"+c7,ZW="https://js.monitor.azure.com/scripts/b/ai.config.1.cfg.json",L3="version",fc="queue",I1="connectionString",Lg="instrumentationKey",p7="instrumentationkey",_p="userOverrideEndpointUrl",M1="endpointUrl",h7="ingestionendpoint",Rg="onunloadFlush",Ma="context",f7="addHousekeepingBeforeUnload",R3="sendMessage",eX="updateSnippetDefinitions",Ao,Ng,Dp,N3,Ug,g7=[M3,"dependencies","properties","_snippetVersion","appInsightsNew","getSKUDefaults"],m7="iKeyUsage",v7="CdnUsage",y7="SdkLoaderVer",_1=void 0,tX={samplingRate:100,maxSendNumber:1},nX={monthInterval:3,daysOfMonth:[28]},D1={disabled:!0,limit:Ha(tX),interval:Ha(nX)},rX=(Ao={},Ao[I1]=_1,Ao[M1]=_1,Ao[Lg]=_1,Ao[_p]=_1,Ao.diagnosticLogInterval=Ay(iX,1e4),Ao.featureOptIn=(Ng={},Ng[m7]={mode:3},Ng[v7]={mode:2},Ng[y7]={mode:2},Ng),Ao.throttleMgrCfg=Ha((Dp={},Dp[109]=Ha(D1),Dp[106]=Ha(D1),Dp[111]=Ha(D1),Dp[110]=Ha(D1),Dp)),Ao.extensionConfig=Ha((N3={},N3.AppInsightsCfgSyncPlugin=Ha({cfgUrl:ZW,syncMode:2}),N3)),Ao);function iX(o){return o&&o>0}var aX=function(){function o(s){var c=this,h,d,m,b,f,A,M,D,U,L,R,w,j,G;Un(o,this,function(Z){he(),mn(Z,"config",{g:function(){return D}}),nt(["pluginVersionStringArr","pluginVersionString"],function(re){mn(Z,re,{g:function(){return M?M[re]:null}})}),b=""+(s.sv||s[L3]||""),s[fc]=s[fc]||[],s[L3]=s[L3]||2;var se=Aa(s.config||{},rX);D=se.cfg,U=new jK,mn(Z,"appInsights",{g:function(){return U}}),d=new jW,h=new SW,m=new pW,M=new _G,mn(Z,"core",{g:function(){return M}}),Te(ur(se,function(){var re=D[I1];function Pe(){return Of(function(be,V){ms(re,function(W){var Se=W&&W.value,te=null;!W.rejected&&Se&&(D[I1]=Se,te=CP(Se)),be(te)})})}if(as(re)){var ke=Of(function(be,V){Pe().then(function(W){var Se=D[Lg];Se=W&&W[p7]||Se,be(Se)}).catch(function(W){be(null)})}),T=D[_p];_e(T)&&(T=Of(function(be,V){Pe().then(function(W){var Se=D[M1],te=W&&W[h7];Se=te?te+ep:Se,be(Se)}).catch(function(W){be(null)})})),D[Lg]=ke,D[M1]=T}if(Dt(re)&&re){var ae=CP(re),me=ae[h7];D.endpointUrl=D[_p]?D[_p]:me+ep,D[Lg]=ae[p7]||D[Lg]}D.endpointUrl=D[_p]?D[_p]:D[M1]})),Z[M3]=s,Z[_3]=function(re,Pe){re===void 0&&(re=!0);var ke;return Ry(M,function(){return"AISKU.flush"},function(){re&&!Pe&&(ke=du(function(me){Pe=me}));var T=1,ae=function(){T--,T===0&&Pe()};nt(M.getChannels(),function(me){me&&(T++,me[_3](re,ae))}),ae()},null,re),ke},Z[Rg]=function(re){re===void 0&&(re=!0),nt(M.getChannels(),function(Pe){Pe[Rg]?Pe[Rg]():Pe[_3](re)})},Z.loadAppInsights=function(re,Pe,ke){re===void 0&&(re=!1),re&&sH("Legacy Mode is no longer supported");function T(ae){if(ae){var me="";_e(b)||(me+=b),Z[Ma]&&Z[Ma].internal&&(Z[Ma].internal.snippetVer=me||"-"),en(Z,function(be,V){Dt(be)&&!Bt(V)&&be&&be[0]!=="_"&&ti(g7,be)===-1&&ae[be]!==V&&(ae[be]=V)})}}return Ry(Z.core,function(){return"AISKU.loadAppInsights"},function(){M.initialize(D,[m,d,h,U,L],Pe,ke),mn(Z,"context",{g:function(){return d[Ma]}}),R||(R=new lK(M));var ae=oX();ae&&Z[Ma]&&(Z[Ma].internal.sdkSrc=ae),T(Z[M3]),Z.emptyQueue(),Z[d7](),Z[f7](Z),Te(ur(se,function(){var me=!1;D.throttleMgrCfg[109]&&(me=!D.throttleMgrCfg[109].disabled),!R.isReady()&&D.extensionConfig&&D.extensionConfig[L.identifier]&&me&&R.onReadyState(!0);var be;!w&&!D[I1]&&ck(m7,D)&&(be=R[R3](106,"See Instrumentation key support at aka.ms/IkeyMigrate"),w=!0),!j&&Z[Ma].internal.sdkSrc&&Z[Ma].internal.sdkSrc.indexOf("az416426")!=-1&&ck(v7,D)&&(be=R[R3](110,"See Cdn support notice at aka.ms/JsActiveCdn"),j=!0),!G&&parseInt(b)<6&&ck(y7,D)&&(be=R[R3](111,"An updated Sdk Loader is available, see aka.ms/SnippetVer"),G=!0)}))}),Z},Z[eX]=function(re){QH(re,Z,function(Pe){return Pe&&ti(g7,Pe)===-1})},Z.emptyQueue=function(){try{if(Yt(Z.snippet[fc])){for(var re=Z.snippet[fc].length,Pe=0;Pe<re;Pe++){var ke=Z.snippet[fc][Pe];ke()}Z.snippet[fc]=void 0,delete Z.snippet[fc]}}catch(ae){var T={};ae&&Bt(ae.toString)&&(T.exception=ae.toString())}},Z[f7]=function(re){if(B0()||Q_()){var Pe=function(){if(re[Rg](!1),Bt(Z.core[D3])){var T=c.core[D3](Qy);if(T){var ae=T.plugin;ae&&ae[Ma]&&ae[Ma]._sessionManager&&ae[Ma]._sessionManager.backup()}}},ke=!1;A||(A=yu(f,M[P3]&&M[P3]())),Te(ur(D,function(T){var ae=T.cfg,me=re.appInsights,be=qa(null,ae,me.core),V=be.getExtCfg(me.identifier||OP);Me();var W=ae.disablePageUnloadEvents;V.disableFlushOnBeforeUnload||($G(Pe,W,A)&&(ke=!0),Qk(Pe,W,A)&&(ke=!0),!ke&&!vq()&&Fe(M.logger,1,19,"Could not add handler for beforeunload and pagehide")),!ke&&!V.disableFlushOnUnload&&Qk(Pe,W,A)}))}},Z.getSender=function(){return m},Z.unload=function(re,Pe,ke){var T=!1,ae;re&&!Pe&&(ae=du(function(be){Pe=be}));function me(be){T||(T=!0,he(),Pe&&Pe(be))}return Z[Rg](re),Me(),M.unload&&M.unload(re,me,ke),ae},Ff(Z,U,[FW,qW,WW,"trackPageViewPerformance",XW,"_onerror",GW,KW,BW,VW,$W,zW]),Ff(Z,ge,[YW,"addDependencyListener","addDependencyInitializer"]),Ff(Z,M,[HW,d7,"stopPollingInternalLogs",D3,"addPlugin",P3,"addUnloadCb","getTraceCtx","updateCfg","onCfgChange"]),Ff(Z,function(){var re=d[Ma];return re?re.user:null},[JW,QW]);function ge(){return h}function he(){f=Ta("AISKU"),A=null,h=null,d=null,m=null,b=null,R=null,w=!1,j=!1,G=!1,L=new GK}function Me(){A&&(zG(null,A),HG(null,A))}function Te(re){M.addUnloadHook(re)}})}return o.prototype.addDependencyInitializer=function(s){return null},o}();function oX(){if(Ug)return Ug;var o=null,s=!1,c=["://js.monitor.azure.com/","://az416426.vo.msecnd.net/"];try{var h=(document||{}).currentScript;h&&(o=h.src)}catch{}if(o){try{var d=o.toLowerCase();if(d){var m="";nt(c,function(b,f){if(Fi(d,b)!==-1)return m="cdn"+(f+1),Fi(d,"/scripts/")===-1&&(Fi(d,"/next/")!==-1?m+="-next":Fi(d,"/beta/")!==-1&&(m+="-beta")),Ug=m+(s?".mod":""),-1})}}catch{}Ug=o}return Ug}var Pp=(o=>(o.PlayerLoadDurationMs="playerLoadDurationMs",o.BufferDurationMs="bufferDurationMs",o.InitialPlaybackStartDurationMs="initialPlaybackStartDurationMs",o.PosterImageLoadDurationMs="posterImageLoadDurationMs",o))(Pp||{}),$i=(o=>(o.BufferComplete="BufferComplete",o.CommonPlayerImpression="CommonPlayerImpression",o.ContentCheckpoint="ContentCheckpoint",o.ContentComplete="ContentComplete",o.ContentError="ContentError",o.FullScreenEnter="FullScreenEnter",o.FullScreenExit="FullScreenExit",o.InviewEnter="InviewEnter",o.InviewExit="InviewExit",o.Mute="Mute",o.Pause="Pause",o.Play="Play",o.PlayerError="PlayerError",o.Replay="Replay",o.Resume="Resume",o.Seek="Seek",o.Unmute="Unmute",o.VideoAudioTrackControl="VideoAudioTrackControl",o.VideoPlayerClick="VideoPlayerClick",o))($i||{});class b7{constructor(s,c,h,d=!1,m){this.reporterName="Reporter",this._playerInfo=s,this._player=c,this._playerStateContext=h,this._isDebugMode=d,m&&(this.reporterName=m)}log(s){this._isDebugMode&&console.log(JSON.stringify(s),this.reporterName)}get playerInfo(){return this._playerInfo}set playerInfo(s){this._playerInfo=s}reportNominalMetric(s,c){if(this.shouldEmitNominalMetric(s)){const h=this.formatNominalMetric(s,this.getBaseTelemetryData(),c);this.log(h),this.emitTelemetry(h)}}reportNumericMetric(s,c){if(this.shouldEmitNumericMetric(s)){const h=this.formatNumericMetric(s,c,this.getBaseTelemetryData());this.log(h),this.emitTelemetry(h)}}reportError(s){if(this.shouldEmitError(s.errorType)){const c=this.formatError(s,this.getBaseTelemetryData());this.log(c),this.emitTelemetry(c)}}getBaseTelemetryData(){var s;return{deliveryMethod:this._playerInfo.deliveryMethod,playerInstanceId:this._playerInfo.playerInstanceId,playerCommit:this._playerInfo.playerCommit,playerVersionNumber:this._playerInfo.playerVersionNumber,playerUrl:this._playerInfo.playerUrl,title:this._playerInfo.title,videoId:this._playerInfo.videoId,videoElapsedTime:this._player.currentTime,videoDuration:this._player.duration,language:this._player.options.language,playerState:{autoplay:(s=this._player)==null?void 0:s.autoplay,muted:this._player.muted,loop:this._player.loop,visible:this._playerStateContext.value.visible}}}}class sX extends b7{constructor(s,c,h,d=!1){super(s,c,h,d,"AppInsightsReporter"),this.hasEmittedFirstNonUmpMessage=!1,this.playerTech="shaka",this.formatNominalMetric=()=>{throw new Error("Unsupported by AppInsights reporter.")},this.shouldEmitNominalMetric=()=>!1,this.shouldEmitNumericMetric=m=>Object.values(Pp).includes(m),this.shouldEmitError=()=>!0,this.isException=m=>m.exception!==void 0;try{this._appInsights=this.initAppInsights()}catch(m){d&&console.error("Error Initializing AppInsights.",m)}this.contextProvider=h}initAppInsights(){const s=new aX({config:{connectionString:"InstrumentationKey=81bc6725-8164-4f38-93f8-ea681394304b;IngestionEndpoint=https://westus2-2.in.applicationinsights.azure.com/;LiveEndpoint=https://westus2.livediagnostics.monitor.azure.com/;ApplicationId=ef77fed2-4fcc-4568-aed4-b87c867a1e21",disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0}});return s.loadAppInsights(),s.addTelemetryInitializer(this.telemetryInitializer.bind(this)),s}telemetryInitializer(s){var c;return s.baseData=s.baseData||{},s.baseData.properties={...s.baseData.properties,deliveryMethod:this._playerInfo.deliveryMethod,playerInstanceId:this._playerInfo.playerInstanceId,playerVersionNumber:this._playerInfo.playerVersionNumber,uri:window.location.href,partnerName:this._playerInfo.partnerName,playerTech:this.playerTech,playerVisible:(c=this.contextProvider.value)==null?void 0:c.visible,vidnm:this._playerInfo.title},document.referrer&&document.referrer!==window.location.href&&(s.baseData.properties.referrer=document.referrer),s.baseData.properties.ump?(delete s.baseData.properties.ump,!0):(s.baseData.properties.nonump=!0,this.hasEmittedFirstNonUmpMessage?!1:(this.hasEmittedFirstNonUmpMessage=!0,!0))}emitTelemetry(s){var c,h;this.isException(s)?(c=this._appInsights)==null||c.trackException(s):(h=this._appInsights)==null||h.trackMetric({name:s.name,average:s.average,properties:s.properties})}formatNumericMetric(s,c,h){return{name:s,average:c,properties:{playerUrl:h.playerUrl,language:h.language,ump:!0}}}formatError(s,c){return{exception:Object.assign(new Error(s.errorDescription),{name:s.errorType}),properties:{playerUrl:c.playerUrl,language:c.language,errorMessage:s.errorDescription,ump:!0}}}}var Mr=(o=>(o[o.VideoSeen=239]="VideoSeen",o[o.VideoStart=240]="VideoStart",o[o.VideoPause=241]="VideoPause",o[o.VideoContinue=242]="VideoContinue",o[o.VideoCheckpoint=243]="VideoCheckpoint",o[o.VideoJump=244]="VideoJump",o[o.VideoComplete=245]="VideoComplete",o[o.VideoBuffering=246]="VideoBuffering",o[o.VideoError=247]="VideoError",o[o.VideoMute=248]="VideoMute",o[o.VideoUnmute=249]="VideoUnmute",o[o.VideoFullscreen=250]="VideoFullscreen",o[o.VideoUnfullscreen=251]="VideoUnfullscreen",o[o.VideoReplay=252]="VideoReplay",o[o.VideoPlayerLoad=253]="VideoPlayerLoad",o[o.VideoPlayerClick=254]="VideoPlayerClick",o[o.VideoVolumeControl=255]="VideoVolumeControl",o[o.VideoAudioTrackControl=256]="VideoAudioTrackControl",o[o.VideoClosedCaptionControl=257]="VideoClosedCaptionControl",o[o.VideoClosedCaptionStyle=258]="VideoClosedCaptionStyle",o[o.VideoResolutionControl=259]="VideoResolutionControl",o[o.VideoUndefinedEvent=0]="VideoUndefinedEvent",o))(Mr||{});const w7={243:{actionType:"A",telemetryMethodType:"capturePageAction"},245:{actionType:"A",telemetryMethodType:"capturePageAction"},246:{actionType:"A",telemetryMethodType:"captureContentUpdate"},253:{actionType:"A",telemetryMethodType:"captureContentUpdate"},239:{actionType:"O",telemetryMethodType:"captureContentUpdate"},0:{actionType:"O",telemetryMethodType:"captureContentUpdate"},247:{actionType:"O",telemetryMethodType:"captureContentUpdate"},252:{actionType:"CL",telemetryMethodType:"capturePageAction"},240:{actionType:"CL",telemetryMethodType:"capturePageAction"},241:{actionType:"CL",telemetryMethodType:"capturePageAction"},242:{actionType:"CL",telemetryMethodType:"capturePageAction"},244:{actionType:"CL",telemetryMethodType:"capturePageAction"},248:{actionType:"CL",telemetryMethodType:"capturePageAction"},249:{actionType:"CL",telemetryMethodType:"capturePageAction"},250:{actionType:"CL",telemetryMethodType:"capturePageAction"},251:{actionType:"CL",telemetryMethodType:"capturePageAction"},254:{actionType:"CL",telemetryMethodType:"capturePageAction"},255:{actionType:"CL",telemetryMethodType:"capturePageAction"},256:{actionType:"CL",telemetryMethodType:"capturePageAction"},257:{actionType:"CL",telemetryMethodType:"capturePageAction"},258:{actionType:"CL",telemetryMethodType:"capturePageAction"},259:{actionType:"CL",telemetryMethodType:"capturePageAction"}},U3={BufferComplete:Mr.VideoBuffering,CommonPlayerImpression:Mr.VideoPlayerLoad,ContentCheckpoint:Mr.VideoCheckpoint,ContentComplete:Mr.VideoComplete,ContentError:Mr.VideoError,FullScreenEnter:Mr.VideoFullscreen,FullScreenExit:Mr.VideoUnfullscreen,InviewEnter:Mr.VideoSeen,Mute:Mr.VideoMute,Pause:Mr.VideoPause,Play:Mr.VideoStart,PlayerError:Mr.VideoError,Replay:Mr.VideoReplay,Resume:Mr.VideoContinue,Seek:Mr.VideoJump,Unmute:Mr.VideoUnmute,VideoAudioTrackControl:Mr.VideoAudioTrackControl,VideoPlayerClick:Mr.VideoPlayerClick};class uX extends b7{constructor(s,c,h,d=!1){super(s,c,h,d,"MartechReporter"),this.formatNominalMetric=(m,b,f)=>{const A=U3[m],M=w7[A];return{actionType:M?.actionType,behavior:A,contentTags:{...this.createContentTags(b),additionalData:f}}},this.formatNumericMetric=()=>{throw new Error("Unsupported by Martech reporter.")},this.formatError=(m,b)=>({actionType:"O",behavior:U3.ContentError,contentTags:{...this.createContentTags(b),errorDetails:m}}),this.shouldEmitNominalMetric=m=>U3[m]!==void 0,this.shouldEmitNumericMetric=()=>!1,this.shouldEmitError=()=>!0,this.createContentTags=m=>({playerInstanceId:m.playerInstanceId,containerName:"Universal Media Player",compnm:"Universal Media Player",vidnm:m.title,vidid:m.videoId,vidpct:Math.round(m.videoElapsedTime/m.videoDuration*100),viddur:Math.round(m.videoDuration),vidwt:Math.round(m.videoElapsedTime),playerState:m.playerState})}emitTelemetry(s){var c,h,d,m;const b=window.owap,f=window.awa,{telemetryMethodType:A}=w7[s.behavior];(c=b?.isInitialized)!=null&&c.call(b)?(h=b?.[A])==null||h.call(b,null,s):f?.isInitialized===!0&&((m=(d=f?.ct)==null?void 0:d[A])==null||m.call(d,null,s))}}class lX{constructor(s,c,h,d,m=!1){this._playerInfo={},this.reporters=[],d&&this.reporters.push(new uX(s,c,h,m)),this.sampleInstance()&&this.reporters.push(new sX(s,c,h,m)),this.playerInfo=s}get playerInfo(){return this._playerInfo}set playerInfo(s){this._playerInfo=s,s.partnerName||console.warn('"partnerName" is undefined and must be provided to the video player options.'),this.reporters.forEach(c=>c.playerInfo=s)}sampleInstance(){return Math.random()*100<1}reportNominalMetric(s,c){this.reporters.forEach(h=>h.reportNominalMetric(s,c))}reportNumericMetric(s,c){this.reporters.forEach(h=>h.reportNumericMetric(s,c))}reportError(s){this.reporters.forEach(c=>c.reportError(s))}}function cX(o,s,c){const h=d=>{dX(d,s,c)};return o.addEventListener("error",h),s.addEventListener("error",h),()=>{o.removeEventListener("error",h),s.removeEventListener("error",h)}}function dX(o,s,c){if(s.dispatchEvent(new Pt("playererror")),o instanceof gn.util.FakeEvent){const h=o.detail;h.umpErrorType?c.reportError({errorType:h.umpErrorType,errorDescription:h.umpErrorDescription}):c.reportError({errorType:`Shaka Error: ${h.code}. Severity: ${h.severity}`,errorDescription:`${h.category}: ${h.data.toString()}`})}else c.reportError({errorType:"unknown error event",errorDescription:"unknown error event"})}function pX(o,s,c){gX(o,c),hX(o,c),fX(o,c),mX(o,c),vX(o,s,c),yX(o,s,c),TX(o,c),bX(o,s,c),AX(o,s,c),wX(o,c),xX(o,c),SX(o,c),kX(o,s,c),EX(s,c)}function hX(o,s){o.addEventListener("play",()=>{const c=performance.now();o.addEventListener("playing",()=>{s.reportNumericMetric(Pp.InitialPlaybackStartDurationMs,performance.now()-c)},{once:!0})},{once:!0})}function fX(o,s){o.addEventListener("umpplay",()=>{s.reportNominalMetric($i.Play)},{once:!0})}function gX(o,s){o.addEventListener("ended",()=>{s.reportNominalMetric($i.ContentComplete)},{once:!0})}function mX(o,s){o.addEventListener("umppause",()=>{s.reportNominalMetric($i.Pause)})}function vX(o,s,c){o.addEventListener("resume",()=>{s.dispatchEvent(new Pt("resume")),c.reportNominalMetric($i.Resume)})}function yX(o,s,c){o.addEventListener("replay",()=>{s.dispatchEvent(new Pt("replay")),c.reportNominalMetric($i.Replay)})}function bX(o,s,c){let h;o.addEventListener("buffering",d=>{d.buffering?(s.dispatchEvent(new Pt("buffering")),h=performance.now()):(c.reportNominalMetric($i.BufferComplete),c.reportNumericMetric(Pp.BufferDurationMs,performance.now()-h))})}function wX(o,s){o.addEventListener("fullscreenchanged",()=>{o.fullscreen?s.reportNominalMetric($i.FullScreenEnter):s.reportNominalMetric($i.FullScreenExit)})}function xX(o,s){o.addEventListener("playerloadmediastart",()=>{const c=performance.now();o.addEventListener("playerloadmediaend",()=>{s.reportNumericMetric(Pp.PlayerLoadDurationMs,performance.now()-c)})})}function SX(o,s){const c=performance.now();o.addEventListener("playerposterloadcomplete",()=>{s.reportNumericMetric(Pp.PosterImageLoadDurationMs,performance.now()-c)},{once:!0})}function kX(o,s,c){const h=[.25,.5,.75],d=o.options.checkpoints.filter(m=>m>=0&&m<=1).sort((m,b)=>m-b);o.addEventListener("timeupdate",()=>{const m=o.currentTime/o.duration;for(;h.length>0&&m>=h[0];)h.shift(),c.reportNominalMetric($i.ContentCheckpoint);for(;d.length>0&&m>=d[0];)d.shift(),s.dispatchEvent(new Pt("checkpoint"))})}function TX(o,s){o.addEventListener("seeked",()=>{(o.currentTime>=.2||o.currentTime===0)&&s.reportNominalMetric($i.Seek)})}function AX(o,s,c){let h=o.options.muted;o.addEventListener("volumechange",()=>{const d=o.volume===0||o.muted;h!==d&&(h=d,c.reportNominalMetric(d?$i.Mute:$i.Unmute),s.dispatchEvent(new Pt(d?"mute":"unmute")))})}function EX(o,s){o.addEventListener("ready",()=>{s.reportNominalMetric($i.CommonPlayerImpression)},{once:!0})}function CX(o,s){return c=>{const h={deliveryMethod:"cdn",playerInstanceId:o.umpId,playerVersionNumber:1744647490114,playerCommit:"73c0b703f8f7298a7dc1e10bb5b16cf30c6b31e4",playerUrl:Cz,title:c.options.unlocalizedTitle||c.options.title,partnerName:c.options.partnerName},d=new lX(h,c,s,c.options.reporting,c.options.debug);pX(c,o,d);const m=cX(c,o,d);return()=>{m()}}}const IX=`<svg width='24' height='24'
     viewBox='0 0 24 24'
     xmlns='http://www.w3.org/2000/svg'
    class="spinner-icon"
  >
  <defs>
    <clipPath id="circleClip">
      <circle cx="12" cy="12" r="12"/>
    </clipPath>
  </defs>
  <style>
    .spinner-icon {
      --stroke-width: 2;
      --stroke-bg: #333;
      --stroke-fg: #fff;

      transform-origin: center;
      animation: rotate 2s linear infinite;
      stroke-width: var(--stroke-width);
    }

    .spinner-bg {
      stroke: var(--stroke-bg);
    }
    
    .spinner-stroke {
      stroke: var(--stroke-fg);
      animation: animate-stroke 1.5s ease-out infinite;
    }

    @keyframes rotate {
      100% {
        transform: rotate(360deg)
      }
    }

    @keyframes animate-stroke {
      0% {
        stroke-dasharray: 0 150;
        stroke-dashoffset: 0;
      }

      47.5% {
        stroke-dasharray: 42 150;
        stroke-dashoffset: -16;
      }

      95%,
      100% {
        stroke-dasharray: 42 150;
        stroke-dashoffset: -59
      }
    }
  </style>
    <circle class="spinner-bg" cx='12' cy='12' r='9.5' fill='none' clip-path="url(#circleClip)"></circle>
    <circle class="spinner-stroke" cx='12' cy='12' r='9.5' fill='none' clip-path="url(#circleClip)"></circle>
</svg>`;function MX(o){return`data:image/svg+xml,${encodeURIComponent(o).replace(/'/g,"%27").replace(/"/g,"%22")}`}const _X=Cn`
.spinner{background-image:url('${Ax(MX(IX))}');background-repeat:no-repeat;background-position:center;background-size:cover;width:var(--size-8);height:var(--size-8)}
`;var DX=Object.defineProperty,PX=Object.getOwnPropertyDescriptor,x7=(o,s,c,h)=>{for(var d=h>1?void 0:h?PX(s,c):s,m=o.length-1,b;m>=0;m--)(b=o[m])&&(d=(h?b(s,c,d):b(d))||d);return h&&d&&DX(s,c,d),d};let P1=class extends An{render(){return this.playerState.controlsState==="none"||!this.playerState.loading?null:At`<div class="spinner"></div>`}};P1.styles=[_X,Cn`
.spinner{width:var(--size-12);height:var(--size-12)}
    `],x7([Tr({context:Ar,subscribe:!0})],P1.prototype,"playerState",2),P1=x7([Xn("ump-loading-spinner")],P1);const S7=Cn`
:host{--border-radius-none:0;--border-radius-small:2px;--border-radius-medium:4px;--border-radius-large:6px;--border-radius-x-large:8px;--border-radius-circular:10000px;--font-size-base-100:0.625rem;--font-size-base-200:0.75rem;--font-size-base-300:0.875rem;--font-size-base-400:1rem;--font-size-base-500:1.25rem;--font-size-base-600:1.5rem;--font-size-hero-700:1.75rem;--font-size-hero-800:2rem;--font-size-hero-900:2.5rem;--font-size-hero-1000:2.25rem;--font-weight-regular:400;--font-weight-medium:500;--font-weight-semibold:600;--font-weight-bold:700;--duration-ultra-fast:50ms;--duration-faster:100ms;--duration-fast:150ms;--duration-normal:200ms;--duration-gentle:250ms;--duration-slow:300ms;--duration-slower:400ms;--duration-ultra-slow:500ms;--curve-accelerate-max:cubic-bezier(0.9,0.1,1,0.2);--curve-accelerate-mid:cubic-bezier(1,0,1,1);--curve-accelerate-min:cubic-bezier(0.8,0,0.78,1);--curve-decelerate-max:cubic-bezier(0.1,0.9,0.2,1);--curve-decelerate-mid:cubic-bezier(0,0,0,1);--curve-decelerate-min:cubic-bezier(0.33,0,0.1,1);--curve-easy-ease-max:cubic-bezier(0.8,0,0.2,1);--curve-easy-ease:cubic-bezier(0.33,0,0.67,1);--curve-linear:cubic-bezier(0,0,1,1);--line-height-base-100:0.875rem;--line-height-base-200:1rem;--line-height-base-300:1.25rem;--line-height-base-400:1.375rem;--line-height-base-500:1.75rem;--line-height-base-600:2rem;--line-height-hero-700:2.25rem;--line-height-hero-800:2.5rem;--line-height-hero-900:3.125rem;--line-height-hero-1000:5.75rem;--spacing-none:0;--spacing-xxs:0.125rem;--spacing-xs:0.25rem;--spacing-s-nudge:0.375rem;--spacing-s:0.5rem;--spacing-m-nudge:0.625rem;--spacing-m:0.75rem;--spacing-l:1rem;--spacing-xl:1.25rem;--spacing-xxl:1.5rem;--spacing-xxxl:2rem;--spacing-xxxxl:2.25rem;--size-0:0px;--size-px:1px;--size-0-5:0.125rem;--size-1:0.25rem;--size-1-5:0.375rem;--size-2:0.5rem;--size-2-5:0.625rem;--size-3:0.75rem;--size-3-5:0.875rem;--size-4:1rem;--size-5:1.25rem;--size-6:1.5rem;--size-7:1.75rem;--size-8:2rem;--size-9:2.25rem;--size-10:2.5rem;--size-11:2.75rem;--size-12:3rem;--size-14:3.5rem;--size-16:4rem;--size-20:5rem;--size-24:6rem;--size-28:7rem;--size-32:8rem;--size-36:9rem;--size-40:10rem;--size-44:11rem;--size-48:12rem;--size-52:13rem;--size-56:14rem;--size-60:15rem;--size-64:16rem;--size-72:18rem;--size-80:20rem;--size-96:24rem;--size-100:30rem;--stroke-width-thin:1px;--stroke-width-thick:2px;--stroke-width-thicker:3px;--stroke-width-thickest:4px;--color-neutral-shadow-ambient:rgb(0 0 0/24%);--color-neutral-shadow-key:rgb(0 0 0/28%);--color-neutral-shadow-ambient-lighter:rgb(0 0 0/12%);--color-neutral-shadow-key-lighter:rgb(0 0 0/14%);--color-neutral-shadow-ambient-darker:rgb(0 0 0/40%);--color-neutral-shadow-key-darker:rgb(0 0 0/48%);--color-brand-shadow-ambient:rgb(0 0 0/30%);--color-brand-shadow-key:rgb(0 0 0/25%);--color-grey-2:#050505;--color-grey-4:#0a0a0a;--color-grey-6:#0f0f0f;--color-grey-8:#141414;--color-grey-10:#1a1a1a;--color-grey-12:#1f1f1f;--color-grey-14:#242424;--color-grey-16:#292929;--color-grey-18:#2e2e2e;--color-grey-20:#333;--color-grey-22:#383838;--color-grey-24:#3d3d3d;--color-grey-26:#424242;--color-grey-28:#474747;--color-grey-30:#4d4d4d;--color-grey-32:#525252;--color-grey-34:#575757;--color-grey-36:#5c5c5c;--color-grey-38:#616161;--color-grey-40:#666;--color-grey-42:#6b6b6b;--color-grey-44:#707070;--color-grey-46:#757575;--color-grey-48:#7a7a7a;--color-grey-50:#808080;--color-grey-52:#858585;--color-grey-54:#8a8a8a;--color-grey-56:#8f8f8f;--color-grey-58:#949494;--color-grey-60:#999;--color-grey-62:#9e9e9e;--color-grey-64:#a3a3a3;--color-grey-66:#a8a8a8;--color-grey-68:#adadad;--color-grey-70:#b3b3b3;--color-grey-72:#b8b8b8;--color-grey-74:#bdbdbd;--color-grey-76:#c2c2c2;--color-grey-78:#c7c7c7;--color-grey-80:#ccc;--color-grey-82:#d1d1d1;--color-grey-84:#d6d6d6;--color-grey-86:#dbdbdb;--color-grey-88:#e0e0e0;--color-grey-90:#e6e6e6;--color-grey-92:#ebebeb;--color-grey-94:#f0f0f0;--color-grey-96:#f5f5f5;--color-grey-98:#fafafa;--color-white:#fff;--color-white-alpha-5:rgb(255 255 255/5%);--color-white-alpha-10:rgb(255 255 255/10%);--color-white-alpha-20:rgb(255 255 255/20%);--color-white-alpha-30:rgb(255 255 255/30%);--color-white-alpha-40:rgb(255 255 255/40%);--color-white-alpha-50:rgb(255 255 255/50%);--color-white-alpha-60:rgb(255 255 255/60%);--color-white-alpha-70:rgb(255 255 255/70%);--color-white-alpha-80:rgb(255 255 255/80%);--color-white-alpha-90:rgb(255 255 255/90%);--color-black:#000;--color-black-alpha-5:rgb(0 0 0/5%);--color-black-alpha-10:rgb(0 0 0/10%);--color-black-alpha-20:rgb(0 0 0/20%);--color-black-alpha-30:rgb(0 0 0/30%);--color-black-alpha-40:rgb(0 0 0/40%);--color-black-alpha-50:rgb(0 0 0/50%);--color-black-alpha-60:rgb(0 0 0/60%);--color-black-alpha-70:rgb(0 0 0/70%);--color-black-alpha-80:rgb(0 0 0/80%);--color-black-alpha-90:rgb(0 0 0/90%);--color-grey-10-alpha-5:rgb(26 26 26/5%);--color-grey-10-alpha-10:rgb(26 26 26/10%);--color-grey-10-alpha-20:rgb(26 26 26/20%);--color-grey-10-alpha-30:rgb(26 26 26/30%);--color-grey-10-alpha-40:rgb(26 26 26/40%);--color-grey-10-alpha-50:rgb(26 26 26/50%);--color-grey-10-alpha-60:rgb(26 26 26/60%);--color-grey-10-alpha-70:rgb(26 26 26/70%);--color-grey-10-alpha-80:rgb(26 26 26/80%);--color-grey-10-alpha-90:rgb(26 26 26/90%);--color-grey-12-alpha-5:rgb(31 31 31/5%);--color-grey-12-alpha-10:rgb(31 31 31/10%);--color-grey-12-alpha-20:rgb(31 31 31/20%);--color-grey-12-alpha-30:rgb(31 31 31/30%);--color-grey-12-alpha-40:rgb(31 31 31/40%);--color-grey-12-alpha-50:rgb(31 31 31/50%);--color-grey-12-alpha-60:rgb(31 31 31/60%);--color-grey-12-alpha-70:rgb(31 31 31/70%);--color-grey-12-alpha-80:rgb(31 31 31/80%);--color-grey-12-alpha-90:rgb(31 31 31/90%);--color-grey-14-alpha-5:rgb(36 36 36/5%);--color-grey-14-alpha-10:rgb(36 36 36/10%);--color-grey-14-alpha-20:rgb(36 36 36/20%);--color-grey-14-alpha-30:rgb(36 36 36/30%);--color-grey-14-alpha-40:rgb(36 36 36/40%);--color-grey-14-alpha-50:rgb(36 36 36/50%);--color-grey-14-alpha-60:rgb(36 36 36/60%);--color-grey-14-alpha-70:rgb(36 36 36/70%);--color-grey-14-alpha-80:rgb(36 36 36/80%);--color-grey-14-alpha-90:rgb(36 36 36/90%);--color-brand-10:#061724;--color-brand-20:#082338;--color-brand-30:#0a2e4a;--color-brand-40:#0c3b5e;--color-brand-50:#0e4775;--color-brand-60:#0f548c;--color-brand-70:#115ea3;--color-brand-80:#0f6cbd;--color-brand-90:#2886de;--color-brand-100:#479ef5;--color-brand-110:#62abf5;--color-brand-120:#77b7f7;--color-brand-130:#96c6fa;--color-brand-140:#b4d6fa;--color-brand-150:#cfe4fa;--color-brand-160:#ebf3fc;--color-neutral-foreground-1:var(--color-white);--color-neutral-foreground-1-hover:var(--color-white);--color-neutral-foreground-1-pressed:var(--color-white);--color-neutral-foreground-1-selected:var(--color-white);--color-neutral-foreground-2:var(--color-grey-84);--color-neutral-foreground-2-hover:var(--color-white);--color-neutral-foreground-2-pressed:var(--color-white);--color-neutral-foreground-2-selected:var(--color-white);--color-neutral-foreground-2-brand-hover:var(--color-brand-100);--color-neutral-foreground-2-brand-pressed:var(--color-brand-90);--color-neutral-foreground-2-brand-selected:var(--color-brand-100);--color-neutral-foreground-3:var(--color-grey-68);--color-neutral-foreground-3-hover:var(--color-grey-84);--color-neutral-foreground-3-pressed:var(--color-grey-84);--color-neutral-foreground-3-selected:var(--color-grey-84);--color-neutral-foreground-3-brand-hover:var(--color-brand-100);--color-neutral-foreground-3-brand-pressed:var(--color-brand-90);--color-neutral-foreground-3-brand-selected:var(--color-brand-100);--color-neutral-foreground-4:var(--color-grey-60);--color-neutral-foreground-disabled:var(--color-grey-36);--color-neutral-foreground-inverted-disabled:var(--color-white-alpha-40);--color-brand-foreground-link:var(--color-brand-100);--color-brand-foreground-link-hover:var(--color-brand-110);--color-brand-foreground-link-pressed:var(--color-brand-90);--color-brand-foreground-link-selected:var(--color-brand-100);--color-neutral-foreground-2-link:var(--color-grey-84);--color-neutral-foreground-2-link-hover:var(--color-white);--color-neutral-foreground-2-link-pressed:var(--color-white);--color-neutral-foreground-2-link-selected:var(--color-white);--color-compound-brand-foreground-1:var(--color-brand-100);--color-compound-brand-foreground-1-hover:var(--color-brand-110);--color-compound-brand-foreground-1-pressed:var(--color-brand-90);--color-brand-foreground-1:var(--color-brand-100);--color-brand-foreground-2:var(--color-brand-110);--color-brand-foreground-2-hover:var(--color-brand-130);--color-brand-foreground-2-pressed:var(--color-brand-160);--color-neutral-foreground-1-static:var(--color-grey-14);--color-neutral-foreground-static-inverted:var(--color-white);--color-neutral-foreground-inverted:var(--color-grey-14);--color-neutral-foreground-inverted-hover:var(--color-grey-14);--color-neutral-foreground-inverted-pressed:var(--color-grey-14);--color-neutral-foreground-inverted-selected:var(--color-grey-14);--color-neutral-foreground-inverted-2:var(--color-grey-14);--color-neutral-foreground-on-brand:var(--color-white);--color-neutral-foreground-inverted-link:var(--color-white);--color-neutral-foreground-inverted-link-hover:var(--color-white);--color-neutral-foreground-inverted-link-pressed:var(--color-white);--color-neutral-foreground-inverted-link-selected:var(--color-white);--color-brand-foreground-inverted:var(--color-brand-80);--color-brand-foreground-inverted-hover:var(--color-brand-70);--color-brand-foreground-inverted-pressed:var(--color-brand-60);--color-brand-foreground-on-light:var(--color-brand-80);--color-brand-foreground-on-light-hover:var(--color-brand-70);--color-brand-foreground-on-light-pressed:var(--color-brand-50);--color-brand-foreground-on-light-selected:var(--color-brand-60);--color-neutral-background-1:var(--color-grey-16);--color-neutral-background-1-hover:var(--color-grey-24);--color-neutral-background-1-pressed:var(--color-grey-12);--color-neutral-background-1-selected:var(--color-grey-22);--color-neutral-background-2:var(--color-grey-12);--color-neutral-background-2-hover:var(--color-grey-20);--color-neutral-background-2-pressed:var(--color-grey-8);--color-neutral-background-2-selected:var(--color-grey-18);--color-neutral-background-3:var(--color-grey-8);--color-neutral-background-3-hover:var(--color-grey-16);--color-neutral-background-3-pressed:var(--color-grey-4);--color-neutral-background-3-selected:var(--color-grey-14);--color-neutral-background-4:var(--color-grey-4);--color-neutral-background-4-hover:var(--color-grey-12);--color-neutral-background-4-pressed:var(--color-black);--color-neutral-background-4-selected:var(--color-grey-10);--color-neutral-background-5:var(--color-black);--color-neutral-background-5-hover:var(--color-grey-8);--color-neutral-background-5-pressed:var(--color-grey-2);--color-neutral-background-5-selected:var(--color-grey-6);--color-neutral-background-6:var(--color-grey-20);--color-neutral-background-inverted:var(--color-white);--color-neutral-background-static:var(--color-grey-24);--color-neutral-background-alpha:var(--color-grey-10-alpha-50);--color-neutral-background-alpha-2:var(--color-grey-12-alpha-70);--color-neutral-background-disabled:var(--color-grey-8);--color-neutral-background-inverted-disabled:var(--color-white-alpha-10);--color-subtle-background:transparent;--color-subtle-background-hover:var(--color-grey-22);--color-subtle-background-pressed:var(--color-grey-18);--color-subtle-background-selected:var(--color-grey-20);--color-subtle-background-light-alpha-hover:var(--color-grey-14-alpha-80);--color-subtle-background-light-alpha-pressed:var(--color-grey-14-alpha-50);--color-subtle-background-light-alpha-selected:transparent;--color-subtle-background-inverted:transparent;--color-subtle-background-inverted-hover:var(--color-black-alpha-10);--color-subtle-background-inverted-pressed:var(--color-black-alpha-30);--color-subtle-background-inverted-selected:var(--color-black-alpha-20);--color-transparent-background:transparent;--color-transparent-background-hover:transparent;--color-transparent-background-pressed:transparent;--color-transparent-background-selected:transparent;--color-background-overlay:var(--color-black-alpha-50);--color-brand-background:var(--color-brand-70);--color-brand-background-hover:var(--color-brand-80);--color-brand-background-pressed:var(--color-brand-40);--color-brand-background-selected:var(--color-brand-60);--color-compound-brand-background:var(--color-brand-100);--color-compound-brand-background-hover:var(--color-brand-110);--color-compound-brand-background-pressed:var(--color-brand-90);--color-brand-background-static:var(--color-brand-80);--color-brand-background-2:var(--color-brand-20);--color-brand-background-2-hover:var(--color-brand-40);--color-brand-background-2-pressed:var(--color-brand-10);--color-brand-background-3-static:var(--color-brand-60);--color-brand-background-4-static:var(--color-brand-40);--color-brand-background-inverted:var(--color-white);--color-brand-background-inverted-hover:var(--color-brand-160);--color-brand-background-inverted-pressed:var(--color-brand-140);--color-brand-background-inverted-selected:var(--color-brand-150);--color-neutral-card-background:var(--color-grey-20);--color-neutral-card-background-hover:var(--color-grey-24);--color-neutral-card-background-pressed:var(--color-grey-18);--color-neutral-card-background-selected:var(--color-grey-22);--color-neutral-card-background-disabled:var(--color-grey-8);--color-neutral-stroke-accessible:var(--color-grey-68);--color-neutral-stroke-accessible-hover:var(--color-grey-74);--color-neutral-stroke-accessible-pressed:var(--color-grey-70);--color-neutral-stroke-accessible-selected:var(--color-brand-100);--color-neutral-stroke-1:var(--color-grey-40);--color-neutral-stroke-1-hover:var(--color-grey-46);--color-neutral-stroke-1-pressed:var(--color-grey-42);--color-neutral-stroke-1-selected:var(--color-grey-44);--color-neutral-stroke-2:var(--color-grey-32);--color-neutral-stroke-3:var(--color-grey-24);--color-neutral-stroke-subtle:var(--color-grey-4);--color-neutral-stroke-on-brand:var(--color-grey-16);--color-neutral-stroke-on-brand-2:var(--color-white);--color-neutral-stroke-on-brand-2-hover:var(--color-white);--color-neutral-stroke-on-brand-2-pressed:var(--color-white);--color-neutral-stroke-on-brand-2-selected:var(--color-white);--color-brand-stroke-1:var(--color-brand-100);--color-brand-stroke-2:var(--color-brand-50);--color-brand-stroke-2-hover:var(--color-brand-50);--color-brand-stroke-2-pressed:var(--color-brand-30);--color-brand-stroke-2-contrast:var(--color-brand-50);--color-compound-brand-stroke:var(--color-brand-100);--color-compound-brand-stroke-hover:var(--color-brand-110);--color-compound-brand-stroke-pressed:var(--color-brand-90);--color-neutral-stroke-disabled:var(--color-grey-26);--color-neutral-stroke-inverted-disabled:var(--color-white-alpha-40);--color-transparent-stroke:transparent;--color-transparent-stroke-interactive:transparent;--color-transparent-stroke-disabled:transparent;--color-neutral-stroke-alpha:var(--color-white-alpha-10);--color-neutral-stroke-alpha-2:var(--color-white-alpha-20);--color-stroke-focus-1:var(--color-black);--color-stroke-focus-2:var(--color-white);--shadow-2:0 0 2px var(--color-neutral-shadow-ambient),0 1px 2px var(--color-neutral-shadow-key);--shadow-4:0 0 2px var(--color-neutral-shadow-ambient),0 2px 4px var(--color-neutral-shadow-key);--shadow-8:0 0 2px var(--color-neutral-shadow-ambient),0 4px 8px var(--color-neutral-shadow-key);--shadow-16:0 0 2px var(--color-neutral-shadow-ambient),0 8px 16px var(--color-neutral-shadow-key);--shadow-28:0 0 8px var(--color-neutral-shadow-ambient),0 14px 28px var(--color-neutral-shadow-key);--shadow-64:0 0 8px var(--color-neutral-shadow-ambient),0 32px 64px var(--color-neutral-shadow-key);--shadow-2-brand:0 0 2px var(--color-brand-shadow-ambient),0 1px 2px var(--color-brand-shadow-key);--shadow-4-brand:0 0 2px var(--color-brand-shadow-ambient),0 2px 4px var(--color-brand-shadow-key);--shadow-8-brand:0 0 2px var(--color-brand-shadow-ambient),0 4px 8px var(--color-brand-shadow-key);--shadow-16-brand:0 0 2px var(--color-brand-shadow-ambient),0 8px 16px var(--color-brand-shadow-key);--shadow-28-brand:0 0 8px var(--color-brand-shadow-ambient),0 14px 28px var(--color-brand-shadow-key);--shadow-64-brand:0 0 8px var(--color-brand-shadow-ambient),0 32px 64px var(--color-brand-shadow-key);--font-family-default:'Segoe UI','Segoe UI Web (West European)',-apple-system,blinkmacsystemfont,roboto,'Helvetica Neue',sans-serif}
`,LX='<svg width="32" height="32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M16 13a1 1 0 0 1 1 1v9a1 1 0 1 1-2 0v-9a1 1 0 0 1 1-1Zm0-2a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM2 16a14 14 0 1 1 28 0 14 14 0 0 1-28 0ZM16 4a12 12 0 1 0 0 24 12 12 0 0 0 0-24Z"/></svg>';var RX=Object.defineProperty,NX=Object.getOwnPropertyDescriptor,UX=(o,s,c,h)=>{for(var d=h>1?void 0:h?NX(s,c):s,m=o.length-1,b;m>=0;m--)(b=o[m])&&(d=(h?b(s,c,d):b(d))||d);return h&&d&&RX(s,c,d),d};let O3=class extends An{render(){return At`
      <div class="dialog">
        <div class="header-icon">${cn(LX)}</div>

        <div class="content">
          <hgroup>
            <h2>${ye("You may not access this content")}</h2>
            <p>
              ${ye(`An age restriction has been implemented due to mature themes or
              legal requirements intended to protect younger audiences.`)}
            </p>
          </hgroup>
        </div>
      </div>
    `}};O3.styles=[ao,C0,Cn`
:host{display:flex;align-items:center;justify-content:center;background-color:var(--color-neutral-background-2)}.dialog{padding:var(--spacing-xxxl) var(--spacing-xxxl);display:flex;align-items:flex-start;gap:var(--spacing-xl);z-index:10;margin:var(--spacing-xxl);max-width:var(--size-100)}.content{display:flex;align-items:flex-start;flex-direction:column;gap:var(--spacing-xxl);padding-right:var(--spacing-xxxl)}.header-icon{padding:var(--spacing-s);color:var(--color-brand-130);fill:currentcolor}h2{margin:0;padding:0}hgroup{display:flex;flex-direction:column;gap:var(--spacing-xs)}p{margin:0;padding:0}.select-container{display:flex;gap:var(--spacing-m)}
    `],O3=UX([Xn("ump-age-gate-restricted")],O3);const OX='<svg width="32" height="32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M9 9a7 7 0 1 1 14 0A7 7 0 0 1 9 9Zm7-6a6 6 0 1 0 0 12 6 6 0 0 0 0-12Zm.38 15H7.5A3.5 3.5 0 0 0 4 21.5v.67C4 24.32 6.77 30 16 30c.43 0 .84-.01 1.24-.04-.31-.3-.6-.62-.87-.96H16c-8.77 0-11-5.32-11-6.83v-.67A2.5 2.5 0 0 1 7.5 19h8.2c.2-.35.43-.68.68-1Zm7.12-2a7.5 7.5 0 1 0 0 15 7.5 7.5 0 0 0 0-15Zm4.53 4.72c.3.3.3.77 0 1.06l-5.25 5.25c-.3.3-.77.3-1.06 0l-2.5-2.5a.75.75 0 1 1 1.06-1.06l1.97 1.97 4.72-4.72c.3-.3.77-.3 1.06 0Z"/></svg>',jX=Cn`
.select{--svg:url('data:image/svg+xml;utf8,${Ax(encodeURIComponent('<svg width="16" height="16" fill="none" stroke="#666" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4.293 8.293a1 1 0 0 1 1.414 0L12 14.586l6.293-6.293a1 1 0 1 1 1.414 1.414l-7 7a1 1 0 0 1-1.414 0l-7-7a1 1 0 0 1 0-1.414Z" fill="#ffffff"/></svg>'))}');position:relative;display:inline-flex;align-items:center;gap:var(--spacing-s-nudge);margin:0;-webkit-appearance:none;appearance:none;padding:var(--spacing-s) var(--spacing-xxxl) var(--spacing-s) var(--spacing-l);color:var(--color-neutral-foreground-1);transition-duration:var(--duration-faster);transition-property:background,color;font-size:var(--font-size-base-400);transition-timing-function:var(--curve-easy-ease);cursor:pointer;-webkit-user-select:none;user-select:none;background-color:var(--color-neutral-background-1);border-radius:var(--border-radius-medium);border:none;background-image:var(--svg);background-repeat:no-repeat;background-position-y:center;background-position-x:calc(100% - 8px);font-family:var(--font-family-default)}.select:focus{outline:none;border-bottom:solid var(--stroke-width-thick) var(--color-brand-stroke-1)}.select:focus-within{outline:none;border-bottom:solid var(--stroke-width-thick) var(--color-brand-stroke-1)}.select.focus-always:focus,.select.focus-default:focus-visible{outline:var(--stroke-width-thick) solid var(--color-stroke-focus-2)}.select:active{outline:none}.select-outline{border:solid var(--stroke-width-thick) var(--color-neutral-stroke-1)}.select-outline.focus-always:focus,.select-outline.focus-default:focus-visible{border:solid var(--stroke-width-thick) var(--color-neutral-stroke-1)}
`;function FX(o){const s=new Date,c=new Date(o);c.setFullYear(s.getFullYear());let h=s.getFullYear()-o.getFullYear();return s<c&&h--,h}function j3(o,s){return Array.from({length:s-o+1},(c,h)=>o+h)}var BX=Object.defineProperty,VX=Object.getOwnPropertyDescriptor,Og=(o,s,c,h)=>{for(var d=h>1?void 0:h?VX(s,c):s,m=o.length-1,b;m>=0;m--)(b=o[m])&&(d=(h?b(s,c,d):b(d))||d);return h&&d&&BX(s,c,d),d};const $X=j3(1,12),zX=j3(1,31),HX=j3(1900,new Date().getFullYear()).reverse();let gc=class extends An{render(){return At`
    <div class="dialog">
      <div class="header-icon">${cn(OX)}</div>

        <div class="content">
          <hgroup>
            <h2>${ye("Please enter your date of birth")}</h2>
            <p>${ye("Age verification is required to access this content.")}</p>
          </hgroup>

          <div class="select-container">
            <div class="select-wrapper">
              <label for="month">${ye("Month")}</label>
              <select 
                class=${ot({...gt(this.playerState),select:!0,"select-outline":!0})}
                aria-label="${ye("Month")}" 
                data-testid="month" 
                id="month"
                >
                <option disabled selected value=''></option>
                ${$X.map(o=>At`<option value=${o}>${o}</option>`)}
              </select>
            </div>

            <div class="select-wrapper">
              <label for="day">${ye("Day")}</label>
              <select 
                class=${ot({...gt(this.playerState),select:!0,"select-outline":!0})}
                aria-label="${ye("Day")}" 
                data-testid="day" 
                id="day"
                >
                <option disabled selected value=''></option>
                ${zX.map(o=>At`<option value=${o}>${o}</option>`)}
              </select>
            </div>
            
            <div class="select-wrapper">
              <label for="year">${ye("Year")}</label>
              <select 
                class=${ot({...gt(this.playerState),select:!0,"select-outline":!0})}
                aria-label="${ye("Year")}" 
                data-testid="year" 
                id="year"
                >
                <option disabled selected value=''></option>
                ${HX.map(o=>At`<option value=${o}>${o}</option>`)}
              </select>
            </div>
          </div>

          <button 
            type="button"
            class=${ot({btn:!0,"btn-s":!0,"btn-brand":!0,...gt(this.playerState)})}
            data-testid="age-gate-submit"
          @click=${this.submitButtonClicked}>${ye("Submit")}</button>
        </div>
      </div>
    </div>
    `}submitButtonClicked(){const o=this.monthSelect.value,s=this.daySelect.value,c=this.yearSelect.value;if(!o||!s||!c)return;const h=FX(new Date(Number(c),Number(o)-1,Number(s)));this.dispatchEvent(new Pt("user-age-set",h))}};gc.styles=[ao,jX,C0,Cn`
:host{display:flex;align-items:center;justify-content:center}.dialog{padding:var(--spacing-xxl) var(--spacing-xxxl);display:flex;align-items:flex-start;gap:var(--spacing-xl);z-index:10;margin:var(--spacing-xxl);max-width:var(--size-100)}.content{display:flex;align-items:flex-start;flex-direction:column;gap:var(--spacing-xxxl);padding-right:var(--spacing-xxl)}.header-icon{padding:var(--spacing-s);color:var(--color-brand-130);fill:currentcolor}hgroup{display:flex;flex-direction:column;gap:var(--spacing-xs)}hgroup h2{margin:0;padding:0}hgroup p{margin:0;padding:0}.select-container{display:flex;flex-direction:row;gap:var(--spacing-m)}.select-wrapper{display:flex;flex-direction:column}.select{background-color:var(--color-brand-30)}.select-outline{border-color:var(--color-brand-150);border-width:var(--stroke-width-thin)}.select-outline.default:focus-visible,.select-outline.focus-always:focus{border-width:var(--stroke-width-thin)}
    `],Og([zn("#month")],gc.prototype,"monthSelect",2),Og([zn("#day")],gc.prototype,"daySelect",2),Og([zn("#year")],gc.prototype,"yearSelect",2),Og([Tr({context:Ar,subscribe:!0})],gc.prototype,"playerState",2),gc=Og([Xn("ump-age-gate-verification")],gc);const qX='<svg width="32" height="32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M17.25 22a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0ZM16 9a1 1 0 0 0-1 1v8a1 1 0 1 0 2 0v-8a1 1 0 0 0-1-1Zm-3.06-5.2a3.5 3.5 0 0 1 6.12 0l10.5 19a3.5 3.5 0 0 1-3.07 5.2H5.51a3.5 3.5 0 0 1-3.07-5.2l10.5-19Zm4.37.98a1.5 1.5 0 0 0-2.62 0l-10.5 19A1.5 1.5 0 0 0 5.51 26h20.98a1.5 1.5 0 0 0 1.32-2.23l-10.5-19Z"/></svg>';var GX=Object.defineProperty,KX=Object.getOwnPropertyDescriptor,k7=(o,s,c,h)=>{for(var d=h>1?void 0:h?KX(s,c):s,m=o.length-1,b;m>=0;m--)(b=o[m])&&(d=(h?b(s,c,d):b(d))||d);return h&&d&&GX(s,c,d),d};let L1=class extends An{render(){return At`
      <div class="dialog message-container" data-testid="error-message">
        <div class="header-icon">${cn(qX)}</div>

        <div class="content">
          <hgroup>
            <h2>${ye("Playback Error")}</h2>
            <p>${this.playerState.error}</p>
          </hgroup>
        </div>
      </div>
    `}};L1.styles=[ao,C0,Cn`
:host{display:flex;align-items:center;justify-content:center;background-color:var(--color-brand-10)}.message-container{display:flex;align-items:flex-start;gap:var(--spacing-xl);padding:var(--spacing-xxxl) var(--spacing-xxxl)}.content{display:flex;align-items:flex-start;flex-direction:column;gap:var(--spacing-xxl);padding-right:var(--spacing-xxxl)}.header-icon{padding:var(--spacing-s);color:var(--color-brand-foreground-1);fill:currentcolor}h2{margin:0;padding:0}hgroup{display:flex;flex-direction:column;gap:var(--spacing-xs)}p{margin:0;padding:0}.select-container{display:flex;gap:var(--spacing-m)}
    `],k7([Tr({context:Ar,subscribe:!0})],L1.prototype,"playerState",2),L1=k7([Xn("ump-error-modal")],L1);var WX=Object.defineProperty,XX=Object.getOwnPropertyDescriptor,T7=(o,s,c,h)=>{for(var d=h>1?void 0:h?XX(s,c):s,m=o.length-1,b;m>=0;m--)(b=o[m])&&(d=(h?b(s,c,d):b(d))||d);return h&&d&&WX(s,c,d),d};let R1=class extends An{render(){return this.playerState.error?At`<ump-error-modal class="modal"></ump-error-modal>`:this.playerState.ageGate==="waiting"?At`<div
        data-testid="age-gate-overlay"
        class="overlay modal"
      ></div>`:this.playerState.ageGate==="verification"?At`<ump-age-gate-verification
        class="modal"
      ></ump-age-gate-verification> `:this.playerState.ageGate==="denied"?At`<ump-age-gate-restricted
        class="modal"
      ></ump-age-gate-restricted>`:null}updated(o){var s;super.updated(o);const c=!((s=this.shadowRoot)!=null&&s.children.length);this.ariaHidden=c.toString()}};R1.styles=[S7,Cn`
:host([aria-hidden='true']){display:none}.overlay{background-color:var(--color-black)}.modal{position:absolute;inset:0;width:100%;height:100%;text-align:left}ump-age-gate-verification,ump-age-gate-restricted{background-color:var(--color-brand-10)}
    `],T7([Tr({context:Ar,subscribe:!0})],R1.prototype,"playerState",2),R1=T7([Xn("ump-modals")],R1);function N1(o){return o.map(s=>({...s,type:y_[s.type]??s.type})).sort((s,c)=>{let h=v_.indexOf(s.type)-v_.indexOf(c.type);return h===0&&s.type==="video/mp4"&&(h=x0.indexOf(s.quality)-x0.indexOf(c.quality)),h}).filter(YX)}function YX(o){return document.createElement("video").canPlayType(o.type)!=""?!0:"ManagedMediaSource"in window||"MediaSource"in window}function A7(o){const s=o.map(c=>({...c,ccType:KV[c.ccType]??c.ccType})).reduce((c,h)=>(c[h.locale]||(c[h.locale]=[]),c[h.locale].push(h),c),{});return Object.values(s).map(c=>c.find(h=>h.ccType==="text/vtt")??c[0])}function F3(o){let s=!1,c;return(...h)=>(s||(c=o(...h),s=!0),c)}const JX=F3(async()=>{try{const o=document.createElement("video"),s=o.volume;o.volume=s/2+.1;const c=o.volume;return s!==c&&await new Promise(h=>setTimeout(h,1)),s!==o.volume}catch{return!1}}),QX=F3(()=>typeof document.createElement("div").requestFullscreen=="function");function ZX(o){return"webkitEnterFullscreen"in o&&"webkitSupportsFullscreen"in o&&typeof o.webkitEnterFullscreen=="function"&&o.webkitSupportsFullscreen}function eY(o,s){return Object.fromEntries(Object.entries(o).filter(([c,h])=>!s(c,h)))}function tY(o){return eY(o,(s,c)=>c==null)}const B3=["abort","canplay","canplaythrough","complete","cuechange","durationchange","emptied","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"];class nY extends gn.Player{constructor(s,c,h){super(),this.videoElementEventListeners={},this.plugins=[],this.pluginOnDestroy=[],this.loadRequested=!1,this._autoplay=!1,this.onFullscreenChange=()=>{this.dispatchEvent(new gn.util.FakeEvent("fullscreenchanged"))},this.options={...Nx,...tY(s)},s.autoplay&&s.muted!==!1&&(this.options.muted=!0),this.videoElement=c,this.lastSelectedVolume=c.volume,this.captionDisplay=h,this.configure({streaming:{bufferBehind:300,ignoreTextStreamFailures:!0}})}async initialize(){this.plugins.forEach(s=>this.pluginOnDestroy.push(s(this))),this.setVideoContainer(this.captionDisplay.captionContainer),this.forwardVideoElementEvents(),this.loop=this.options.loop,this.muted=this.options.muted,this.options.hidePosterImage||(this.poster=this.options.poster),this.videoElement.disablePictureInPicture=!0,this.videoElement.playsInline=!0,await this.attach(this.videoElement)}async destroy(){Object.entries(this.videoElementEventListeners).forEach(([s,c])=>this.videoElement.removeEventListener(s,c)),this.pluginOnDestroy.forEach(s=>s()),this.removeFullscreenListener(),await super.destroy()}load(s,c,h){return h===y_.MP4&&(this.adaptiveBitrate=!1),super.load(s,c,h)}async loadCaptions(s=this.options.ccFiles){try{for(const c of A7(s))await this.addTextTrackAsync(c.url,c.locale,"captions",c.ccType)}catch(c){console.error(`Failed to load captions: ${c}`),this.dispatchUmpError({severity:gn.util.Error.Severity.RECOVERABLE,umpErrorType:"Error loading captions",umpErrorDescription:JSON.stringify(c)})}}async play(){if(this.getLoadMode()===gn.Player.LoadMode.NOT_LOADED){this.addEventListener("loadsourcescomplete",this.handleLoadSourcesComplete),this.loadRequest();return}return this.videoElement.play()}pause(){if(!this.isFullyLoaded()){this.removeEventListener("loadsourcescomplete",this.handleLoadSourcesComplete);return}return this.videoElement.pause()}loadRequest(){this.loadRequested||(this.loadRequested=!0,this.dispatchEvent(new gn.util.FakeEvent("loadsourcesrequest")))}handleLoadSourcesComplete(){this.videoElement.play()}requestFullscreen(s){this.removeFullscreenListener(),QX()?(this.fullscreenElement=s,s.addEventListener("fullscreenchange",this.onFullscreenChange),s.requestFullscreen({navigationUI:"hide"})):ZX(this.videoElement)&&this.videoElement.webkitEnterFullscreen()}exitFullscreen(){document.exitFullscreen()}get fullscreen(){return document.fullscreenElement!==null}get ended(){return this.videoElement.ended}get paused(){return this.videoElement.paused}get duration(){return this.videoElement.duration}get currentTime(){return this.videoElement.currentTime}set currentTime(s){this.videoElement.currentTime=s}get loop(){return this.videoElement.loop}set loop(s){this.videoElement.loop=s}get autoplay(){return this._autoplay}set autoplay(s){this._autoplay=s}get muted(){return this.volume===0?!0:this.videoElement.muted}set muted(s){this.videoElement.muted=s,this.videoElement.volume=s?0:this.lastSelectedVolume}get playbackRate(){return this.getPlaybackRate()}set playbackRate(s){this.videoElement.playbackRate=s}get poster(){return this.videoElement.poster}set poster(s){const c=new Image;c.addEventListener("load",()=>{this.dispatchEvent(new gn.util.FakeEvent("playerposterloadcomplete"))}),c.src=s,this.videoElement.poster=c.src}get volume(){return this.videoElement.volume}set volume(s){this.videoElement.muted=!1,this.videoElement.volume=s}get adaptiveBitrate(){return this.getConfiguration().abr.enabled}set adaptiveBitrate(s){this.configure({abr:{enabled:s}})}get videoQualities(){if(this.getManifestType()){const s=this.filterRelatedAdaptiveTracks();return s.length===0?[]:[{videoId:kd.videoId,label:ye(kd.label)},...s]}else return this.filterStaticMp4Tracks()}get activeVideoId(){var s,c;if(this.getManifestType()){const h=(s=this.getVariantTracks().find(d=>d.active))==null?void 0:s.videoId;if(h)return h}else{const h=this.getAssetUri();return(c=this.options.sources.find(d=>d.src===h))==null?void 0:c.quality}}get buffered(){const s=this.videoElement,c=[];for(let h=0;h<s.buffered.length;h++)c.push({start:s.buffered.start(h),end:s.buffered.end(h)});return c}dispatchUmpError(s){this.dispatchEvent(new gn.util.FakeEvent("error",new Map().set("detail",s)))}saveLastSelectedVolume(s){s!==0&&(this.lastSelectedVolume=s)}async selectVideoQuality(s){if(this.getManifestType()){if(s.videoId===kd.videoId){this.adaptiveBitrate=!0;return}this.adaptiveBitrate=!1;const c=this.getVariantTracks().filter(h=>h.audioId===this.activeAudioTrackId).find(h=>h.videoId===s.videoId);if(!c)throw new gn.util.Error(gn.util.Error.Severity.RECOVERABLE,gn.util.Error.Category.MEDIA,gn.util.Error.Code.VIDEO_ERROR);this.adaptiveBitrate=!1,this.selectVariantTrack(c,!0)}else{const c=N1(this.options.sources).find(m=>m.quality===s.videoId);if(!c)throw new gn.util.Error(gn.util.Error.Severity.RECOVERABLE,gn.util.Error.Category.MEDIA,gn.util.Error.Code.VIDEO_ERROR);const h=!this.paused,d=this.activeCaptionTrack;await this.load(c.src,this.videoElement.currentTime,c.type),h&&this.play(),await this.loadCaptions(),this.captionTrack=d}}get umpAudioTracks(){const s=this.getAudioTracks(),c=s.map(d=>d.originalLanguage??d.language),h=A0(c);return s.map((d,m)=>({displayName:h[c[m]],isDescriptiveAudio:this.isDescriptiveAudio(d.roles),shakaAudioTrack:d})).sort((d,m)=>d.displayName.localeCompare(m.displayName))}get activeAudioTrackId(){var s;const c=(s=this.getVariantTracks().find(h=>h.active))==null?void 0:s.audioId;if(c)return c}set audioTrack(s){this.selectAudioTrack(s)}get captionTracks(){const s=A0(this.getTextTracks().map(h=>h.language)),c=this.getTextTracks().map(h=>({captionId:h.id,language:h.language,label:s[h.language]})).sort((h,d)=>h.label.localeCompare(d.label));return[pf,...c]}get activeCaptionTrack(){var s;const c=(s=this.getTextTracks().find(d=>d.active))==null?void 0:s.id,h=this.captionTracks.find(d=>d.captionId===c);return!h||!this.isTextTrackVisible()?pf:h}get activeCaptionTrackId(){return this.activeCaptionTrack.captionId}set captionTrack(s){if(s.captionId===pf.captionId){this.setTextTrackVisibility(!1);return}this.selectTextLanguage(s.language),this.setTextTrackVisibility(!0)}addPlugin(s){this.plugins.push(s)}addPlugins(...s){s.forEach(c=>this.addPlugin(c))}addEventListener(s,c,h){h?.once===!0?rY(this,s,c):super.addEventListener(s,c,h)}forwardVideoElementEvents(){B3.forEach(s=>{const c=()=>this.dispatchEvent(new gn.util.FakeEvent(s));this.videoElementEventListeners[s]=c,this.videoElement.addEventListener(s,c)})}filterStaticMp4Tracks(){return N1(this.options.sources).filter(s=>s.type==="video/mp4").sort((s,c)=>x0.indexOf(s.quality)-x0.indexOf(c.quality)).map(s=>({videoId:s.quality,label:s.quality}))}filterRelatedAdaptiveTracks(){const s=this.getVariantTracks(),c=s.find(h=>h.active);return c?s.filter(h=>h.audioId===c.audioId).sort((h,d)=>d.height===h.height||h.height==null||d.height==null?d.bandwidth-h.bandwidth:d.height-h.height).reduce((h,d)=>{const m=new Set(h.map(f=>f.height??f.bandwidth)),b=d.height??d.bandwidth;return m.has(b)||h.push(d),h},[]).map(h=>({videoId:h.videoId,label:h.height?h.height.toString():`${(h.bandwidth/1e6).toFixed(2)} Mbps`})):[]}removeFullscreenListener(){this.fullscreenElement&&this.fullscreenElement.removeEventListener("fullscreenchange",this.onFullscreenChange)}isDescriptiveAudio(s){return s.some(c=>[S0.dashIdentifier,S0.hlsIdentifier].includes(c))}}function rY(o,s,c){const h=d=>{o.removeEventListener(s,h),c(d)};o.addEventListener(s,h)}class iY{constructor(s,c){this.prefix=s,this.store=c}getItem(s){return this.store.getItem(this.prefixed(s))}getNumber(s){const c=this.getItem(s);if(c===null)return null;const h=Number(c);return isNaN(h)?null:h}setNumber(s,c){this.setItem(s,c.toString())}setItem(s,c){this.store.setItem(this.prefixed(s),c)}removeItem(s){this.store.removeItem(this.prefixed(s))}prefixed(s){return`${this.prefix}:${s}`}}const E7=new iY(b_,window.sessionStorage),V3="agegateupdate",$3="UserAge";function aY(o,s){return c=>{var h,d;if(c.options.ageGate===!1)return()=>{};let m=typeof c.options.ageGate=="object"&&typeof((h=c.options.ageGate)==null?void 0:h.minimumAge)=="number"?c.options.ageGate.minimumAge:null,b=typeof c.options.ageGate=="object"&&typeof((d=c.options.ageGate)==null?void 0:d.userAge)=="number"?c.options.ageGate.userAge:E7.getNumber($3);f();function f(){if(s.value.ageGate==="verified"){L();return}return m===0?A("verified"):m===null?A("waiting"):b===null?A("verification"):b>=m?A("verified"):A("denied")}function A(G){s.setValue({...s.value,ageGate:G})}function M(G){m=G.detail,f()}function D(G){b=G.detail,f(),oY(b)}function U(G){b=G.detail,f(),window.removeEventListener(V3,U)}function L(){w.removeAllListeners(),j.removeAllListeners()}function R(G){if(G.key!==`${b_}:${$3}`||!G.newValue)return;const Z=Number(G.newValue);isNaN(Z)||(b=Z,f(),window.removeEventListener("storage",R))}const w=wf(window),j=wf(o);return w.addEventListener(V3,U),w.addEventListener("storage",R),j.addEventListener("minimum-age-set",M),j.addEventListener("user-age-set",D),()=>{L()}}}function oY(o){E7.setNumber($3,o),window.dispatchEvent(new Pt(V3,o))}const z3=new EventTarget;let H3=null;function sY(o){o!==H3&&(H3=o,z3.dispatchEvent(new Event("change")))}function C7(){return H3}function uY(o,s){return c=>{if(!c.options.autoplay)return()=>{};const h=window.matchMedia("(prefers-reduced-motion: reduce)"),d={threshold:c.options.percentage/100},m=new IntersectionObserver(R=>{L(R[0]),b()&&(R[0].isIntersecting?c.paused&&c.play():c.paused||c.pause())},d);function b(){if(typeof s.value.ageGate=="string"&&s.value.ageGate!=="verified")return!1;const R=C7();return typeof R=="boolean"?R:!h.matches}function f(){c.autoplay=b()}function A(){f()}function M(){f()}function D(){f(),h.addEventListener("change",A),z3.addEventListener("change",M),o.addEventListener("click",U,{once:!0}),c.addEventListener("ended",U,{once:!0}),m.observe(o)}function U(){c.autoplay=!1,m.disconnect(),h.removeEventListener("change",A),z3.removeEventListener("change",M),o.removeEventListener("click",U)}const L=F3(R=>{(!c.autoplay||!R.isIntersecting)&&(c.options.hideControls==null&&s.setValue({...s.value,controlsState:"bigplaybutton"}),c.options.hidePosterImage||(c.poster=c.options.poster))});return D(),U}}function lY(o){return()=>{async function s(){const c=await JX();o.setValue({...o.value,showVolumeSlider:c})}return s(),()=>{}}}function cY(o,s){return c=>{var h;function d(b){o.dir=b,s.setValue({...s.value,dir:b})}const m=(h=document.documentElement.getAttribute("dir"))==null?void 0:h.toLowerCase();return d(c.options.dir==="ltr"||c.options.dir==="rtl"?c.options.dir:m==="ltr"||m==="rtl"?m:"ltr"),()=>{}}}function dY(o){return s=>(o.setValue({...o.value,disableKeyboardEvents:s.options.disableKeyboardEvents}),()=>{})}function pY(o,s){return c=>{if(!c.options.showDownloadMenu)return s.setValue({...s.value,showDownloadMenu:!1}),()=>{};const h=wf(o);h.addEventListener("download-file-clicked",d),h.addEventListener("download-files-updated",m),c.options.downloadableFiles.length>0&&b(c.options.downloadableFiles);async function d(f){let A=null;try{const{url:M}=f.detail,D=await fetch(M);if(!D.ok)throw new Error(`Failed to download file: ${D.url} ${D.statusText}`);const U=await D.blob();A=document.createElement("a"),A.href=URL.createObjectURL(U);const L=M.split("/").pop();A.download=L,document.body.appendChild(A),A.dispatchEvent(new MouseEvent("click",{bubbles:!1}))}catch(M){console.error(`Failed to download file: ${M}`)}finally{A!=null&&A.href&&(URL.revokeObjectURL(A.href),document.body.removeChild(A))}}function m(f){b(f.detail)}function b(f){const A=A0(f.filter(L=>L.mediaType==="video").map(L=>L.locale)),M=f.filter(L=>L.mediaType==="video").map(L=>({...L,locale:A[L.locale]})).sort((L,R)=>L.locale.localeCompare(R.locale)),D=A0(f.filter(L=>L.mediaType==="transcript").map(L=>L.locale)),U=f.filter(L=>L.mediaType==="transcript").map(L=>({...L,locale:D[L.locale]})).sort((L,R)=>L.locale.localeCompare(R.locale));s.setValue({...s.value,downloadableVideoFiles:M,downloadableTranscriptFiles:U})}return()=>{h.removeAllListeners()}}}function hY(o){return s=>{const c={abrstatuschanged:()=>mc(o,s),adaptation:()=>mc(o,s),audiotrackschanged:()=>{q3(o,s)},loaded:()=>{q3(o,s),mc(o,s),I7(o,s)},mediaqualitychanged:()=>mc(o,s),trackschanged:()=>q3(o,s),textchanged:()=>mc(o,s),texttrackvisibility:()=>mc(o,s),timeupdate:()=>gY(o,s),variantchanged:()=>mc(o,s),volumechange:()=>I7(o,s),ended:()=>mY(o),playing:()=>vY(o),pause:()=>yY(o),seeking:()=>bY(o),durationchange:()=>wY(o,s),fullscreenchanged:()=>xY(o,s),ratechange:()=>SY(o,s),error:h=>kY(o,s,h.detail),progress:()=>TY(o,s)};return fY(o,s),AY(o,s),Object.entries(c).forEach(([h,d])=>s.addEventListener(h,d)),()=>{}}}function fY(o,s){const c=s.options.playbackRates.map(h=>({label:h===1?"Normal":`${h}x`,value:h}));o.setValue({...o.value,playbackRates:c})}function gY(o,s){o.setValue({...o.value,currentTime:s.currentTime})}function I7(o,s){o.setValue({...o.value,volume:s.volume,muted:s.muted})}function mc(o,s){const c=s.activeVideoId;o.setValue({...o.value,activeVideoQualityId:c,selectedVideoQualityId:s.adaptiveBitrate?kd.videoId:c,selectedCaptionTrackId:s.activeCaptionTrackId})}function q3(o,s){o.setValue({...o.value,videoQualities:s.videoQualities,audioTracks:s.umpAudioTracks,captionTracks:s.captionTracks})}function mY(o){o.setValue({...o.value,ended:!0})}function vY(o){o.setValue({...o.value,paused:!1})}function yY(o){o.setValue({...o.value,paused:!0})}function bY(o){o.setValue({...o.value,ended:!1})}function wY(o,s){o.setValue({...o.value,duration:s.duration})}function xY(o,s){o.setValue({...o.value,fullscreen:s.fullscreen})}function SY(o,s){o.setValue({...o.value,playbackRate:s.playbackRate})}function kY(o,s,c){c.severity===gn.util.Error.Severity.CRITICAL&&(s.options.showImageOnError?(s.unload(),o.setValue({...o.value,controlsState:"none"})):o.setValue({...o.value,error:YV}))}function TY(o,s){o.setValue({...o.value,buffered:s.buffered})}function AY(o,s){function c(m){o.setValue({...o.value,loading:m})}function h(){c(!0);const m=s.currentTime,b=()=>{m!==s.currentTime&&(c(!1),s.removeEventListener("timeupdate",b))};s.addEventListener("timeupdate",b)}function d(m){m.detail.severity===gn.util.Error.Severity.CRITICAL&&c(!1)}s.addEventListener("playerloadmediastart",h),s.addEventListener("waiting",h),s.addEventListener("error",d),s.addEventListener("ended",()=>c(!1)),s.addEventListener("playing",()=>c(!1)),s.addEventListener("canplay",()=>c(!1)),s.addEventListener("canplaythrough",()=>c(!1))}function EY(o,s){return c=>{const h=[],d={contentVisibilityAuto:!0,opacityProperty:!0,visibilityProperty:!0},m=()=>{const L=o.getBoundingClientRect();return!(L.width===0||L.height===0)},b=L=>({size:()=>m(),visibility:()=>o.checkVisibility(d),all:()=>m()||o.checkVisibility(d)})[L](),f=L=>{const R=b(L);s.setValue({...s.value,visible:R}),R||c.pause()},A=L=>{L.forEach(R=>{R.type==="attributes"&&R.attributeName==="style"&&f("visibility")})},M={attributes:!0};(L=>{const R=new MutationObserver(A);for(;L;){R.observe(L,M),h.push(R);const w=L?.getRootNode();L=L?.assignedSlot||L?.parentElement||(w instanceof ShadowRoot?w.host:null)}})(o);const D=L=>{L.forEach(()=>{f("size")})},U=new ResizeObserver(D);return U.observe(o),f("all"),()=>{h.forEach(L=>L.disconnect()),U.disconnect()}}}function CY(o){return s=>(s.options.playFullScreen&&s.addEventListener("play",()=>{s.requestFullscreen(o)},{once:!0}),()=>{})}function IY(o){return s=>{s.options.qualityBehavior==="forceHighestQuality"&&s.configure({abr:{enable:!1,defaultBandwidthEstimate:1e10,useNetworkInformation:!1}}),o.setValue({...o.value,showQualityMenu:s.options.showQualityMenu});async function c(){if(s.options.qualityBehavior==="forceHighestQuality"&&s.getManifest()){const h=s.videoQualities[1];h&&s.selectVideoQuality(h)}}return s.addEventListener("loadsourcescomplete",c,{once:!0}),()=>{}}}const MY=`<svg
  width="38"
  height="37"
  viewBox="0 0 38 37"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M8.01585 5.78125C5.14224 5.78125 2.81272 8.11077 2.81272 10.9844V12.695C2.81242 12.7102 2.81243 12.7253 2.81272 12.7405V26.0156C2.81272 28.8892 5.14224 31.2188 8.01585 31.2188H29.9846C32.8582 31.2188 35.1877 28.8892 35.1877 26.0156V12.7405C35.188 12.7253 35.188 12.7102 35.1877 12.695V10.9844C35.1877 8.11077 32.8582 5.78125 29.9846 5.78125H8.01585ZM32.8752 12.0281L19.0002 19.4993L5.12522 12.0281V10.9844C5.12522 9.38793 6.4194 8.09375 8.01585 8.09375H29.9846C31.581 8.09375 32.8752 9.38793 32.8752 10.9844V12.0281ZM5.12522 14.6546L18.452 21.8305C18.7943 22.0148 19.2062 22.0148 19.5484 21.8305L32.8752 14.6546V26.0156C32.8752 27.6121 31.581 28.9062 29.9846 28.9062H8.01585C6.4194 28.9062 5.12522 27.6121 5.12522 26.0156V14.6546Z"
  />
</svg>`,_Y=`<svg
  width="16"
  height="30"
  viewBox="0 0 16 30"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <g clip-path="url(#clip0_511_2982)">
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M15.6346 4.86093C9.21328 4.47388 10.4141 7.03694 10.35 11.136C11.691 11.136 14.6137 11.1421 15.4183 11.1421C15.0983 13.2175 14.6746 15.9452 14.6045 16.3993C13.0777 16.4054 11.6819 16.4114 10.3592 16.4145C10.3653 19.008 10.3683 27.8614 10.344 29.3425C9.42357 29.3425 5.54394 29.3974 4.65708 29.3425C4.65708 27.258 4.65098 18.5631 4.65098 16.3993C3.51422 16.3993 1.47535 16.4114 0.012491 16.3932C0.012491 15.3265 -0.00579475 12.9829 0.012491 11.133C0.844494 11.1116 3.70012 11.133 4.66317 11.1025C4.66317 9.9139 4.65708 8.7619 4.65403 7.25332C4.63879 1.92911 8.11919 -1.12157 15.6407 0.387011C15.6407 1.64568 15.6407 3.93445 15.6407 4.86093H15.6346Z"
    />
  </g>
  <defs>
    <clipPath id="clip0_511_2982">
      <rect width="15.6343" height="29.37" fill="white" />
    </clipPath>
  </defs>
</svg>`,DY=`<svg
  width="24"
  height="24"
  viewBox="0 0 24 24"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <g clip-path="url(#clip0_511_2987)">
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M13.3045 7.94905L8.62619 7.98985L8.59559 24C10.1698 24 11.7439 24 13.3181 23.9831C13.3181 21.9567 13.3113 18.9444 13.3181 16.5372C13.3215 14.4599 13.4303 12.0731 16.1502 11.9712C18.9687 11.8658 19.0163 14.3953 19.0197 16.51C19.0231 18.8458 18.9007 21.5691 19.0197 23.8607L23.8918 23.8811C23.9292 23.5377 23.902 17.0438 23.902 16.5134C23.902 15.3337 23.9734 13.9975 23.9156 12.8347C23.7592 9.66941 21.3147 7.47306 18.1902 7.46966C16.854 7.46966 15.3546 7.99325 14.4502 8.81603C13.9913 9.23422 13.7295 9.62521 13.3283 10.0332C13.3283 9.36002 13.3147 8.57804 13.3011 7.94565L13.3045 7.94905ZM0.571791 23.8437H5.29087C5.28067 22.9563 5.28747 9.67961 5.29087 7.94905H0.571791V23.8437ZM2.61174 0.0272487C0.986581 0.255043 -0.18639 1.60141 0.024405 3.27417C0.2114 4.76673 1.53737 6.0723 3.26792 5.8615C4.74009 5.68131 6.04225 4.32474 5.82466 2.60778C5.64106 1.15602 4.3015 -0.210745 2.61174 0.0272487Z"
    />
  </g>
  <defs>
    <clipPath id="clip0_511_2987">
      <rect
        width="23.9422"
        height="24"
        fill="white"
        transform="translate(0.000610352)"
      />
    </clipPath>
  </defs>
</svg>`,PY=`<svg
  width="28"
  height="24"
  viewBox="0 0 28 24"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <g clip-path="url(#clip0_511_2985)">
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M20.2899 21.4804C19.8539 20.897 6.12454 2.76639 5.93862 2.51957C6.09569 2.51957 7.90683 2.51957 8.08955 2.51957C8.30112 2.80166 22.0401 20.7111 22.5947 21.4804H20.2899ZM17.001 10.0815C18.5685 8.26713 24.8995 0.891145 25.5951 0.0544945L21.7324 0.02885C20.6842 1.23734 15.5585 6.98811 15.0937 7.4978C14.4878 6.73167 9.34933 0.368639 9.07366 0H0.867432C1.87718 1.30466 10.4777 12.5081 10.8559 12.9985C8.76592 15.3963 2.15927 22.987 1.38994 23.8782L5.65012 23.9327L12.7889 15.781C13.8019 17.0792 18.5813 23.3653 19.216 24.0032C19.8924 24.0032 26.9703 23.9519 27.3902 23.9423C26.4991 22.7755 17.6068 10.8732 17.0042 10.0815H17.001Z"
    />
  </g>
  <defs>
    <clipPath id="clip0_511_2985">
      <rect
        width="26.5196"
        height="24"
        fill="white"
        transform="translate(0.867188)"
      />
    </clipPath>
  </defs>
</svg>`;function LY(o,s){return c=>{const h=RY(c).map(f=>NY(f));s.setValue({...s.value,shareOptions:h});function d(){s.setValue({...s.value,shareDialogOpened:!0})}function m(){var f,A,M,D,U,L;s.setValue({...s.value,shareDialogOpened:!1}),(L=(U=(D=(M=(A=(f=o.renderRoot)==null?void 0:f.querySelector("ump-controls"))==null?void 0:A.renderRoot.querySelector("ump-control-bar"))==null?void 0:M.renderRoot.querySelector("ump-more-menu"))==null?void 0:D.renderRoot.querySelector('[data-id="more-menu-button"]'))==null?void 0:U.focus)==null||L.call(U)}const b=wf(o);return b.addEventListener("share-button-clicked",d),b.addEventListener("share-dialog-closed",m),()=>{b.removeAllListeners()}}}function RY(o){return o.options.share?o.options.shareOptions.length===0?g_:o.options.shareOptions:[]}function NY(o){const s=new URL(window.location.href);s.searchParams.delete("jsapi");const c=s.toString();switch(o){case"facebook":return{id:"facebook",url:`https://www.facebook.com/share.php?u=${encodeURIComponent(c)}`,icon:_Y};case"linkedin":return{id:"linkedin",url:`https://www.linkedin.com/shareArticle?mini=true&url=${encodeURIComponent(c)}&title=&summary=&source=`,icon:DY};case"twitter":return{id:"twitter",url:`https://x.com/share?url=${encodeURIComponent(c)}&text=`,icon:PY};case"mail":return{id:"mail",url:`mailto:?subject=Check out this great video&body=${encodeURIComponent(c)}`,icon:MY};default:return{id:"copy",url:c,icon:""}}}async function M7(o,s){for(const c of o)try{await s.load(c.src,s.options.startTime,c.type);return}catch{s.dispatchUmpError({severity:gn.util.Error.Severity.RECOVERABLE,umpErrorType:"Error loading video source",umpErrorDescription:`Error loading video source: ${c.src}`})}s.dispatchUmpError({severity:gn.util.Error.Severity.CRITICAL,umpErrorType:"Error loading video source",umpErrorDescription:`Error loading video source(s): ${o.map(c=>c.src).join(", ")}`})}function UY(){return o=>{if(o.options.sources.length===0)return()=>{};o.addEventListener("loadsourcesrequest",s);async function s(){o.dispatchEvent(new gn.util.FakeEvent("playerloadmediastart"));const c=N1(o.options.sources);await M7(c,o),await o.loadCaptions(),o.dispatchEvent(new gn.util.FakeEvent("playerloadmediaend")),o.dispatchEvent(new gn.util.FakeEvent("loadsourcescomplete"))}return()=>{}}}const OY="https://video.cascade.microsoft.com";class jY{constructor(s){this.dispose=()=>{this.abortController.abort()},this.options=s,this.abortController=new AbortController}async fetchVideoApiMetadata(){const s=this.options.adobeCms,c=this.abortController.signal,h=this.constructAdobeCmsEndpoint(s?.operatingGroup,s?.videoId,s?.posterWidth,s?.posterHeight),d=await fetch(h.toString(),{signal:c});if(!d.ok)throw new Error(`Error fetching AdobeCMS Metadata from ${h}`);const m=await d.json();return{poster:m.posterUrl,sources:this.parseVideoFiles(m.sources),ccFiles:A7(m.closedCaptions),downloadableFiles:m.downloadableFiles,title:m.videoTitle,ageGate:{minimumAge:m.minimumAge}}}constructAdobeCmsEndpoint(s,c,h,d){const m=new URL(`${OY}/api/og/${s}/videos/${c}/playback-info`);return h&&m.searchParams.set("posterWidth",h),d&&m.searchParams.set("posterHeight",d),m}parseVideoFiles(s){return N1(s.map(c=>({src:c.url,type:c.type})))}}function FY(o){return s=>{var c;const h=s.options.adobeCms,d=(c=s.options.plugins)==null?void 0:c.powerCms;if((!(h!=null&&h.operatingGroup)||!(h!=null&&h.videoId))&&!(d!=null&&d.videoId))return()=>{};let m=()=>{};const b=h!=null&&h.operatingGroup&&h!=null&&h.videoId?0:1,f=new AbortController;let A={};async function M(){var G,Z;if(!((Z=(G=s.options.plugins)==null?void 0:G.powerCms)!=null&&Z.videoId))return;const se=`https://www.microsoft.com/videoplayer/umpOptionsMappings/${s.options.plugins.powerCms.videoId}.json`,ge=f.signal,he=await fetch(se,{signal:ge});if(!he.ok)throw new Error(`Failed to fetch video options mapping: ${he.status} ${he.statusText}`);A=await he.json()}const D=M();s.addEventListener("loadsourcesrequest",j);const U=[],L=[];async function R(){await D;let G;switch(b){case 0:case 1:{const Z=new jY(b===1?A:s.options);m=Z.dispose,G=await Z.fetchVideoApiMetadata();break}}if(!G||G.sources.length===0)throw new Error("No metadata or no sources found in metadata");G.title&&(o.ariaLabel=G.title),U.push(...G.sources),s.options.hidePosterImage||(s.poster=G.poster),L.push(...G.ccFiles),o.dispatchEvent(new Pt("minimum-age-set",G.ageGate.minimumAge??0)),G.downloadableFiles.length>0&&o.dispatchEvent(new Pt("download-files-updated",G.downloadableFiles))}const w=(async()=>{try{await R()}catch(G){G instanceof Error&&s.dispatchUmpError({severity:gn.util.Error.Severity.CRITICAL,umpErrorType:"Error fetching video metadata",umpErrorDescription:JSON.stringify(G.message)})}})();async function j(){s.dispatchEvent(new gn.util.FakeEvent("playerloadmediastart")),await w,await M7(U,s),await s.loadCaptions(L),s.dispatchEvent(new gn.util.FakeEvent("playerloadmediaend")),s.dispatchEvent(new gn.util.FakeEvent("loadsourcescomplete"))}return()=>{f.abort(),m()}}}function BY(){try{return crypto.randomUUID()}catch{return`10000000-1000-4000-8000-${1e11}`.replace(/[018]/g,o=>(o^crypto.getRandomValues(new Uint8Array(1))[0]&15>>o/4).toString(16))}}var VY=Object.defineProperty,$Y=Object.getOwnPropertyDescriptor,Lp=(o,s,c,h)=>{for(var d=h>1?void 0:h?$Y(s,c):s,m=o.length-1,b;m>=0;m--)(b=o[m])&&(d=(h?b(s,c,d):b(d))||d);return h&&d&&VY(s,c,d),d};gn.polyfill.installAll();const G3="options";function K3(o,s,c){const h=o instanceof oa?o:oa.getById(o);return c&&h.addEventListener("ready",c,{once:!0}),h.setAttribute("options",JSON.stringify(s)),h}Object.defineProperty(K3,"allowAutoplay",{get:C7,set:sY});let oa=class extends An{constructor(){super(...arguments),this.role="group",this.umpId=`ump-${BY()}`,this.ariaLabel=null,this.playerStateContext=new Sx(this,{context:Ar,initialValue:m_}),this.onVideoEvent=o=>{this.dispatchEvent(new Pt(o.type,o.target))}}render(){return At`
      <ump-caption-display></ump-caption-display>
      <ump-controls class="fill-parent"></ump-controls>
      <ump-loading-spinner></ump-loading-spinner>
      <ump-modals class="fill-parent"></ump-modals>
      <ump-aria-announcer></ump-aria-announcer>
    `}setMinimumAge(o){this.dispatchEvent(new Pt("minimum-age-set",o))}setAge(o){this.dispatchEvent(new Pt("user-age-set",o))}dispose(){this.destroyPlayer()}get currentState(){var o;if(this.player)return{duration:this.player.duration,currentTime:this.player.currentTime,percentageComplete:this.player.currentTime/this.player.duration,autoPlay:this.player.autoplay,muted:this.player.muted,loop:this.player.loop,title:this.player.options.title,powerCmsVideoId:(o=this.player.options.plugins.powerCms)==null?void 0:o.videoId}}play(){var o;(o=this.player)==null||o.play()}pause(){var o;(o=this.player)==null||o.pause()}async updated(o){o.has(G3)&&(await this.destroyPlayer(),this.options&&await this.initPlayer(this.options))}async disconnectedCallback(){super.disconnectedCallback(),await this.destroyPlayer()}connectedCallback(){super.connectedCallback(),this.requestUpdate()}async initPlayer(o){var s,c;this.playerStateContext.setValue(m_);const h=this.addVideo();this.player=new nY(o,h,this.captionDisplay),this.player.addPlugins(CX(this,this.playerStateContext),UY(),FY(this),hY(this.playerStateContext),pY(this,this.playerStateContext),LY(this,this.playerStateContext),Ez(this,this.playerStateContext),aY(this,this.playerStateContext),EY(this,this.playerStateContext),CY(this),uY(this,this.playerStateContext),lY(this.playerStateContext),IY(this.playerStateContext),dY(this.playerStateContext),t$(this.playerStateContext),cY(this,this.playerStateContext)),this.updateStyles(this.player),this.ariaLabel=((s=this.options)==null?void 0:s.title)||null,O$(j$((c=this.options)==null?void 0:c.language)),await this.player.initialize(),this.dispatchEvent(new Pt("ready",this.player))}addVideo(){var o;const s=document.createElement("video");return s.classList.add("fill-parent"),B3.forEach(c=>{s.addEventListener(c,this.onVideoEvent)}),(o=this.shadowRoot)==null||o.prepend(s),s}removeVideo(){var o;const s=(o=this.player)==null?void 0:o.getMediaElement();s&&(B3.forEach(c=>{s.removeEventListener(c,this.onVideoEvent)}),s.remove())}async destroyPlayer(){var o;this.removeVideo(),await((o=this.player)==null?void 0:o.destroy()),this.player=void 0}updateStyles(o){this.style.setProperty("--ump-aspect-ratio",o.options.aspectRatio.replace(":"," /")),o.options.layout==="fill"?this.style.setProperty("--ump-height","100%"):this.style.setProperty("--ump-height","unset")}static getById(o){const s=document.getElementById(o);if(!(s instanceof oa))throw new Error(`Not a valid element. To use Universal Media Player, you must pass in an element named "${JV}" but you passed in id ${o} which resolves to element ${s?.tagName}.`);return s}};oa.shadowRootOptions={...An.shadowRootOptions,delegatesFocus:!0},oa.styles=[S7,Cn`
:host{--ump-aspect-ratio:unset;--ump-height:unset;container-type:size;container-name:universalmediaplayer;display:inline-block;position:relative;width:100%;height:var(--ump-height);aspect-ratio:var(--ump-aspect-ratio);background-color:var(--color-black);font-family:var(--font-family-default);font-size:var(--font-size-base-300);word-break:normal;min-width:320px;min-height:256px}video{object-fit:contain}.fill-parent{position:absolute;inset:0;width:100%;height:100%}ump-controls{z-index:10}ump-modals{z-index:20}ump-loading-spinner{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:15}
    `],Lp([tr({reflect:!0})],oa.prototype,"role",2),Lp([tr({type:Object,attribute:G3,reflect:!0})],oa.prototype,"options",2),Lp([tr({reflect:!0})],oa.prototype,"umpId",2),Lp([tr({attribute:"aria-label",reflect:!0})],oa.prototype,"ariaLabel",2),Lp([zn("ump-caption-display")],oa.prototype,"captionDisplay",2),oa=Lp([Xn("universal-media-player")],oa),window.ump=K3,window.ISOBoxer=aV;export{G3 as OPTIONS_ATTRIBUTE_NAME,oa as UniversalMediaPlayer,F$ as registerTranslation,B$ as setTranslationLoader,K3 as ump};
